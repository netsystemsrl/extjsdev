window.TOOLS={},window.PLUGINS={},window.OBJECTS={},window.SERVICES={},window.COMMANDS={},window.ACCESSORIES={},window.DIALOGS={},window.PANELS={},window.MENUS={},window.WINDOWS={};class XOS{static setTransferData(t){window.TRANSFER_DATA=t}static getTransferData(){return window.TRANSFER_DATA}static createUniqueIDI(t){t=t||"IDI",window.COUNTER_IDI=window.COUNTER_IDI||0,window.COUNTER_IDI++;let e=46656*Math.random()|0,i=46656*Math.random()|0;return e=("000"+e.toString(36)).slice(-3),i=("000"+i.toString(36)).slice(-3),t+"_"+window.COUNTER_IDI+e+i}static initDragFunctions(t,e,i,n=20){window.DRAGGING_PROCESS=!0;let s=!1;const o=e.pageX,a=e.pageY;function r(e){if(e.stopPropagation(),e.preventDefault(),!0===s)t.onDrag(e);else{const r=e.pageX-o,l=e.pageY-a;Math.sqrt(r*r+l*l)>n&&(s=!0,function(e){i&&i(e),t.onDragStart&&t.onDragStart(e)}(e),t.onDrag(e))}}document.addEventListener("mousemove",r,!0),document.addEventListener("mouseup",function e(i){!0===s?(i.stopPropagation(),i.preventDefault(),console.log("dragEnd"),t.onDragEnd&&t.onDragEnd(i)):t.onUndragged&&t.onUndragged(i),s=!1,document.removeEventListener("mousemove",r,!0),document.removeEventListener("mouseup",e,!0),window.DRAGGING_PROCESS=!1},!0)}static initDragPointerFunctions(t,e,i,n=20){window.DRAGGING_PROCESS=!0;let s=!1;const o=e.pageX,a=e.pageY;function r(e){if(e.stopPropagation(),e.preventDefault(),!0===s)t.onDrag(e);else{const r=e.pageX-o,l=e.pageY-a;Math.sqrt(r*r+l*l)>n&&(s=!0,function(e){i&&i(e),t.onDragStart&&t.onDragStart(e)}(e),t.onDrag(e))}}document.addEventListener("pointermove",r,!0),document.addEventListener("pointerup",function e(i){!0===s?(i.stopPropagation(),i.preventDefault(),console.log("dragEnd"),t.onDragEnd&&t.onDragEnd(i)):t.onUndragged&&t.onUndragged(i),s=!1,document.removeEventListener("pointermove",r,!0),document.removeEventListener("pointerup",e,!0),window.DRAGGING_PROCESS=!1},!0)}static connectEvent(t,e,i,n,s){if(!e)return console.log("connectEvent",e),void console.warn("XOS.connectEvent - The _elementList parameter must be an Array of DOM elements or a NodeList");let o;e instanceof Array||e instanceof NodeList||(e=[e]),n&&(i=XOS.bindFunction(n,i)),s=s||!1;let a=e.length;for(let n=0;n<a;n++)if((o=e[n]).addEventListener){if(window.MANAGE_TOUCH_EVENTS)switch(t){case"mousedown":t="touchstart";break;case"mousemove":t="touchmove";break;case"mouseup":t="touchend"}o.addEventListener(t,i,s)}return i}static disconnectEvent(t,e,i,n){let s;e.length||(e=[e]);let o=e.length;for(let a=0;a<o;a++)if((s=e[a]).removeEventListener){if(window.MANAGE_TOUCH_EVENTS)switch(t){case"mousedown":t="touchstart";break;case"mousemove":t="touchmove";break;case"mouseup":t="touchend"}console.log("removeEventListener",t,i),s.removeEventListener(t,i,n)}}static connectDomEvents(t,e,i,n){let s,o,a,r,l,c,d=i||{},u=[];n=n||"data-event";for(let i=0;i<t.length;i++)if((c=t[i]).hasAttribute(n)&&""!==c.getAttribute(n)&&(s=c.getAttribute(n).split(",")).length>0){for(let t=0;t<s.length;t++){a=(o=s[t].split(":"))[0].trim(),r=o[1].trim();let i=e;c.dataset.eventManagerPath&&(i=XOS.evalPath(c.dataset.eventManagerPath)),(l=i[r])?XOS.connectEvent(a,c,l,i):(console.log("undefined event listener:"+r+" for element",c,c.getAttribute(n)),u.push(r+"(_e){\n}"))}c.hasAttribute("name")?d[c.getAttribute("name")]=c:c.hasAttribute("id")&&(d[c.getAttribute("id")]=c)}return u.length,d}static bindFunction(t,e){return e?function(){return e.apply(t,arguments)}:(console.warn("XOS.bind - The parameter must be a function"),null)}static showElement(t,e){t.applyClass("showed",e)}static hideElement(t,e){t.removeClass("showed")}static hideElementChildren(t){t.removeAppliedClassFromChildren("showed")}static selectElement(t,e){t.applyClass("selected",e)}static deselectElement(t){t.removeClass("selected")}static deselectElementChildren(t){t.removeAppliedClassFromChildren("selected")}static evalPath(t,e,i="evalPath object not found"){return e=e||window,t.split(".").reduce(function(t,e){return void 0!==t[e]||""===t[e]?t[e]:i},e)}static loadJsonData(t,e){fetch(t).then(t=>t.json()).then(t=>{console.log("Success _remoteDataUrl:",t),e(t)}).catch(t=>{console.error("Error:",t)})}static bindData(t,e,i,n){n=n||"data-bind";const s=e.querySelectorAll(":scope *["+n+"]"),o=s.length;let a,r,l,c,d,u;for(let e=0;e<o;e++)if((r=(a=s[e]).getAttribute(n)).length>0){l=r.split(",");for(let e=0;e<l.length;e++){const n=l[e].split(":"),s=String(n[0]),o=n[1];let r=s.split(".");1===r.length?(c=r[0],d="this",u=a):(c=r.pop(),d=r.join("."),u=XOS.evalPath(d,a));let f=XOS.evalPath(o,t);a.dataset.bindFunction&&i[a.dataset.bindFunction]&&(f=i[a.dataset.bindFunction](f)),u[c]=f}}}static dispatchEvent(t,e,i){const n=(i=i||document).querySelectorAll('[data-event-listener*="'+t+'"]');let s,o;console.log("listenerList",n);for(let i=0;i<n.length;i++)o=(s=n[i]).getAttribute("data-event-listener").split(t+":")[1].split(",")[0],console.log("functionPath",o),XOS.evalPath(o,s).apply(s,e)}static getFilteredElementListByNodeName(t,e){const i=[],n=e.split(","),s=t.length;for(let e=0;e<s;e++)n.indexOf(t[e].nodeName)>-1&&i.push(t[e]);return i}static removeElementList(t){for(let e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e])}static includeCSS(t,e,i){if(!document.head.querySelector('link[href="'+t+'"]')){var n=document.getElementsByTagName("head")[0],s=document.createElement("link");return s.setAttribute("rel","stylesheet"),s.setAttribute("type","text/css"),s.setAttribute("href",t),n.appendChild(s),void 0!==s.addEventListener&&(e&&s.addEventListener("load",e,!1),i&&s.addEventListener("error",i,!1)),s}e&&e()}static includeJS(t,e,i){let n;if(i&&(n=document.querySelector("[src="+t+"]")))return;const s=document.getElementsByTagName("head")[0];return(n=document.createElement("script")).src=t,n.type="text/javascript",e&&(n.onload=function(t){n.loaded=!0,e(n)}),s.appendChild(n),n}static includeTemplates(t,e){function i(i){XOS.sendAndLoad(i.getAttribute("src"),"GET",null,function(n){const s=t.createDocumentFragment(),o=n.target.responseXML.querySelector("body");for(;o.children.length;)s.appendChild(o.children[0]);i.parentElement.replaceChild(s,i),t.loadedIncludeHtmlNum++,t.loadedIncludeHtmlNum===t.maxIncludeHtmlNum&&XOS.includeTemplates(t,e)}).responseType="document",i.removeAttribute("src")}const n=t.querySelectorAll("xos-include[src]");0===n.length&&e(t),t.maxIncludeHtmlNum=0,t.loadedIncludeHtmlNum=0;for(let e=0;e<n.length;e++)t.maxIncludeHtmlNum++,i(n[e])}static compileJS(t,e){t.maxScriptNum=0,t.loadedScriptNum=0;const i=t.querySelectorAll("script:not([no-compile])");function n(n){XOS.sendAndLoad(n.getAttribute("src"),"GET",null,function(s){n.scriptText=s.target.responseText,t.loadedScriptNum++,t.loadedScriptNum===t.maxScriptNum&&function(){let t="";for(let e=0;e<i.length;e++)t+="\n\n"+i[e].scriptText;e(t)}()})}for(let e=0;e<i.length;e++)t.maxScriptNum++,n(i[e]),i[e].parentElement.removeChild(i[e])}static compileDocument(t,e=!0,i=!0,n,s){t=t||window.location,XOS.sendAndLoad(t,"GET",null,function(t){const o=t.target.responseXML;e&&XOS.compileJS(o,n),i&&XOS.includeTemplates(o,s)}).responseType="document"}static stripHtml(t){let e=document.createElement("DIV");return e.innerHTML=t,e.textContent||e.innerText||""}static sendAndLoadJson(t,e,i={}){fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).then(t=>t.json()).then(t=>{e(t)}).catch(t=>{console.error("Error:",t)})}static sendAndLoad(t,e,i,n,s,o,a,r,l){let c=new XMLHttpRequest;n&&(c.onload=n),s&&(c.onerror=s),o&&(c.onprogress=o),a&&(c.upload.onprogress=a),r&&(c.onabort=r),e=e||"GET";let d="";if(i)if("string"==typeof i||i instanceof String||i instanceof FormData||i instanceof Blob)d=i;else if(i instanceof HTMLFormElement)d=new FormData(i);else{d=new FormData;for(let t in i)d.append(t,i[t])}return c.open(e,t,!0),l&&l(c),c.send(d),c}static extractUrlVars(t){t=t||window.location.href;const e={};decodeURIComponent(t).replace(/[?&]+([^=&]+)=([^&]*)/gi,function(t,i,n){e[i]=n});return e}}Node.prototype.applyClass=function(t,e="unique"){"unique"===e?(this.parentElement.removeAppliedClassFromChildren(t),this.classList.add(t),this.onApplyClass(t)):"toggle"===e?(this.classList.toggle(t),this.classList.contains(t)&&this.onApplyClass()):"add"===e&&(this.classList.add(t),this.onApplyClass(t))},Node.prototype.onApplyClass=function(t){},Node.prototype.onRemoveClass=function(t){},Node.prototype.removeClass=function(t){this.classList.remove(t),this.onRemoveClass(t)},Node.prototype.removeAppliedClassFromChildren=function(t){const e=this.querySelectorAll(":scope > ."+t),i=e.length;for(let n=0;n<i;n++)e[n].classList.remove(t),e[n].onRemoveClass(t)},Node.prototype.remove=function(){return this.parentNode.removeChild(this)},Node.prototype.removeChildren=function(){let t=this;for(;t.firstChild;)t.removeChild(t.firstChild)},Node.prototype.cloneChildrenTo=function(t){t.removeChildren();const e=this.children.length;for(let i=0;i<e;i++)t.appendChild(this.children[i].cloneNode(!0))},Node.prototype.moveChildrenTo=function(t){for(;this.firstChild;)t.appendChild(this.firstChild)},Node.prototype.bringToFront=function(){this.parentNode.appendChild(this)},Node.prototype.sendToBack=function(){this.parentNode.insertBefore(this,this.parentNode.childNodes[0])},Node.prototype.bringUp=function(){this.nextElementSibling&&(this.nextElementSibling.nextElementSibling?this.parentNode.insertBefore(this,this.nextElementSibling.nextElementSibling):this.parentNode.appendChild(this))},Node.prototype.sendDown=function(){this.previousElementSibling&&this.parentNode.insertBefore(this,this.previousElementSibling)},String.prototype.containsWords=function(t,e){e=e||"AND";var i,n=t.length,s=this.split(/\s+/);if("AND"===e){for(i=0;i<n;i++)if(-1===s.indexOf(t[i]))return!1;return!0}if("OR"===e){for(i=0;i<n;i++)if(-1===s.indexOf(t[i]))return!0;return!1}},String.prototype.splice=function(t,e,i){return i=i||"",this.slice(0,t)+i+this.slice(t+Math.abs(e))},Array.prototype.clone=function(){return this.slice(0)},Array.prototype.add=Array.prototype.push,Array.prototype.addAt=function(t,e){this.splice(e,0,t)},Array.prototype.replaceAt=function(t,e){const i=this[e];return this.splice(e,1,t),i},Array.prototype.remove=function(t){const e=this.indexOf(t);return e>-1?(this.splice(e,1),t):null},Array.prototype.removeAt=function(t){const e=this[t];return this.splice(t,1),e},Array.prototype.sortOn=function(t){this.sort(function(e,i){return e[t]<i[t]?-1:e[t]>i[t]?1:0})},Array.prototype.sortByStringOn=function(t){this.sort(function(e,i){return e[t].toLowerCase().localeCompare(i[t].toLowerCase())})},Math.evalExpression=function(t){return t=t.replace(",","."),parseFloat(t)};class DocumentsManager_cmp extends HTMLElement{constructor(){super()}setActiveDocument(t){activeApplication.activeDocument&&activeApplication.activeDocument.activePage&&activeApplication.activeDocument.exitFrom_AllIsolateLayerEditing(),activeApplication.activeDocument=t,XOS.showElement(activeApplication.activeDocument),activeApplication.activeDocument.activePage&&(console.log("SI"),activeApplication.editingView.update(),activeApplication.workspace.snapInteraction2D.reset(),WINDOWS.layersWindow.update(),activeApplication.workspace.update(),activeApplication.workspace.updatePageBackground())}createDocument(t="Untitled.svg",e){const i=document.createElement("document-2d");return i.fileHandle=e||{name:t,isNew:!0},i.setAttribute("id",XOS.createUniqueIDI("document")),this.appendChild(i),i}newDocument(){const t=this.createDocument();this.setActiveDocument(t);const e=localStorage.getItem("janvas-default-document-6.4");if(e){const t=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;this.unserializeDocument(t)}else{const e=t.createNewPage();t.setActivePage(e)}return activeApplication.documentTabBar.update(),activeApplication.workspace.update(),t}closeDocument(){const t=activeApplication.activeDocument,e=this;if(t.isChanged){DIALOGS.confirmDialog.open(localString("Exit without Save ?"),localString("Do you want close the document without save changes?"),function(){e.removeDocument(t),this.close()},null,"../XOS/icons/sys-dialog-icons.svg#alert-icon")}else this.removeDocument(t)}removeDocument(t){const e=t.nextElementSibling||t.previousElementSibling;t.remove(),e?(this.setActiveDocument(e),activeApplication.documentTabBar.update()):this.newDocument()}async chooseDocument(t){const e=this;if("showOpenFilePicker"in window){const i=await NativeFileSystemAPIUtils.chooseFile([{multiple:!1,description:"Janvas SVG",accept:{"image/svg+xml":[".svg"]}}]);await e.openDocument(i[0],t)}else LOCAL_FILE_SYSTEM.chooseFile("image/svg+xml",function(i){e.openDocument_NoNativeFileSystemApi(i.target.files[0],t)})}async openDocument(t,e){if(console.log("openDocument",t),!(e=e||{}).import){const i=await this.getDocumentByFileHandle(t);if(i)return this.setActiveDocument(i),void activeApplication.documentTabBar.update();const n=this.createDocument(t.name||e.name||localString("Untitled"),t||null);this.setActiveDocument(n),activeApplication.documentTabBar.update()}if("svg"!==NativeFileSystemAPIUtils.pathInfo(t.name).fileExtension)return;const i=await t.getFile(),n=await i.text(),s=(new DOMParser).parseFromString(n,"image/svg+xml").documentElement;this.unserializeDocument(s,e)}openDocument_NoNativeFileSystemApi(t,e){const i=this;LOCAL_FILE_SYSTEM.readXMLFile(t,async function(n){if(!(e=e||{}).import){const s=await i.getDocumentByFileHandle(t);if(s)return console.log("openedDocument",s),console.log("xmlDocument",n),i.setActiveDocument(s),void activeApplication.documentTabBar.update();const o=i.createDocument(t.name||e.name||localString("Untitled"),t||null);i.setActiveDocument(o),activeApplication.documentTabBar.update()}i.unserializeDocument(n,e)})}async saveDocument(){const t=activeApplication.activeDocument;t.fileHandle.isNew?await this.saveDocumentAs():t.fileHandle.fullPath&&t.fileHandle.fullPath.indexOf("gdrive")>-1?DIALOGS.gDriveServiceDialog.doServiceAction("save-document"):("showOpenFilePicker"in window?await NativeFileSystemAPIUtils.writeFile(t.fileHandle,this.serializeDocument()):LOCAL_FILE_SYSTEM.saveLocalFile(t.fileHandle.name,this.serializeDocument(),"image/svg+xml"),this.onDocumentSaved())}async saveDocumentAs(){const t=activeApplication.activeDocument;if("showOpenFilePicker"in window){const e=await NativeFileSystemAPIUtils.createNewFile(t.fileHandle.name,[{description:"Janvas SVG",accept:{"image/svg+xml":[".svg"]}}]);await NativeFileSystemAPIUtils.writeFile(e,this.serializeDocument()),t.fileHandle=e}else LOCAL_FILE_SYSTEM.saveLocalFile(t.fileHandle.name,this.serializeDocument(),"image/svg+xml");this.onDocumentSaved()}saveDocumentAsDefault(){const t=DIALOGS.confirmDialog,e=this;t.open(localString("Save document as default"),localString("Do you want to use the current document as default document?"),function(){localStorage.setItem("janvas-default-document-6.4",e.serializeDocument()),this.close()},null,"../XOS/icons/sys-dialog-icons.svg#alert-icon")}removeDefaultDocument(){const t=DIALOGS.alertDialog,e=DIALOGS.confirmDialog;localStorage.getItem("janvas-default-document-6.4")?e.open(localString("Remove default document"),localString("Do you want to remove the current default document?"),function(){localStorage.removeItem("janvas-default-document-6.4"),this.close()},null,"../XOS/icons/sys-dialog-icons.svg#alert-icon"):t.open(localString("Default document is not set"),localString("The local storage do not contains a default document."))}onDocumentSaved(){activeApplication.activeDocument.isChanged=!1,activeApplication.documentTabBar.update()}async getDocumentByFileHandle(t){const e=this.children;let i;for(let n=0;n<e.length;n++)if(i=e[n],t&&i.fileHandle&&t.isSameEntry&&i.fileHandle.isSameEntry){if(!0===await t.isSameEntry(i.fileHandle))return i}else if(t.fullPath&&i.fileHandle&&t.fullPath===i.fileHandle.fullPath)return i;return null}unserializeDocument(t,e,i){(new DocumentUnserializer).parse(t,e||{},i)}serializeDocument(t){return(new XMLSerializer).serializeToString((new DocumentSerializer).serialize(t||activeApplication.activeDocument))}async openRemoteDocument(t,e,i,n){if(console.log("openRemoteDocument",e),!(i=i||{}).import){const t=await this.getDocumentByFileHandle(e);if(t)return this.setActiveDocument(t),void activeApplication.documentTabBar.update();const n=this.createDocument(e.name||i.name||localString("Untitled"),e||null);this.setActiveDocument(n),activeApplication.documentTabBar.update()}const s=this;const o=WINDOWS.progressWindow;o.open(!0).setProgressBarValue(1).startVirtualProgress(1e5);const a=new XMLHttpRequest;a.open("GET",t,!0),n&&a.setRequestHeader("Authorization","Bearer "+n),a.onload=function(t){if(o.endVirtualProgress(),!t.target.responseXML)return;const e=t.target.responseXML.querySelector("svg");e&&s.unserializeDocument(e,i)},a.onerror=function(t){DIALOGS["alert-dialog"].open(window.localString("Error"),window.localString("An error occured during loading file."))},a.send()}saveRemoteDocument(t,e,i,n,s,o){const a=WINDOWS.progressWindow;a.setProgressBarValue(1),a.open(!0);const r=new XMLHttpRequest;r.responseType="json",r.onreadystatechange=function(){r.readyState===XMLHttpRequest.DONE&&(r.response&&!r.response.error?(r.response,a.close(),o&&o()):DIALOGS["alert-dialog"].open(localString("Error"),localString("An error occured during saving file.")))},r.open(e,t),s&&r.setRequestHeader("Authorization","Bearer "+s),r.setRequestHeader("Content-Type",n),r.upload.addEventListener("progress",function(t){var e;e=t,a.setProgressValues(e.total,e.loaded)},!1),r.send(i)}}customElements.define("documents-manager",DocumentsManager_cmp);class DocumentTabBar_cmp extends HTMLElement{constructor(){super(),this.itemTemplate=this.firstElementChild,this.itemTemplate.remove(),XOS.connectEvent("click",this,this.onClickOnTabItem,this)}update(){this.removeChildren();const t=activeApplication.documentsManager.children;for(let e=0;e<t.length;e++){const i=t[e],n=this.itemTemplate.cloneNode(!0);n.documentRef=i,i.tabItemRef=n,n.querySelector(".label").textContent=i.fileHandle.name,i.isChanged&&n.classList.add("changed"),i.classList.contains("showed")&&n.classList.add("selected"),this.appendChild(n)}}onClickOnTabItem(t){const e=t.target.parentElement,i=e.documentRef;XOS.selectElement(e),activeApplication.documentsManager.setActiveDocument(i),t.target.classList.contains("close-button")&&activeApplication.documentsManager.closeDocument()}}customElements.define("document-tab-bar",DocumentTabBar_cmp);const LANGUAGE="IT",WEBSITE_ROOT="https://www.janvas.com/create-draw-edit";window.top!==window.self&&window.top.location.replace(window.self.location.href),window.localString=function(t){return t};class Janvas_app extends HTMLElement{constructor(){super(),window.activeApplication=this,XOS.connectDomEvents(this.querySelectorAll(":scope>.header>.button-bar>[data-event],:scope>.footer>.button-bar>[data-event]"),this),this.initRuntimeSettings(),this.showPressedKeys=!1,this.editingView=this.querySelector("editing-view"),this.toolbar=this.querySelector("main-tool-bar"),this.workspace=this.querySelector("work-space"),this.documentTabBar=this.querySelector("document-tab-bar"),this.documentsManager=this.querySelector("documents-manager"),this.footer=this.querySelector(".footer"),this.activeDocument=null,window.addEventListener("resize",XOS.bindFunction(this,this.onResize)),window.addEventListener("message",XOS.bindFunction(this,this.onMessage),!1),window.onbeforeunload=XOS.bindFunction(this,this.onBeforeQuit);const t=this;window.addEventListener("DOMContentLoaded",e=>{XOS.includeTemplates(document,function(){t.onDomReady(),setTimeout(function(){XOS.hideElement(document.querySelector("#ABOUT_DIALOG"))},2e3)})})}onDomReady(){this.workspace.onDomReady(),this.setActiveTool("selection-tool"),this.documentsManager.newDocument(),this.querySelector("filling-inspector").onDomReady(),this.loadPlugins()}initRuntimeSettings(){document.documentElement.setAttribute("data-platform",navigator.platform),document.documentElement.setAttribute("data-nfs-api","showOpenFilePicker"in window),document.documentElement.className+="ontouchstart"in window||"onmsgesturechange"in window?" touch":""}onBeforeQuit(t){return this.activeDocument.isChanged?localString("Are you sure to Exit without saving changes?"):localString("Are you sure to Exit from the application?")}loadPlugins(){const t=this;XOS.sendAndLoadJson("plugins/plugins.json",function(e){if("object-plugins"===e.type){const i=t.createWindow(e),n=e.items;for(let t=0;t<n.length;t++){const e=n[t];i.addToolObject({name:e.toolName,objectId:e.objectId,iconUrl:e.toolIconUrl}),XOS.includeJS(e.url)}}})}checkLicense(t){XOS.sendAndLoad(WEBSITE_ROOT+"/en/services/app-licence-check-service.php",null,null,function(e){"OK"===e.target.responseText?t():document.querySelector("login-dialog").show()})}onResize(t){this.editingView.onResize(),this.workspace.onResize(),this.activeDocument.onResize()}executeCommand(t){const e=t.target.closest("[data-cmd]"),i=COMMANDS[e.dataset.cmd];i&&i.execute({target:e})}setActiveTool(t){TOOLS.activeTool&&TOOLS.activeTool.onDeactivate();const e=TOOLS[t];if(!e)return;TOOLS.activeTool=e,this.setAttribute("active-tool",t),e.onActivate(),document.querySelector(".active-tool").removeClass("active-tool");const i=document.querySelector('[data-tool-name="'+t+'"]'),n=i.closest(".tools-panel");if(n){const t=document.querySelector('[data-panel-target="'+n.id+'"]');t.setAttribute("data-tool-name",i.getAttribute("data-tool-name"));const e=i.querySelector("svg>use").getAttribute("xlink:href");t.querySelector("svg>use").setAttribute("xlink:href",e),t.applyClass("active-tool")}else i.applyClass("active-tool");return e}showTip(t){this.footer.innerHTML=t}createWindow(t={}){const e=t.templateName||"TOOLS-WINDOW",i=document.getElementById(e).content.querySelector(".window").cloneNode(!0);return i.setAttribute("id",t.id||XOS.createUniqueIDI()),t.windowWidth&&(i.style.width=t.windowWidth+"px"),t.windowMaxWidth&&(i.style.maxWidth=t.windowMaxWidth+"px"),t.windowMinWidth&&(i.style.minWidth=t.windowMinWidth+"px"),document.querySelector("#FLOATING_WINDOWS").appendChild(i),i.setTitle(t.title||"win"),i}onMessage(t){const e=document.getElementById(t.data.serviceId);e&&e.onReceiveMessageFromIframe(t.data)}}customElements.define("janvas-app",Janvas_app);class LocalFileSystem{constructor(){this.objectUrlList={},this.inputFile=document.createElement("input"),this.inputFile.type="file",this.inputFile.callback=null,this.inputFile.addEventListener("change",function(t){this.callback(t),this.value=null},!1)}chooseFile(t,e){this.inputFile.setAttribute("accept",t),this.inputFile.click(),this.inputFile.callback=e}fileNameAndExtensionByMimeType(t,e){const i=t.split(".");return i.length>1&&i.pop(),i.push({"image/png":"png","image/jpeg":"jpg","image/svg+xml":"svg","text/html":"html","text/javascript":"js","text/csv;charset=utf-8;":"csv"}[e]),i.join(".")}saveLocalFile(t,e,i){i=i||"text/plain";const n=document.createElement("a");document.body.appendChild(n);t=t.split(".")[0]+"."+{"image/png":"png","image/jpeg":"jpg","image/svg+xml":"svg","text/html":"html","text/javascript":"js","text/csv;charset=utf-8;":"csv"}[i],n.download=t,"image/png"===i||"image/jpeg"===i?n.href=e:(n.href=window.URL.createObjectURL(new Blob([e],{type:i})),n.dataset.downloadurl=[i,n.download,n.href].join(":")),n.click(),document.body.removeChild(n)}getFileEntryAsObjectURL(t,e){const i=this;t.file(function(n){const s=window.URL.createObjectURL(n);i.objectUrlList[t.fullPath]=s,e(s)})}readXMLFile(t,e){const i=new FileReader;i.onload=function(t){const i=(new DOMParser).parseFromString(t.target.result,"image/svg+xml").documentElement;e(i)},i.readAsText(t)}readTextFile(t,e){const i=new FileReader;i.onload=function(t){e(t.target.result)},i.readAsText(t)}readImageFileAsDataUrl(t,e){if(t&&window.File&&window.FileReader&&window.FileList&&window.Blob){const i=new FileReader;i.onload=function(t){e(t.target.result)},i.readAsDataURL(t)}}}const LOCAL_FILE_SYSTEM=new LocalFileSystem;class NativeFileSystemAPIUtils{static fileNameAndExtensionByMimeType(t,e){const i=t.split(".");return i.length>1&&i.pop(),i.push({"image/png":"png","image/jpeg":"jpg","image/svg+xml":"svg","text/html":"html","text/javascript":"js","text/csv;charset=utf-8;":"csv"}[e]),i.join(".")}static async chooseFile(t,e){const i=t||[{description:"Text Files",accept:{"text/plain":[".txt",".text"],"text/html":[".html",".htm"]}}];return window.showOpenFilePicker({types:i})}static async getDirectoryChildren(t){const e=await t.getEntries(),i=[],n=[];for await(const s of e)s.parent=t,s.fullPath=t.fullPath+"/"+s.name,s.isDirectory?i.push(s):n.push(s);return i.sort((t,e)=>t.name>e.name?1:-1),n.sort((t,e)=>t.name>e.name?1:-1),i.concat(n)}static async writeFile(t,e){console.log("writeFile",t);const i=await t.createWritable();await i.write(e),await i.close()}static createNewFile(t,e){const i=e||[{description:"Text Files",accept:{"text/plain":[".txt",".text"],"text/html":[".html",".htm"]}}];return window.showSaveFilePicker({types:i})}static async createFile(t,e){return await e.getFile(t,{create:!0})}static async createDirectory(t,e){return await e.getDirectory(t,{create:!0})}static pathInfo(t){let e=t.split("/"),i=e[e.length-1],n="";e.length>1&&(e.pop(),n=e.join("/"));let s=i.split("."),o=s[0],a="";return s.length>1&&(a=s.pop(),o=s.join(".")),{dir:n,fileName:i,fileNameNoExtension:o,fileExtension:a}}static GetRelativeFilePathFromBaseFilePath(t,e){let i=t.split("/"),n=e.split("/"),s=e.split("/");for(let t=0;t<i.length&&t!=n.length;t++)i[t]==n[t]?s.shift():s.unshift("..");return s.shift(),s.join("/")}static GetAbsoluteFilePathFromBaseFilePath(t,e){let i=t.split("/");i.pop();let n=e.split("../");if(n.length>1)for(let t=0;t<n.length;t++)n.shift(),i.pop();return i.concat(n).join("/")}static getFileEntryAsObjectURL(t,e){t.file(function(i){const n=window.URL.createObjectURL(i);NativeFileSystemAPIUtils.objectUrlList[t.fullPath]=n,e(n)})}static readXMLFile(t,e){const i=new FileReader;i.onload=function(t){const i=(new DOMParser).parseFromString(t.target.result,"image/svg+xml").documentElement;e(i)},i.readAsText(t)}static readImageFile(t,e){if(t&&window.File&&window.FileReader&&window.FileList&&window.Blob){const i=new FileReader;i.onload=function(t){e(t.target.result)},i.readAsDataURL(t)}}}function ColorUtils(){}_=ColorUtils,_.hexToRgb=function(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,i,n){return e+e+i+i+n+n});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16),a:1}:null},_.rgbToHex=function(t,e,i){return t=Math.round(255*t),e=Math.round(255*e),i=Math.round(255*i),1==(t=t.toString(16)).length&&(t="0"+t),1==(e=e.toString(16)).length&&(e="0"+e),1==(i=i.toString(16)).length&&(i="0"+i),("#"+t+e+i).toUpperCase()},_.rgbaToHtmlString=function(t,e,i,n){return"rgba("+Math.round(255*t)+","+Math.round(255*e)+","+Math.round(255*i)+","+n+")"},_.parseColorString=function(t){var e,i={r:0,g:0,b:0,a:1};return 0==(t=t.trim()).indexOf("#")?((i=ColorUtils.hexToRgb(t)).r*=1/255,i.g*=1/255,i.b*=1/255):t.indexOf("rgb(")>-1?(e=t.split("rgb(")[1].split(")")[0].split(","),i.r=1/255*parseInt(e[0]),i.g=1/255*parseInt(e[1]),i.b=1/255*parseInt(e[2])):t.indexOf("rgba(")>-1?(e=t.split("rgba(")[1].split(")")[0].split(","),i.r=1/255*parseInt(e[0]),i.g=1/255*parseInt(e[1]),i.b=1/255*parseInt(e[2]),i.a=parseFloat(e[3])):((i=ColorUtils.hexToRgb(ColorUtils.colorNameToHex(t))).r*=1/255,i.g*=1/255,i.b*=1/255),i},_.colorNameToHex=function(t){var e={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};return void 0!==e[t.toLowerCase()]?e[t.toLowerCase()]:"#000000"},_.hsvToRgb=function(t,e,i){var n,s,o;if(0==i)n=0,s=0,o=0;else{var a=Math.floor(6*t),r=6*t-a,l=i*(1-e),c=i*(1-e*r),d=i*(1-e*(1-r));switch(a){case 1:n=c,s=i,o=l;break;case 2:n=l,s=i,o=d;break;case 3:n=l,s=c,o=i;break;case 4:n=d,s=l,o=i;break;case 5:n=i,s=l,o=c;break;case 6:case 0:n=i,s=d,o=l}}return{r:n,g:s,b:o}},_.rgbToHsv=function(t,e,i){var n,s,o=Math.max(Math.max(t,e),i),a=Math.min(Math.min(t,e),i);if(a==o)n=0,s=0;else{var r=o-a;s=r/o,n=t==o?(e-i)/r:e==o?2+(i-t)/r:4+(t-e)/r,(n/=6)<0&&(n+=1),n>1&&(n-=1)}return{h:n,s:s,v:o}},_.rgbToCmyk=function(t,e,i){let n=0,s=0,o=0,a=0;if(0===t&&0===e&&0===i)return{c:0,m:0,y:0,k:1};n=1-t,s=1-e,o=1-i;const r=Math.min(n,Math.min(s,o));return{c:n=(n-r)/(1-r),m:s=(s-r)/(1-r),y:o=(o-r)/(1-r),k:a=r}},_.cmykToRGB=function(t,e,i,n){return{r:(1-t)*(1-n),g:(1-e)*(1-n),b:(1-i)*(1-n)}},_.rainbow=function(t,e){var i,n,s,o=e/t,a=~~(6*o),r=6*o-a,l=1-r;switch(a%6){case 0:i=1,n=r,s=0;break;case 1:i=l,n=1,s=0;break;case 2:i=0,n=1,s=r;break;case 3:i=0,n=l,s=1;break;case 4:i=r,n=0,s=1;break;case 5:i=1,n=0,s=l}return"#"+("00"+(~~(255*i)).toString(16)).slice(-2)+("00"+(~~(255*n)).toString(16)).slice(-2)+("00"+(~~(255*s)).toString(16)).slice(-2)},_.mixColorChannel=function(t,e,i){return t*i+e*(1-i)},_.mixColors=function(t,e,i){return"rgb("+this.mixColorChannel(t[0],e[0],i)+","+this.mixColorChannel(t[1],e[1],i)+","+this.mixColorChannel(t[2],e[2],i)+")"};class Graph{constructor(){this.connections=[]}addNodeConnection(t,e,i,n){this.connections.push({fromNode:t,fromPointName:e,toNode:i,toPointName:n}),console.log("this.connections",this.connections)}getNodeConnectionList(t){const e=[];let i=null;for(let n=0;n<this.connections.length;n++)(i=this.connections[n]).fromNode!==t&&i.toNode!==t||e.push(i);return e}getNodeConnection(t,e){const i=this.getNodeConnectionList(t);let n=null;for(let t=0;t<i.length;t++)if((n=this.connections[t]).fromPointName===e||n.toPointName===e)return n}}class KeyboardManager{constructor(){this.KEY_NAME_TO_CODE={ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,ENTER:13,SHIFT:16,ESC:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,BACKSPACE:8,DELETE:46,TAB:9,TILDE:192},this.KEY_CODE_TO_NAME={};for(let t in this.KEY_NAME_TO_CODE)this.KEY_CODE_TO_NAME[String(this.KEY_NAME_TO_CODE[t])]=t;this.shiftKeyPressed=this.altKeyPressed=this.cmdKeyPressed=this.spaceKeyPressed=!1,XOS.connectEvent("keydown",document,this.__onKeyDown,this),XOS.connectEvent("keyup",document,this.__onKeyUp,this),XOS.connectEvent("paste",document,this.onPaste,this),XOS.connectEvent("copy",document,this.onCopy,this),XOS.connectEvent("cut",document,this.onCut,this),XOS.connectEvent("blur",window,this.onBlur,this)}__onKeyDown(t){this.cmdKeyPressed=t.ctrlKey||t.metaKey,this.shiftKeyPressed=t.shiftKey,this.altKeyPressed=t.altKey,t.keyCode===this.KEY_NAME_TO_CODE.SPACE?this.spaceKeyPressed=!0:this.shiftKeyPressed||(this.charKeyPressed=!0),this.updateKeysState(t),this.onKeyDown(t)}__onKeyUp(t){this.cmdKeyPressed=t.ctrlKey||t.metaKey,this.shiftKeyPressed=t.shiftKey,this.altKeyPressed=t.altKey,this.spaceKeyPressed=!1,this.charKeyPressed=!1,this.updateKeysState(t),this.onKeyUp(t)}onMouseUp(t){this.cmdKeyPressed=t.ctrlKey||t.metaKey,this.shiftKeyPressed=t.shiftKey,this.altKeyPressed=t.altKey,this.spaceKeyPressed=!1,this.charKeyPressed=!1,this.updateKeysState(t)}onBlur(t){this.shiftKeyPressed=this.altKeyPressed=this.cmdKeyPressed=this.spaceKeyPressed=this.charKeyPressed=!1,this.updateKeysState(t),window.preventCopy=!0,document.execCommand("copy"),window.preventCopy=!1}updateKeysState(t){this.cmdKeyPressed?document.documentElement.classList.add("cmd-key"):document.documentElement.classList.remove("cmd-key"),this.shiftKeyPressed?document.documentElement.classList.add("shift-key"):document.documentElement.classList.remove("shift-key"),this.altKeyPressed?document.documentElement.classList.add("alt-key"):document.documentElement.classList.remove("alt-key"),this.spaceKeyPressed?document.documentElement.classList.add("space-key"):document.documentElement.classList.remove("space-key")}onKeyDown(t){}onKeyUp(t){}onPaste(t){}onCopy(t){}onCut(t){}}class PopUpPanel extends HTMLElement{constructor(t){super(),this.shortcut=t,this.init()}init(){this.hasAttribute("id")?PANELS[this.getAttribute("id")]=this:PANELS[this.nodeName.toLowerCase()]=this,XOS.connectEvent("mousedown",this,this.onMouseDown,this),"true"===this.dataset.closeLeaving&&XOS.connectEvent("mouseleave",this,this.onMouseLeave,this)}onMouseLeave(t){PopUpPanel.deactivateAllPopUpPanels()}onMouseDown(t){return this.removeAllNextVisible(),t.isClickOnPopUpPanel=!0,!1}removeAllNextVisible(){let t=this.nextElementSibling;for(;t;)t.classList.remove("showed"),t=t.nextElementSibling}activateBy(t,e,i=!0,n="right",s="bottom"){i&&t.applyClass("highlighted");const o=t.getBoundingClientRect(),a=o.left,r=o.top;this.style.top=o.bottom+"px",this.style.left=o.left+"px",XOS.showElement(this,e),this.update();const l=this;setTimeout(function(){switch(n){case"center":l.style.left=a-l.offsetWidth/2+"px";break;case"left":l.style.left=a-l.offsetWidth+"px"}switch(s){case"center":l.style.top=r-l.offsetHeight/2+"px";break;case"top":l.style.top=r-l.offsetHeight+"px"}l.parentElement.appendChild(l),l.adjustPosition()},10)}activateAt(t,e,i="right",n="bottom"){this.style.left=t+"px",this.style.top=e+"px",XOS.showElement(this),this.update();const s=this;setTimeout(function(){switch(i){case"center":console.log("center"),s.style.left=t-s.offsetWidth/2+"px";break;case"left":s.style.left=t-s.offsetWidth+"px"}switch(n){case"center":s.style.top=e-s.offsetHeight/2+"px";break;case"top":s.style.top=e-s.offsetHeight+"px"}s.adjustPosition()},10)}update(){}adjustPosition(){if(parseInt(this.style.left)<2&&(this.style.left="2px"),parseInt(this.style.left)+this.offsetWidth+2>window.innerWidth&&(this.style.left=window.innerWidth-this.offsetWidth-2+"px"),parseInt(this.style.top)+this.offsetHeight+2>window.innerHeight){let t=window.innerHeight-(this.offsetHeight+2);t<27&&(t=27),this.style.top=t+"px"}}static deactivateAllPopUpPanels(){XOS.hideElementChildren(PopUpPanel.POP_UP_PANELS);const t=document.querySelector("[data-panel-target].highlighted");t&&t.classList.remove("highlighted")}}customElements.define("pop-up-panel",PopUpPanel),PopUpPanel.POP_UP_PANELS=document.querySelector("#POP_UP_PANELS"),XOS.connectEvent("mousedown",window,function(t){t.isClickOnPopUpPanel||PopUpPanel.deactivateAllPopUpPanels()});class MenuBar extends HTMLElement{constructor(){super(),XOS.connectEvent("mouseover",this,this.onMouseOver,this),XOS.connectDomEvents(this.querySelectorAll("[data-event]"),this)}onMouseOver(t){this.classList.contains("active")&&this.activateMenu(t)}activateMenu(t){const e=t.target;e.parentElement.classList.contains("menu-bar")&&e.parentElement.classList.add("active");const i=document.querySelector("#POP_UP_MENUS>#"+e.dataset.menuActivator);i&&i.activateBy(e)}}customElements.define("menu-bar",MenuBar);class PopUpMenu extends PopUpPanel{constructor(t){super(t)}init(){this.hasAttribute("id")?MENUS[this.getAttribute("id")]=this:MENUS[this.nodeName.toLowerCase()]=this,XOS.connectEvent("mouseover",this,this.onMouseOver,this),XOS.connectDomEvents(this.querySelectorAll("[data-event]"))}onMouseOver(t){this.removeAllNextVisible();const e=t.target;XOS.deselectElementChildren(this),e.hasAttribute("data-menu-activator")&&this.activateSubMenuBy(e)}activateBy(t){this.parentElement.classList.add("locked"),XOS.deselectElementChildren(this),super.activateBy(t)}activateAt(t,e){this.parentElement.classList.add("locked"),XOS.deselectElementChildren(this),super.activateAt(t,e)}activateSubMenuBy(t){XOS.selectElement(t);const e=t.getBoundingClientRect(),i=t.closest(".pop-up-container").querySelector("#"+t.dataset.menuActivator);XOS.deselectElementChildren(i),XOS.showElement(i,"add"),i.style.top=e.top+"px",i.style.left=e.right+"px",i.adjustPosition(),this.parentElement.insertBefore(i,this.nextElementSibling)}adjustPosition(){this.classList.remove("scrollable"),super.adjustPosition(),this.offsetHeight>window.innerHeight-27&&this.classList.add("scrollable")}static deactivateAllPopUpMenus(t){const e=PopUpMenu.POP_UP_MENUS;XOS.hideElementChildren(e),e.classList.remove("locked");const i=document.querySelector("[data-menu-activator].highlighted");i&&i.classList.remove("highlighted");const n=document.querySelector(".menu-bar.active");n&&n.classList.remove("active");const s=e.querySelectorAll(".scrollable");for(let t=0;t<s.length;t++)s[t].classList.remove("scrollable")}}customElements.define("pop-up-menu",PopUpMenu),PopUpMenu.POP_UP_MENUS=document.querySelector("#POP_UP_MENUS"),XOS.connectEvent("click",PopUpMenu.POP_UP_MENUS,function(t){PopUpMenu.deactivateAllPopUpMenus()});class ColorPicker_cmp extends HTMLElement{constructor(){super(),this.hsv={h:0,s:1,v:1},this.alpha=1,this.hexColor_input=this.querySelector('[name="color_hex"]'),this.hue_point=this.querySelector(".hue-point"),this.saturation_point=this.querySelector(".saturation-point"),this.alpha_point=this.querySelector(".alpha-point"),this.controlledElement=XOS.connectDomEvents(this.querySelectorAll("[data-event]"),this),this.onChangeStartFunction=this.onChangeFunction=this.onChangeEndFunction=this.mousePanelTarget=null;const t=this;setTimeout(function(){t.update()},100),this.filterFunctions={},this.filterFunctions.colorToString=function(t){return t.a=t.a||"1.0","rgba("+Math.round(255*t.r)+","+Math.round(255*t.g)+","+Math.round(255*t.b)+","+t.a+" )"},this.filterFunctions.toPercent=function(t){return Math.round(100*t)},this.filterFunctions.to255=function(t){return Math.round(255*t)},this.filterFunctions.to360=function(t){return Math.round(360*t)},this.filterFunctions.fromPercentToFloat=function(t){return Number(.01*t)}}onClick_collapse(t){t.target.closest(".property-container").classList.toggle("collapsed"),this.update()}onChangeStart(){this.onChangeStartFunction&&this.onChangeStartFunction(this),this.onChange()}onChange(){this.onChangeFunction&&this.onChangeFunction(this)}onChangeEnd(){this.onChangeEndFunction&&this.onChangeEndFunction(this),this.mousePanelTarget=null}onMouseDown_pickingArea(t){this.mousePanelTarget=t.target,this.dragLimitsRect=t.target.getBoundingClientRect(),this.initDragFunctions(),this.mouseEventCoordsToPanelTarget(t),this.onChangeStart()}initDragFunctions(t){const e=this;function i(t){e.onDrag(t)}document.addEventListener("mousemove",i),document.addEventListener("mouseup",function t(n){document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",t),e.onDragEnd(n)})}onDrag(t){this.mouseEventCoordsToPanelTarget(t),this.onChange()}onDragEnd(t){this.onChangeEnd()}mouseEventCoordsToPanelTarget(t){let e=t.clientX-this.dragLimitsRect.left,i=t.clientY-this.dragLimitsRect.top;e<0?e=0:e>this.dragLimitsRect.width&&(e=this.dragLimitsRect.width),"ALPHA_PANEL"===this.mousePanelTarget.id?this.alpha=e/this.dragLimitsRect.width:"HUE_PANEL"===this.mousePanelTarget.id?(this.hsv.h=e/this.dragLimitsRect.width,0===this.hsv.s&&(this.hsv.s=1),0===this.hsv.v&&(this.hsv.v=1)):"SATURATION_PANEL"===this.mousePanelTarget.id&&(i<0?i=0:i>this.dragLimitsRect.height&&(i=this.dragLimitsRect.height),this.hsv.s=e/this.dragLimitsRect.width,this.hsv.v=1-i/this.dragLimitsRect.height),this.update()}setOnChangeEvents(t,e,i){this.onChangeFunction=e,this.onChangeStartFunction=i,this.onChangeEndFunction=t}setColor(t,e){const i=ColorUtils.parseColorString(t);this.alpha=e||i.a||1,this.hsv=ColorUtils.rgbToHsv(i.r,i.g,i.b),this.update()}update(t){this.rgb=ColorUtils.hsvToRgb(this.hsv.h,this.hsv.s,this.hsv.v),this.hex=ColorUtils.rgbToHex(this.rgb.r,this.rgb.g,this.rgb.b),this.cmyk=ColorUtils.rgbToCmyk(this.rgb.r,this.rgb.g,this.rgb.b),this.hue_point.style.left=150*this.hsv.h+"px",this.saturation_point.style.left=150*this.hsv.s+"px",this.saturation_point.style.top=150*(1-this.hsv.v)+"px",this.alpha_point.style.left=150*this.alpha+"px",this.alpha_point.previousElementSibling.style.background="linear-gradient( to right, rgba( 0 , 0 , 0 , 0), "+this.hex+" )",(100*this.rgb.r+100*this.rgb.g+100*this.rgb.b)/3<65?this.hexColor_input.style.color="#FFFFFF":this.hexColor_input.style.color="#000000";const e=ColorUtils.hsvToRgb(this.hsv.h,1,1);this.saturation_point.parentElement.style.backgroundColor=ColorUtils.rgbToHex(e.r,e.g,e.b),this.controlledElement.h.value=this.filterFunctions.to360(this.hsv.h),this.controlledElement.s.value=this.filterFunctions.toPercent(this.hsv.s),this.controlledElement.v.value=this.filterFunctions.toPercent(this.hsv.v),this.controlledElement.r.value=this.filterFunctions.to255(this.rgb.r),this.controlledElement.g.value=this.filterFunctions.to255(this.rgb.g),this.controlledElement.b.value=this.filterFunctions.to255(this.rgb.b),this.controlledElement.c.value=this.filterFunctions.toPercent(this.cmyk.c),this.controlledElement.m.value=this.filterFunctions.toPercent(this.cmyk.m),this.controlledElement.y.value=this.filterFunctions.toPercent(this.cmyk.y),this.controlledElement.k.value=this.filterFunctions.toPercent(this.cmyk.k),this.controlledElement.alpha.value=this.filterFunctions.toPercent(this.alpha),this.controlledElement.color_hex.value=this.hex,this.controlledElement.color_hex.style.backgroundColor=this.hex}onChange_HSV(t){"h"===t.target.getAttribute("name")?this.hsv.h=Number(1/360*t.target.value):this.hsv[t.target.getAttribute("name")]=Number(.01*t.target.value),this.update()}onChange_RGB(t){this.rgb[t.target.getAttribute("name")]=Number(1/255*t.target.value),this.hsv=ColorUtils.rgbToHsv(this.rgb.r,this.rgb.g,this.rgb.b),this.update()}onChange_CMYK(t){this.cmyk[t.target.getAttribute("name")]=Number(.01*t.target.value),this.rgb=ColorUtils.cmykToRGB(this.cmyk.c,this.cmyk.m,this.cmyk.y,this.cmyk.k),this.hsv=ColorUtils.rgbToHsv(this.rgb.r,this.rgb.g,this.rgb.b),this.update()}onChange_alpha(t){this.alpha=Number(.01*t.target.value),this.update()}onChange_hex(t){this.setColor(t.target.value,1)}}customElements.define("color-picker",ColorPicker_cmp);class Spreadsheet_cmp extends HTMLElement{constructor(){super(),this.tableArray=[["Month","Bolivia","Ecuador","Madagascar","Papua New Guinea","Rwanda","Average"],["2004/05",165,938,522,998,450,614.6],["2005/06",135,1120,599,1268,288,682],["2006/07",157,1167,587,807,397,623],["2007/08",139,1110,615,968,215,609.4],["2008/09",136,691,629,1026,366,569.6]],this.draw()}draw(){this.tableElement=document.createElement("table");const t=document.createElement("thead");this.tableElement.appendChild(t),t.appendChild(this.drawTableRow(this.tableArray[0],"th"));const e=document.createElement("tbody");this.tableElement.appendChild(e);const i=this.tableArray.length;for(let t=1;t<i;t++)e.appendChild(this.drawTableRow(this.tableArray[t]));this.appendChild(this.tableElement),XOS.connectEvent("mousedown",this.tableElement,this.onMouseDownOnTable,this),XOS.connectEvent("dblclick",this.tableElement,this.onDoubleClickOnTable,this)}drawTableRow(t,e="td"){const i=document.createElement("tr");let n,s;const o=t.length;for(let a=0;a<o;a++)n=document.createElement(e),s=document.createTextNode(t[a]),n.appendChild(s),i.appendChild(n);return i}onMouseDownOnTable(t){const e=t.target.closest("td");e.classList.contains("selected")||(this.deselectAll(),e&&XOS.selectElement(e))}deselectAll(){const t=this.tableElement.querySelectorAll(":scope  .selected"),e=t.length;for(let i=0;i<e;i++)t[i].classList.remove("selected")}onDoubleClickOnTable(t){const e=t.target.closest("td");this.editCellContent(e)}editCellContent(t){console.log("_cellElement",t),t.setAttribute("contenteditable","true"),this.activeEditableCell=t,this.activeEditableCell.focus(),function(t){if(document.body.createTextRange){const e=document.body.createTextRange();e.moveToElementText(t),e.select()}else if(window.getSelection){const e=window.getSelection(),i=document.createRange();i.selectNodeContents(t),e.removeAllRanges(),e.addRange(i)}else console.warn("Could not select text in node: Unsupported browser.")}(this.activeEditableCell.firstChild);const e=this;function i(e){13===e.keyCode&&(e.preventDefault(),e.stopPropagation(),s(t,"\n"))}function n(e){e.preventDefault();const i=(e.originalEvent||e).clipboardData.getData("text/plain");s(t,i)}function s(t,e){const i=window.getSelection(),n=t.textContent;let s=Math.min(i.focusOffset,i.anchorOffset),o=Math.max(i.focusOffset,i.anchorOffset),a=n.substring(o);""===a&&(a="\n"),t.textContent=n.substring(0,s)+e+a,i.removeAllRanges();const r=document.createRange();r.setStart(t.childNodes[0],s+e.length),r.setEnd(t.childNodes[0],s+e.length),i.addRange(r),console.log(t.innerHTML)}t.addEventListener("keydown",i),t.addEventListener("paste",n),t.addEventListener("blur",function(){console.log("exitFromEditing"),t.removeAttribute("contenteditable"),t.removeEventListener("keydown",i),t.removeEventListener("paste",n),e.activeEditableCell=null})}}customElements.define("spread-sheet",Spreadsheet_cmp);class WindowBase extends HTMLElement{constructor(){super(),WINDOWS[this.getAttribute("id")||this.nodeName.toLowerCase()]=this,XOS.connectEvent("mousedown",this,this.placeInFront,this),XOS.connectEvent("mousedown",this.querySelector(":scope > .head"),this.onClickOnHead,this),XOS.connectEvent("dblclick",this.querySelector(":scope > .head"),this.onDoubleClickOnHead,this),XOS.connectEvent("click",this.querySelector(":scope > .close-button"),this.close,this),XOS.connectEvent("click",this.querySelector(":scope > .collapse-button"),this.onClickOnCollapseButton,this),XOS.connectEvent("mousedown",this.querySelector(":scope > .resize-button"),this.onMouseDownOnResizeButton,this)}connectedCallback(){}setTitle(t){this.querySelector(".head>.title").textContent=t}close(t){if(!this.classList.contains("closed"))if(t&&t.altKey){let t,e=this.parentElement.querySelectorAll("div.window");for(let i=0;i<e.length;i++)(t=e[i]).classList.contains("no-closable")||t.close(null)}else this.onClose(),this.classList.add("closed")}onClose(){}onClickOnFullScreenButton(){this.classList.remove("collapsed"),this.classList.toggle("full-screen")}open(t){if(this.classList.contains("closed")){if(this.onOpen(),this.classList.remove("closed"),!0===t){const t={x:window.innerWidth,y:window.innerHeight},e={x:this.offsetWidth,y:this.offsetHeight};this.style.left=t.x/2-e.x/2+"px",this.style.top=t.y/2-e.y/2+"px"}this.placeInFront()}}onOpen(){}placeInFront(t){this.parentNode.maxLevel||(this.parentNode.maxLevel=10),this.parentNode.maxLevel++,this.style.zIndex=this.parentNode.maxLevel}expand(){this.classList.remove("collapsed"),this.onExpand()}collapse(){this.classList.add("collapsed"),this.onCollapse()}onClickOnHead(t){this.dragAction="DRAG_WIN";const e=this.offsetLeft,i=this.offsetTop;this.dragOffset={x:0,y:0},this.dragOffset.x=t.pageX-e,this.dragOffset.y=t.pageY-i,XOS.initDragFunctions(this,t)}onDoubleClickOnHead(t){t.target.classList.contains("title")&&this.onClickOnCollapseButton()}onMouseDownOnResizeButton(t){this.dragAction="RESIZE_WIN";const e=this.offsetLeft,i=this.offsetTop,n=this.offsetWidth,s=this.offsetHeight;this.dragOffset={x:0,y:0},this.dragOffset.x=e+n-t.pageX,this.dragOffset.y=i+s-t.pageY,XOS.initDragFunctions(this,t)}onClickOnCollapseButton(){this.classList.contains("collapsed")?this.expand():this.collapse()}onExpand(){}onCollapse(){}onDragStart(){this.parentElement.classList.add("dragging")}onDragEnd(){this.dragAction=null,this.parentElement.classList.remove("dragging")}onDrag(t){if(t.preventDefault(),t.stopPropagation(),"DRAG_WIN"===this.dragAction){var e=t.pageX-this.dragOffset.x,i=t.pageY-this.dragOffset.y;e<1&&(e=1),i<27&&(i=27);var n={x:window.innerWidth,y:window.innerHeight},s={x:this.offsetWidth,y:this.offsetHeight};e+s.x>n.x&&(e=n.x-s.x),i+s.y>n.y&&(i=n.y-s.y),this.style.left=e+"px",this.style.top=i+"px"}else if("RESIZE_WIN"===this.dragAction){var o={x:this.offsetLeft,y:this.offsetTop},a=t.pageX-o.x+this.dragOffset.x,r=t.pageY-o.y+this.dragOffset.y;this.style.width=a+"px",this.style.height=r+"px"}}}customElements.define("xos-window",WindowBase);class ProgressWindow extends WindowBase{constructor(){super(),this.progressBar=this.querySelector("#BAR"),this.progressLabel=this.querySelector("#LABEL"),this.progressInfo="progress state",this.total=0,this.loaded=0,this.progressBar.max=100,this.uploadBytePerSeconds=2e4,this.progressListenerList=[]}reset(){this.total=0,this.loaded=0,this.progressListenerList=[]}onClose(){this.reset()}open(t){return super.open(t),this.style.top="50px",this}setProgressInfo(t){this.progressInfo=t}setProgressBarValue(t){return this.progressLabel.innerHTML=this.progressInfo+" "+t+"%",this.progressBar.value=t,this}setProgressValues(t,e){if(0===t)return;const i=Math.round(e/t*100);this.setProgressBarValue(i),100===i?(this.close(),this.reset()):this.open(!0)}onLoadingProgress(t){t.lengthComputable&&(-1===this.progressListenerList.indexOf(t.target)&&(this.progressListenerList.push(t.target),this.total+=t.total,t.target.lastLoaded=0),this.loaded+=t.loaded-t.target.lastLoaded,t.target.lastLoaded=t.loaded,this.setProgressValues(this.total,this.loaded))}startVirtualProgress(t){return this.progressState="progress",this.loaded=0,this.total=t,this.startVirtualProgressTime=(new Date).getTime(),this.onVirtualProgress(),this}endVirtualProgress(){this.progressState="end",this.endVirtualProgressTime=(new Date).getTime(),this.uploadBytePerSeconds=this.total/((this.endVirtualProgressTime-this.startVirtualProgressTime)/200),this.setProgressBarValue(100);const t=this;setTimeout(function(){t.close(),t.reset()},500)}onVirtualProgress(){if("progress"!==this.progressState)return;this.loaded+this.uploadBytePerSeconds<this.total?this.loaded+=this.uploadBytePerSeconds:(this.loaded-=this.uploadBytePerSeconds,this.loaded<0&&(this.loaded=0)),this.setProgressValues(this.total,this.loaded);const t=this;setTimeout(function(){t.onVirtualProgress()},200)}}customElements.define("progress-window",ProgressWindow);class SysDialog extends HTMLElement{constructor(){super(),this.callback_OK=null,this.callback_CANCEL=null,this.defaultIconName="../XOS/icons/sys-dialog-icons.svg#alert-icon",DIALOGS[this.getAttribute("id")||this.nodeName.toLowerCase()]=this,this.controlledElements=null,this.createEventHandlers()}createEventHandlers(){this.controlledElements=XOS.connectDomEvents(this.querySelectorAll("[data-event]"),this)}setTitle(t){this.querySelector(".title").innerHTML=t}setDescription(t){this.querySelector(".description").innerHTML=t}setIcon(t){this.querySelector("use").setAttribute("xlink:href",t)}close(){this.classList.remove("showed")}open(t,e,i,n,s){t&&this.setTitle(t),e&&this.setDescription(e),this.setIcon(s||this.defaultIconName),this.callback_OK=i,this.callback_CANCEL=n,this.classList.add("showed")}onClick_ok(t){this.callback_OK?this.callback_OK():this.close()}onClick_cancel(t){this.close(),this.callback_CANCEL&&this.callback_CANCEL()}}customElements.define("sys-dialog",SysDialog);class AlertDialog extends SysDialog{constructor(){super(),this.defaultIconName="../XOS/icons/sys-dialog-icons.svg#alert-icon"}open(t,e,i){t&&this.setTitle(t),e&&this.setDescription(e),this.setIcon(i||this.defaultIconName),this.classList.add("showed")}}customElements.define("alert-dialog",AlertDialog);class PromptDialog extends SysDialog{constructor(){super(),this.defaultIconName="../XOS/icons/sys-dialog-icons.svg#message-icon"}onKeyUp_promptValue(t){if(13===t.keyCode)return this.onClick_ok(t),!1;this.inputPattern&&(t.target.value=t.target.value.match(this.inputPattern))}getPromptValue(){return this.querySelector(".prompt-value").value}setPromptValue(t,e,i){const n=this.querySelector(".prompt-value");e=e||"",this.inputPattern=i||null,n.setAttribute("placeholder",e),n.value=t,n.focus()}}customElements.define("prompt-dialog",PromptDialog);class ConfirmDialog extends SysDialog{constructor(){super(),this.defaultIconName="../XOS/icons/sys-dialog-icons.svg#message-icon"}}customElements.define("confirm-dialog",ConfirmDialog);class IFrameServiceDialog_cmp extends HTMLElement{constructor(){super(),this.iframeElement=this.querySelector("iframe"),DIALOGS[this.getAttribute("id")]=this}onServiceReady(){console.log("IFrameServiceDialog_cmp ----onServiceReady----"),this.doServiceAction(this.currentActionRequest)}doServiceAction(t){this.currentActionRequest=t||null,this.iframeElement.getAttribute("src")!==this.dataset.urlService?(this.iframeElement.setAttribute("src",this.dataset.urlService),this.open()):this.currentActionRequest&&(this.iframeElement.contentWindow.doAction(this.currentActionRequest),this.currentActionRequest=null)}sendMessageToIframe(t){this.iframeElement.contentWindow.postMessage(t,"*")}onReceiveMessageFromIframe(t){"serviceReady"===t.event&&this.onServiceReady()}open(){XOS.showElement(this)}close(){XOS.hideElement(this)}}customElements.define("iframe-service-dialog",IFrameServiceDialog_cmp);class LoginDialog_cmp extends HTMLElement{constructor(){super(),XOS.connectDomEvents(this.querySelectorAll("[data-event]"),this)}show(){this.classList.add("showed")}onClick_send(){this.doLogin()}onClick_close(){this.classList.remove("showed")}doLogin(){const t=DIALOGS["alert-dialog"],e=this,i=this.querySelector('input[name="email"]').value,n=this.querySelector('input[name="password"]').value;!0===this.querySelector('input[name="accept-terms"]').checked?(XOS.sendAndLoad(WEBSITE_ROOT+"/en/services/app-login-service.php","POST",{email:i,password:n},function(i){"OK"===i.target.responseText?t.open(localString("Login success."),localString("Now you can save your documents."),null,null,"resources/icons/janvas-app-icons.svg#user_icon"):"EXPIRED"===i.target.responseText?t.open(localString("Plan expired!"),localString("Your plan is expired. Go to Janvas website to purchase a new plan."),null,null,"resources/icons/janvas-app-icons.svg#user_icon"):e.classList.add("showed")}),this.classList.remove("showed")):t.open(localString("Accept terms."),localString("You must accept the terms of use."))}}customElements.define("login-dialog",LoginDialog_cmp);class UndoRedoHistory{constructor(t){this.actionList=[],this.ID=-1,this.historyOwner=t}addUndoRedoActions(t,e){t&&e?(this.ID<this.actionList.length-1&&this.actionList.splice(this.ID+1),this.actionList.push({undoAction:t,redoAction:e}),this.ID=this.actionList.length-1,this.historyOwner.onChange()):console.warn("Undo/Redo actions must be set!")}undo(){this.ID>-1&&(this.actionList[this.ID]||console.warn("Undo history error"),this.actionList[this.ID].undoAction.execute(),this.ID--)}redo(){this.ID<this.actionList.length-1&&(this.ID++,this.actionList[this.ID]||console.warn("Redo history error"),this.actionList[this.ID].redoAction.execute())}}class UndoRedoAction{constructor(t){this.snapshotDataList=[],this.onExecuteEnd=null,this.name=t||""}execute(){this.snapshotDataList.forEach(function(t){if("attributes"===t.type){let e;for(let i in t.attributes)null==(e=t.attributes[i])?t.target.removeAttribute(i):t.target.setAttribute(i,e)}else if("node"===t.type)"delete"===t.action?t.target.parentElement.removeChild(t.target):"insert"===t.action&&t.parentNode.insertBefore(t.target,t.nextSibling);else if("properties"===t.type){let e;for(let i in t.properties)void 0===(e=t.properties[i])?delete t.target[i]:t.target[i]=e}}),this.onExecuteEnd&&this.onExecuteEnd(this)}createPropertySnapshot(t,e){let i,n;const s=e.split(",");let o;const a=t.length,r=s.length;for(let e=0;e<a;e++){o={type:"properties",target:i=t[e],properties:{}},this.snapshotDataList.push(o);for(let t=0;t<r;t++)n=s[t],o.properties[n]=i[n]}return this.snapshotDataList}createAttributeSnapshot(t,e){if(1===t.length&&"text"===t[0].nodeName&&t[0].hasAttribute("contenteditable")&&"true"===t[0].dataset.useRichText)return void this.createInnerTextAttributeSnapshot(t,e);let i,n;const s=e.split(",");let o;const a=t.length,r=s.length;for(let e=0;e<a;e++){o={type:"attributes",target:i=t[e],attributes:{}},this.snapshotDataList.push(o);for(let t=0;t<r;t++)n=s[t],SVG_TAG_ATTRIBUTES[i.localName]?(SVG_TAG_ATTRIBUTES[i.localName].indexOf(n)>-1||SVG_TAG_ATTRIBUTES["*"].indexOf(n)>-1)&&(o.attributes[n]=i.getAttribute(n)):o.attributes[n]=i[n]}return this.snapshotDataList}createInnerTextAttributeSnapshot(t,e){}createDomNodeSnapshot(t,e){let i,n;const s=t.length;for(let o=0;o<s;o++)n={type:"node",target:i=t[o],nextSibling:i.nextElementSibling,parentNode:i.parentElement,action:e},this.snapshotDataList.push(n);return this.snapshotDataList}}function GoogleFonts_utils(){this.fontCategories=null,this.defaultFontFamilyNames=["Roboto","Montserrat","Rubik","Archivo Narrow","Lato","Oswald","Playfair Display","Indie Flower","Pacifico","Abril Fatface"],this.defaultFontFamilyList=[],this.init()}_=GoogleFonts_utils.prototype,_.init=function(){var t=this;window.onLoadGoogleFontFamilies=function(e){var i,n,s={},o=e.items,a=o.length;for(n=0;n<a;n++)s[(i=o[n]).category]||(s[i.category]=[]),s[i.category].push(i);t.fontCategories=s,t.allFontList=o,t.createDefaultFontFamilyList()}},_.createDefaultFontFamilyList=function(){var t,e=this.defaultFontFamilyNames.length;for(t=0;t<e;t++)this.defaultFontFamilyList.push(this.getGoogleFontObjectByFamilyName(this.defaultFontFamilyNames[t]))},_.selectFontByFamilyName=function(t){t=t.toLowerCase();var e,i=GoogleFonts.allFontList,n=i.length;for(e=0;e<n;e++)i[e].family.toLowerCase()==t&&(i[e].isSelected=!0)},_.getSelectedFontList=function(){var t,e=[],i=GoogleFonts.allFontList,n=i.length;for(t=0;t<n;t++)i[t].isSelected&&e.push(i[t]);return e},_.findFontList=function(t){t=t.toLowerCase();var e,i=[],n=GoogleFonts.allFontList,s=n.length;for(e=0;e<s;e++)n[e].family.toLowerCase().indexOf(t)>-1&&i.push(n[e]);return i},_.getGoogleFontObjectByFamilyName=function(t){for(var e in this.fontCategories){var i,n=this.fontCategories[e],s=n.length;for(i=0;i<s;i++)if(n[i].family==t)return n[i]}return null},_.getFontUrlByFontFamilyStyleAndWeight=function(t,e,i,n){n=n||"latin";var s=this.getGoogleFontVariantNameByStyleAndWeight(e,i);return"https://fonts.googleapis.com/css?family="+t.replace(/ /g,"+")+":"+s+"&subset="+n},_.loadGoogleFont=function(t,e,i,n){e||(e=t.variants.indexOf("regular")>-1?"regular":t.variants[0]),i||(i=t.subsets.indexOf("latin")>-1?"latin":t.subsets[0]);var s="https://fonts.googleapis.com/css?family="+t.family.replace(/ /g,"+")+":"+e+"&subset="+i;XOS.includeCSS(s,function(t){n&&n()})},_.getGoogleFontVariantNameByStyleAndWeight=function(t,e){var i;return"italic"==t?(i="italic","400"!=e&&(i=e+i)):(i="regular",""!=e&&"400"!=e&&(i=e)),i},_.getGoogleFontStyleAndWeightByVariantName=function(t){var e={name:"Regular","font-style":"regular","font-weight":400};switch(t){case"regular":e={name:"Regular","font-style":"normal","font-weight":400};break;case"italic":e={name:"Italic","font-style":"italic","font-weight":400};break;case"100":e={name:"Thin","font-style":"normal","font-weight":100};break;case"200":e={name:"Extra Light","font-style":"normal","font-weight":200};break;case"300":e={name:"Light","font-style":"normal","font-weight":300};break;case"400":e={name:"Regular","font-style":"normal","font-weight":400};break;case"500":e={name:"Medium","font-style":"normal","font-weight":500};break;case"600":e={name:"Semi Bold","font-style":"normal","font-weight":600};break;case"700":e={name:"Bold","font-style":"normal","font-weight":700};break;case"800":e={name:"Extra Bold","font-style":"normal","font-weight":800};break;case"900":e={name:"Black","font-style":"normal","font-weight":900};break;case"100italic":e={name:"Thin - italic","font-style":"italic","font-weight":100};break;case"200italic":e={name:"Extra Light - italic","font-style":"italic","font-weight":200};break;case"300italic":e={name:"Light - italic","font-style":"italic","font-weight":300};break;case"400italic":e={name:"Regular - italic","font-style":"italic","font-weight":400};break;case"500italic":e={name:"Medium - italic","font-style":"italic","font-weight":500};break;case"600italic":e={name:"Semi Bold - italic","font-style":"italic","font-weight":600};break;case"700italic":e={name:"Bold - italic","font-style":"italic","font-weight":700};break;case"800italic":e={name:"Extra Bold - italic","font-style":"italic","font-weight":800};break;case"900italic":e={name:"Black - italic","font-style":"italic","font-weight":900}}return e},window.GoogleFonts=new GoogleFonts_utils,onLoadGoogleFontFamilies({kind:"webfonts#webfontList",items:[{kind:"webfonts#webfont",family:"ABeeZee",category:"sans-serif",variants:["regular","italic"],subsets:["latin"],version:"v9",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/abeezee/v9/mE5BOuZKGln_Ex0uYKpIaw.ttf",italic:"//fonts.gstatic.com/s/abeezee/v9/kpplLynmYgP0YtlJA3atRw.ttf"}},{kind:"webfonts#webfont",family:"Abel",category:"sans-serif",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/abel/v6/RpUKfqNxoyNe_ka23bzQ2A.ttf"}},{kind:"webfonts#webfont",family:"Abril Fatface",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v8",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/abrilfatface/v8/X1g_KwGeBV3ajZIXQ9VnDojjx0o0jr6fNXxPgYh_a8Q.ttf"}},{kind:"webfonts#webfont",family:"Aclonica",category:"sans-serif",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-20",files:{regular:"//fonts.gstatic.com/s/aclonica/v6/M6pHZMPwK3DiBSlo3jwAKQ.ttf"}},{kind:"webfonts#webfont",family:"Acme",category:"sans-serif",variants:["regular"],subsets:["latin"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/acme/v5/-J6XNtAHPZBEbsifCdBt-g.ttf"}},{kind:"webfonts#webfont",family:"Actor",category:"sans-serif",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/actor/v6/ugMf40CrRK6Jf6Yz_xNSmQ.ttf"}},{kind:"webfonts#webfont",family:"Adamina",category:"serif",variants:["regular"],subsets:["latin"],version:"v8",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/adamina/v8/RUQfOodOMiVVYqFZcSlT9w.ttf"}},{kind:"webfonts#webfont",family:"Advent Pro",category:"sans-serif",variants:["100","200","300","regular","500","600","700"],subsets:["greek","latin","latin-ext"],version:"v4",lastModified:"2016-06-07",files:{100:"//fonts.gstatic.com/s/adventpro/v4/87-JOpSUecTG50PBYK4ysi3USBnSvpkopQaUR-2r7iU.ttf",200:"//fonts.gstatic.com/s/adventpro/v4/URTSSjIp0Wr-GrjxFdFWnGeudeTO44zf-ht3k-KNzwg.ttf",300:"//fonts.gstatic.com/s/adventpro/v4/sJaBfJYSFgoB80OL1_66m0eOrDcLawS7-ssYqLr2Xp4.ttf",500:"//fonts.gstatic.com/s/adventpro/v4/7kBth2-rT8tP40RmMMXMLJp-63r6doWhTEbsfBIRJ7A.ttf",600:"//fonts.gstatic.com/s/adventpro/v4/3Jo-2maCzv2QLzQBzaKHV_pTEJqju4Hz1txDWij77d4.ttf",700:"//fonts.gstatic.com/s/adventpro/v4/M4I6QiICt-ey_wZTpR2gKwJKKGfqHaYFsRG-T3ceEVo.ttf",regular:"//fonts.gstatic.com/s/adventpro/v4/1NxMBeKVcNNH2H46AUR3wfesZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Aguafina Script",category:"handwriting",variants:["regular"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/aguafinascript/v5/65g7cgMtMGnNlNyq_Z6CvMxLhO8OSNnfAp53LK1_iRs.ttf"}},{kind:"webfonts#webfont",family:"Akronim",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/akronim/v5/qA0L2CSArk3tuOWE1AR1DA.ttf"}},{kind:"webfonts#webfont",family:"Aladin",category:"handwriting",variants:["regular"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/aladin/v5/PyuJ5cVHkduO0j5fAMKvAA.ttf"}},{kind:"webfonts#webfont",family:"Aldrich",category:"sans-serif",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/aldrich/v6/kMMW1S56gFx7RP_mW1g-Eg.ttf"}},{kind:"webfonts#webfont",family:"Alef",category:"sans-serif",variants:["regular","700"],subsets:["latin","hebrew"],version:"v6",lastModified:"2016-06-07",files:{700:"//fonts.gstatic.com/s/alef/v6/VDgZJhEwudtOzOFQpZ8MEA.ttf",regular:"//fonts.gstatic.com/s/alef/v6/ENvZ_P0HBDQxNZYCQO0lUA.ttf"}},{kind:"webfonts#webfont",family:"Alegreya",category:"serif",variants:["regular","italic","700","700italic","900","900italic"],subsets:["latin","latin-ext"],version:"v7",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/alegreya/v7/5oZtdI5-wQwgAFrd9erCsaCWcynf_cDxXwCLxiixG1c.ttf",900:"//fonts.gstatic.com/s/alegreya/v7/oQeMxX-vxGImzDgX6nxA7KCWcynf_cDxXwCLxiixG1c.ttf",regular:"//fonts.gstatic.com/s/alegreya/v7/62J3atXd6bvMU4qO_ca-eA.ttf",italic:"//fonts.gstatic.com/s/alegreya/v7/cbshnQGxwmlHBjUil7DaIfesZW2xOQ-xsNqO47m55DA.ttf","700italic":"//fonts.gstatic.com/s/alegreya/v7/IWi8e5bpnqhMRsZKTcTUWgJKKGfqHaYFsRG-T3ceEVo.ttf","900italic":"//fonts.gstatic.com/s/alegreya/v7/-L71QLH_XqgYWaI1GbOVhp0EAVxt0G0biEntp43Qt6E.ttf"}},{kind:"webfonts#webfont",family:"Alegreya SC",category:"serif",variants:["regular","italic","700","700italic","900","900italic"],subsets:["latin","latin-ext"],version:"v6",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/alegreyasc/v6/M9OIREoxDkvynwTpBAYUq3e1Pd76Vl7zRpE7NLJQ7XU.ttf",900:"//fonts.gstatic.com/s/alegreyasc/v6/M9OIREoxDkvynwTpBAYUqyenaqEuufTBk9XMKnKmgDA.ttf",regular:"//fonts.gstatic.com/s/alegreyasc/v6/3ozeFnTbygMK6PfHh8B-iqCWcynf_cDxXwCLxiixG1c.ttf",italic:"//fonts.gstatic.com/s/alegreyasc/v6/GOqmv3FLsJ2r6ZALMZVBmkeOrDcLawS7-ssYqLr2Xp4.ttf","700italic":"//fonts.gstatic.com/s/alegreyasc/v6/5PCoU7IUfCicpKBJtBmP6c_zJjSACmk0BRPxQqhnNLU.ttf","900italic":"//fonts.gstatic.com/s/alegreyasc/v6/5PCoU7IUfCicpKBJtBmP6U_yTOUGsoC54csJe1b-IRw.ttf"}},{kind:"webfonts#webfont",family:"Alegreya Sans",category:"sans-serif",variants:["100","100italic","300","300italic","regular","italic","500","500italic","700","700italic","800","800italic","900","900italic"],subsets:["latin","latin-ext","vietnamese"],version:"v3",lastModified:"2016-06-07",files:{100:"//fonts.gstatic.com/s/alegreyasans/v3/TKyx_-JJ6MdpQruNk-t-PJFGFO4uyVFMfB6LZsii7kI.ttf",300:"//fonts.gstatic.com/s/alegreyasans/v3/11EDm-lum6tskJMBbdy9acB1LjARzAvdqa1uQC32v70.ttf",500:"//fonts.gstatic.com/s/alegreyasans/v3/11EDm-lum6tskJMBbdy9aQqQmZ7VjhwksfpNVG0pqGc.ttf",700:"//fonts.gstatic.com/s/alegreyasans/v3/11EDm-lum6tskJMBbdy9aVCbmAUID8LN-q3pJpOk3Ys.ttf",800:"//fonts.gstatic.com/s/alegreyasans/v3/11EDm-lum6tskJMBbdy9acxnD5BewVtRRHHljCwR2bM.ttf",900:"//fonts.gstatic.com/s/alegreyasans/v3/11EDm-lum6tskJMBbdy9aW42xlVP-j5dagE7-AU2zwg.ttf","100italic":"//fonts.gstatic.com/s/alegreyasans/v3/gRkSP2lBpqoMTVxg7DmVn2cDnjsrnI9_xJ-5gnBaHsE.ttf","300italic":"//fonts.gstatic.com/s/alegreyasans/v3/WfiXipsmjqRqsDBQ1bA9CnfqlVoxTUFFx1C8tBqmbcg.ttf",regular:"//fonts.gstatic.com/s/alegreyasans/v3/KYNzioYhDai7mTMnx_gDgn8f0n03UdmQgF_CLvNR2vg.ttf",italic:"//fonts.gstatic.com/s/alegreyasans/v3/TKyx_-JJ6MdpQruNk-t-PD4G9C9ttb0Oz5Cvf0qOitE.ttf","500italic":"//fonts.gstatic.com/s/alegreyasans/v3/WfiXipsmjqRqsDBQ1bA9Cs7DCVO6wo6i5LKIyZDzK40.ttf","700italic":"//fonts.gstatic.com/s/alegreyasans/v3/WfiXipsmjqRqsDBQ1bA9CpF66r9C4AnxxlBlGd7xY4g.ttf","800italic":"//fonts.gstatic.com/s/alegreyasans/v3/WfiXipsmjqRqsDBQ1bA9CicOAJ_9MkLPbDmrtXDPbIU.ttf","900italic":"//fonts.gstatic.com/s/alegreyasans/v3/WfiXipsmjqRqsDBQ1bA9ChRaDUI9aE8-k7PrIG2iiuo.ttf"}},{kind:"webfonts#webfont",family:"Alegreya Sans SC",category:"sans-serif",variants:["100","100italic","300","300italic","regular","italic","500","500italic","700","700italic","800","800italic","900","900italic"],subsets:["latin","latin-ext","vietnamese"],version:"v3",lastModified:"2016-06-07",files:{100:"//fonts.gstatic.com/s/alegreyasanssc/v3/trwFkDJLOJf6hqM93944kVnzStfdnFU-MXbO84aBs_M.ttf",300:"//fonts.gstatic.com/s/alegreyasanssc/v3/AjAmkoP1y0Vaad0UPPR46-1IqtfxJspFjzJp0SaQRcI.ttf",500:"//fonts.gstatic.com/s/alegreyasanssc/v3/AjAmkoP1y0Vaad0UPPR46_hHTluI57wqxl55RvSYo3s.ttf",700:"//fonts.gstatic.com/s/alegreyasanssc/v3/AjAmkoP1y0Vaad0UPPR4600aId5t1FC-xZ8nmpa_XLk.ttf",800:"//fonts.gstatic.com/s/alegreyasanssc/v3/AjAmkoP1y0Vaad0UPPR46wQgSHD3Lo1Mif2Wkk5swWA.ttf",900:"//fonts.gstatic.com/s/alegreyasanssc/v3/AjAmkoP1y0Vaad0UPPR461Rf9EWUSEX_PR1d_gLKfpM.ttf","100italic":"//fonts.gstatic.com/s/alegreyasanssc/v3/qG3gA9iy5RpXMH4crZboqqakMVR0XlJhO7VdJ8yYvA4.ttf","300italic":"//fonts.gstatic.com/s/alegreyasanssc/v3/0VweK-TO3aQgazdxg8fs0CnTKaH808trtzttbEg4yVA.ttf",regular:"//fonts.gstatic.com/s/alegreyasanssc/v3/6kgb6ZvOagoVIRZyl8XV-EklWX-XdLVn1WTiuGuvKIU.ttf",italic:"//fonts.gstatic.com/s/alegreyasanssc/v3/trwFkDJLOJf6hqM93944kTfqo69HNOlCNZvbwAmUtiA.ttf","500italic":"//fonts.gstatic.com/s/alegreyasanssc/v3/0VweK-TO3aQgazdxg8fs0NqVvxKdFVwqwzilqfVd39U.ttf","700italic":"//fonts.gstatic.com/s/alegreyasanssc/v3/0VweK-TO3aQgazdxg8fs0IBYn3VD6xMEnodOh8pnFw4.ttf","800italic":"//fonts.gstatic.com/s/alegreyasanssc/v3/0VweK-TO3aQgazdxg8fs0HStmCm6Rs90XeztCALm0H8.ttf","900italic":"//fonts.gstatic.com/s/alegreyasanssc/v3/0VweK-TO3aQgazdxg8fs0IvtwEfTCJoOJugANj-jWDI.ttf"}},{kind:"webfonts#webfont",family:"Alex Brush",category:"handwriting",variants:["regular"],subsets:["latin","latin-ext"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/alexbrush/v6/ooh3KJFbKJSUoIRWfiu8o_esZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Alfa Slab One",category:"display",variants:["regular"],subsets:["latin"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/alfaslabone/v5/Qx6FPcitRwTC_k88tLPc-Yjjx0o0jr6fNXxPgYh_a8Q.ttf"}},{kind:"webfonts#webfont",family:"Alice",category:"serif",variants:["regular"],subsets:["latin"],version:"v7",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/alice/v7/wZTAfivekBqIg-rk63nFvQ.ttf"}},{kind:"webfonts#webfont",family:"Alike",category:"serif",variants:["regular"],subsets:["latin"],version:"v8",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/alike/v8/Ho8YpRKNk_202fwDiGNIyw.ttf"}},{kind:"webfonts#webfont",family:"Alike Angular",category:"serif",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/alikeangular/v6/OpeCu4xxI3qO1C7CZcJtPT3XH2uEnVI__ynTBvNyki8.ttf"}},{kind:"webfonts#webfont",family:"Allan",category:"display",variants:["regular","700"],subsets:["latin","latin-ext"],version:"v7",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/allan/v7/zSxQiwo7wgnr7KkMXhSiag.ttf",regular:"//fonts.gstatic.com/s/allan/v7/T3lemhgZmLQkQI2Qc2bQHA.ttf"}},{kind:"webfonts#webfont",family:"Allerta",category:"sans-serif",variants:["regular"],subsets:["latin"],version:"v7",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/allerta/v7/s9FOEuiJFTNbMe06ifzV8g.ttf"}},{kind:"webfonts#webfont",family:"Allerta Stencil",category:"sans-serif",variants:["regular"],subsets:["latin"],version:"v7",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/allertastencil/v7/CdSZfRtHbQrBohqmzSdDYFf2eT4jUldwg_9fgfY_tHc.ttf"}},{kind:"webfonts#webfont",family:"Allura",category:"handwriting",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/allura/v4/4hcqgZanyuJ2gMYWffIR6A.ttf"}},{kind:"webfonts#webfont",family:"Almendra",category:"serif",variants:["regular","italic","700","700italic"],subsets:["latin","latin-ext"],version:"v8",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/almendra/v8/ZpLdQMj7Q2AFio4nNO6A76CWcynf_cDxXwCLxiixG1c.ttf",regular:"//fonts.gstatic.com/s/almendra/v8/PDpbB-ZF7deXAAEYPkQOeg.ttf",italic:"//fonts.gstatic.com/s/almendra/v8/CNWLyiDucqVKVgr4EMidi_esZW2xOQ-xsNqO47m55DA.ttf","700italic":"//fonts.gstatic.com/s/almendra/v8/-tXHKMcnn6FqrhJV3l1e3QJKKGfqHaYFsRG-T3ceEVo.ttf"}},{kind:"webfonts#webfont",family:"Almendra Display",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/almendradisplay/v6/2Zuu97WJ_ez-87yz5Ai8fF6uyC_qD11hrFQ6EGgTJWI.ttf"}},{kind:"webfonts#webfont",family:"Almendra SC",category:"serif",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/almendrasc/v6/IuiLd8Fm9I6raSalxMoWeaCWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Amarante",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/amarante/v4/2dQHjIBWSpydit5zkJZnOw.ttf"}},{kind:"webfonts#webfont",family:"Amaranth",category:"sans-serif",variants:["regular","italic","700","700italic"],subsets:["latin"],version:"v6",lastModified:"2016-06-07",files:{700:"//fonts.gstatic.com/s/amaranth/v6/j5OFHqadfxyLnQRxFeox6qCWcynf_cDxXwCLxiixG1c.ttf",regular:"//fonts.gstatic.com/s/amaranth/v6/7VcBog22JBHsHXHdnnycTA.ttf",italic:"//fonts.gstatic.com/s/amaranth/v6/UrJlRY9LcVERJSvggsdBqPesZW2xOQ-xsNqO47m55DA.ttf","700italic":"//fonts.gstatic.com/s/amaranth/v6/BHyuYFj9nqLFNvOvGh0xTwJKKGfqHaYFsRG-T3ceEVo.ttf"}},{kind:"webfonts#webfont",family:"Amatic SC",category:"handwriting",variants:["regular","700"],subsets:["latin","latin-ext"],version:"v8",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/amaticsc/v8/IDnkRTPGcrSVo50UyYNK7y3USBnSvpkopQaUR-2r7iU.ttf",regular:"//fonts.gstatic.com/s/amaticsc/v8/MldbRWLFytvqxU1y81xSVg.ttf"}},{kind:"webfonts#webfont",family:"Amatica SC",category:"display",variants:["regular","700"],subsets:["latin","hebrew","latin-ext"],version:"v1",lastModified:"2016-06-20",files:{700:"//fonts.gstatic.com/s/amaticasc/v1/nFmSxyAMfCP_5xGDJ4j5TgJKKGfqHaYFsRG-T3ceEVo.ttf",regular:"//fonts.gstatic.com/s/amaticasc/v1/f9SWSy9DLsJV2etvm5rwGPesZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Amethysta",category:"serif",variants:["regular"],subsets:["latin"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/amethysta/v4/1jEo9tOFIJDolAUpBnWbnA.ttf"}},{kind:"webfonts#webfont",family:"Amiko",category:"sans-serif",variants:["regular","600","700"],subsets:["latin","devanagari","latin-ext"],version:"v1",lastModified:"2016-06-20",files:{600:"//fonts.gstatic.com/s/amiko/v1/BaZst4RZ4sDyD3mH-BfVaA.ttf",700:"//fonts.gstatic.com/s/amiko/v1/6syx43mQ07VvOmpFc0G9Lg.ttf",regular:"//fonts.gstatic.com/s/amiko/v1/A7bjc3cOLJtGgpPGnxyHsw.ttf"}},{kind:"webfonts#webfont",family:"Amiri",category:"serif",variants:["regular","italic","700","700italic"],subsets:["latin","arabic"],version:"v7",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/amiri/v7/WQsR_moz-FNqVwGYgptqiA.ttf",regular:"//fonts.gstatic.com/s/amiri/v7/ATARrPmSew75SlpOw2YABQ.ttf",italic:"//fonts.gstatic.com/s/amiri/v7/3t1yTQlLUXBw8htrqlXBrw.ttf","700italic":"//fonts.gstatic.com/s/amiri/v7/uF8aNEyD0bxMeTBg9bFDSPesZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Amita",category:"handwriting",variants:["regular","700"],subsets:["latin","devanagari","latin-ext"],version:"v1",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/amita/v1/cIYA2Lzp7l2pcGsqpUidBg.ttf",regular:"//fonts.gstatic.com/s/amita/v1/RhdhGBXSJqkHo6g7miTEcQ.ttf"}},{kind:"webfonts#webfont",family:"Anaheim",category:"sans-serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/anaheim/v4/t-z8aXHMpgI2gjN_rIflKA.ttf"}},{kind:"webfonts#webfont",family:"Andada",category:"serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v7",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/andada/v7/rSFaDqNNQBRw3y19MB5Y4w.ttf"}},{kind:"webfonts#webfont",family:"Andika",category:"sans-serif",variants:["regular"],subsets:["latin","cyrillic","latin-ext","vietnamese","cyrillic-ext"],version:"v7",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/andika/v7/oe-ag1G0lcqZ3IXfeEgaGg.ttf"}},{kind:"webfonts#webfont",family:"Annie Use Your Telescope",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/annieuseyourtelescope/v6/2cuiO5VmaR09C8SLGEQjGqbp7mtG8sPlcZvOaO8HBak.ttf"}},{kind:"webfonts#webfont",family:"Anonymous Pro",category:"monospace",variants:["regular","italic","700","700italic"],subsets:["greek","latin","cyrillic","latin-ext"],version:"v9",lastModified:"2016-06-07",files:{700:"//fonts.gstatic.com/s/anonymouspro/v9/WDf5lZYgdmmKhO8E1AQud--Cz_5MeePnXDAcLNWyBME.ttf",regular:"//fonts.gstatic.com/s/anonymouspro/v9/Zhfjj_gat3waL4JSju74E-V_5zh5b-_HiooIRUBwn1A.ttf",italic:"//fonts.gstatic.com/s/anonymouspro/v9/q0u6LFHwttnT_69euiDbWKwIsuKDCXG0NQm7BvAgx-c.ttf","700italic":"//fonts.gstatic.com/s/anonymouspro/v9/_fVr_XGln-cetWSUc-JpfA1LL9bfs7wyIp6F8OC9RxA.ttf"}},{kind:"webfonts#webfont",family:"Antic",category:"sans-serif",variants:["regular"],subsets:["latin"],version:"v7",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/antic/v7/hEa8XCNM7tXGzD0Uk0AipA.ttf"}},{kind:"webfonts#webfont",family:"Antic Didone",category:"serif",variants:["regular"],subsets:["latin"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/anticdidone/v4/r3nJcTDuOluOL6LGDV1vRy3USBnSvpkopQaUR-2r7iU.ttf"}},{kind:"webfonts#webfont",family:"Antic Slab",category:"serif",variants:["regular"],subsets:["latin"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/anticslab/v4/PSbJCTKkAS7skPdkd7AKEvesZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Anton",category:"sans-serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v7",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/anton/v7/XIbCenm-W0IRHWYIh7CGUQ.ttf"}},{kind:"webfonts#webfont",family:"Arapey",category:"serif",variants:["regular","italic"],subsets:["latin"],version:"v5",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/arapey/v5/dqu823lrSYn8T2gApTdslA.ttf",italic:"//fonts.gstatic.com/s/arapey/v5/pY-Xi5JNBpaWxy2tZhEm5A.ttf"}},{kind:"webfonts#webfont",family:"Arbutus",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/arbutus/v5/Go_hurxoUsn5MnqNVQgodQ.ttf"}},{kind:"webfonts#webfont",family:"Arbutus Slab",category:"serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/arbutusslab/v4/6k3Yp6iS9l4jRIpynA8qMy3USBnSvpkopQaUR-2r7iU.ttf"}},{kind:"webfonts#webfont",family:"Architects Daughter",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/architectsdaughter/v6/RXTgOOQ9AAtaVOHxx0IUBMCy0EhZjHzu-y0e6uLf4Fg.ttf"}},{kind:"webfonts#webfont",family:"Archivo Black",category:"sans-serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/archivoblack/v4/WoAoVT7K3k7hHfxKbvB6B51XQG8isOYYJhPIYAyrESQ.ttf"}},{kind:"webfonts#webfont",family:"Archivo Narrow",category:"sans-serif",variants:["regular","italic","700","700italic"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/archivonarrow/v5/M__Wu4PAmHf4YZvQM8tWsMLtdzs3iyjn_YuT226ZsLU.ttf",regular:"//fonts.gstatic.com/s/archivonarrow/v5/DsLzC9scoPnrGiwYYMQXppTvAuddT2xDMbdz0mdLyZY.ttf",italic:"//fonts.gstatic.com/s/archivonarrow/v5/vqsrtPCpTU3tJlKfuXP5zUpmlyBQEFfdE6dERLXdQGQ.ttf","700italic":"//fonts.gstatic.com/s/archivonarrow/v5/wG6O733y5zHl4EKCOh8rSTg5KB8MNJ4uPAETq9naQO8.ttf"}},{kind:"webfonts#webfont",family:"Arima Madurai",category:"display",variants:["100","200","300","regular","500","700","800","900"],subsets:["latin","tamil","latin-ext","vietnamese"],version:"v2",lastModified:"2016-08-22",files:{100:"//fonts.gstatic.com/s/arimamadurai/v2/Q0tjl46beRRcUe3RlWWNrdyXLlNBCUjoM1yKFfVCFUI.ttf",200:"//fonts.gstatic.com/s/arimamadurai/v2/EsCGNPwBfkMk17-w_DTJ4rArwWuxcSSKq67BdR6k5Rg.ttf",300:"//fonts.gstatic.com/s/arimamadurai/v2/EsCGNPwBfkMk17-w_DTJ4joJ52uD-1fmXmi8u0n_zsc.ttf",500:"//fonts.gstatic.com/s/arimamadurai/v2/EsCGNPwBfkMk17-w_DTJ4v_2zpxNHQ3utWt_82o9dAo.ttf",700:"//fonts.gstatic.com/s/arimamadurai/v2/EsCGNPwBfkMk17-w_DTJ4qiiXuG_rGcOxkuidirlnJE.ttf",800:"//fonts.gstatic.com/s/arimamadurai/v2/EsCGNPwBfkMk17-w_DTJ4khKLu0CevfTHM1eXjGnvQo.ttf",900:"//fonts.gstatic.com/s/arimamadurai/v2/EsCGNPwBfkMk17-w_DTJ4kZ0oshA7r_PlGegwiHddT8.ttf",regular:"//fonts.gstatic.com/s/arimamadurai/v2/8fNfThKRw_pr7MwgNdcHiW_MnNA9OgK8I1F23mNWOpE.ttf"}},{kind:"webfonts#webfont",family:"Arimo",category:"sans-serif",variants:["regular","italic","700","700italic"],subsets:["greek","latin","greek-ext","cyrillic","hebrew","latin-ext","vietnamese","cyrillic-ext"],version:"v9",lastModified:"2016-05-20",files:{700:"//fonts.gstatic.com/s/arimo/v9/ZItXugREyvV9LnbY_gxAmw.ttf",regular:"//fonts.gstatic.com/s/arimo/v9/Gpeo80g-5ji2CcyXWnzh7g.ttf",italic:"//fonts.gstatic.com/s/arimo/v9/_OdGbnX2-qQ96C4OjhyuPw.ttf","700italic":"//fonts.gstatic.com/s/arimo/v9/__nOLWqmeXdhfr0g7GaFePesZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Arizonia",category:"handwriting",variants:["regular"],subsets:["latin","latin-ext"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/arizonia/v6/yzJqkHZqryZBTM7RKYV9Wg.ttf"}},{kind:"webfonts#webfont",family:"Armata",category:"sans-serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v6",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/armata/v6/1H8FwGgIRrbYtxSfXhOHlQ.ttf"}},{kind:"webfonts#webfont",family:"Artifika",category:"serif",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/artifika/v6/Ekfp4H4QG7D-WsABDOyj8g.ttf"}},{kind:"webfonts#webfont",family:"Arvo",category:"serif",variants:["regular","italic","700","700italic"],subsets:["latin"],version:"v9",lastModified:"2016-06-07",files:{700:"//fonts.gstatic.com/s/arvo/v9/OB3FDST7U38u3OjPK_vvRQ.ttf",regular:"//fonts.gstatic.com/s/arvo/v9/vvWPwz-PlZEwjOOIKqoZzA.ttf",italic:"//fonts.gstatic.com/s/arvo/v9/id5a4BCjbenl5Gkqonw_Rw.ttf","700italic":"//fonts.gstatic.com/s/arvo/v9/Hvl2MuWoXLaCy2v6MD4Yvw.ttf"}},{kind:"webfonts#webfont",family:"Arya",category:"sans-serif",variants:["regular","700"],subsets:["latin","devanagari","latin-ext"],version:"v1",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/arya/v1/N13tgOvG7VTXawiI-fJiQA.ttf",regular:"//fonts.gstatic.com/s/arya/v1/xEVqtU3v8QLospHKpDaYEw.ttf"}},{kind:"webfonts#webfont",family:"Asap",category:"sans-serif",variants:["regular","italic","700","700italic"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-06-07",files:{700:"//fonts.gstatic.com/s/asap/v4/o5RUA7SsJ80M8oDFBnrDbg.ttf",regular:"//fonts.gstatic.com/s/asap/v4/2lf-1MDR8tsTpEtvJmr2hA.ttf",italic:"//fonts.gstatic.com/s/asap/v4/mwxNHf8QS8gNWCAMwkJNIg.ttf","700italic":"//fonts.gstatic.com/s/asap/v4/_rZz9y2oXc09jT5T6BexLQ.ttf"}},{kind:"webfonts#webfont",family:"Asar",category:"serif",variants:["regular"],subsets:["latin","devanagari","latin-ext"],version:"v2",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/asar/v2/mSmn3H5CcMA84CZ586X7WQ.ttf"}},{kind:"webfonts#webfont",family:"Asset",category:"display",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/asset/v6/hfPmqY-JzuR1lULlQf9iTg.ttf"}},{kind:"webfonts#webfont",family:"Assistant",category:"sans-serif",variants:["200","300","regular","600","700","800"],subsets:["latin","hebrew"],version:"v1",lastModified:"2016-06-20",files:{200:"//fonts.gstatic.com/s/assistant/v1/xXstfiHQzjB9j5ZxYTBoZy3USBnSvpkopQaUR-2r7iU.ttf",300:"//fonts.gstatic.com/s/assistant/v1/vPC3tCw3LOzCSeGCtVp5Wi3USBnSvpkopQaUR-2r7iU.ttf",600:"//fonts.gstatic.com/s/assistant/v1/Y4UC5nQA69lWpfV0itoWLi3USBnSvpkopQaUR-2r7iU.ttf",700:"//fonts.gstatic.com/s/assistant/v1/dZywGH4pMxP6OVyrppOJxy3USBnSvpkopQaUR-2r7iU.ttf",800:"//fonts.gstatic.com/s/assistant/v1/-mTR0sX8a0RsadH4AMDT8C3USBnSvpkopQaUR-2r7iU.ttf",regular:"//fonts.gstatic.com/s/assistant/v1/2iDwv6DBtyixlK5YHngp1w.ttf"}},{kind:"webfonts#webfont",family:"Astloch",category:"display",variants:["regular","700"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/astloch/v6/aPkhM2tL-tz1jX6aX2rvo_esZW2xOQ-xsNqO47m55DA.ttf",regular:"//fonts.gstatic.com/s/astloch/v6/fmbitVmHYLQP7MGPuFgpag.ttf"}},{kind:"webfonts#webfont",family:"Asul",category:"sans-serif",variants:["regular","700"],subsets:["latin"],version:"v5",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/asul/v5/uO8uNmxaq87-DdPmkEg5Gg.ttf",regular:"//fonts.gstatic.com/s/asul/v5/9qpsNR_OOwyOYyo2N0IbBw.ttf"}},{kind:"webfonts#webfont",family:"Athiti",category:"sans-serif",variants:["200","300","regular","500","600","700"],subsets:["latin","thai","latin-ext","vietnamese"],version:"v1",lastModified:"2016-06-20",files:{200:"//fonts.gstatic.com/s/athiti/v1/Ge5skdKwzxRPajVLdOJuIg.ttf",300:"//fonts.gstatic.com/s/athiti/v1/OoT7lj4AaSp1JpGJLKn3CA.ttf",500:"//fonts.gstatic.com/s/athiti/v1/W3pP-ANXfsMOVOG-cqqMFw.ttf",600:"//fonts.gstatic.com/s/athiti/v1/kYx3dtUYNEuUlzWczYzsmQ.ttf",700:"//fonts.gstatic.com/s/athiti/v1/tyXFOxQyZGXfqHhtqSikdw.ttf",regular:"//fonts.gstatic.com/s/athiti/v1/e7eiIKP18Iz9Kg1xat6AYw.ttf"}},{kind:"webfonts#webfont",family:"Atma",category:"display",variants:["300","regular","500","600","700"],subsets:["latin","bengali","latin-ext"],version:"v1",lastModified:"2016-06-20",files:{300:"//fonts.gstatic.com/s/atma/v1/noxn2r6cT3JgmEDt6Ip5pQ.ttf",500:"//fonts.gstatic.com/s/atma/v1/Htksg3ZXeAEbSvUdTQX-uw.ttf",600:"//fonts.gstatic.com/s/atma/v1/EGUwD65ZZn9IIHp5Y36b4A.ttf",700:"//fonts.gstatic.com/s/atma/v1/-fkXl3wADUHjobbwO9d-Wg.ttf",regular:"//fonts.gstatic.com/s/atma/v1/dkXPrLoE_uqcgUFj4JdfRQ.ttf"}},{kind:"webfonts#webfont",family:"Atomic Age",category:"display",variants:["regular"],subsets:["latin"],version:"v7",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/atomicage/v7/WvBMe4FxANIKpo6Oi0mVJ_esZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Aubrey",category:"display",variants:["regular"],subsets:["latin"],version:"v8",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/aubrey/v8/zo9w8klO8bmOQIMajQ2aTA.ttf"}},{kind:"webfonts#webfont",family:"Audiowide",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/audiowide/v4/yGcwRZB6VmoYhPUYT-mEow.ttf"}},{kind:"webfonts#webfont",family:"Autour One",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/autourone/v5/2xmQBcg7FN72jaQRFZPIDvesZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Average",category:"serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/average/v4/aHUibBqdDbVYl5FM48pxyQ.ttf"}},{kind:"webfonts#webfont",family:"Average Sans",category:"sans-serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/averagesans/v4/dnU3R-5A_43y5bIyLztPsS3USBnSvpkopQaUR-2r7iU.ttf"}},{kind:"webfonts#webfont",family:"Averia Gruesa Libre",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/averiagruesalibre/v4/10vbZTOoN6T8D-nvDzwRFyXcKHuZXlCN8VkWHpkUzKM.ttf"}},{kind:"webfonts#webfont",family:"Averia Libre",category:"display",variants:["300","300italic","regular","italic","700","700italic"],subsets:["latin"],version:"v4",lastModified:"2016-06-07",files:{300:"//fonts.gstatic.com/s/averialibre/v4/r6hGL8sSLm4dTzOPXgx5XacQoVhARpoaILP7amxE_8g.ttf",700:"//fonts.gstatic.com/s/averialibre/v4/r6hGL8sSLm4dTzOPXgx5XUD2ttfZwueP-QU272T9-k4.ttf","300italic":"//fonts.gstatic.com/s/averialibre/v4/I6wAYuAvOgT7el2ePj2nkina0FLWfcB-J_SAYmcAXaI.ttf",regular:"//fonts.gstatic.com/s/averialibre/v4/rYVgHZZQICWnhjguGsBspC3USBnSvpkopQaUR-2r7iU.ttf",italic:"//fonts.gstatic.com/s/averialibre/v4/1etzuoNxVHR8F533EkD1WfMZXuCXbOrAvx5R0IT5Oyo.ttf","700italic":"//fonts.gstatic.com/s/averialibre/v4/I6wAYuAvOgT7el2ePj2nkvAs9-1nE9qOqhChW0m4nDE.ttf"}},{kind:"webfonts#webfont",family:"Averia Sans Libre",category:"display",variants:["300","300italic","regular","italic","700","700italic"],subsets:["latin"],version:"v4",lastModified:"2016-05-31",files:{300:"//fonts.gstatic.com/s/averiasanslibre/v4/_9-jTfQjaBsWAF_yp5z-V4CP_KG_g80s1KXiBtJHoNc.ttf",700:"//fonts.gstatic.com/s/averiasanslibre/v4/_9-jTfQjaBsWAF_yp5z-V8QwVOrz1y5GihpZmtKLhlI.ttf","300italic":"//fonts.gstatic.com/s/averiasanslibre/v4/o7BEIK-fG3Ykc5Rzteh88YuyGu4JqttndUh4gRKxic0.ttf",regular:"//fonts.gstatic.com/s/averiasanslibre/v4/yRJpjT39KxACO9F31mj_LqV8_KRn4epKAjTFK1s1fsg.ttf",italic:"//fonts.gstatic.com/s/averiasanslibre/v4/COEzR_NPBSUOl3pFwPbPoCZU2HnUZT1xVKaIrHDioao.ttf","700italic":"//fonts.gstatic.com/s/averiasanslibre/v4/o7BEIK-fG3Ykc5Rzteh88bXy1DXgmJcVtKjM5UWamMs.ttf"}},{kind:"webfonts#webfont",family:"Averia Serif Libre",category:"display",variants:["300","300italic","regular","italic","700","700italic"],subsets:["latin"],version:"v5",lastModified:"2016-05-31",files:{300:"//fonts.gstatic.com/s/averiaseriflibre/v5/yvITAdr5D1nlsdFswJAb8SmC4gFJ2PHmfdVKEd_5S9M.ttf",700:"//fonts.gstatic.com/s/averiaseriflibre/v5/yvITAdr5D1nlsdFswJAb8Q50KV5TaOVolur4zV2iZsg.ttf","300italic":"//fonts.gstatic.com/s/averiaseriflibre/v5/YOLFXyye4sZt6AZk1QybCG2okl0bU63CauowU4iApig.ttf",regular:"//fonts.gstatic.com/s/averiaseriflibre/v5/fdtF30xa_Erw0zAzOoG4BZqY66i8AUyI16fGqw0iAew.ttf",italic:"//fonts.gstatic.com/s/averiaseriflibre/v5/o9qhvK9iT5iDWfyhQUe-6Ru_b0bTq5iipbJ9hhgHJ6U.ttf","700italic":"//fonts.gstatic.com/s/averiaseriflibre/v5/YOLFXyye4sZt6AZk1QybCNxohRXP4tNDqG3X4Hqn21k.ttf"}},{kind:"webfonts#webfont",family:"Bad Script",category:"handwriting",variants:["regular"],subsets:["latin","cyrillic"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/badscript/v5/cRyUs0nJ2eMQFHwBsZNRXfesZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Baloo",category:"display",variants:["regular"],subsets:["latin","devanagari","latin-ext","vietnamese"],version:"v1",lastModified:"2016-06-20",files:{regular:"//fonts.gstatic.com/s/baloo/v1/uFkbq9GEAWUcT0XNeptJ1Q.ttf"}},{kind:"webfonts#webfont",family:"Baloo Bhai",category:"display",variants:["regular"],subsets:["latin","gujarati","latin-ext","vietnamese"],version:"v1",lastModified:"2016-06-20",files:{regular:"//fonts.gstatic.com/s/baloobhai/v1/FQvpC-04bh2QINuWAdnNW_esZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Baloo Bhaina",category:"display",variants:["regular"],subsets:["latin","latin-ext","vietnamese","oriya"],version:"v1",lastModified:"2016-08-19",files:{regular:"//fonts.gstatic.com/s/baloobhaina/v1/HxxbxOVf9WQem_hKo1MXSi3USBnSvpkopQaUR-2r7iU.ttf"}},{kind:"webfonts#webfont",family:"Baloo Chettan",category:"display",variants:["regular"],subsets:["latin","malayalam","latin-ext","vietnamese"],version:"v1",lastModified:"2016-08-19",files:{regular:"//fonts.gstatic.com/s/baloochettan/v1/ODsFofLybGVOJ90e_EwdFbyYXtM25qb63HASTPtoTFA.ttf"}},{kind:"webfonts#webfont",family:"Baloo Da",category:"display",variants:["regular"],subsets:["latin","bengali","latin-ext","vietnamese"],version:"v1",lastModified:"2016-06-20",files:{regular:"//fonts.gstatic.com/s/balooda/v1/RAJ0l2eJl_HDURCVxRE1iQ.ttf"}},{kind:"webfonts#webfont",family:"Baloo Paaji",category:"display",variants:["regular"],subsets:["latin","latin-ext","vietnamese","gurmukhi"],version:"v1",lastModified:"2016-08-19",files:{regular:"//fonts.gstatic.com/s/baloopaaji/v1/KeqAjVRzso6QUEfpMLQ-7KCWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Baloo Tamma",category:"display",variants:["regular"],subsets:["latin","kannada","latin-ext","vietnamese"],version:"v1",lastModified:"2016-08-19",files:{regular:"//fonts.gstatic.com/s/balootamma/v1/-FKAYy14SAfG8Gc6YAAaMaCWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Baloo Thambi",category:"display",variants:["regular"],subsets:["latin","tamil","latin-ext","vietnamese"],version:"v1",lastModified:"2016-06-20",files:{regular:"//fonts.gstatic.com/s/baloothambi/v1/qXK3dZIeU-O-HruaN5cK0y3USBnSvpkopQaUR-2r7iU.ttf"}},{kind:"webfonts#webfont",family:"Balthazar",category:"serif",variants:["regular"],subsets:["latin"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/balthazar/v5/WgbaSIs6dJAGXJ0qbz2xlw.ttf"}},{kind:"webfonts#webfont",family:"Bangers",category:"display",variants:["regular"],subsets:["latin"],version:"v8",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/bangers/v8/WAffdge5w99Xif-DLeqmcA.ttf"}},{kind:"webfonts#webfont",family:"Basic",category:"sans-serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v6",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/basic/v6/hNII2mS5Dxw5C0u_m3mXgA.ttf"}},{kind:"webfonts#webfont",family:"Baumans",category:"display",variants:["regular"],subsets:["latin"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/baumans/v5/o0bFdPW1H5kd5saqqOcoVg.ttf"}},{kind:"webfonts#webfont",family:"Belgrano",category:"serif",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/belgrano/v6/iq8DUa2s7g6WRCeMiFrmtQ.ttf"}},{kind:"webfonts#webfont",family:"Belleza",category:"sans-serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/belleza/v4/wchA3BWJlVqvIcSeNZyXew.ttf"}},{kind:"webfonts#webfont",family:"BenchNine",category:"sans-serif",variants:["300","regular","700"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{300:"//fonts.gstatic.com/s/benchnine/v4/ah9xtUy9wLQ3qnWa2p-piS3USBnSvpkopQaUR-2r7iU.ttf",700:"//fonts.gstatic.com/s/benchnine/v4/qZpi6ZVZg3L2RL_xoBLxWS3USBnSvpkopQaUR-2r7iU.ttf",regular:"//fonts.gstatic.com/s/benchnine/v4/h3OAlYqU3aOeNkuXgH2Q2w.ttf"}},{kind:"webfonts#webfont",family:"Bentham",category:"serif",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/bentham/v6/5-Mo8Fe7yg5tzV0GlQIuzQ.ttf"}},{kind:"webfonts#webfont",family:"Berkshire Swash",category:"handwriting",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/berkshireswash/v4/4RZJjVRPjYnC2939hKCAimKfbtsIjCZP_edQljX9gR0.ttf"}},{kind:"webfonts#webfont",family:"Bevan",category:"display",variants:["regular"],subsets:["latin"],version:"v7",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/bevan/v7/Rtg3zDsCeQiaJ_Qno22OJA.ttf"}},{kind:"webfonts#webfont",family:"Bigelow Rules",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/bigelowrules/v4/FEJCPLwo07FS-6SK6Al50X8f0n03UdmQgF_CLvNR2vg.ttf"}},{kind:"webfonts#webfont",family:"Bigshot One",category:"display",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/bigshotone/v6/wSyZjBNTWDQHnvWE2jt6j6CWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Bilbo",category:"handwriting",variants:["regular"],subsets:["latin","latin-ext"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/bilbo/v6/-ty-lPs5H7OIucWbnpFrkA.ttf"}},{kind:"webfonts#webfont",family:"Bilbo Swash Caps",category:"handwriting",variants:["regular"],subsets:["latin","latin-ext"],version:"v7",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/bilboswashcaps/v7/UB_-crLvhx-PwGKW1oosDmYeFSdnSpRYv5h9gpdlD1g.ttf"}},{kind:"webfonts#webfont",family:"BioRhyme",category:"serif",variants:["200","300","regular","700","800"],subsets:["latin","latin-ext"],version:"v1",lastModified:"2016-06-20",files:{200:"//fonts.gstatic.com/s/biorhyme/v1/bj-6g_1gJHCc9xQZtLWL36CWcynf_cDxXwCLxiixG1c.ttf",300:"//fonts.gstatic.com/s/biorhyme/v1/jWqHmLFlu30n7xp12uZd8qCWcynf_cDxXwCLxiixG1c.ttf",700:"//fonts.gstatic.com/s/biorhyme/v1/36KN76U1iKt5TFDm2lBz0KCWcynf_cDxXwCLxiixG1c.ttf",800:"//fonts.gstatic.com/s/biorhyme/v1/k6bYbUnESjLYnworWvSTL6CWcynf_cDxXwCLxiixG1c.ttf",regular:"//fonts.gstatic.com/s/biorhyme/v1/n6v5UkVPy_CjbP3fvsu1CA.ttf"}},{kind:"webfonts#webfont",family:"BioRhyme Expanded",category:"serif",variants:["200","300","regular","700","800"],subsets:["latin","latin-ext"],version:"v2",lastModified:"2016-06-20",files:{200:"//fonts.gstatic.com/s/biorhymeexpanded/v2/FKL4Vyxmq2vsiDrSOzz2sC7oxZzNh3ej55UHm-HviBI.ttf",300:"//fonts.gstatic.com/s/biorhymeexpanded/v2/FKL4Vyxmq2vsiDrSOzz2sFu4cYPPksG4MRjB5UiYPPw.ttf",700:"//fonts.gstatic.com/s/biorhymeexpanded/v2/FKL4Vyxmq2vsiDrSOzz2sMVisRVfPEfQ0jijOMQbr0Q.ttf",800:"//fonts.gstatic.com/s/biorhymeexpanded/v2/FKL4Vyxmq2vsiDrSOzz2sIv1v1eCT6RPbcYZYQ1T1CE.ttf",regular:"//fonts.gstatic.com/s/biorhymeexpanded/v2/hgBNpgjTRZzGmZxqN5OuVjndr_hij4ilAk2n1d1AhsE.ttf"}},{kind:"webfonts#webfont",family:"Biryani",category:"sans-serif",variants:["200","300","regular","600","700","800","900"],subsets:["latin","devanagari","latin-ext"],version:"v1",lastModified:"2016-05-31",files:{200:"//fonts.gstatic.com/s/biryani/v1/Xx38YzyTFF8n6mRS1Yd88vesZW2xOQ-xsNqO47m55DA.ttf",300:"//fonts.gstatic.com/s/biryani/v1/u-bneRbizmFMd0VQp5Ze6vesZW2xOQ-xsNqO47m55DA.ttf",600:"//fonts.gstatic.com/s/biryani/v1/1EdcPCVxBR2txgjrza6_YPesZW2xOQ-xsNqO47m55DA.ttf",700:"//fonts.gstatic.com/s/biryani/v1/qN2MTZ0j1sKSCtfXLB2dR_esZW2xOQ-xsNqO47m55DA.ttf",800:"//fonts.gstatic.com/s/biryani/v1/DJyziS7FEy441v22InYdevesZW2xOQ-xsNqO47m55DA.ttf",900:"//fonts.gstatic.com/s/biryani/v1/trcLkrIut0lM_PPSyQfAMPesZW2xOQ-xsNqO47m55DA.ttf",regular:"//fonts.gstatic.com/s/biryani/v1/W7bfR8-IY76Xz0QoB8L2xw.ttf"}},{kind:"webfonts#webfont",family:"Bitter",category:"serif",variants:["regular","italic","700"],subsets:["latin","latin-ext"],version:"v8",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/bitter/v8/4dUtr_4BvHuoRU35suyOAg.ttf",regular:"//fonts.gstatic.com/s/bitter/v8/w_BNdJvVZDRmqy5aSfB2kQ.ttf",italic:"//fonts.gstatic.com/s/bitter/v8/TC0FZEVzXQIGgzmRfKPZbA.ttf"}},{kind:"webfonts#webfont",family:"Black Ops One",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v7",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/blackopsone/v7/2XW-DmDsGbDLE372KrMW1Yjjx0o0jr6fNXxPgYh_a8Q.ttf"}},{kind:"webfonts#webfont",family:"Bonbon",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v7",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/bonbon/v7/IW3u1yzG1knyW5oz0s9_6Q.ttf"}},{kind:"webfonts#webfont",family:"Boogaloo",category:"display",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/boogaloo/v6/4Wu1tvFMoB80fSu8qLgQfQ.ttf"}},{kind:"webfonts#webfont",family:"Bowlby One",category:"display",variants:["regular"],subsets:["latin"],version:"v7",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/bowlbyone/v7/eKpHjHfjoxM2bX36YNucefesZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Bowlby One SC",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v8",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/bowlbyonesc/v8/8ZkeXftTuzKBtmxOYXoRedDkZCMxWJecxjvKm2f8MJw.ttf"}},{kind:"webfonts#webfont",family:"Brawler",category:"serif",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/brawler/v6/3gfSw6imxQnQxweVITqUrg.ttf"}},{kind:"webfonts#webfont",family:"Bree Serif",category:"serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/breeserif/v5/5h9crBVIrvZqgf34FHcnEfesZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Bubblegum Sans",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/bubblegumsans/v5/Y9iTUUNz6lbl6TrvV4iwsytnKWgpfO2iSkLzTz-AABg.ttf"}},{kind:"webfonts#webfont",family:"Bubbler One",category:"sans-serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/bubblerone/v4/e8S0qevkZAFaBybtt_SU4qCWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Buda",category:"display",variants:["300"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{300:"//fonts.gstatic.com/s/buda/v6/hLtAmNUmEMJH2yx7NGUjnA.ttf"}},{kind:"webfonts#webfont",family:"Buenard",category:"serif",variants:["regular","700"],subsets:["latin","latin-ext"],version:"v7",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/buenard/v7/yUlGE115dGr7O9w9FlP3UvesZW2xOQ-xsNqO47m55DA.ttf",regular:"//fonts.gstatic.com/s/buenard/v7/NSpMPGKAUgrLrlstYVvIXQ.ttf"}},{kind:"webfonts#webfont",family:"Butcherman",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v7",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/butcherman/v7/bxiJmD567sPBVpJsT0XR0vesZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Butterfly Kids",category:"handwriting",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/butterflykids/v4/J4NTF5M25htqeTffYImtlUZaDk62iwTBnbnvwSjZciA.ttf"}},{kind:"webfonts#webfont",family:"Cabin",category:"sans-serif",variants:["regular","italic","500","500italic","600","600italic","700","700italic"],subsets:["latin"],version:"v9",lastModified:"2016-05-31",files:{500:"//fonts.gstatic.com/s/cabin/v9/HgsCQ-k3_Z_uQ86aFolNBg.ttf",600:"//fonts.gstatic.com/s/cabin/v9/eUDAvKhBtmTCkeVBsFk34A.ttf",700:"//fonts.gstatic.com/s/cabin/v9/4EKhProuY1hq_WCAomq9Dg.ttf",regular:"//fonts.gstatic.com/s/cabin/v9/XeuAFYo2xAPHxZGBbQtHhA.ttf",italic:"//fonts.gstatic.com/s/cabin/v9/0tJ9k3DI5xC4GBgs1E_Jxw.ttf","500italic":"//fonts.gstatic.com/s/cabin/v9/50sjhrGE0njyO-7mGDhGP_esZW2xOQ-xsNqO47m55DA.ttf","600italic":"//fonts.gstatic.com/s/cabin/v9/sFQpQDBd3G2om0Nl5dD2CvesZW2xOQ-xsNqO47m55DA.ttf","700italic":"//fonts.gstatic.com/s/cabin/v9/K83QKi8MOKLEqj6bgZ7LrfesZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Cabin Condensed",category:"sans-serif",variants:["regular","500","600","700"],subsets:["latin"],version:"v8",lastModified:"2016-05-31",files:{500:"//fonts.gstatic.com/s/cabincondensed/v8/Ez4zJbsGr2BgXcNUWBVgEARL_-ABKXdjsJSPT0lc2Bk.ttf",600:"//fonts.gstatic.com/s/cabincondensed/v8/Ez4zJbsGr2BgXcNUWBVgELS5sSASxc8z4EQTQj7DCAI.ttf",700:"//fonts.gstatic.com/s/cabincondensed/v8/Ez4zJbsGr2BgXcNUWBVgEMAWgzcA047xWLixhLCofl8.ttf",regular:"//fonts.gstatic.com/s/cabincondensed/v8/B0txb0blf2N29WdYPJjMSiQPsWWoiv__AzYJ9Zzn9II.ttf"}},{kind:"webfonts#webfont",family:"Cabin Sketch",category:"display",variants:["regular","700"],subsets:["latin"],version:"v9",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/cabinsketch/v9/ki3SSN5HMOO0-IOLOj069ED2ttfZwueP-QU272T9-k4.ttf",regular:"//fonts.gstatic.com/s/cabinsketch/v9/d9fijO34zQajqQvl3YHRCS3USBnSvpkopQaUR-2r7iU.ttf"}},{kind:"webfonts#webfont",family:"Caesar Dressing",category:"display",variants:["regular"],subsets:["latin"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/caesardressing/v5/2T_WzBgE2Xz3FsyJMq34T9gR43u4FvCuJwIfF5Zxl6Y.ttf"}},{kind:"webfonts#webfont",family:"Cagliostro",category:"sans-serif",variants:["regular"],subsets:["latin"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/cagliostro/v5/i85oXbtdSatNEzss99bpj_esZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Cairo",category:"sans-serif",variants:["200","300","regular","600","700","900"],subsets:["latin","arabic","latin-ext"],version:"v1",lastModified:"2016-06-20",files:{200:"//fonts.gstatic.com/s/cairo/v1/9BU6Hrio9syG9zwo_CNPXg.ttf",300:"//fonts.gstatic.com/s/cairo/v1/mpy3SIEJVOIfFnVLujcRDg.ttf",600:"//fonts.gstatic.com/s/cairo/v1/Ct_3a0tcTEyNNSnuZKDd7g.ttf",700:"//fonts.gstatic.com/s/cairo/v1/ONxTSBYfmg-V5CkIwS_5gQ.ttf",900:"//fonts.gstatic.com/s/cairo/v1/Fm-hIVCp5OI5mO4Ec71jcw.ttf",regular:"//fonts.gstatic.com/s/cairo/v1/-tPnHq7mmAjcjJRSjsuZGA.ttf"}},{kind:"webfonts#webfont",family:"Calligraffitti",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v7",lastModified:"2016-05-20",files:{regular:"//fonts.gstatic.com/s/calligraffitti/v7/vLVN2Y-z65rVu1R7lWdvyDXz_orj3gX0_NzfmYulrko.ttf"}},{kind:"webfonts#webfont",family:"Cambay",category:"sans-serif",variants:["regular","italic","700","700italic"],subsets:["latin","devanagari","latin-ext"],version:"v1",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/cambay/v1/jw9niBxa04eEhnSwTWCEgw.ttf",regular:"//fonts.gstatic.com/s/cambay/v1/etU9Bab4VuhzS-OKsb1VXg.ttf",italic:"//fonts.gstatic.com/s/cambay/v1/ZEz9yNqpEOgejaw1rBhugQ.ttf","700italic":"//fonts.gstatic.com/s/cambay/v1/j-5v_uUr0NXTumWN0siOiaCWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Cambo",category:"serif",variants:["regular"],subsets:["latin"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/cambo/v5/PnwpRuTdkYCf8qk4ajmNRA.ttf"}},{kind:"webfonts#webfont",family:"Candal",category:"sans-serif",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/candal/v6/x44dDW28zK7GR1gGDBmj9g.ttf"}},{kind:"webfonts#webfont",family:"Cantarell",category:"sans-serif",variants:["regular","italic","700","700italic"],subsets:["latin"],version:"v6",lastModified:"2016-06-07",files:{700:"//fonts.gstatic.com/s/cantarell/v6/Yir4ZDsCn4g1kWopdg-ehC3USBnSvpkopQaUR-2r7iU.ttf",regular:"//fonts.gstatic.com/s/cantarell/v6/p5ydP_uWQ5lsFzcP_XVMEw.ttf",italic:"//fonts.gstatic.com/s/cantarell/v6/DTCLtOSqP-7dgM-V_xKUjqCWcynf_cDxXwCLxiixG1c.ttf","700italic":"//fonts.gstatic.com/s/cantarell/v6/weehrwMeZBXb0QyrWnRwFXe1Pd76Vl7zRpE7NLJQ7XU.ttf"}},{kind:"webfonts#webfont",family:"Cantata One",category:"serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v6",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/cantataone/v6/-a5FDvnBqaBMDaGgZYnEfqCWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Cantora One",category:"sans-serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/cantoraone/v5/oI-DS62RbHI8ZREjp73ehqCWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Capriola",category:"sans-serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/capriola/v4/JxXPlkdzWwF9Cwelbvi9jA.ttf"}},{kind:"webfonts#webfont",family:"Cardo",category:"serif",variants:["regular","italic","700"],subsets:["greek","latin","greek-ext","latin-ext"],version:"v8",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/cardo/v8/lQN30weILimrKvp8rZhF1w.ttf",regular:"//fonts.gstatic.com/s/cardo/v8/jbkF2_R0FKUEZTq5dwSknQ.ttf",italic:"//fonts.gstatic.com/s/cardo/v8/pcv4Np9tUkq0YREYUcEEJQ.ttf"}},{kind:"webfonts#webfont",family:"Carme",category:"sans-serif",variants:["regular"],subsets:["latin"],version:"v7",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/carme/v7/08E0NP1eRBEyFRUadmMfgA.ttf"}},{kind:"webfonts#webfont",family:"Carrois Gothic",category:"sans-serif",variants:["regular"],subsets:["latin"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/carroisgothic/v5/GCgb7bssGpwp7V5ynxmWy2x3d0cwUleGuRTmCYfCUaM.ttf"}},{kind:"webfonts#webfont",family:"Carrois Gothic SC",category:"sans-serif",variants:["regular"],subsets:["latin"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/carroisgothicsc/v5/bVp4nhwFIXU-r3LqUR8DSJTdPW1ioadGi2uRiKgJVCY.ttf"}},{kind:"webfonts#webfont",family:"Carter One",category:"display",variants:["regular"],subsets:["latin"],version:"v8",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/carterone/v8/5X_LFvdbcB7OBG7hBgZ7fPesZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Catamaran",category:"sans-serif",variants:["100","200","300","regular","500","600","700","800","900"],subsets:["latin","tamil","latin-ext"],version:"v1",lastModified:"2016-05-31",files:{100:"//fonts.gstatic.com/s/catamaran/v1/ilWHBiy0krUPdlmYxDuqC6CWcynf_cDxXwCLxiixG1c.ttf",200:"//fonts.gstatic.com/s/catamaran/v1/hFc-HKSsGk6M-psujei1MC3USBnSvpkopQaUR-2r7iU.ttf",300:"//fonts.gstatic.com/s/catamaran/v1/Aaag4ccR7Oh_4eai-jbrYC3USBnSvpkopQaUR-2r7iU.ttf",500:"//fonts.gstatic.com/s/catamaran/v1/83WSX3F86qsvj1Z4EI0tQi3USBnSvpkopQaUR-2r7iU.ttf",600:"//fonts.gstatic.com/s/catamaran/v1/a9PlHHnuBWiGGk0TwuFKTi3USBnSvpkopQaUR-2r7iU.ttf",700:"//fonts.gstatic.com/s/catamaran/v1/PpgVtUHUdnBZYNpnzGbScy3USBnSvpkopQaUR-2r7iU.ttf",800:"//fonts.gstatic.com/s/catamaran/v1/6VjB_uSfn3DZ93IQv58CmC3USBnSvpkopQaUR-2r7iU.ttf",900:"//fonts.gstatic.com/s/catamaran/v1/5ys9TqpQc9Q6gHqbSox6py3USBnSvpkopQaUR-2r7iU.ttf",regular:"//fonts.gstatic.com/s/catamaran/v1/MdNkM-DU8f6R-25Nxpr_XA.ttf"}},{kind:"webfonts#webfont",family:"Caudex",category:"serif",variants:["regular","italic","700","700italic"],subsets:["greek","latin","greek-ext","latin-ext"],version:"v6",lastModified:"2016-06-07",files:{700:"//fonts.gstatic.com/s/caudex/v6/PetCI4GyQ5Q3LiOzUu_mMg.ttf",regular:"//fonts.gstatic.com/s/caudex/v6/PWEexiHLDmQbn2b1OPZWfg.ttf",italic:"//fonts.gstatic.com/s/caudex/v6/XjMZF6XCisvV3qapD4oJdw.ttf","700italic":"//fonts.gstatic.com/s/caudex/v6/yT8YeHLjaJvQXlUEYOA8gqCWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Caveat",category:"handwriting",variants:["regular","700"],subsets:["latin","latin-ext"],version:"v2",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/caveat/v2/LkaFtQENGJry2eUMwGRTeA.ttf",regular:"//fonts.gstatic.com/s/caveat/v2/8I23b6N-6rRVbh-C_Vx3yA.ttf"}},{kind:"webfonts#webfont",family:"Caveat Brush",category:"handwriting",variants:["regular"],subsets:["latin","latin-ext"],version:"v2",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/caveatbrush/v2/_d7bgsk3hfC4DXnUEeYKsy3USBnSvpkopQaUR-2r7iU.ttf"}},{kind:"webfonts#webfont",family:"Cedarville Cursive",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v7",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/cedarvillecursive/v7/cuCe6HrkcqrWTWTUE7dw-41zwq9-z_Lf44CzRAA0d0Y.ttf"}},{kind:"webfonts#webfont",family:"Ceviche One",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v7",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/cevicheone/v7/WOaXIMBD4VYMy39MsobJhKCWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Changa",category:"sans-serif",variants:["200","300","regular","500","600","700","800"],subsets:["latin","arabic","latin-ext"],version:"v2",lastModified:"2016-06-20",files:{200:"//fonts.gstatic.com/s/changa/v2/QNWVD9FzsnhVmHzE7HryDQ.ttf",300:"//fonts.gstatic.com/s/changa/v2/OKZ0H1bMg3M9EZMVzgQ9fg.ttf",500:"//fonts.gstatic.com/s/changa/v2/KrXcHYf9ILB8aFWCj0Vfxg.ttf",600:"//fonts.gstatic.com/s/changa/v2/6uCpqxwcsYkfV0M8Ls6WPA.ttf",700:"//fonts.gstatic.com/s/changa/v2/vAXzeaPkdpxlejFN7h0ibw.ttf",800:"//fonts.gstatic.com/s/changa/v2/H3IsiH2Fx0Pc4_OU4HSpng.ttf",regular:"//fonts.gstatic.com/s/changa/v2/7_e8qktkj6uKM0DamZJY9Q.ttf"}},{kind:"webfonts#webfont",family:"Changa One",category:"display",variants:["regular","italic"],subsets:["latin"],version:"v9",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/changaone/v9/dr4qjce4W3kxFrZRkVD87fesZW2xOQ-xsNqO47m55DA.ttf",italic:"//fonts.gstatic.com/s/changaone/v9/wJVQlUs1lAZel-WdTo2U9y3USBnSvpkopQaUR-2r7iU.ttf"}},{kind:"webfonts#webfont",family:"Chango",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/chango/v5/3W3AeMMtRTH08t5qLOjBmg.ttf"}},{kind:"webfonts#webfont",family:"Chathura",category:"sans-serif",variants:["100","300","regular","700","800"],subsets:["latin","telugu"],version:"v1",lastModified:"2016-06-20",files:{100:"//fonts.gstatic.com/s/chathura/v1/7tUse0wFXIOSPewsdeNXPvesZW2xOQ-xsNqO47m55DA.ttf",300:"//fonts.gstatic.com/s/chathura/v1/Gmhr6ULHnPDt9spOZrHOfKCWcynf_cDxXwCLxiixG1c.ttf",700:"//fonts.gstatic.com/s/chathura/v1/BO9LvNAseMQ3n1tKWH-uTKCWcynf_cDxXwCLxiixG1c.ttf",800:"//fonts.gstatic.com/s/chathura/v1/prh_X_5NSsBQefIdGi5B6KCWcynf_cDxXwCLxiixG1c.ttf",regular:"//fonts.gstatic.com/s/chathura/v1/7hRNO-_zjRopkcP2n1rr8g.ttf"}},{kind:"webfonts#webfont",family:"Chau Philomene One",category:"sans-serif",variants:["regular","italic"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/chauphilomeneone/v5/KKc5egCL-a2fFVoOA2x6tBFi5dxgSTdxqnMJgWkBJcg.ttf",italic:"//fonts.gstatic.com/s/chauphilomeneone/v5/eJj1PY_iN4KiIuyOvtMHJP6uyLkxyiC4WcYA74sfquE.ttf"}},{kind:"webfonts#webfont",family:"Chela One",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/chelaone/v5/h5O0dEnpnIq6jQnWxZybrA.ttf"}},{kind:"webfonts#webfont",family:"Chelsea Market",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/chelseamarket/v4/qSdzwh2A4BbNemy78sJLfAAI1i8fIftCBXsBF2v9UMI.ttf"}},{kind:"webfonts#webfont",family:"Cherry Cream Soda",category:"display",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-20",files:{regular:"//fonts.gstatic.com/s/cherrycreamsoda/v6/OrD-AUnFcZeeKa6F_c0_WxOiHiuAPYA9ry3O1RG2XIU.ttf"}},{kind:"webfonts#webfont",family:"Cherry Swash",category:"display",variants:["regular","700"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-06-07",files:{700:"//fonts.gstatic.com/s/cherryswash/v4/-CfyMyQqfucZPQNB0nvYyED2ttfZwueP-QU272T9-k4.ttf",regular:"//fonts.gstatic.com/s/cherryswash/v4/HqOk7C7J1TZ5i3L-ejF0vi3USBnSvpkopQaUR-2r7iU.ttf"}},{kind:"webfonts#webfont",family:"Chewy",category:"display",variants:["regular"],subsets:["latin"],version:"v7",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/chewy/v7/hcDN5cvQdIu6Bx4mg_TSyw.ttf"}},{kind:"webfonts#webfont",family:"Chicle",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/chicle/v5/xg4q57Ut9ZmyFwLp51JLgg.ttf"}},{kind:"webfonts#webfont",family:"Chivo",category:"sans-serif",variants:["regular","italic","900","900italic"],subsets:["latin"],version:"v7",lastModified:"2016-05-31",files:{900:"//fonts.gstatic.com/s/chivo/v7/JAdkiWd46QCW4vOsj3dzTA.ttf",regular:"//fonts.gstatic.com/s/chivo/v7/L88PEuzS9eRfHRZhAPhZyw.ttf",italic:"//fonts.gstatic.com/s/chivo/v7/Oe3-Q-a2kBzPnhHck_baMg.ttf","900italic":"//fonts.gstatic.com/s/chivo/v7/LoszYnE86q2wJEOjCigBQ_esZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Chonburi",category:"display",variants:["regular"],subsets:["latin","thai","latin-ext","vietnamese"],version:"v1",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/chonburi/v1/jd9PfbW0x_8Myt_XeUxvSQ.ttf"}},{kind:"webfonts#webfont",family:"Cinzel",category:"serif",variants:["regular","700","900"],subsets:["latin"],version:"v4",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/cinzel/v4/nYcFQ6_3pf_6YDrOFjBR8Q.ttf",900:"//fonts.gstatic.com/s/cinzel/v4/FTBj72ozM2cEOSxiVsRb3A.ttf",regular:"//fonts.gstatic.com/s/cinzel/v4/GF7dy_Nc-a6EaHYSyGd-EA.ttf"}},{kind:"webfonts#webfont",family:"Cinzel Decorative",category:"display",variants:["regular","700","900"],subsets:["latin"],version:"v4",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/cinzeldecorative/v4/pXhIVnhFtL_B9Vb1wq2F95-YYVDmZkJErg0zgx9XuZI.ttf",900:"//fonts.gstatic.com/s/cinzeldecorative/v4/pXhIVnhFtL_B9Vb1wq2F97Khqbv0zQZa0g-9HOXAalU.ttf",regular:"//fonts.gstatic.com/s/cinzeldecorative/v4/fmgK7oaJJIXAkhd9798yQgT5USbJx2F82lQbogPy2bY.ttf"}},{kind:"webfonts#webfont",family:"Clicker Script",category:"handwriting",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/clickerscript/v4/Zupmk8XwADjufGxWB9KThBnpV0hQCek3EmWnCPrvGRM.ttf"}},{kind:"webfonts#webfont",family:"Coda",category:"display",variants:["regular","800"],subsets:["latin","latin-ext"],version:"v11",lastModified:"2016-05-31",files:{800:"//fonts.gstatic.com/s/coda/v11/6ZIw0sbALY0KTMWllZB3hQ.ttf",regular:"//fonts.gstatic.com/s/coda/v11/yHDvulhg-P-p2KRgRrnUYw.ttf"}},{kind:"webfonts#webfont",family:"Coda Caption",category:"sans-serif",variants:["800"],subsets:["latin","latin-ext"],version:"v9",lastModified:"2016-05-31",files:{800:"//fonts.gstatic.com/s/codacaption/v9/YDl6urZh-DUFhiMBTgAnz_qsay_1ZmRGmC8pVRdIfAg.ttf"}},{kind:"webfonts#webfont",family:"Codystar",category:"display",variants:["300","regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{300:"//fonts.gstatic.com/s/codystar/v4/EVaUzfJkcb8Zqx9kzQLXqqCWcynf_cDxXwCLxiixG1c.ttf",regular:"//fonts.gstatic.com/s/codystar/v4/EN-CPFKYowSI7SuR7-0cZA.ttf"}},{kind:"webfonts#webfont",family:"Coiny",category:"display",variants:["regular"],subsets:["latin","tamil","latin-ext","vietnamese"],version:"v1",lastModified:"2016-06-20",files:{regular:"//fonts.gstatic.com/s/coiny/v1/B-pC9lRxssd2RDK37Rdekw.ttf"}},{kind:"webfonts#webfont",family:"Combo",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/combo/v5/Nab98KjR3JZSSPGtzLyXNw.ttf"}},{kind:"webfonts#webfont",family:"Comfortaa",category:"display",variants:["300","regular","700"],subsets:["greek","latin","cyrillic","latin-ext","cyrillic-ext"],version:"v7",lastModified:"2016-06-07",files:{300:"//fonts.gstatic.com/s/comfortaa/v7/r_tUZNl0G8xCoOmp_JkSCi3USBnSvpkopQaUR-2r7iU.ttf",700:"//fonts.gstatic.com/s/comfortaa/v7/fND5XPYKrF2tQDwwfWZJIy3USBnSvpkopQaUR-2r7iU.ttf",regular:"//fonts.gstatic.com/s/comfortaa/v7/lZx6C1VViPgSOhCBUP7hXA.ttf"}},{kind:"webfonts#webfont",family:"Coming Soon",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-20",files:{regular:"//fonts.gstatic.com/s/comingsoon/v6/Yz2z3IAe2HSQAOWsSG8COKCWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Concert One",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v7",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/concertone/v7/N5IWCIGhUNdPZn_efTxKN6CWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Condiment",category:"handwriting",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/condiment/v4/CstmdiPpgFSV0FUNL5LrJA.ttf"}},{kind:"webfonts#webfont",family:"Contrail One",category:"display",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/contrailone/v6/b41KxjgiyqX-hkggANDU6C3USBnSvpkopQaUR-2r7iU.ttf"}},{kind:"webfonts#webfont",family:"Convergence",category:"sans-serif",variants:["regular"],subsets:["latin"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/convergence/v5/eykrGz1NN_YpQmkAZjW-qKCWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Cookie",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v7",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/cookie/v7/HxeUC62y_YdDbiFlze357A.ttf"}},{kind:"webfonts#webfont",family:"Copse",category:"serif",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/copse/v6/wikLrtPGjZDvZ5w2i5HLWg.ttf"}},{kind:"webfonts#webfont",family:"Corben",category:"display",variants:["regular","700"],subsets:["latin","latin-ext"],version:"v9",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/corben/v9/lirJaFSQWdGQuV--fksg5g.ttf",regular:"//fonts.gstatic.com/s/corben/v9/tTysMZkt-j8Y5yhkgsoajQ.ttf"}},{kind:"webfonts#webfont",family:"Cormorant",category:"serif",variants:["300","300italic","regular","italic","500","500italic","600","600italic","700","700italic"],subsets:["latin","cyrillic","latin-ext","vietnamese"],version:"v1",lastModified:"2016-06-20",files:{300:"//fonts.gstatic.com/s/cormorant/v1/diggKPcUerIA8GQWRVxsVS3USBnSvpkopQaUR-2r7iU.ttf",500:"//fonts.gstatic.com/s/cormorant/v1/lwoiMb1lzDf49h802vpRUy3USBnSvpkopQaUR-2r7iU.ttf",600:"//fonts.gstatic.com/s/cormorant/v1/LKEtp8XimHLN0gSYqnV9qy3USBnSvpkopQaUR-2r7iU.ttf",700:"//fonts.gstatic.com/s/cormorant/v1/vOi7JV5F3JmPzXDgUqUwgS3USBnSvpkopQaUR-2r7iU.ttf","300italic":"//fonts.gstatic.com/s/cormorant/v1/UydD9tmk-DfLnEFRr_bBZy9-WlPSxbfiI49GsXo3q0g.ttf",regular:"//fonts.gstatic.com/s/cormorant/v1/9vWr5LgrNEgvhv1P3z9uuQ.ttf",italic:"//fonts.gstatic.com/s/cormorant/v1/zzcH3j00ejnIc8jicdcz6KCWcynf_cDxXwCLxiixG1c.ttf","500italic":"//fonts.gstatic.com/s/cormorant/v1/UydD9tmk-DfLnEFRr_bBZ8CNfqCYlB_eIx7H1TVXe60.ttf","600italic":"//fonts.gstatic.com/s/cormorant/v1/UydD9tmk-DfLnEFRr_bBZ5Z7xm-Bj30Bj2KNdXDzSZg.ttf","700italic":"//fonts.gstatic.com/s/cormorant/v1/UydD9tmk-DfLnEFRr_bBZ3e1Pd76Vl7zRpE7NLJQ7XU.ttf"}},{kind:"webfonts#webfont",family:"Cormorant Garamond",category:"serif",variants:["300","300italic","regular","italic","500","500italic","600","600italic","700","700italic"],subsets:["latin","cyrillic","latin-ext","vietnamese"],version:"v1",lastModified:"2016-06-20",files:{300:"//fonts.gstatic.com/s/cormorantgaramond/v1/iEjm9hVxcattz37Y8gZwVXDeRRUpi2fYbqcTC9PsYaU.ttf",500:"//fonts.gstatic.com/s/cormorantgaramond/v1/iEjm9hVxcattz37Y8gZwVSkwnhSVYGQY4MSUB3uw374.ttf",600:"//fonts.gstatic.com/s/cormorantgaramond/v1/iEjm9hVxcattz37Y8gZwVVc2xdGA7R8efE0K6NwSoyI.ttf",700:"//fonts.gstatic.com/s/cormorantgaramond/v1/iEjm9hVxcattz37Y8gZwVdNg01MkafbqNYmDx8wt95c.ttf","300italic":"//fonts.gstatic.com/s/cormorantgaramond/v1/zuqx3k1yUEl3Eavo-ZPEAjZXe39LdglsIzDOvKnCCso.ttf",regular:"//fonts.gstatic.com/s/cormorantgaramond/v1/EI2hhCO6kSfLAy-Dpd8fd7_BES7rBA-D9Lo3vCx9yHc.ttf",italic:"//fonts.gstatic.com/s/cormorantgaramond/v1/eGTlzchVxDKKvK6d7drzlkVlEttMzBRhK_wsRQ4MqEE.ttf","500italic":"//fonts.gstatic.com/s/cormorantgaramond/v1/zuqx3k1yUEl3Eavo-ZPEAq8qrY1CcUgPLrA3ytfr3SY.ttf","600italic":"//fonts.gstatic.com/s/cormorantgaramond/v1/zuqx3k1yUEl3Eavo-ZPEAqms9Rm_p2hhD4xhClOGPEw.ttf","700italic":"//fonts.gstatic.com/s/cormorantgaramond/v1/zuqx3k1yUEl3Eavo-ZPEAvEntfLz8TC-DlAIEJQEwCA.ttf"}},{kind:"webfonts#webfont",family:"Cormorant Infant",category:"serif",variants:["300","300italic","regular","italic","500","500italic","600","600italic","700","700italic"],subsets:["latin","cyrillic","latin-ext","vietnamese"],version:"v1",lastModified:"2016-06-20",files:{300:"//fonts.gstatic.com/s/cormorantinfant/v1/MYRpw6pQIf0XStsiZXQWA_alucuYFvoGqpCMGloCN2Y.ttf",500:"//fonts.gstatic.com/s/cormorantinfant/v1/MYRpw6pQIf0XStsiZXQWA4PJQ8Vh-2Qw35Pq7cVYzdo.ttf",600:"//fonts.gstatic.com/s/cormorantinfant/v1/MYRpw6pQIf0XStsiZXQWA9G0tNuOpbNMRdNl4S5e-n0.ttf",700:"//fonts.gstatic.com/s/cormorantinfant/v1/MYRpw6pQIf0XStsiZXQWAx-3ZynwDtU_450Ho62jf_I.ttf","300italic":"//fonts.gstatic.com/s/cormorantinfant/v1/PK34LKusK6SSQFR2m5-LZgNCjGMFnYSoo4kW2wZNowE.ttf",regular:"//fonts.gstatic.com/s/cormorantinfant/v1/q5F0I_a42y_qtMoOtqdjagGlf-pqPDOheSBqZOVpkRo.ttf",italic:"//fonts.gstatic.com/s/cormorantinfant/v1/U6OamtMgLoVs0zd53Z1pNpbq6_N3pcDBvA-VsecMIAA.ttf","500italic":"//fonts.gstatic.com/s/cormorantinfant/v1/PK34LKusK6SSQFR2m5-LZq9x-au7fLBTFpfuT52_G64.ttf","600italic":"//fonts.gstatic.com/s/cormorantinfant/v1/PK34LKusK6SSQFR2m5-LZkZbdnTqrL_1WMEFjxg0OwY.ttf","700italic":"//fonts.gstatic.com/s/cormorantinfant/v1/PK34LKusK6SSQFR2m5-LZmKEEmz9BBHY1o7RrRAiUXQ.ttf"}},{kind:"webfonts#webfont",family:"Cormorant SC",category:"serif",variants:["300","regular","500","600","700"],subsets:["latin","cyrillic","latin-ext","vietnamese"],version:"v1",lastModified:"2016-06-20",files:{300:"//fonts.gstatic.com/s/cormorantsc/v1/CCo4fI9EYzhUJcvojQ9Em6cQoVhARpoaILP7amxE_8g.ttf",500:"//fonts.gstatic.com/s/cormorantsc/v1/CCo4fI9EYzhUJcvojQ9Em5MQuUSAwdHsY8ov_6tk1oA.ttf",600:"//fonts.gstatic.com/s/cormorantsc/v1/CCo4fI9EYzhUJcvojQ9Em2v8CylhIUtwUiYO7Z2wXbE.ttf",700:"//fonts.gstatic.com/s/cormorantsc/v1/CCo4fI9EYzhUJcvojQ9Em0D2ttfZwueP-QU272T9-k4.ttf",regular:"//fonts.gstatic.com/s/cormorantsc/v1/o2HxNCgvhmwJdltu-68tzC3USBnSvpkopQaUR-2r7iU.ttf"}},{kind:"webfonts#webfont",family:"Cormorant Unicase",category:"serif",variants:["300","regular","500","600","700"],subsets:["latin","cyrillic","latin-ext","vietnamese"],version:"v1",lastModified:"2016-06-20",files:{300:"//fonts.gstatic.com/s/cormorantunicase/v1/-0mwRHhjEGfrz-UDHJ_78TyAYAK5JX1-zBpfFXu9t3Y.ttf",500:"//fonts.gstatic.com/s/cormorantunicase/v1/-0mwRHhjEGfrz-UDHJ_78WActzpz5sLElWWJpZBcHK4.ttf",600:"//fonts.gstatic.com/s/cormorantunicase/v1/-0mwRHhjEGfrz-UDHJ_78U0bQT13XmwBbvkXy6Yb64Y.ttf",700:"//fonts.gstatic.com/s/cormorantunicase/v1/-0mwRHhjEGfrz-UDHJ_78Z5CFeQBXku3ADXbkP2V7W8.ttf",regular:"//fonts.gstatic.com/s/cormorantunicase/v1/THO7JMNV6qRoZlg7dU5RUz01TLsHlMvD1uPU3gXOh9s.ttf"}},{kind:"webfonts#webfont",family:"Cormorant Upright",category:"serif",variants:["300","regular","500","600","700"],subsets:["latin","latin-ext","vietnamese"],version:"v1",lastModified:"2016-06-20",files:{300:"//fonts.gstatic.com/s/cormorantupright/v1/PwJT_lCdbLUyVq-tARIPhjCfCvaSiUMfec2BKBTMAaw.ttf",500:"//fonts.gstatic.com/s/cormorantupright/v1/PwJT_lCdbLUyVq-tARIPhiWhx5Kr-bzfZXhgF-AnSvk.ttf",600:"//fonts.gstatic.com/s/cormorantupright/v1/PwJT_lCdbLUyVq-tARIPhuDigFx2V_wQ4SOTZdg5a2s.ttf",700:"//fonts.gstatic.com/s/cormorantupright/v1/PwJT_lCdbLUyVq-tARIPhuO6SP7lRr11seyd3AkK37Q.ttf",regular:"//fonts.gstatic.com/s/cormorantupright/v1/0n68kajKjTOJn9EPQkf1a-ojtTJJf2MtgkoRSid3NcM.ttf"}},{kind:"webfonts#webfont",family:"Courgette",category:"handwriting",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/courgette/v4/2YO0EYtyE9HUPLZprahpZA.ttf"}},{kind:"webfonts#webfont",family:"Cousine",category:"monospace",variants:["regular","italic","700","700italic"],subsets:["greek","latin","greek-ext","cyrillic","hebrew","latin-ext","vietnamese","cyrillic-ext"],version:"v10",lastModified:"2016-06-07",files:{700:"//fonts.gstatic.com/s/cousine/v10/FXEOnNUcCzhdtoBxiq-lovesZW2xOQ-xsNqO47m55DA.ttf",regular:"//fonts.gstatic.com/s/cousine/v10/GYX4bPXObJNJo63QJEUnLg.ttf",italic:"//fonts.gstatic.com/s/cousine/v10/1WtIuajLoo8vjVwsrZ3eOg.ttf","700italic":"//fonts.gstatic.com/s/cousine/v10/y_AZ5Sz-FwL1lux2xLSTZS3USBnSvpkopQaUR-2r7iU.ttf"}},{kind:"webfonts#webfont",family:"Coustard",category:"serif",variants:["regular","900"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{900:"//fonts.gstatic.com/s/coustard/v6/W02OCWO6OfMUHz6aVyegQ6CWcynf_cDxXwCLxiixG1c.ttf",regular:"//fonts.gstatic.com/s/coustard/v6/iO2Rs5PmqAEAXoU3SkMVBg.ttf"}},{kind:"webfonts#webfont",family:"Covered By Your Grace",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/coveredbyyourgrace/v6/6ozZp4BPlrbDRWPe3EBGA6CVUMdvnk-GcAiZQrX9Gek.ttf"}},{kind:"webfonts#webfont",family:"Crafty Girls",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v5",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/craftygirls/v5/0Sv8UWFFdhQmesHL32H8oy3USBnSvpkopQaUR-2r7iU.ttf"}},{kind:"webfonts#webfont",family:"Creepster",category:"display",variants:["regular"],subsets:["latin"],version:"v5",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/creepster/v5/0vdr5kWJ6aJlOg5JvxnXzQ.ttf"}},{kind:"webfonts#webfont",family:"Crete Round",category:"serif",variants:["regular","italic"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/creteround/v5/B8EwN421qqOCCT8vOH4wJ6CWcynf_cDxXwCLxiixG1c.ttf",italic:"//fonts.gstatic.com/s/creteround/v5/5xAt7XK2vkUdjhGtt98unUeOrDcLawS7-ssYqLr2Xp4.ttf"}},{kind:"webfonts#webfont",family:"Crimson Text",category:"serif",variants:["regular","italic","600","600italic","700","700italic"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{600:"//fonts.gstatic.com/s/crimsontext/v6/rEy5tGc5HdXy56Xvd4f3I2v8CylhIUtwUiYO7Z2wXbE.ttf",700:"//fonts.gstatic.com/s/crimsontext/v6/rEy5tGc5HdXy56Xvd4f3I0D2ttfZwueP-QU272T9-k4.ttf",regular:"//fonts.gstatic.com/s/crimsontext/v6/3IFMwfRa07i-auYR-B-zNS3USBnSvpkopQaUR-2r7iU.ttf",italic:"//fonts.gstatic.com/s/crimsontext/v6/a5QZnvmn5amyNI-t2BMkWPMZXuCXbOrAvx5R0IT5Oyo.ttf","600italic":"//fonts.gstatic.com/s/crimsontext/v6/4j4TR-EfnvCt43InYpUNDIR-5-urNOGAobhAyctHvW8.ttf","700italic":"//fonts.gstatic.com/s/crimsontext/v6/4j4TR-EfnvCt43InYpUNDPAs9-1nE9qOqhChW0m4nDE.ttf"}},{kind:"webfonts#webfont",family:"Croissant One",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/croissantone/v4/mPjsOObnC77fp1cvZlOfIYjjx0o0jr6fNXxPgYh_a8Q.ttf"}},{kind:"webfonts#webfont",family:"Crushed",category:"display",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-20",files:{regular:"//fonts.gstatic.com/s/crushed/v6/aHwSejs3Kt0Lg95u7j32jA.ttf"}},{kind:"webfonts#webfont",family:"Cuprum",category:"sans-serif",variants:["regular","italic","700","700italic"],subsets:["latin","cyrillic","latin-ext"],version:"v7",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/cuprum/v7/6tl3_FkDeXSD72oEHuJh4w.ttf",regular:"//fonts.gstatic.com/s/cuprum/v7/JgXs0F_UiaEdAS74msmFNg.ttf",italic:"//fonts.gstatic.com/s/cuprum/v7/cLEz0KV6OxInnktSzpk58g.ttf","700italic":"//fonts.gstatic.com/s/cuprum/v7/bnkXaBfoYvaJ75axRPSwVKCWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Cutive",category:"serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v8",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/cutive/v8/G2bW-ImyOCwKxBkLyz39YQ.ttf"}},{kind:"webfonts#webfont",family:"Cutive Mono",category:"monospace",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/cutivemono/v4/ncWQtFVKcSs8OW798v30k6CWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Damion",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/damion/v6/13XtECwKxhD_VrOqXL4SiA.ttf"}},{kind:"webfonts#webfont",family:"Dancing Script",category:"handwriting",variants:["regular","700"],subsets:["latin"],version:"v7",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/dancingscript/v7/KGBfwabt0ZRLA5W1ywjowb_dAmXiKjTPGCuO6G2MbfA.ttf",regular:"//fonts.gstatic.com/s/dancingscript/v7/DK0eTGXiZjN6yA8zAEyM2RnpV0hQCek3EmWnCPrvGRM.ttf"}},{kind:"webfonts#webfont",family:"David Libre",category:"serif",variants:["regular","500","700"],subsets:["latin","hebrew","latin-ext","vietnamese"],version:"v1",lastModified:"2016-06-20",files:{500:"//fonts.gstatic.com/s/davidlibre/v1/ea-623K8OFNeGhfSzdpmysCNfqCYlB_eIx7H1TVXe60.ttf",700:"//fonts.gstatic.com/s/davidlibre/v1/ea-623K8OFNeGhfSzdpmyne1Pd76Vl7zRpE7NLJQ7XU.ttf",regular:"//fonts.gstatic.com/s/davidlibre/v1/Fp_YuX4CP0pzlSUtACdOo6CWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Dawning of a New Day",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v7",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/dawningofanewday/v7/JiDsRhiKZt8uz3NJ5xA06gXLnohmOYWQZqo_sW8GLTk.ttf"}},{kind:"webfonts#webfont",family:"Days One",category:"sans-serif",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/daysone/v6/kzwZjNhc1iabMsrc_hKBIA.ttf"}},{kind:"webfonts#webfont",family:"Dekko",category:"handwriting",variants:["regular"],subsets:["latin","devanagari","latin-ext"],version:"v3",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/dekko/v3/AKtgABKC1rUxgIgS-bpojw.ttf"}},{kind:"webfonts#webfont",family:"Delius",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/delius/v6/TQA163qafki2-gV-B6F_ag.ttf"}},{kind:"webfonts#webfont",family:"Delius Swash Caps",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v8",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/deliusswashcaps/v8/uXyrEUnoWApxIOICunRq7yIrxb5zDVgU2N3VzXm7zq4.ttf"}},{kind:"webfonts#webfont",family:"Delius Unicase",category:"handwriting",variants:["regular","700"],subsets:["latin"],version:"v9",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/deliusunicase/v9/7FTMTITcb4dxUp99FAdTqNy5weKXdcrx-wE0cgECMq8.ttf",regular:"//fonts.gstatic.com/s/deliusunicase/v9/b2sKujV3Q48RV2PQ0k1vqu6rPKfVZo7L2bERcf0BDns.ttf"}},{kind:"webfonts#webfont",family:"Della Respira",category:"serif",variants:["regular"],subsets:["latin"],version:"v4",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/dellarespira/v4/F4E6Lo_IZ6L9AJCcbqtDVeDcg5akpSnIcsPhLOFv7l8.ttf"}},{kind:"webfonts#webfont",family:"Denk One",category:"sans-serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/denkone/v4/TdXOeA4eA_hEx4W8Sh9wPw.ttf"}},{kind:"webfonts#webfont",family:"Devonshire",category:"handwriting",variants:["regular"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/devonshire/v5/I3ct_2t12SYizP8ZC-KFi_esZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Dhurjati",category:"sans-serif",variants:["regular"],subsets:["latin","telugu"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/dhurjati/v4/uV6jO5e2iFMbGB0z79Cy5g.ttf"}},{kind:"webfonts#webfont",family:"Didact Gothic",category:"sans-serif",variants:["regular"],subsets:["greek","latin","greek-ext","cyrillic","latin-ext","cyrillic-ext"],version:"v7",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/didactgothic/v7/v8_72sD3DYMKyM0dn3LtWotBLojGU5Qdl8-5NL4v70w.ttf"}},{kind:"webfonts#webfont",family:"Diplomata",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v8",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/diplomata/v8/u-ByBiKgN6rTMA36H3kcKg.ttf"}},{kind:"webfonts#webfont",family:"Diplomata SC",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/diplomatasc/v5/JdVwAwfE1a_pahXjk5qpNi3USBnSvpkopQaUR-2r7iU.ttf"}},{kind:"webfonts#webfont",family:"Domine",category:"serif",variants:["regular","700"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/domine/v4/phBcG1ZbQFxUIt18hPVxnw.ttf",regular:"//fonts.gstatic.com/s/domine/v4/wfVIgamVFjMNQAEWurCiHA.ttf"}},{kind:"webfonts#webfont",family:"Donegal One",category:"serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/donegalone/v4/6kN4-fDxz7T9s5U61HwfF6CWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Doppio One",category:"sans-serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/doppioone/v4/WHZ3HJQotpk_4aSMNBo_t_esZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Dorsa",category:"sans-serif",variants:["regular"],subsets:["latin"],version:"v7",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/dorsa/v7/wCc3cUe6XrmG2LQE6GlIrw.ttf"}},{kind:"webfonts#webfont",family:"Dosis",category:"sans-serif",variants:["200","300","regular","500","600","700","800"],subsets:["latin","latin-ext"],version:"v6",lastModified:"2016-05-31",files:{200:"//fonts.gstatic.com/s/dosis/v6/ztftab0r6hcd7AeurUGrSQ.ttf",300:"//fonts.gstatic.com/s/dosis/v6/awIB6L0h5mb0plIKorXmuA.ttf",500:"//fonts.gstatic.com/s/dosis/v6/ruEXDOFMxDPGnjCBKRqdAQ.ttf",600:"//fonts.gstatic.com/s/dosis/v6/KNAswRNwm3tfONddYyidxg.ttf",700:"//fonts.gstatic.com/s/dosis/v6/AEEAj0ONidK8NQQMBBlSig.ttf",800:"//fonts.gstatic.com/s/dosis/v6/nlrKd8E69vvUU39XGsvR7Q.ttf",regular:"//fonts.gstatic.com/s/dosis/v6/rJRlixu-w0JZ1MyhJpao_Q.ttf"}},{kind:"webfonts#webfont",family:"Dr Sugiyama",category:"handwriting",variants:["regular"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/drsugiyama/v5/S5Yx3MIckgoyHhhS4C9Tv6CWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Droid Sans",category:"sans-serif",variants:["regular","700"],subsets:["latin"],version:"v6",lastModified:"2016-05-20",files:{700:"//fonts.gstatic.com/s/droidsans/v6/EFpQQyG9GqCrobXxL-KRMQJKKGfqHaYFsRG-T3ceEVo.ttf",regular:"//fonts.gstatic.com/s/droidsans/v6/rS9BT6-asrfjpkcV3DXf__esZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Droid Sans Mono",category:"monospace",variants:["regular"],subsets:["latin"],version:"v7",lastModified:"2016-05-20",files:{regular:"//fonts.gstatic.com/s/droidsansmono/v7/ns-m2xQYezAtqh7ai59hJcwD6PD0c3_abh9zHKQtbGU.ttf"}},{kind:"webfonts#webfont",family:"Droid Serif",category:"serif",variants:["regular","italic","700","700italic"],subsets:["latin"],version:"v6",lastModified:"2016-06-07",files:{700:"//fonts.gstatic.com/s/droidserif/v6/QQt14e8dY39u-eYBZmppwXe1Pd76Vl7zRpE7NLJQ7XU.ttf",regular:"//fonts.gstatic.com/s/droidserif/v6/DgAtPy6rIVa2Zx3Xh9KaNaCWcynf_cDxXwCLxiixG1c.ttf",italic:"//fonts.gstatic.com/s/droidserif/v6/cj2hUnSRBhwmSPr9kS5890eOrDcLawS7-ssYqLr2Xp4.ttf","700italic":"//fonts.gstatic.com/s/droidserif/v6/c92rD_x0V1LslSFt3-QEps_zJjSACmk0BRPxQqhnNLU.ttf"}},{kind:"webfonts#webfont",family:"Duru Sans",category:"sans-serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v9",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/durusans/v9/xn7iYH8xwmSyTvEV_HOxTw.ttf"}},{kind:"webfonts#webfont",family:"Dynalight",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/dynalight/v5/-CWsIe8OUDWTIHjSAh41kA.ttf"}},{kind:"webfonts#webfont",family:"EB Garamond",category:"serif",variants:["regular"],subsets:["latin","cyrillic","latin-ext","vietnamese","cyrillic-ext"],version:"v7",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/ebgaramond/v7/CDR0kuiFK7I1OZ2hSdR7G6CWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Eagle Lake",category:"handwriting",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/eaglelake/v4/ZKlYin7caemhx9eSg6RvPfesZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Eater",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/eater/v5/gm6f3OmYEdbs3lPQtUfBkA.ttf"}},{kind:"webfonts#webfont",family:"Economica",category:"sans-serif",variants:["regular","italic","700","700italic"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/economica/v4/UK4l2VEpwjv3gdcwbwXE9C3USBnSvpkopQaUR-2r7iU.ttf",regular:"//fonts.gstatic.com/s/economica/v4/G4rJRujzZbq9Nxngu9l3hg.ttf",italic:"//fonts.gstatic.com/s/economica/v4/p5O9AVeUqx_n35xQRinNYaCWcynf_cDxXwCLxiixG1c.ttf","700italic":"//fonts.gstatic.com/s/economica/v4/ac5dlUsedQ03RqGOeay-3Xe1Pd76Vl7zRpE7NLJQ7XU.ttf"}},{kind:"webfonts#webfont",family:"Eczar",category:"serif",variants:["regular","500","600","700","800"],subsets:["latin","devanagari","latin-ext"],version:"v4",lastModified:"2016-06-07",files:{500:"//fonts.gstatic.com/s/eczar/v4/Ooe4KaPp2594tF8TbMfdlQ.ttf",600:"//fonts.gstatic.com/s/eczar/v4/IjQsWW0bmgkZ6lnN72cnTQ.ttf",700:"//fonts.gstatic.com/s/eczar/v4/ELC8RVXfBMb3VuuHtMwBOA.ttf",800:"//fonts.gstatic.com/s/eczar/v4/9Uyt6nTZLx_Qj5_WRah-iQ.ttf",regular:"//fonts.gstatic.com/s/eczar/v4/uKZcAQ5JBBs1UbeXFRbBRg.ttf"}},{kind:"webfonts#webfont",family:"El Messiri",category:"sans-serif",variants:["regular","500","600","700"],subsets:["latin","cyrillic","arabic"],version:"v1",lastModified:"2016-06-20",files:{500:"//fonts.gstatic.com/s/elmessiri/v1/kQW9PA2krAOzditagrX75pp-63r6doWhTEbsfBIRJ7A.ttf",600:"//fonts.gstatic.com/s/elmessiri/v1/HYl7TNqFfA1utGLZRWwzLPpTEJqju4Hz1txDWij77d4.ttf",700:"//fonts.gstatic.com/s/elmessiri/v1/ji73glXFIetaSqMU3cz7rAJKKGfqHaYFsRG-T3ceEVo.ttf",regular:"//fonts.gstatic.com/s/elmessiri/v1/dik94vfrFvHFnvdvxaX8N_esZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Electrolize",category:"sans-serif",variants:["regular"],subsets:["latin"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/electrolize/v5/yFVu5iokC-nt4B1Cyfxb9aCWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Elsie",category:"display",variants:["regular","900"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{900:"//fonts.gstatic.com/s/elsie/v5/1t-9f0N2NFYwAgN7oaISqg.ttf",regular:"//fonts.gstatic.com/s/elsie/v5/gwspePauE45BJu6Ok1QrfQ.ttf"}},{kind:"webfonts#webfont",family:"Elsie Swash Caps",category:"display",variants:["regular","900"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{900:"//fonts.gstatic.com/s/elsieswashcaps/v4/iZnus9qif0tR5pGaDv5zdKoKBWBozTtxi30NfZDOXXU.ttf",regular:"//fonts.gstatic.com/s/elsieswashcaps/v4/9L3hIJMPCf6sxCltnxd6X2YeFSdnSpRYv5h9gpdlD1g.ttf"}},{kind:"webfonts#webfont",family:"Emblema One",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/emblemaone/v5/7IlBUjBWPIiw7cr_O2IfSaCWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Emilys Candy",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/emilyscandy/v4/PofLVm6v1SwZGOzC8s-I3S3USBnSvpkopQaUR-2r7iU.ttf"}},{kind:"webfonts#webfont",family:"Engagement",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v5",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/engagement/v5/4Uz0Jii7oVPcaFRYmbpU6vesZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Englebert",category:"sans-serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/englebert/v4/sll38iOvOuarDTYBchlP3Q.ttf"}},{kind:"webfonts#webfont",family:"Enriqueta",category:"serif",variants:["regular","700"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/enriqueta/v5/I27Pb-wEGH2ajLYP0QrtSC3USBnSvpkopQaUR-2r7iU.ttf",regular:"//fonts.gstatic.com/s/enriqueta/v5/_p90TrIwR1SC-vDKtmrv6A.ttf"}},{kind:"webfonts#webfont",family:"Erica One",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v7",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/ericaone/v7/cIBnH2VAqQMIGYAcE4ufvQ.ttf"}},{kind:"webfonts#webfont",family:"Esteban",category:"serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/esteban/v4/ESyhLgqDDyK5JcFPp2svDw.ttf"}},{kind:"webfonts#webfont",family:"Euphoria Script",category:"handwriting",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/euphoriascript/v4/c4XB4Iijj_NvSsCF4I0O2MxLhO8OSNnfAp53LK1_iRs.ttf"}},{kind:"webfonts#webfont",family:"Ewert",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/ewert/v4/Em8hrzuzSbfHcTVqMjbAQg.ttf"}},{kind:"webfonts#webfont",family:"Exo",category:"sans-serif",variants:["100","100italic","200","200italic","300","300italic","regular","italic","500","500italic","600","600italic","700","700italic","800","800italic","900","900italic"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{100:"//fonts.gstatic.com/s/exo/v4/RI7A9uwjRmPbVp0n8e-Jvg.ttf",200:"//fonts.gstatic.com/s/exo/v4/F8OfC_swrRRxpFt-tlXZQg.ttf",300:"//fonts.gstatic.com/s/exo/v4/SBrN7TKUqgGUvfxqHqsnNw.ttf",500:"//fonts.gstatic.com/s/exo/v4/jCg6DmGGXt_OVyp5ofQHPw.ttf",600:"//fonts.gstatic.com/s/exo/v4/q_SG5kXUmOcIvFpgtdZnlw.ttf",700:"//fonts.gstatic.com/s/exo/v4/3_jwsL4v9uHjl5Q37G57mw.ttf",800:"//fonts.gstatic.com/s/exo/v4/yLPuxBuV0lzqibRJyooOJg.ttf",900:"//fonts.gstatic.com/s/exo/v4/97d0nd6Yv4-SA_X92xAuZA.ttf","100italic":"//fonts.gstatic.com/s/exo/v4/qtGyZZlWb2EEvby3ZPosxw.ttf","200italic":"//fonts.gstatic.com/s/exo/v4/fr4HBfXHYiIngW2_bhlgRw.ttf","300italic":"//fonts.gstatic.com/s/exo/v4/3gmiLjBegIfcDLISjTGA1g.ttf",regular:"//fonts.gstatic.com/s/exo/v4/eUEzTFueNXRVhbt4PEB8kQ.ttf",italic:"//fonts.gstatic.com/s/exo/v4/cfgolWisMSURhpQeVHl_NA.ttf","500italic":"//fonts.gstatic.com/s/exo/v4/lo5eTdCNJZQVN08p8RnzAQ.ttf","600italic":"//fonts.gstatic.com/s/exo/v4/0cExa8K_pxS2lTuMr68XUA.ttf","700italic":"//fonts.gstatic.com/s/exo/v4/0me55yJIxd5vyQ9bF7SsiA.ttf","800italic":"//fonts.gstatic.com/s/exo/v4/n3LejeKVj_8gtZq5fIgNYw.ttf","900italic":"//fonts.gstatic.com/s/exo/v4/JHTkQVhzyLtkY13Ye95TJQ.ttf"}},{kind:"webfonts#webfont",family:"Expletus Sans",category:"display",variants:["regular","italic","500","500italic","600","600italic","700","700italic"],subsets:["latin"],version:"v9",lastModified:"2016-06-07",files:{500:"//fonts.gstatic.com/s/expletussans/v9/cl6rhMY77Ilk8lB_uYRRwAqQmZ7VjhwksfpNVG0pqGc.ttf",600:"//fonts.gstatic.com/s/expletussans/v9/cl6rhMY77Ilk8lB_uYRRwCvj1tU7IJMS3CS9kCx2B3U.ttf",700:"//fonts.gstatic.com/s/expletussans/v9/cl6rhMY77Ilk8lB_uYRRwFCbmAUID8LN-q3pJpOk3Ys.ttf",regular:"//fonts.gstatic.com/s/expletussans/v9/gegTSDBDs5le3g6uxU1ZsX8f0n03UdmQgF_CLvNR2vg.ttf",italic:"//fonts.gstatic.com/s/expletussans/v9/Y-erXmY0b6DU_i2Qu0hTJj4G9C9ttb0Oz5Cvf0qOitE.ttf","500italic":"//fonts.gstatic.com/s/expletussans/v9/sRBNtc46w65uJE451UYmW87DCVO6wo6i5LKIyZDzK40.ttf","600italic":"//fonts.gstatic.com/s/expletussans/v9/sRBNtc46w65uJE451UYmW8yKH23ZS6zCKOFHG0e_4JE.ttf","700italic":"//fonts.gstatic.com/s/expletussans/v9/sRBNtc46w65uJE451UYmW5F66r9C4AnxxlBlGd7xY4g.ttf"}},{kind:"webfonts#webfont",family:"Fanwood Text",category:"serif",variants:["regular","italic"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/fanwoodtext/v6/hDNDHUlsSb8bgnEmDp4T_i3USBnSvpkopQaUR-2r7iU.ttf",italic:"//fonts.gstatic.com/s/fanwoodtext/v6/0J3SBbkMZqBV-3iGxs5E9_MZXuCXbOrAvx5R0IT5Oyo.ttf"}},{kind:"webfonts#webfont",family:"Farsan",category:"display",variants:["regular"],subsets:["latin","gujarati","latin-ext","vietnamese"],version:"v1",lastModified:"2016-06-20",files:{regular:"//fonts.gstatic.com/s/farsan/v1/Hdf9Y76SQ6e1X0Nqk3rHtw.ttf"}},{kind:"webfonts#webfont",family:"Fascinate",category:"display",variants:["regular"],subsets:["latin"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/fascinate/v5/ZE0637WWkBPKt1AmFaqD3Q.ttf"}},{kind:"webfonts#webfont",family:"Fascinate Inline",category:"display",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/fascinateinline/v6/lRguYfMfWArflkm5aOQ5QJmp8DTZ6iHear7UV05iykg.ttf"}},{kind:"webfonts#webfont",family:"Faster One",category:"display",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/fasterone/v6/YxTOW2sf56uxD1T7byP5K_esZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Fauna One",category:"serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/faunaone/v4/8kL-wpAPofcAMELI_5NRnQ.ttf"}},{kind:"webfonts#webfont",family:"Federant",category:"display",variants:["regular"],subsets:["latin"],version:"v8",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/federant/v8/tddZFSiGvxICNOGra0i5aA.ttf"}},{kind:"webfonts#webfont",family:"Federo",category:"sans-serif",variants:["regular"],subsets:["latin"],version:"v8",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/federo/v8/JPhe1S2tujeyaR79gXBLeQ.ttf"}},{kind:"webfonts#webfont",family:"Felipa",category:"handwriting",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/felipa/v4/SeyfyFZY7abAQXGrOIYnYg.ttf"}},{kind:"webfonts#webfont",family:"Fenix",category:"serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/fenix/v4/Ak8wR3VSlAN7VN_eMeJj7Q.ttf"}},{kind:"webfonts#webfont",family:"Finger Paint",category:"display",variants:["regular"],subsets:["latin"],version:"v5",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/fingerpaint/v5/m_ZRbiY-aPb13R3DWPBGXy3USBnSvpkopQaUR-2r7iU.ttf"}},{kind:"webfonts#webfont",family:"Fira Mono",category:"monospace",variants:["regular","700"],subsets:["greek","latin","cyrillic","latin-ext","cyrillic-ext"],version:"v4",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/firamono/v4/l24Wph3FsyKAbJ8dfExTZy3USBnSvpkopQaUR-2r7iU.ttf",regular:"//fonts.gstatic.com/s/firamono/v4/WQOm1D4RO-yvA9q9trJc8g.ttf"}},{kind:"webfonts#webfont",family:"Fira Sans",category:"sans-serif",variants:["300","300italic","regular","italic","500","500italic","700","700italic"],subsets:["greek","latin","cyrillic","latin-ext","cyrillic-ext"],version:"v6",lastModified:"2016-05-31",files:{300:"//fonts.gstatic.com/s/firasans/v6/VTBnrK42EiOBncVyQXZ7jy3USBnSvpkopQaUR-2r7iU.ttf",500:"//fonts.gstatic.com/s/firasans/v6/zM2u8V3CuPVwAAXFQcDi4C3USBnSvpkopQaUR-2r7iU.ttf",700:"//fonts.gstatic.com/s/firasans/v6/DugPdSljmOTocZOR2CItOi3USBnSvpkopQaUR-2r7iU.ttf","300italic":"//fonts.gstatic.com/s/firasans/v6/6s0YCA9oCTF6hM60YM-qTS9-WlPSxbfiI49GsXo3q0g.ttf",regular:"//fonts.gstatic.com/s/firasans/v6/nsT0isDy56OkSX99sFQbXw.ttf",italic:"//fonts.gstatic.com/s/firasans/v6/cPT_2ddmoxsUuMtQqa8zGqCWcynf_cDxXwCLxiixG1c.ttf","500italic":"//fonts.gstatic.com/s/firasans/v6/6s0YCA9oCTF6hM60YM-qTcCNfqCYlB_eIx7H1TVXe60.ttf","700italic":"//fonts.gstatic.com/s/firasans/v6/6s0YCA9oCTF6hM60YM-qTXe1Pd76Vl7zRpE7NLJQ7XU.ttf"}},{kind:"webfonts#webfont",family:"Fjalla One",category:"sans-serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/fjallaone/v4/3b7vWCfOZsU53vMa8LWsf_esZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Fjord One",category:"serif",variants:["regular"],subsets:["latin"],version:"v5",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/fjordone/v5/R_YHK8au2uFPw5tNu5N7zw.ttf"}},{kind:"webfonts#webfont",family:"Flamenco",category:"display",variants:["300","regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{300:"//fonts.gstatic.com/s/flamenco/v6/x9iI5CogvuZVCGoRHwXuo6CWcynf_cDxXwCLxiixG1c.ttf",regular:"//fonts.gstatic.com/s/flamenco/v6/HC0ugfLLgt26I5_BWD1PZA.ttf"}},{kind:"webfonts#webfont",family:"Flavors",category:"display",variants:["regular"],subsets:["latin"],version:"v5",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/flavors/v5/SPJi5QclATvon8ExcKGRvQ.ttf"}},{kind:"webfonts#webfont",family:"Fondamento",category:"handwriting",variants:["regular","italic"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/fondamento/v5/6LWXcjT1B7bnWluAOSNfMPesZW2xOQ-xsNqO47m55DA.ttf",italic:"//fonts.gstatic.com/s/fondamento/v5/y6TmwhSbZ8rYq7OTFyo7OS3USBnSvpkopQaUR-2r7iU.ttf"}},{kind:"webfonts#webfont",family:"Fontdiner Swanky",category:"display",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-20",files:{regular:"//fonts.gstatic.com/s/fontdinerswanky/v6/8_GxIO5ixMtn5P6COsF3TlBjMPLzPAFJwRBn-s1U7kA.ttf"}},{kind:"webfonts#webfont",family:"Forum",category:"display",variants:["regular"],subsets:["latin","cyrillic","latin-ext","cyrillic-ext"],version:"v7",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/forum/v7/MZUpsq1VfLrqv8eSDcbrrQ.ttf"}},{kind:"webfonts#webfont",family:"Francois One",category:"sans-serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v9",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/francoisone/v9/bYbkq2nU2TSx4SwFbz5sCC3USBnSvpkopQaUR-2r7iU.ttf"}},{kind:"webfonts#webfont",family:"Frank Ruhl Libre",category:"sans-serif",variants:["300","regular","500","700","900"],subsets:["latin","hebrew","latin-ext"],version:"v1",lastModified:"2016-06-20",files:{300:"//fonts.gstatic.com/s/frankruhllibre/v1/y8NWif61iD8Hg8bGAmxFPOo9jvbqtCEVUIntIHarXsc.ttf",500:"//fonts.gstatic.com/s/frankruhllibre/v1/y8NWif61iD8Hg8bGAmxFPC-WNtISbX_UO2d0wZPgXtk.ttf",700:"//fonts.gstatic.com/s/frankruhllibre/v1/y8NWif61iD8Hg8bGAmxFPDPYiZEMiRRbPdIFMoTwDbo.ttf",900:"//fonts.gstatic.com/s/frankruhllibre/v1/y8NWif61iD8Hg8bGAmxFPNRZIVFRjDx-6MOpcoWbVhA.ttf",regular:"//fonts.gstatic.com/s/frankruhllibre/v1/yDLloNqBpFmakCImLv4OJkfFI6QBbouvcOFcz81E3Ek.ttf"}},{kind:"webfonts#webfont",family:"Freckle Face",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/freckleface/v4/7-B8j9BPJgazdHIGqPNv8y3USBnSvpkopQaUR-2r7iU.ttf"}},{kind:"webfonts#webfont",family:"Fredericka the Great",category:"display",variants:["regular"],subsets:["latin"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/frederickathegreat/v5/7Es8Lxoku-e5eOZWpxw18nrnet6gXN1McwdQxS1dVrI.ttf"}},{kind:"webfonts#webfont",family:"Fredoka One",category:"display",variants:["regular"],subsets:["latin"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/fredokaone/v4/QKfwXi-z-KtJAlnO2ethYqCWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Fresca",category:"sans-serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/fresca/v5/2q7Qm9sCo1tWvVgSDVWNIw.ttf"}},{kind:"webfonts#webfont",family:"Frijole",category:"display",variants:["regular"],subsets:["latin"],version:"v5",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/frijole/v5/L2MfZse-2gCascuD-nLhWg.ttf"}},{kind:"webfonts#webfont",family:"Fruktur",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v8",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/fruktur/v8/PnQvfEi1LssAvhJsCwH__w.ttf"}},{kind:"webfonts#webfont",family:"Fugaz One",category:"display",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/fugazone/v6/5tteVDCwxsr8-5RuSiRWOw.ttf"}},{kind:"webfonts#webfont",family:"GFS Didot",category:"serif",variants:["regular"],subsets:["greek"],version:"v6",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/gfsdidot/v6/jQKxZy2RU-h9tkPZcRVluA.ttf"}},{kind:"webfonts#webfont",family:"GFS Neohellenic",category:"sans-serif",variants:["regular","italic","700","700italic"],subsets:["greek"],version:"v7",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/gfsneohellenic/v7/7HwjPQa7qNiOsnUce2h4448_BwCLZY3eDSV6kppAwI8.ttf",regular:"//fonts.gstatic.com/s/gfsneohellenic/v7/B4xRqbn-tANVqVgamMsSDiayCZa0z7CpFzlkqoCHztc.ttf",italic:"//fonts.gstatic.com/s/gfsneohellenic/v7/KnaWrO4awITAqigQIIYXKkCTdomiyJpIzPbEbIES3rU.ttf","700italic":"//fonts.gstatic.com/s/gfsneohellenic/v7/FwWjoX6XqT-szJFyqsu_GYFF0fM4h-krcpQk7emtCpE.ttf"}},{kind:"webfonts#webfont",family:"Gabriela",category:"serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/gabriela/v4/B-2ZfbAO3HDrxqV6lR5tdA.ttf"}},{kind:"webfonts#webfont",family:"Gafata",category:"sans-serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/gafata/v5/aTFqlki_3Dc3geo-FxHTvQ.ttf"}},{kind:"webfonts#webfont",family:"Galada",category:"display",variants:["regular"],subsets:["latin","bengali"],version:"v1",lastModified:"2016-06-20",files:{regular:"//fonts.gstatic.com/s/galada/v1/xGkllHQb8OOCv9VJ6IObSA.ttf"}},{kind:"webfonts#webfont",family:"Galdeano",category:"sans-serif",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/galdeano/v6/ZKFMQI6HxEG1jOT0UGSZUg.ttf"}},{kind:"webfonts#webfont",family:"Galindo",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/galindo/v4/2lafAS_ZEfB33OJryhXDUg.ttf"}},{kind:"webfonts#webfont",family:"Gentium Basic",category:"serif",variants:["regular","italic","700","700italic"],subsets:["latin","latin-ext"],version:"v8",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/gentiumbasic/v8/2qL6yulgGf0wwgOp-UqGyLNuTeOOLg3nUymsEEGmdO0.ttf",regular:"//fonts.gstatic.com/s/gentiumbasic/v8/KCktj43blvLkhOTolFn-MYtBLojGU5Qdl8-5NL4v70w.ttf",italic:"//fonts.gstatic.com/s/gentiumbasic/v8/qoFz4NSMaYC2UmsMAG3lyTj3mvXnCeAk09uTtmkJGRc.ttf","700italic":"//fonts.gstatic.com/s/gentiumbasic/v8/8N9-c_aQDJ8LbI1NGVMrwtswO1vWwP9exiF8s0wqW10.ttf"}},{kind:"webfonts#webfont",family:"Gentium Book Basic",category:"serif",variants:["regular","italic","700","700italic"],subsets:["latin","latin-ext"],version:"v7",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/gentiumbookbasic/v7/T2vUYmWzlqUtgLYdlemGnaWESMHIjnSjm9UUxYtEOko.ttf",regular:"//fonts.gstatic.com/s/gentiumbookbasic/v7/IRFxB2matTxrjZt6a3FUnrWDjKAyldGEr6eEi2MBNeY.ttf",italic:"//fonts.gstatic.com/s/gentiumbookbasic/v7/qHqW2lwKO8-uTfIkh8FsUfXfjMwrYnmPVsQth2IcAPY.ttf","700italic":"//fonts.gstatic.com/s/gentiumbookbasic/v7/632u7TMIoFDWQYUaHFUp5PA2A9KyRZEkn4TZVuhsWRM.ttf"}},{kind:"webfonts#webfont",family:"Geo",category:"sans-serif",variants:["regular","italic"],subsets:["latin"],version:"v8",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/geo/v8/mJuJYk5Pww84B4uHAQ1XaA.ttf",italic:"//fonts.gstatic.com/s/geo/v8/8_r1wToF7nPdDuX1qxel6Q.ttf"}},{kind:"webfonts#webfont",family:"Geostar",category:"display",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/geostar/v6/A8WQbhQbpYx3GWWaShJ9GA.ttf"}},{kind:"webfonts#webfont",family:"Geostar Fill",category:"display",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/geostarfill/v6/Y5ovXPPOHYTfQzK2aM-hui3USBnSvpkopQaUR-2r7iU.ttf"}},{kind:"webfonts#webfont",family:"Germania One",category:"display",variants:["regular"],subsets:["latin"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/germaniaone/v4/3_6AyUql_-FbDi1e68jHdC3USBnSvpkopQaUR-2r7iU.ttf"}},{kind:"webfonts#webfont",family:"Gidugu",category:"sans-serif",variants:["regular"],subsets:["latin","telugu"],version:"v3",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/gidugu/v3/Ey6Eq3hrT6MM58iFItFcgw.ttf"}},{kind:"webfonts#webfont",family:"Gilda Display",category:"serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/gildadisplay/v4/8yAVUZLLZ3wb7dSsjix0CADHmap7fRWINAsw8-RaxNg.ttf"}},{kind:"webfonts#webfont",family:"Give You Glory",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/giveyouglory/v6/DFEWZFgGmfseyIdGRJAxuBwwkpSPZdvjnMtysdqprfI.ttf"}},{kind:"webfonts#webfont",family:"Glass Antiqua",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/glassantiqua/v4/0yLrXKplgdUDIMz5TnCHNODcg5akpSnIcsPhLOFv7l8.ttf"}},{kind:"webfonts#webfont",family:"Glegoo",category:"serif",variants:["regular","700"],subsets:["latin","devanagari","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/glegoo/v5/TlLolbauH0-0Aiz1LUH5og.ttf",regular:"//fonts.gstatic.com/s/glegoo/v5/2tf-h3n2A_SNYXEO0C8bKw.ttf"}},{kind:"webfonts#webfont",family:"Gloria Hallelujah",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v8",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/gloriahallelujah/v8/CA1k7SlXcY5kvI81M_R28Q3RdPdyebSUyJECJouPsvA.ttf"}},{kind:"webfonts#webfont",family:"Goblin One",category:"display",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/goblinone/v6/331XtzoXgpVEvNTVcBJ_C_esZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Gochi Hand",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v7",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/gochihand/v7/KT1-WxgHsittJ34_20IfAPesZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Gorditas",category:"display",variants:["regular","700"],subsets:["latin"],version:"v4",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/gorditas/v4/6-XCeknmxaon8AUqVkMnHaCWcynf_cDxXwCLxiixG1c.ttf",regular:"//fonts.gstatic.com/s/gorditas/v4/uMgZhXUyH6qNGF3QsjQT5Q.ttf"}},{kind:"webfonts#webfont",family:"Goudy Bookletter 1911",category:"serif",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/goudybookletter1911/v6/l5lwlGTN3pEY5Bf-rQEuIIjNDsyURsIKu4GSfvSE4mA.ttf"}},{kind:"webfonts#webfont",family:"Graduate",category:"display",variants:["regular"],subsets:["latin"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/graduate/v4/JpAmYLHqcIh9_Ff35HHwiA.ttf"}},{kind:"webfonts#webfont",family:"Grand Hotel",category:"handwriting",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/grandhotel/v4/C_A8HiFZjXPpnMt38XnK7qCWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Gravitas One",category:"display",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/gravitasone/v6/nBHdBv6zVNU8MtP6w9FwTS3USBnSvpkopQaUR-2r7iU.ttf"}},{kind:"webfonts#webfont",family:"Great Vibes",category:"handwriting",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/greatvibes/v4/4Mi5RG_9LjQYrTU55GN_L6CWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Griffy",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/griffy/v4/vWkyYGBSyE5xjnShNtJtzw.ttf"}},{kind:"webfonts#webfont",family:"Gruppo",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v7",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/gruppo/v7/pS_JM0cK_piBZve-lfUq9w.ttf"}},{kind:"webfonts#webfont",family:"Gudea",category:"sans-serif",variants:["regular","italic","700"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/gudea/v4/lsip4aiWhJ9bx172Y9FN_w.ttf",regular:"//fonts.gstatic.com/s/gudea/v4/S-4QqBlkMPiiA3jNeCR5yw.ttf",italic:"//fonts.gstatic.com/s/gudea/v4/7mNgsGw_vfS-uUgRVXNDSw.ttf"}},{kind:"webfonts#webfont",family:"Habibi",category:"serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/habibi/v5/YYyqXF6pWpL7kmKgS_2iUA.ttf"}},{kind:"webfonts#webfont",family:"Halant",category:"serif",variants:["300","regular","500","600","700"],subsets:["latin","devanagari","latin-ext"],version:"v2",lastModified:"2016-05-31",files:{300:"//fonts.gstatic.com/s/halant/v2/dM3ItAOWNNod_Cf3MnLlEg.ttf",500:"//fonts.gstatic.com/s/halant/v2/tlsNj3K-hJKtiirTDtUbkQ.ttf",600:"//fonts.gstatic.com/s/halant/v2/zNR2WvI_V8o652vIZp3X4Q.ttf",700:"//fonts.gstatic.com/s/halant/v2/D9FN7OH89AuCmZDLHbPQfA.ttf",regular:"//fonts.gstatic.com/s/halant/v2/rEs7Jk3SVyt3cTx6DoTu1w.ttf"}},{kind:"webfonts#webfont",family:"Hammersmith One",category:"sans-serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v7",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/hammersmithone/v7/FWNn6ITYqL6or7ZTmBxRhjjVlsJB_M_Q_LtZxsoxvlw.ttf"}},{kind:"webfonts#webfont",family:"Hanalei",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/hanalei/v6/Sx8vVMBnXSQyK6Cn0CBJ3A.ttf"}},{kind:"webfonts#webfont",family:"Hanalei Fill",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/hanaleifill/v5/5uPeWLnaDdtm4UBG26Ds6C3USBnSvpkopQaUR-2r7iU.ttf"}},{kind:"webfonts#webfont",family:"Handlee",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/handlee/v5/6OfkXkyC0E5NZN80ED8u3A.ttf"}},{kind:"webfonts#webfont",family:"Hanuman",category:"serif",variants:["regular","700"],subsets:["khmer"],version:"v9",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/hanuman/v9/lzzXZ2l84x88giDrbfq76vesZW2xOQ-xsNqO47m55DA.ttf",regular:"//fonts.gstatic.com/s/hanuman/v9/hRhwOGGmElJSl6KSPvEnOQ.ttf"}},{kind:"webfonts#webfont",family:"Happy Monkey",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/happymonkey/v5/c2o0ps8nkBmaOYctqBq1rS3USBnSvpkopQaUR-2r7iU.ttf"}},{kind:"webfonts#webfont",family:"Harmattan",category:"sans-serif",variants:["regular"],subsets:["latin","arabic"],version:"v1",lastModified:"2016-06-20",files:{regular:"//fonts.gstatic.com/s/harmattan/v1/xNM1nDKzsLfoCLQtMRztGA.ttf"}},{kind:"webfonts#webfont",family:"Headland One",category:"serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/headlandone/v4/iGmBeOvQGfq9DSbjJ8jDVy3USBnSvpkopQaUR-2r7iU.ttf"}},{kind:"webfonts#webfont",family:"Heebo",category:"sans-serif",variants:["100","300","regular","500","700","800","900"],subsets:["latin","hebrew"],version:"v2",lastModified:"2016-06-20",files:{100:"//fonts.gstatic.com/s/heebo/v2/SoQODIucfpkiveZloUR6ag.ttf",300:"//fonts.gstatic.com/s/heebo/v2/dg5T18yyjkKiU_9mmcbDSQ.ttf",500:"//fonts.gstatic.com/s/heebo/v2/jDb70ZCwdD6JnmQU62ZQZA.ttf",700:"//fonts.gstatic.com/s/heebo/v2/NsBYEn6oWei8pPqytA07yA.ttf",800:"//fonts.gstatic.com/s/heebo/v2/h4CV2Qq56LKIinGGOStvsw.ttf",900:"//fonts.gstatic.com/s/heebo/v2/uDfzHw3R0Bfa6HyIIcj-ow.ttf",regular:"//fonts.gstatic.com/s/heebo/v2/nyHCGMPliplPNqpssbDSIA.ttf"}},{kind:"webfonts#webfont",family:"Henny Penny",category:"display",variants:["regular"],subsets:["latin"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/hennypenny/v4/XRgo3ogXyi3tpsFfjImRF6CWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Herr Von Muellerhoff",category:"handwriting",variants:["regular"],subsets:["latin","latin-ext"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/herrvonmuellerhoff/v6/mmy24EUmk4tjm4gAEjUd7NLGIYrUsBdh-JWHYgiDiMU.ttf"}},{kind:"webfonts#webfont",family:"Hind",category:"sans-serif",variants:["300","regular","500","600","700"],subsets:["latin","devanagari","latin-ext"],version:"v6",lastModified:"2016-06-02",files:{300:"//fonts.gstatic.com/s/hind/v6/qa346Adgv9kPDXoD1my4kA.ttf",500:"//fonts.gstatic.com/s/hind/v6/2cs8RCVcYtiv4iNDH1UsQQ.ttf",600:"//fonts.gstatic.com/s/hind/v6/TUKUmFMXSoxloBP1ni08oA.ttf",700:"//fonts.gstatic.com/s/hind/v6/cXJJavLdUbCfjxlsA6DqTw.ttf",regular:"//fonts.gstatic.com/s/hind/v6/mktFHh5Z5P9YjGKSslSUtA.ttf"}},{kind:"webfonts#webfont",family:"Hind Guntur",category:"sans-serif",variants:["300","regular","500","600","700"],subsets:["latin","telugu","latin-ext"],version:"v1",lastModified:"2016-06-20",files:{300:"//fonts.gstatic.com/s/hindguntur/v1/Szg33M7ab5MTWe-PWAcNAi9-WlPSxbfiI49GsXo3q0g.ttf",500:"//fonts.gstatic.com/s/hindguntur/v1/Szg33M7ab5MTWe-PWAcNAsCNfqCYlB_eIx7H1TVXe60.ttf",600:"//fonts.gstatic.com/s/hindguntur/v1/Szg33M7ab5MTWe-PWAcNApZ7xm-Bj30Bj2KNdXDzSZg.ttf",700:"//fonts.gstatic.com/s/hindguntur/v1/Szg33M7ab5MTWe-PWAcNAne1Pd76Vl7zRpE7NLJQ7XU.ttf",regular:"//fonts.gstatic.com/s/hindguntur/v1/MXz-KyAeVZstlFz6v-5SC6CWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Hind Madurai",category:"sans-serif",variants:["300","regular","500","600","700"],subsets:["latin","tamil","latin-ext"],version:"v1",lastModified:"2016-06-20",files:{300:"//fonts.gstatic.com/s/hindmadurai/v1/sdSJTZLdRXJhVTP92m2S66cQoVhARpoaILP7amxE_8g.ttf",500:"//fonts.gstatic.com/s/hindmadurai/v1/sdSJTZLdRXJhVTP92m2S65MQuUSAwdHsY8ov_6tk1oA.ttf",600:"//fonts.gstatic.com/s/hindmadurai/v1/sdSJTZLdRXJhVTP92m2S62v8CylhIUtwUiYO7Z2wXbE.ttf",700:"//fonts.gstatic.com/s/hindmadurai/v1/sdSJTZLdRXJhVTP92m2S60D2ttfZwueP-QU272T9-k4.ttf",regular:"//fonts.gstatic.com/s/hindmadurai/v1/pJpl47LatORZNWf8rgdiyS3USBnSvpkopQaUR-2r7iU.ttf"}},{kind:"webfonts#webfont",family:"Hind Siliguri",category:"sans-serif",variants:["300","regular","500","600","700"],subsets:["latin","bengali","latin-ext"],version:"v2",lastModified:"2016-06-02",files:{300:"//fonts.gstatic.com/s/hindsiliguri/v2/fBpmjMpv5Rh6S25yVfWJnzoJ52uD-1fmXmi8u0n_zsc.ttf",500:"//fonts.gstatic.com/s/hindsiliguri/v2/fBpmjMpv5Rh6S25yVfWJn__2zpxNHQ3utWt_82o9dAo.ttf",600:"//fonts.gstatic.com/s/hindsiliguri/v2/fBpmjMpv5Rh6S25yVfWJn-x91FDzFvnud68bXrNkpDA.ttf",700:"//fonts.gstatic.com/s/hindsiliguri/v2/fBpmjMpv5Rh6S25yVfWJn6iiXuG_rGcOxkuidirlnJE.ttf",regular:"//fonts.gstatic.com/s/hindsiliguri/v2/f2eEi2pbIa8eBfNwpUl0Am_MnNA9OgK8I1F23mNWOpE.ttf"}},{kind:"webfonts#webfont",family:"Hind Vadodara",category:"sans-serif",variants:["300","regular","500","600","700"],subsets:["latin","gujarati","latin-ext"],version:"v2",lastModified:"2016-06-02",files:{300:"//fonts.gstatic.com/s/hindvadodara/v2/KrZ6f_YevRawHvh0qDBkTbDwfZ__Dotj_J8NiWv76DQ.ttf",500:"//fonts.gstatic.com/s/hindvadodara/v2/KrZ6f_YevRawHvh0qDBkTZzEKvFIU9WyojfbAkhDb6c.ttf",600:"//fonts.gstatic.com/s/hindvadodara/v2/KrZ6f_YevRawHvh0qDBkTfgXs2VXrZsRiQ1c96pXZKI.ttf",700:"//fonts.gstatic.com/s/hindvadodara/v2/KrZ6f_YevRawHvh0qDBkTYGjoH95IEFGA7BjhXnx_eg.ttf",regular:"//fonts.gstatic.com/s/hindvadodara/v2/9c6KKeibr6NtFqknnNxZB-Dcg5akpSnIcsPhLOFv7l8.ttf"}},{kind:"webfonts#webfont",family:"Holtwood One SC",category:"serif",variants:["regular"],subsets:["latin"],version:"v7",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/holtwoodonesc/v7/sToOq3cIxbfnhbEkgYNuBbAgSRh1LpJXlLfl8IbsmHg.ttf"}},{kind:"webfonts#webfont",family:"Homemade Apple",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/homemadeapple/v6/yg3UMEsefgZ8IHz_ryz86BiPOmFWYV1WlrJkRafc4c0.ttf"}},{kind:"webfonts#webfont",family:"Homenaje",category:"sans-serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/homenaje/v5/v0YBU0iBRrGdVjDNQILxtA.ttf"}},{kind:"webfonts#webfont",family:"IM Fell DW Pica",category:"serif",variants:["regular","italic"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/imfelldwpica/v6/W81bfaWiUicLSPbJhW-ATsA5qm663gJGVdtpamafG5A.ttf",italic:"//fonts.gstatic.com/s/imfelldwpica/v6/alQJ8SK5aSOZVaelYoyT4PL2asmh5DlYQYCosKo6yQs.ttf"}},{kind:"webfonts#webfont",family:"IM Fell DW Pica SC",category:"serif",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/imfelldwpicasc/v6/xBKKJV4z2KsrtQnmjGO17JZ9RBdEL0H9o5qzT1Rtof4.ttf"}},{kind:"webfonts#webfont",family:"IM Fell Double Pica",category:"serif",variants:["regular","italic"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/imfelldoublepica/v6/yN1wY_01BkQnO0LYAhXdUol14jEdVOhEmvtCMCVwYak.ttf",italic:"//fonts.gstatic.com/s/imfelldoublepica/v6/64odUh2hAw8D9dkFKTlWYq0AWwkgdQfsRHec8TYi4mI.ttf"}},{kind:"webfonts#webfont",family:"IM Fell Double Pica SC",category:"serif",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/imfelldoublepicasc/v6/jkrUtrLFpMw4ZazhfkKsGwc4LoC4OJUqLw9omnT3VOU.ttf"}},{kind:"webfonts#webfont",family:"IM Fell English",category:"serif",variants:["regular","italic"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/imfellenglish/v6/xwIisCqGFi8pff-oa9uSVHGNmx1fDm-u2eBJHQkdrmk.ttf",italic:"//fonts.gstatic.com/s/imfellenglish/v6/Z3cnIAI_L3XTRfz4JuZKbuewladMPCWTthtMv9cPS-c.ttf"}},{kind:"webfonts#webfont",family:"IM Fell English SC",category:"serif",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/imfellenglishsc/v6/h3Tn6yWfw4b5qaLD1RWvz5ATixNthKRRR1XVH3rJNiw.ttf"}},{kind:"webfonts#webfont",family:"IM Fell French Canon",category:"serif",variants:["regular","italic"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/imfellfrenchcanon/v6/iKB0WL1BagSpNPz3NLMdsJ3V2FNpBrlLSvqUnERhBP8.ttf",italic:"//fonts.gstatic.com/s/imfellfrenchcanon/v6/owCuNQkLLFW7TBBPJbMnhRa-QL94KdW80H29tcyld2A.ttf"}},{kind:"webfonts#webfont",family:"IM Fell French Canon SC",category:"serif",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/imfellfrenchcanonsc/v6/kA3bS19-tQbeT_iG32EZmaiyyzHwYrAbmNulTz423iM.ttf"}},{kind:"webfonts#webfont",family:"IM Fell Great Primer",category:"serif",variants:["regular","italic"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/imfellgreatprimer/v6/AL8ALGNthei20f9Cu3e93rgeX3ROgtTz44CitKAxzKI.ttf",italic:"//fonts.gstatic.com/s/imfellgreatprimer/v6/1a-artkXMVg682r7TTxVY1_YG2SFv8Ma7CxRl1S3o7g.ttf"}},{kind:"webfonts#webfont",family:"IM Fell Great Primer SC",category:"serif",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/imfellgreatprimersc/v6/A313vRj97hMMGFjt6rgSJtRg-ciw1Y27JeXb2Zv4lZQ.ttf"}},{kind:"webfonts#webfont",family:"Iceberg",category:"display",variants:["regular"],subsets:["latin"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/iceberg/v4/p2XVm4M-N0AOEEOymFKC5w.ttf"}},{kind:"webfonts#webfont",family:"Iceland",category:"display",variants:["regular"],subsets:["latin"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/iceland/v5/kq3uTMGgvzWGNi39B_WxGA.ttf"}},{kind:"webfonts#webfont",family:"Imprima",category:"sans-serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/imprima/v4/eRjquWLjwLGnTEhLH7u3kA.ttf"}},{kind:"webfonts#webfont",family:"Inconsolata",category:"monospace",variants:["regular","700"],subsets:["latin","latin-ext"],version:"v12",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/inconsolata/v12/AIed271kqQlcIRSOnQH0yXe1Pd76Vl7zRpE7NLJQ7XU.ttf",regular:"//fonts.gstatic.com/s/inconsolata/v12/7bMKuoy6Nh0ft0SHnIGMuaCWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Inder",category:"sans-serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/inder/v5/C38TwecLTfKxIHDc_Adcrw.ttf"}},{kind:"webfonts#webfont",family:"Indie Flower",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v8",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/indieflower/v8/10JVD_humAd5zP2yrFqw6i3USBnSvpkopQaUR-2r7iU.ttf"}},{kind:"webfonts#webfont",family:"Inika",category:"serif",variants:["regular","700"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/inika/v4/bl3ZoTyrWsFun2zYbsgJrA.ttf",regular:"//fonts.gstatic.com/s/inika/v4/eZCrULQGaIxkrRoGz_DjhQ.ttf"}},{kind:"webfonts#webfont",family:"Inknut Antiqua",category:"serif",variants:["300","regular","500","600","700","800","900"],subsets:["latin","devanagari","latin-ext"],version:"v1",lastModified:"2016-05-31",files:{300:"//fonts.gstatic.com/s/inknutantiqua/v1/CagoW52rBcslcXzHh6tVIg6hmPNSXwHGnJQCeQHKUMo.ttf",500:"//fonts.gstatic.com/s/inknutantiqua/v1/CagoW52rBcslcXzHh6tVIiYCDvi1XFzRnTV7qUFsNgk.ttf",600:"//fonts.gstatic.com/s/inknutantiqua/v1/CagoW52rBcslcXzHh6tVIjLEgY6PI0GrY6L00mykcEQ.ttf",700:"//fonts.gstatic.com/s/inknutantiqua/v1/CagoW52rBcslcXzHh6tVIlRhfXn9P4_QueZ7VkUHUNc.ttf",800:"//fonts.gstatic.com/s/inknutantiqua/v1/CagoW52rBcslcXzHh6tVInARjXVu2t2krcNTHiCb1qY.ttf",900:"//fonts.gstatic.com/s/inknutantiqua/v1/CagoW52rBcslcXzHh6tVIrTsNy1JrFNT1qKy8j7W3CU.ttf",regular:"//fonts.gstatic.com/s/inknutantiqua/v1/VlmmTfOrxr3HfcnhMueX9arFJ4O13IHVxZbM6yoslpo.ttf"}},{kind:"webfonts#webfont",family:"Irish Grover",category:"display",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-20",files:{regular:"//fonts.gstatic.com/s/irishgrover/v6/kUp7uUPooL-KsLGzeVJbBC3USBnSvpkopQaUR-2r7iU.ttf"}},{kind:"webfonts#webfont",family:"Istok Web",category:"sans-serif",variants:["regular","italic","700","700italic"],subsets:["latin","cyrillic","latin-ext","cyrillic-ext"],version:"v10",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/istokweb/v10/2koEo4AKFSvK4B52O_Mwai3USBnSvpkopQaUR-2r7iU.ttf",regular:"//fonts.gstatic.com/s/istokweb/v10/RYLSjEXQ0nNtLLc4n7--dQ.ttf",italic:"//fonts.gstatic.com/s/istokweb/v10/kvcT2SlTjmGbC3YlZxmrl6CWcynf_cDxXwCLxiixG1c.ttf","700italic":"//fonts.gstatic.com/s/istokweb/v10/ycQ3g52ELrh3o_HYCNNUw3e1Pd76Vl7zRpE7NLJQ7XU.ttf"}},{kind:"webfonts#webfont",family:"Italiana",category:"serif",variants:["regular"],subsets:["latin"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/italiana/v4/dt95fkCSTOF-c6QNjwSycA.ttf"}},{kind:"webfonts#webfont",family:"Italianno",category:"handwriting",variants:["regular"],subsets:["latin","latin-ext"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/italianno/v6/HsyHnLpKf8uP7aMpDQHZmg.ttf"}},{kind:"webfonts#webfont",family:"Itim",category:"handwriting",variants:["regular"],subsets:["latin","thai","latin-ext","vietnamese"],version:"v1",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/itim/v1/HHV9WK2x5lUkc5bxMXG8Tw.ttf"}},{kind:"webfonts#webfont",family:"Jacques Francois",category:"serif",variants:["regular"],subsets:["latin"],version:"v4",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/jacquesfrancois/v4/_-0XWPQIW6tOzTHg4KaJ_M13D_4KM32Q4UmTSjpuNGQ.ttf"}},{kind:"webfonts#webfont",family:"Jacques Francois Shadow",category:"display",variants:["regular"],subsets:["latin"],version:"v4",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/jacquesfrancoisshadow/v4/V14y0H3vq56fY9SV4OL_FASt0D_oLVawA8L8b9iKjbs.ttf"}},{kind:"webfonts#webfont",family:"Jaldi",category:"sans-serif",variants:["regular","700"],subsets:["latin","devanagari","latin-ext"],version:"v2",lastModified:"2016-06-07",files:{700:"//fonts.gstatic.com/s/jaldi/v2/OIbtgjjEp3aVWtjF6WY8mA.ttf",regular:"//fonts.gstatic.com/s/jaldi/v2/x1vR-bPW9a1EB-BUVqttCw.ttf"}},{kind:"webfonts#webfont",family:"Jim Nightshade",category:"handwriting",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/jimnightshade/v4/_n43lYHXVWNgXegdYRIK9CF1W_bo0EdycfH0kHciIic.ttf"}},{kind:"webfonts#webfont",family:"Jockey One",category:"sans-serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/jockeyone/v6/cAucnOZLvFo07w2AbufBCfesZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Jolly Lodger",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/jollylodger/v4/RX8HnkBgaEKQSHQyP9itiS3USBnSvpkopQaUR-2r7iU.ttf"}},{kind:"webfonts#webfont",family:"Josefin Sans",category:"sans-serif",variants:["100","100italic","300","300italic","regular","italic","600","600italic","700","700italic"],subsets:["latin","latin-ext"],version:"v9",lastModified:"2016-05-31",files:{100:"//fonts.gstatic.com/s/josefinsans/v9/q9w3H4aeBxj0hZ8Osfi3d8SVQ0giZ-l_NELu3lgGyYw.ttf",300:"//fonts.gstatic.com/s/josefinsans/v9/C6HYlRF50SGJq1XyXj04z6cQoVhARpoaILP7amxE_8g.ttf",600:"//fonts.gstatic.com/s/josefinsans/v9/C6HYlRF50SGJq1XyXj04z2v8CylhIUtwUiYO7Z2wXbE.ttf",700:"//fonts.gstatic.com/s/josefinsans/v9/C6HYlRF50SGJq1XyXj04z0D2ttfZwueP-QU272T9-k4.ttf","100italic":"//fonts.gstatic.com/s/josefinsans/v9/s7-P1gqRNRNn-YWdOYnAOXXcj1rQwlNLIS625o-SrL0.ttf","300italic":"//fonts.gstatic.com/s/josefinsans/v9/ppse0J9fKSaoxCIIJb33Gyna0FLWfcB-J_SAYmcAXaI.ttf",regular:"//fonts.gstatic.com/s/josefinsans/v9/xgzbb53t8j-Mo-vYa23n5i3USBnSvpkopQaUR-2r7iU.ttf",italic:"//fonts.gstatic.com/s/josefinsans/v9/q9w3H4aeBxj0hZ8Osfi3d_MZXuCXbOrAvx5R0IT5Oyo.ttf","600italic":"//fonts.gstatic.com/s/josefinsans/v9/ppse0J9fKSaoxCIIJb33G4R-5-urNOGAobhAyctHvW8.ttf","700italic":"//fonts.gstatic.com/s/josefinsans/v9/ppse0J9fKSaoxCIIJb33G_As9-1nE9qOqhChW0m4nDE.ttf"}},{kind:"webfonts#webfont",family:"Josefin Slab",category:"serif",variants:["100","100italic","300","300italic","regular","italic","600","600italic","700","700italic"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{100:"//fonts.gstatic.com/s/josefinslab/v6/etsUjZYO8lTLU85lDhZwUsSVQ0giZ-l_NELu3lgGyYw.ttf",300:"//fonts.gstatic.com/s/josefinslab/v6/NbE6ykYuM2IyEwxQxOIi2KcQoVhARpoaILP7amxE_8g.ttf",600:"//fonts.gstatic.com/s/josefinslab/v6/NbE6ykYuM2IyEwxQxOIi2Gv8CylhIUtwUiYO7Z2wXbE.ttf",700:"//fonts.gstatic.com/s/josefinslab/v6/NbE6ykYuM2IyEwxQxOIi2ED2ttfZwueP-QU272T9-k4.ttf","100italic":"//fonts.gstatic.com/s/josefinslab/v6/8BjDChqLgBF3RJKfwHIYh3Xcj1rQwlNLIS625o-SrL0.ttf","300italic":"//fonts.gstatic.com/s/josefinslab/v6/af9sBoKGPbGO0r21xJulyyna0FLWfcB-J_SAYmcAXaI.ttf",regular:"//fonts.gstatic.com/s/josefinslab/v6/46aYWdgz-1oFX11flmyEfS3USBnSvpkopQaUR-2r7iU.ttf",italic:"//fonts.gstatic.com/s/josefinslab/v6/etsUjZYO8lTLU85lDhZwUvMZXuCXbOrAvx5R0IT5Oyo.ttf","600italic":"//fonts.gstatic.com/s/josefinslab/v6/af9sBoKGPbGO0r21xJuly4R-5-urNOGAobhAyctHvW8.ttf","700italic":"//fonts.gstatic.com/s/josefinslab/v6/af9sBoKGPbGO0r21xJuly_As9-1nE9qOqhChW0m4nDE.ttf"}},{kind:"webfonts#webfont",family:"Joti One",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/jotione/v4/P3r_Th0ESHJdzunsvWgUfQ.ttf"}},{kind:"webfonts#webfont",family:"Judson",category:"serif",variants:["regular","italic","700"],subsets:["latin","latin-ext","vietnamese"],version:"v9",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/judson/v9/he4a2LwiPJc7r8x0oKCKiA.ttf",regular:"//fonts.gstatic.com/s/judson/v9/znM1AAs0eytUaJzf1CrYZQ.ttf",italic:"//fonts.gstatic.com/s/judson/v9/GVqQW9P52ygW-ySq-CLwAA.ttf"}},{kind:"webfonts#webfont",family:"Julee",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/julee/v6/CAib-jsUsSO8SvVRnE9fHA.ttf"}},{kind:"webfonts#webfont",family:"Julius Sans One",category:"sans-serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/juliussansone/v5/iU65JP9acQHPDLkdalCF7jjVlsJB_M_Q_LtZxsoxvlw.ttf"}},{kind:"webfonts#webfont",family:"Junge",category:"serif",variants:["regular"],subsets:["latin"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/junge/v4/j4IXCXtxrw9qIBheercp3A.ttf"}},{kind:"webfonts#webfont",family:"Jura",category:"sans-serif",variants:["300","regular","500","600"],subsets:["greek","latin","cyrillic","latin-ext","cyrillic-ext"],version:"v7",lastModified:"2016-05-31",files:{300:"//fonts.gstatic.com/s/jura/v7/Rqx_xy1UnN0C7wD3FUSyPQ.ttf",500:"//fonts.gstatic.com/s/jura/v7/16xhfjHCiaLj3tsqqgmtGg.ttf",600:"//fonts.gstatic.com/s/jura/v7/iwseduOwJSdY8wQ1Y6CJdA.ttf",regular:"//fonts.gstatic.com/s/jura/v7/YAWMwF3sN0KCbynMq-Yr_Q.ttf"}},{kind:"webfonts#webfont",family:"Just Another Hand",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v7",lastModified:"2016-05-20",files:{regular:"//fonts.gstatic.com/s/justanotherhand/v7/fKV8XYuRNNagXr38eqbRf99BnJIEGrvoojniP57E51c.ttf"}},{kind:"webfonts#webfont",family:"Just Me Again Down Here",category:"handwriting",variants:["regular"],subsets:["latin","latin-ext"],version:"v8",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/justmeagaindownhere/v8/sN06iTc9ITubLTgXoG-kc3M9eVLpVTSK6TqZTIgBrWQ.ttf"}},{kind:"webfonts#webfont",family:"Kadwa",category:"serif",variants:["regular","700"],subsets:["latin","devanagari"],version:"v1",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/kadwa/v1/NFPZaBfekj_Io-7vUMz4Ww.ttf",regular:"//fonts.gstatic.com/s/kadwa/v1/VwEN8oKGqaa0ug9kRpvSSg.ttf"}},{kind:"webfonts#webfont",family:"Kalam",category:"handwriting",variants:["300","regular","700"],subsets:["latin","devanagari","latin-ext"],version:"v7",lastModified:"2016-06-07",files:{300:"//fonts.gstatic.com/s/kalam/v7/MgQQlk1SgPEHdlkWMNh7Jg.ttf",700:"//fonts.gstatic.com/s/kalam/v7/95nLItUGyWtNLZjSckluLQ.ttf",regular:"//fonts.gstatic.com/s/kalam/v7/hNEJkp2K-aql7e5WQish4Q.ttf"}},{kind:"webfonts#webfont",family:"Kameron",category:"serif",variants:["regular","700"],subsets:["latin"],version:"v7",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/kameron/v7/rabVVbzlflqvmXJUFlKnu_esZW2xOQ-xsNqO47m55DA.ttf",regular:"//fonts.gstatic.com/s/kameron/v7/9r8HYhqDSwcq9WMjupL82A.ttf"}},{kind:"webfonts#webfont",family:"Kanit",category:"sans-serif",variants:["100","100italic","200","200italic","300","300italic","regular","italic","500","500italic","600","600italic","700","700italic","800","800italic","900","900italic"],subsets:["latin","thai","latin-ext","vietnamese"],version:"v1",lastModified:"2016-05-31",files:{100:"//fonts.gstatic.com/s/kanit/v1/CYl4qOK-NWwZp3iTKW1eIA.ttf",200:"//fonts.gstatic.com/s/kanit/v1/wfLWkj1C4tYl7MoiFWS3bA.ttf",300:"//fonts.gstatic.com/s/kanit/v1/SM5qHynYGdOmMKEwGUFIPA.ttf",500:"//fonts.gstatic.com/s/kanit/v1/GxoU_USIJyIy8WIcYSUO2g.ttf",600:"//fonts.gstatic.com/s/kanit/v1/n_qoIVxojeQY0D1pvoNDhA.ttf",700:"//fonts.gstatic.com/s/kanit/v1/kEGmYvO8My36j5ILmbUPRg.ttf",800:"//fonts.gstatic.com/s/kanit/v1/YTp-zAuKXxwnA1YnJIF1rg.ttf",900:"//fonts.gstatic.com/s/kanit/v1/1NIEkusi3bG3GgO9Hor3fQ.ttf","100italic":"//fonts.gstatic.com/s/kanit/v1/NLNtc56MpXmHl1yOrop8oQ.ttf","200italic":"//fonts.gstatic.com/s/kanit/v1/D8gkrAAM2bvNJ-1i4ot-1_esZW2xOQ-xsNqO47m55DA.ttf","300italic":"//fonts.gstatic.com/s/kanit/v1/IePislKOKy3Bqfpb9V5VM_esZW2xOQ-xsNqO47m55DA.ttf",regular:"//fonts.gstatic.com/s/kanit/v1/L6VKvM17ZmevDynOiw7H9w.ttf",italic:"//fonts.gstatic.com/s/kanit/v1/sHLq5U0-T0oSMTnwTKgv-A.ttf","500italic":"//fonts.gstatic.com/s/kanit/v1/hrCiWCaNv9AaF0mDY1F2zPesZW2xOQ-xsNqO47m55DA.ttf","600italic":"//fonts.gstatic.com/s/kanit/v1/9BkP85yRDoVayTWQwdGLqPesZW2xOQ-xsNqO47m55DA.ttf","700italic":"//fonts.gstatic.com/s/kanit/v1/WNo3ZZ9xtOZJknNlvHAFWfesZW2xOQ-xsNqO47m55DA.ttf","800italic":"//fonts.gstatic.com/s/kanit/v1/qiTGrW5sCa9UQp841fWjc_esZW2xOQ-xsNqO47m55DA.ttf","900italic":"//fonts.gstatic.com/s/kanit/v1/ogN5dFD1r4BfxNV4Nb-TXfesZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Karma",category:"serif",variants:["300","regular","500","600","700"],subsets:["latin","devanagari","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{300:"//fonts.gstatic.com/s/karma/v5/lH6ijJnguWR2Sz7tEl6MQQ.ttf",500:"//fonts.gstatic.com/s/karma/v5/9YGjxi6Hcvz2Kh-rzO_cAw.ttf",600:"//fonts.gstatic.com/s/karma/v5/h_CVzXXtqSxjfS2sIwaejA.ttf",700:"//fonts.gstatic.com/s/karma/v5/smuSM08oApsQPPVYbHd1CA.ttf",regular:"//fonts.gstatic.com/s/karma/v5/wvqTxAGBUrTqU0urTEoPIw.ttf"}},{kind:"webfonts#webfont",family:"Katibeh",category:"display",variants:["regular"],subsets:["latin","arabic","latin-ext"],version:"v2",lastModified:"2016-06-20",files:{regular:"//fonts.gstatic.com/s/katibeh/v2/Q-SA43uWR2uu3wBIvedotA.ttf"}},{kind:"webfonts#webfont",family:"Kaushan Script",category:"handwriting",variants:["regular"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/kaushanscript/v5/qx1LSqts-NtiKcLw4N03IBnpV0hQCek3EmWnCPrvGRM.ttf"}},{kind:"webfonts#webfont",family:"Kavivanar",category:"handwriting",variants:["regular"],subsets:["latin","tamil","latin-ext"],version:"v1",lastModified:"2016-06-20",files:{regular:"//fonts.gstatic.com/s/kavivanar/v1/VLDrdUtF1irKFc8rFWgDaw.ttf"}},{kind:"webfonts#webfont",family:"Kavoon",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/kavoon/v5/382m-6baKXqJFQjEgobt6Q.ttf"}},{kind:"webfonts#webfont",family:"Keania One",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/keaniaone/v4/PACrDKZWngXzgo-ucl6buvesZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Kelly Slab",category:"display",variants:["regular"],subsets:["latin","cyrillic","latin-ext"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/kellyslab/v6/F_2oS1e9XdYx1MAi8XEVefesZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Kenia",category:"display",variants:["regular"],subsets:["latin"],version:"v8",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/kenia/v8/OLM9-XfITK9PsTLKbGBrwg.ttf"}},{kind:"webfonts#webfont",family:"Khand",category:"sans-serif",variants:["300","regular","500","600","700"],subsets:["latin","devanagari","latin-ext"],version:"v4",lastModified:"2016-06-07",files:{300:"//fonts.gstatic.com/s/khand/v4/072zRl4OU9Pinjjkg174LA.ttf",500:"//fonts.gstatic.com/s/khand/v4/46_p-SqtuMe56nxQdteWxg.ttf",600:"//fonts.gstatic.com/s/khand/v4/zggGWYIiPJyMTgkfxP_kaA.ttf",700:"//fonts.gstatic.com/s/khand/v4/0I0UWaN-X5QBmfexpXKhqg.ttf",regular:"//fonts.gstatic.com/s/khand/v4/HdLdTNFqNIDGJZl1ZEj84w.ttf"}},{kind:"webfonts#webfont",family:"Khula",category:"sans-serif",variants:["300","regular","600","700","800"],subsets:["latin","devanagari","latin-ext"],version:"v1",lastModified:"2016-05-31",files:{300:"//fonts.gstatic.com/s/khula/v1/_1LySU5Upq-sc4OZ1b_GIw.ttf",600:"//fonts.gstatic.com/s/khula/v1/4ZH86Hce-aeFDaedTnbkbg.ttf",700:"//fonts.gstatic.com/s/khula/v1/UGVExGl-Jjs-YPpGv-MZ6w.ttf",800:"//fonts.gstatic.com/s/khula/v1/Sccp_oOo8FWgbx5smie7xQ.ttf",regular:"//fonts.gstatic.com/s/khula/v1/izcPIFyCSd16XI1Ak_Wk7Q.ttf"}},{kind:"webfonts#webfont",family:"Kite One",category:"sans-serif",variants:["regular"],subsets:["latin"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/kiteone/v4/8ojWmgUc97m0f_i6sTqLoQ.ttf"}},{kind:"webfonts#webfont",family:"Knewave",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/knewave/v5/KGHM4XWr4iKnBMqzZLkPBg.ttf"}},{kind:"webfonts#webfont",family:"Kotta One",category:"serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/kottaone/v4/AB2Q7hVw6niJYDgLvFXu5w.ttf"}},{kind:"webfonts#webfont",family:"Kranky",category:"display",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/kranky/v6/C8dxxTS99-fZ84vWk8SDrg.ttf"}},{kind:"webfonts#webfont",family:"Kreon",category:"serif",variants:["300","regular","700"],subsets:["latin"],version:"v9",lastModified:"2016-05-31",files:{300:"//fonts.gstatic.com/s/kreon/v9/HKtJRiq5C2zbq5N1IX32sA.ttf",700:"//fonts.gstatic.com/s/kreon/v9/jh0dSmaPodjxISiblIUTkw.ttf",regular:"//fonts.gstatic.com/s/kreon/v9/zA_IZt0u0S3cvHJu-n1oEg.ttf"}},{kind:"webfonts#webfont",family:"Kristi",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v7",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/kristi/v7/aRsgBQrkQkMlu4UPSnJyOQ.ttf"}},{kind:"webfonts#webfont",family:"Krona One",category:"sans-serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/kronaone/v4/zcQj4ljqTo166AdourlF9w.ttf"}},{kind:"webfonts#webfont",family:"Kumar One",category:"display",variants:["regular"],subsets:["latin","gujarati","latin-ext"],version:"v1",lastModified:"2016-06-20",files:{regular:"//fonts.gstatic.com/s/kumarone/v1/YmcJD6Wky1clGYY5OD-BkQ.ttf"}},{kind:"webfonts#webfont",family:"Kumar One Outline",category:"display",variants:["regular"],subsets:["latin","gujarati","latin-ext"],version:"v1",lastModified:"2016-06-20",files:{regular:"//fonts.gstatic.com/s/kumaroneoutline/v1/hnQF47H-55qiLAGgq7C3QyxhoCTLJoiJ-y-zew8F8j0.ttf"}},{kind:"webfonts#webfont",family:"Kurale",category:"serif",variants:["regular"],subsets:["latin","cyrillic","devanagari","latin-ext"],version:"v1",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/kurale/v1/rxeyIcvQlT4XAWwNbXFCfw.ttf"}},{kind:"webfonts#webfont",family:"La Belle Aurore",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v7",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/labelleaurore/v7/Irdbc4ASuUoWDjd_Wc3md123K2iuuhwZgaKapkyRTY8.ttf"}},{kind:"webfonts#webfont",family:"Laila",category:"serif",variants:["300","regular","500","600","700"],subsets:["latin","devanagari","latin-ext"],version:"v2",lastModified:"2016-06-07",files:{300:"//fonts.gstatic.com/s/laila/v2/bLbIVEZF3IWSZ-in72GJvA.ttf",500:"//fonts.gstatic.com/s/laila/v2/tkf8VtFvW9g3VsxQCA6WOQ.ttf",600:"//fonts.gstatic.com/s/laila/v2/3EMP2L6JRQ4GaHIxCldCeA.ttf",700:"//fonts.gstatic.com/s/laila/v2/R7P4z1xjcjecmjZ9GyhqHQ.ttf",regular:"//fonts.gstatic.com/s/laila/v2/6iYor3edprH7360qtBGoag.ttf"}},{kind:"webfonts#webfont",family:"Lakki Reddy",category:"handwriting",variants:["regular"],subsets:["latin","telugu"],version:"v3",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/lakkireddy/v3/Q5EpFa91FjW37t0FCnedaKCWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Lalezar",category:"display",variants:["regular"],subsets:["latin","arabic","latin-ext","vietnamese"],version:"v1",lastModified:"2016-06-20",files:{regular:"//fonts.gstatic.com/s/lalezar/v1/k4_MPf09PGmL7oyGdPKwcg.ttf"}},{kind:"webfonts#webfont",family:"Lancelot",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/lancelot/v6/XMT7T_oo_MQUGAnU2v-sdA.ttf"}},{kind:"webfonts#webfont",family:"Lateef",category:"handwriting",variants:["regular"],subsets:["latin","arabic"],version:"v10",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/lateef/v10/PAsKCgi1qc7XPwvzo_I-DQ.ttf"}},{kind:"webfonts#webfont",family:"Lato",category:"sans-serif",variants:["100","100italic","300","300italic","regular","italic","700","700italic","900","900italic"],subsets:["latin","latin-ext"],version:"v11",lastModified:"2016-05-31",files:{100:"//fonts.gstatic.com/s/lato/v11/Upp-ka9rLQmHYCsFgwL-eg.ttf",300:"//fonts.gstatic.com/s/lato/v11/Ja02qOppOVq9jeRjWekbHg.ttf",700:"//fonts.gstatic.com/s/lato/v11/iX_QxBBZLhNj5JHlTzHQzg.ttf",900:"//fonts.gstatic.com/s/lato/v11/8TPEV6NbYWZlNsXjbYVv7w.ttf","100italic":"//fonts.gstatic.com/s/lato/v11/zLegi10uS_9-fnUDISl0KA.ttf","300italic":"//fonts.gstatic.com/s/lato/v11/dVebFcn7EV7wAKwgYestUg.ttf",regular:"//fonts.gstatic.com/s/lato/v11/h7rISIcQapZBpei-sXwIwg.ttf",italic:"//fonts.gstatic.com/s/lato/v11/P_dJOFJylV3A870UIOtr0w.ttf","700italic":"//fonts.gstatic.com/s/lato/v11/WFcZakHrrCKeUJxHA4T_gw.ttf","900italic":"//fonts.gstatic.com/s/lato/v11/draWperrI7n2xi35Cl08fA.ttf"}},{kind:"webfonts#webfont",family:"League Script",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v7",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/leaguescript/v7/wnRFLvfabWK_DauqppD6vSeUSrabuTpOsMEiRLtKwk0.ttf"}},{kind:"webfonts#webfont",family:"Leckerli One",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v7",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/leckerlione/v7/S2Y_iLrItTu8kIJTkS7DrC3USBnSvpkopQaUR-2r7iU.ttf"}},{kind:"webfonts#webfont",family:"Ledger",category:"serif",variants:["regular"],subsets:["latin","cyrillic","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/ledger/v4/G432jp-tahOfWHbCYkI0jw.ttf"}},{kind:"webfonts#webfont",family:"Lekton",category:"sans-serif",variants:["regular","italic","700"],subsets:["latin","latin-ext"],version:"v7",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/lekton/v7/WZw-uL8WTkx3SBVfTlevXQ.ttf",regular:"//fonts.gstatic.com/s/lekton/v7/r483JYmxf5PjIm4jVAm8Yg.ttf",italic:"//fonts.gstatic.com/s/lekton/v7/_UbDIPBA1wDqSbhp-OED7A.ttf"}},{kind:"webfonts#webfont",family:"Lemon",category:"display",variants:["regular"],subsets:["latin"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/lemon/v5/wed1nNu4LNSu-3RoRVUhUw.ttf"}},{kind:"webfonts#webfont",family:"Lemonada",category:"display",variants:["300","regular","600","700"],subsets:["latin","arabic","latin-ext","vietnamese"],version:"v2",lastModified:"2016-06-20",files:{300:"//fonts.gstatic.com/s/lemonada/v2/uM3MufQOcwGHuruj4TsXiqCWcynf_cDxXwCLxiixG1c.ttf",600:"//fonts.gstatic.com/s/lemonada/v2/9Vd4MNKsOxNyLzlfTXdKLqCWcynf_cDxXwCLxiixG1c.ttf",700:"//fonts.gstatic.com/s/lemonada/v2/9jKcm4hRI511-Dy7FFfQ3aCWcynf_cDxXwCLxiixG1c.ttf",regular:"//fonts.gstatic.com/s/lemonada/v2/pkzws3AUXmaaAzOi7aydSQ.ttf"}},{kind:"webfonts#webfont",family:"Libre Baskerville",category:"serif",variants:["regular","italic","700"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/librebaskerville/v4/kH7K4InNTm7mmOXXjrA5v-xuswJKUVpBRfYFpz0W3Iw.ttf",regular:"//fonts.gstatic.com/s/librebaskerville/v4/pR0sBQVcY0JZc_ciXjFsKyyZRYCSvpCzQKuMWnP5NDY.ttf",italic:"//fonts.gstatic.com/s/librebaskerville/v4/QHIOz1iKF3bIEzRdDFaf5QnhapNS5Oi8FPrBRDLbsW4.ttf"}},{kind:"webfonts#webfont",family:"Libre Franklin",category:"sans-serif",variants:["100","100italic","200","200italic","300","300italic","regular","italic","500","500italic","600","600italic","700","700italic","800","800italic","900","900italic"],subsets:["latin","latin-ext"],version:"v1",lastModified:"2016-06-20",files:{100:"//fonts.gstatic.com/s/librefranklin/v1/zrsyK9EytLQ07oRM9IZIsX6Zf0VB_l-7q6pFtcZSRCs.ttf",200:"//fonts.gstatic.com/s/librefranklin/v1/1_DGDtljMiPWFs5rl_p0yCwKTB4uIbnDXE2hyxZaFPY.ttf",300:"//fonts.gstatic.com/s/librefranklin/v1/1_DGDtljMiPWFs5rl_p0yMhKJW3W9-339CFS_Lie1us.ttf",500:"//fonts.gstatic.com/s/librefranklin/v1/1_DGDtljMiPWFs5rl_p0yMBjwrbmxH6gp8HgxjPD8qo.ttf",600:"//fonts.gstatic.com/s/librefranklin/v1/1_DGDtljMiPWFs5rl_p0yORt4MKdIUjA60qLK3wI2m8.ttf",700:"//fonts.gstatic.com/s/librefranklin/v1/1_DGDtljMiPWFs5rl_p0yEnStGWSv3WdwjmyyI8xc7Q.ttf",800:"//fonts.gstatic.com/s/librefranklin/v1/1_DGDtljMiPWFs5rl_p0yKltwG0cydF-uC1kFVv1hts.ttf",900:"//fonts.gstatic.com/s/librefranklin/v1/1_DGDtljMiPWFs5rl_p0yF7duMYIKwoQ5QsTL00fobw.ttf","100italic":"//fonts.gstatic.com/s/librefranklin/v1/LHzsuUmxr4UY-IoiG8pRK4gsWNE1DYiT_eIOcNe2Au4.ttf","200italic":"//fonts.gstatic.com/s/librefranklin/v1/7_V210XP3LBEtEwiCTqho0lu1sSkaQaYEjN61aJ3i1I.ttf","300italic":"//fonts.gstatic.com/s/librefranklin/v1/7_V210XP3LBEtEwiCTqho14je5cfhxzx5bEvSaoyQQI.ttf",regular:"//fonts.gstatic.com/s/librefranklin/v1/PFwjf3aDdAQPvNKUrT3U7_fSnedoLXQQjURyDxluu8g.ttf",italic:"//fonts.gstatic.com/s/librefranklin/v1/zrsyK9EytLQ07oRM9IZIsX5kKxjpQfTpnFf2SrDLxlg.ttf","500italic":"//fonts.gstatic.com/s/librefranklin/v1/7_V210XP3LBEtEwiCTqho5VcuOW5XbZIr02vW37iuvg.ttf","600italic":"//fonts.gstatic.com/s/librefranklin/v1/7_V210XP3LBEtEwiCTqhowNPRgU5g4Xymf9hgRWrbNs.ttf","700italic":"//fonts.gstatic.com/s/librefranklin/v1/7_V210XP3LBEtEwiCTqhow7kn3RFjf4gfwsdsBE-Rf4.ttf","800italic":"//fonts.gstatic.com/s/librefranklin/v1/7_V210XP3LBEtEwiCTqho80d7u0uHUbaRkK-cNyim1w.ttf","900italic":"//fonts.gstatic.com/s/librefranklin/v1/7_V210XP3LBEtEwiCTqho0THpHUXJVnEwH4tSjkF0wg.ttf"}},{kind:"webfonts#webfont",family:"Life Savers",category:"display",variants:["regular","700"],subsets:["latin","latin-ext"],version:"v6",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/lifesavers/v6/THQKqChyYUm97rNPVFdGGXe1Pd76Vl7zRpE7NLJQ7XU.ttf",regular:"//fonts.gstatic.com/s/lifesavers/v6/g49cUDk4Y1P0G5NMkMAm7qCWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Lilita One",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/lilitaone/v4/vTxJQjbNV6BCBHx8sGDCVvesZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Lily Script One",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/lilyscriptone/v4/uPWsLVW8uiXqIBnE8ZwGPDjVlsJB_M_Q_LtZxsoxvlw.ttf"}},{kind:"webfonts#webfont",family:"Limelight",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v7",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/limelight/v7/5dTfN6igsXjLjOy8QQShcg.ttf"}},{kind:"webfonts#webfont",family:"Linden Hill",category:"serif",variants:["regular","italic"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/lindenhill/v6/UgsC0txqd-E1yjvjutwm_KCWcynf_cDxXwCLxiixG1c.ttf",italic:"//fonts.gstatic.com/s/lindenhill/v6/OcS3bZcu8vJvIDH8Zic83keOrDcLawS7-ssYqLr2Xp4.ttf"}},{kind:"webfonts#webfont",family:"Lobster",category:"display",variants:["regular"],subsets:["latin","cyrillic","latin-ext","vietnamese"],version:"v18",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/lobster/v18/9LpJGtNuM1D8FAZ2BkJH2Q.ttf"}},{kind:"webfonts#webfont",family:"Lobster Two",category:"display",variants:["regular","italic","700","700italic"],subsets:["latin"],version:"v9",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/lobstertwo/v9/bmdxOflBqMqjEC0-kGsIiHe1Pd76Vl7zRpE7NLJQ7XU.ttf",regular:"//fonts.gstatic.com/s/lobstertwo/v9/xb9aY4w9ceh8JRzobID1naCWcynf_cDxXwCLxiixG1c.ttf",italic:"//fonts.gstatic.com/s/lobstertwo/v9/Ul_16MSbfayQv1I4QhLEoEeOrDcLawS7-ssYqLr2Xp4.ttf","700italic":"//fonts.gstatic.com/s/lobstertwo/v9/LEkN2_no_6kFvRfiBZ8xpM_zJjSACmk0BRPxQqhnNLU.ttf"}},{kind:"webfonts#webfont",family:"Londrina Outline",category:"display",variants:["regular"],subsets:["latin"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/londrinaoutline/v5/lls08GOa1eT74p072l1AWJmp8DTZ6iHear7UV05iykg.ttf"}},{kind:"webfonts#webfont",family:"Londrina Shadow",category:"display",variants:["regular"],subsets:["latin"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/londrinashadow/v4/dNYuzPS_7eYgXFJBzMoKdbw6Z3rVA5KDSi7aQxS92Nk.ttf"}},{kind:"webfonts#webfont",family:"Londrina Sketch",category:"display",variants:["regular"],subsets:["latin"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/londrinasketch/v4/p7Ai06aT1Ycp_D2fyE3z69d6z_uhFGnpCOifUY1fJQo.ttf"}},{kind:"webfonts#webfont",family:"Londrina Solid",category:"display",variants:["regular"],subsets:["latin"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/londrinasolid/v4/yysorIEiYSBb0ylZjg791MR125CwGqh8XBqkBzea0LA.ttf"}},{kind:"webfonts#webfont",family:"Lora",category:"serif",variants:["regular","italic","700","700italic"],subsets:["latin","cyrillic","latin-ext"],version:"v9",lastModified:"2016-06-07",files:{700:"//fonts.gstatic.com/s/lora/v9/enKND5SfzQKkggBA_VnT1A.ttf",regular:"//fonts.gstatic.com/s/lora/v9/aXJ7KVIGcejEy1abawZazg.ttf",italic:"//fonts.gstatic.com/s/lora/v9/AN2EZaj2tFRpyveuNn9BOg.ttf","700italic":"//fonts.gstatic.com/s/lora/v9/ivs9j3kYU65pR9QD9YFdzQ.ttf"}},{kind:"webfonts#webfont",family:"Love Ya Like A Sister",category:"display",variants:["regular"],subsets:["latin"],version:"v7",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/loveyalikeasister/v7/LzkxWS-af0Br2Sk_YgSJY-ad1xEP8DQfgfY8MH9aBUg.ttf"}},{kind:"webfonts#webfont",family:"Loved by the King",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/lovedbytheking/v6/wg03xD4cWigj4YDufLBSr8io2AFEwwMpu7y5KyiyAJc.ttf"}},{kind:"webfonts#webfont",family:"Lovers Quarrel",category:"handwriting",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/loversquarrel/v4/gipdZ8b7pKb89MzQLAtJHLHLxci2ElvNEmOB303HLk0.ttf"}},{kind:"webfonts#webfont",family:"Luckiest Guy",category:"display",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/luckiestguy/v6/5718gH8nDy3hFVihOpkY5C3USBnSvpkopQaUR-2r7iU.ttf"}},{kind:"webfonts#webfont",family:"Lusitana",category:"serif",variants:["regular","700"],subsets:["latin"],version:"v4",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/lusitana/v4/GWtZyUsONxgkdl3Mc1P7FKCWcynf_cDxXwCLxiixG1c.ttf",regular:"//fonts.gstatic.com/s/lusitana/v4/l1h9VDomkwbdzbPdmLcUIw.ttf"}},{kind:"webfonts#webfont",family:"Lustria",category:"serif",variants:["regular"],subsets:["latin"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/lustria/v4/gXAk0s4ai0X-TAOhYzZd1w.ttf"}},{kind:"webfonts#webfont",family:"Macondo",category:"display",variants:["regular"],subsets:["latin"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/macondo/v5/G6yPNUscRPQ8ufBXs_8yRQ.ttf"}},{kind:"webfonts#webfont",family:"Macondo Swash Caps",category:"display",variants:["regular"],subsets:["latin"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/macondoswashcaps/v4/SsSR706z-MlvEH7_LS6JAPkkgYRHs6GSG949m-K6x2k.ttf"}},{kind:"webfonts#webfont",family:"Mada",category:"sans-serif",variants:["300","regular","500","900"],subsets:["latin","arabic"],version:"v1",lastModified:"2016-06-20",files:{300:"//fonts.gstatic.com/s/mada/v1/P46fye2TPh4fVwALgHSXCA.ttf",500:"//fonts.gstatic.com/s/mada/v1/PhhDsBi34sP0LptbpS9m6w.ttf",900:"//fonts.gstatic.com/s/mada/v1/aCyc9Kc3rOJLL6fV9VfptA.ttf",regular:"//fonts.gstatic.com/s/mada/v1/io_zUrt5o943T_q45OHLWQ.ttf"}},{kind:"webfonts#webfont",family:"Magra",category:"sans-serif",variants:["regular","700"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/magra/v4/6fOM5sq5cIn8D0RjX8Lztw.ttf",regular:"//fonts.gstatic.com/s/magra/v4/hoZ13bwCXBxuGZqAudgc5A.ttf"}},{kind:"webfonts#webfont",family:"Maiden Orange",category:"display",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/maidenorange/v6/ZhKIA2SPisEwdhW7g0RUWojjx0o0jr6fNXxPgYh_a8Q.ttf"}},{kind:"webfonts#webfont",family:"Maitree",category:"serif",variants:["200","300","regular","500","600","700"],subsets:["latin","thai","latin-ext","vietnamese"],version:"v1",lastModified:"2016-06-20",files:{200:"//fonts.gstatic.com/s/maitree/v1/JTlrRs3bVPV4i05cUIx_z_esZW2xOQ-xsNqO47m55DA.ttf",300:"//fonts.gstatic.com/s/maitree/v1/rEGdABAOaqCHggl37mkWjfesZW2xOQ-xsNqO47m55DA.ttf",500:"//fonts.gstatic.com/s/maitree/v1/2VHD7TXjRhN4Xu74SEPGdvesZW2xOQ-xsNqO47m55DA.ttf",600:"//fonts.gstatic.com/s/maitree/v1/uuazDnPwt30gW3cKsG-e0_esZW2xOQ-xsNqO47m55DA.ttf",700:"//fonts.gstatic.com/s/maitree/v1/cnHhc9fphsL3q-pistN3IPesZW2xOQ-xsNqO47m55DA.ttf",regular:"//fonts.gstatic.com/s/maitree/v1/SpKVJkAjDAYOr1VkdSRspA.ttf"}},{kind:"webfonts#webfont",family:"Mako",category:"sans-serif",variants:["regular"],subsets:["latin"],version:"v7",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/mako/v7/z5zSLmfPlv1uTVAdmJBLXg.ttf"}},{kind:"webfonts#webfont",family:"Mallanna",category:"sans-serif",variants:["regular"],subsets:["latin","telugu"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/mallanna/v4/krCTa-CfMbtxqF0689CbuQ.ttf"}},{kind:"webfonts#webfont",family:"Mandali",category:"sans-serif",variants:["regular"],subsets:["latin","telugu"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/mandali/v4/0lF8yJ7fkyjXuqtSi5bWbQ.ttf"}},{kind:"webfonts#webfont",family:"Marcellus",category:"serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/marcellus/v4/UjiLZzumxWC9whJ86UtaYw.ttf"}},{kind:"webfonts#webfont",family:"Marcellus SC",category:"serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/marcellussc/v4/_jugwxhkkynrvsfrxVx8gS3USBnSvpkopQaUR-2r7iU.ttf"}},{kind:"webfonts#webfont",family:"Marck Script",category:"handwriting",variants:["regular"],subsets:["latin","cyrillic","latin-ext"],version:"v7",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/marckscript/v7/O_D1NAZVOFOobLbVtW3bci3USBnSvpkopQaUR-2r7iU.ttf"}},{kind:"webfonts#webfont",family:"Margarine",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/margarine/v5/DJnJwIrcO_cGkjSzY3MERw.ttf"}},{kind:"webfonts#webfont",family:"Marko One",category:"serif",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/markoone/v6/hpP7j861sOAco43iDc4n4w.ttf"}},{kind:"webfonts#webfont",family:"Marmelad",category:"sans-serif",variants:["regular"],subsets:["latin","cyrillic","latin-ext"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/marmelad/v6/jI0_FBlSOIRLL0ePWOhOwQ.ttf"}},{kind:"webfonts#webfont",family:"Martel",category:"serif",variants:["200","300","regular","600","700","800","900"],subsets:["latin","devanagari","latin-ext"],version:"v1",lastModified:"2016-05-31",files:{200:"//fonts.gstatic.com/s/martel/v1/_wfGdswZbat7P4tupHLA1w.ttf",300:"//fonts.gstatic.com/s/martel/v1/SghoV2F2VPdVU3P0a4fa9w.ttf",600:"//fonts.gstatic.com/s/martel/v1/Kt9uPhH1PvUwuZ5Y6zuAMQ.ttf",700:"//fonts.gstatic.com/s/martel/v1/4OzIiKB5wE36xXL2U0vzWQ.ttf",800:"//fonts.gstatic.com/s/martel/v1/RVF8drcQoRkRL7l_ZkpTlQ.ttf",900:"//fonts.gstatic.com/s/martel/v1/iS0YUpFJoiLRlnyl40rpEA.ttf",regular:"//fonts.gstatic.com/s/martel/v1/9ALu5czkaaf5zsYk6GJEnQ.ttf"}},{kind:"webfonts#webfont",family:"Martel Sans",category:"sans-serif",variants:["200","300","regular","600","700","800","900"],subsets:["latin","devanagari","latin-ext"],version:"v2",lastModified:"2016-05-31",files:{200:"//fonts.gstatic.com/s/martelsans/v2/7ajme85aKKx_SCWF59ImQEnzyIngrzGjGh22wPb6cGM.ttf",300:"//fonts.gstatic.com/s/martelsans/v2/7ajme85aKKx_SCWF59ImQC9-WlPSxbfiI49GsXo3q0g.ttf",600:"//fonts.gstatic.com/s/martelsans/v2/7ajme85aKKx_SCWF59ImQJZ7xm-Bj30Bj2KNdXDzSZg.ttf",700:"//fonts.gstatic.com/s/martelsans/v2/7ajme85aKKx_SCWF59ImQHe1Pd76Vl7zRpE7NLJQ7XU.ttf",800:"//fonts.gstatic.com/s/martelsans/v2/7ajme85aKKx_SCWF59ImQA89PwPrYLaRFJ-HNCU9NbA.ttf",900:"//fonts.gstatic.com/s/martelsans/v2/7ajme85aKKx_SCWF59ImQCenaqEuufTBk9XMKnKmgDA.ttf",regular:"//fonts.gstatic.com/s/martelsans/v2/91c8DPDZncMc0RFfhmc2RqCWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Marvel",category:"sans-serif",variants:["regular","italic","700","700italic"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/marvel/v6/WrHDBL1RupWGo2UcdgxB3Q.ttf",regular:"//fonts.gstatic.com/s/marvel/v6/Fg1dO8tWVb-MlyqhsbXEkg.ttf",italic:"//fonts.gstatic.com/s/marvel/v6/HzyjFB-oR5usrc7Lxz9g8w.ttf","700italic":"//fonts.gstatic.com/s/marvel/v6/Gzf5NT09Y6xskdQRj2kz1qCWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Mate",category:"serif",variants:["regular","italic"],subsets:["latin"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/mate/v5/ooFviPcJ6hZP5bAE71Cawg.ttf",italic:"//fonts.gstatic.com/s/mate/v5/5XwW6_cbisGvCX5qmNiqfA.ttf"}},{kind:"webfonts#webfont",family:"Mate SC",category:"serif",variants:["regular"],subsets:["latin"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/matesc/v5/-YkIT2TZoPZF6pawKzDpWw.ttf"}},{kind:"webfonts#webfont",family:"Maven Pro",category:"sans-serif",variants:["regular","500","700","900"],subsets:["latin"],version:"v7",lastModified:"2016-05-31",files:{500:"//fonts.gstatic.com/s/mavenpro/v7/SQVfzoJBbj9t3aVcmbspRi3USBnSvpkopQaUR-2r7iU.ttf",700:"//fonts.gstatic.com/s/mavenpro/v7/uDssvmXgp7Nj3i336k_dSi3USBnSvpkopQaUR-2r7iU.ttf",900:"//fonts.gstatic.com/s/mavenpro/v7/-91TwiFzqeL1F7Kh91APwS3USBnSvpkopQaUR-2r7iU.ttf",regular:"//fonts.gstatic.com/s/mavenpro/v7/sqPJIFG4gqsjl-0q_46Gbw.ttf"}},{kind:"webfonts#webfont",family:"McLaren",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/mclaren/v4/OprvTGxaiINBKW_1_U0eoQ.ttf"}},{kind:"webfonts#webfont",family:"Meddon",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v9",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/meddon/v9/f8zJO98uu2EtSj9p7ci9RA.ttf"}},{kind:"webfonts#webfont",family:"MedievalSharp",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v8",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/medievalsharp/v8/85X_PjV6tftJ0-rX7KYQkOe45sJkivqprK7VkUlzfg0.ttf"}},{kind:"webfonts#webfont",family:"Medula One",category:"display",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/medulaone/v6/AasPgDQak81dsTGQHc5zUPesZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Meera Inimai",category:"sans-serif",variants:["regular"],subsets:["latin","tamil"],version:"v1",lastModified:"2016-06-20",files:{regular:"//fonts.gstatic.com/s/meerainimai/v1/fWbdJc2ZVZnWCi06NRCxDy3USBnSvpkopQaUR-2r7iU.ttf"}},{kind:"webfonts#webfont",family:"Megrim",category:"display",variants:["regular"],subsets:["latin"],version:"v7",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/megrim/v7/e-9jVUC9lv1zxaFQARuftw.ttf"}},{kind:"webfonts#webfont",family:"Meie Script",category:"handwriting",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/meiescript/v4/oTIWE5MmPye-rCyVp_6KEqCWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Merienda",category:"handwriting",variants:["regular","700"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/merienda/v4/GlwcvRLlgiVE2MBFQ4r0sKCWcynf_cDxXwCLxiixG1c.ttf",regular:"//fonts.gstatic.com/s/merienda/v4/MYY6Og1qZlOQtPW2G95Y3A.ttf"}},{kind:"webfonts#webfont",family:"Merienda One",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v7",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/meriendaone/v7/bCA-uDdUx6nTO8SjzCLXvS3USBnSvpkopQaUR-2r7iU.ttf"}},{kind:"webfonts#webfont",family:"Merriweather",category:"serif",variants:["300","300italic","regular","italic","700","700italic","900","900italic"],subsets:["latin","cyrillic","latin-ext","cyrillic-ext"],version:"v13",lastModified:"2016-06-07",files:{300:"//fonts.gstatic.com/s/merriweather/v13/ZvcMqxEwPfh2qDWBPxn6nqcQoVhARpoaILP7amxE_8g.ttf",700:"//fonts.gstatic.com/s/merriweather/v13/ZvcMqxEwPfh2qDWBPxn6nkD2ttfZwueP-QU272T9-k4.ttf",900:"//fonts.gstatic.com/s/merriweather/v13/ZvcMqxEwPfh2qDWBPxn6nqObDOjC3UL77puoeHsE3fw.ttf","300italic":"//fonts.gstatic.com/s/merriweather/v13/EYh7Vl4ywhowqULgRdYwICna0FLWfcB-J_SAYmcAXaI.ttf",regular:"//fonts.gstatic.com/s/merriweather/v13/RFda8w1V0eDZheqfcyQ4EC3USBnSvpkopQaUR-2r7iU.ttf",italic:"//fonts.gstatic.com/s/merriweather/v13/So5lHxHT37p2SS4-t60SlPMZXuCXbOrAvx5R0IT5Oyo.ttf","700italic":"//fonts.gstatic.com/s/merriweather/v13/EYh7Vl4ywhowqULgRdYwIPAs9-1nE9qOqhChW0m4nDE.ttf","900italic":"//fonts.gstatic.com/s/merriweather/v13/EYh7Vl4ywhowqULgRdYwIBd0_s6jQr9r5s5OZYvtzBY.ttf"}},{kind:"webfonts#webfont",family:"Merriweather Sans",category:"sans-serif",variants:["300","300italic","regular","italic","700","700italic","800","800italic"],subsets:["latin","latin-ext"],version:"v8",lastModified:"2016-05-31",files:{300:"//fonts.gstatic.com/s/merriweathersans/v8/6LmGj5dOJopQKEkt88Gowan5N8K-_DP0e9e_v51obXQ.ttf",700:"//fonts.gstatic.com/s/merriweathersans/v8/6LmGj5dOJopQKEkt88GowbqxG25nQNOioCZSK4sU-CA.ttf",800:"//fonts.gstatic.com/s/merriweathersans/v8/6LmGj5dOJopQKEkt88GowYufzO2zUYSj5LqoJ3UGkco.ttf","300italic":"//fonts.gstatic.com/s/merriweathersans/v8/nAqt4hiqwq3tzCecpgPmVdytE4nGXk2hYD5nJ740tBw.ttf",regular:"//fonts.gstatic.com/s/merriweathersans/v8/AKu1CjQ4qnV8MUltkAX3sOAj_ty82iuwwDTNEYXGiyQ.ttf",italic:"//fonts.gstatic.com/s/merriweathersans/v8/3Mz4hOHzs2npRMG3B1ascZ32VBCoA_HLsn85tSWZmdo.ttf","700italic":"//fonts.gstatic.com/s/merriweathersans/v8/nAqt4hiqwq3tzCecpgPmVbuqAJxizi8Dk_SK5et7kMg.ttf","800italic":"//fonts.gstatic.com/s/merriweathersans/v8/nAqt4hiqwq3tzCecpgPmVdDmPrYMy3aZO4LmnZsxTQw.ttf"}},{kind:"webfonts#webfont",family:"Metal Mania",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/metalmania/v6/isriV_rAUgj6bPWPN6l9QKCWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Metamorphous",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v6",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/metamorphous/v6/wGqUKXRinIYggz-BTRU9ei3USBnSvpkopQaUR-2r7iU.ttf"}},{kind:"webfonts#webfont",family:"Metrophobic",category:"sans-serif",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/metrophobic/v6/SaglWZWCrrv_D17u1i4v_aCWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Michroma",category:"sans-serif",variants:["regular"],subsets:["latin"],version:"v7",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/michroma/v7/0c2XrW81_QsiKV8T9thumA.ttf"}},{kind:"webfonts#webfont",family:"Milonga",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/milonga/v4/dzNdIUSTGFmy2ahovDRcWg.ttf"}},{kind:"webfonts#webfont",family:"Miltonian",category:"display",variants:["regular"],subsets:["latin"],version:"v10",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/miltonian/v10/Z4HrYZyqm0BnNNzcCUfzoQ.ttf"}},{kind:"webfonts#webfont",family:"Miltonian Tattoo",category:"display",variants:["regular"],subsets:["latin"],version:"v11",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/miltoniantattoo/v11/1oU_8OGYwW46eh02YHydn2uk0YtI6thZkz1Hmh-odwg.ttf"}},{kind:"webfonts#webfont",family:"Miniver",category:"display",variants:["regular"],subsets:["latin"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/miniver/v5/4yTQohOH_cWKRS5laRFhYg.ttf"}},{kind:"webfonts#webfont",family:"Miriam Libre",category:"sans-serif",variants:["regular","700"],subsets:["latin","hebrew","latin-ext"],version:"v1",lastModified:"2016-06-20",files:{700:"//fonts.gstatic.com/s/miriamlibre/v1/FLc0J-Gdn8ynDWUkeeesAED2ttfZwueP-QU272T9-k4.ttf",regular:"//fonts.gstatic.com/s/miriamlibre/v1/Ljtpu8zR5iJWmlN3Faba5S3USBnSvpkopQaUR-2r7iU.ttf"}},{kind:"webfonts#webfont",family:"Mirza",category:"display",variants:["regular","500","600","700"],subsets:["latin","arabic","latin-ext"],version:"v1",lastModified:"2016-06-20",files:{500:"//fonts.gstatic.com/s/mirza/v1/dT3HbZoBCx1xbU7PnFEFyQ.ttf",600:"//fonts.gstatic.com/s/mirza/v1/6T4uh2Zti9P6Eq_gbAYvVQ.ttf",700:"//fonts.gstatic.com/s/mirza/v1/b47CZDHoZdhnplmDpZymFw.ttf",regular:"//fonts.gstatic.com/s/mirza/v1/8oe36Xbgj9BMSLJBaZ8VAQ.ttf"}},{kind:"webfonts#webfont",family:"Miss Fajardose",category:"handwriting",variants:["regular"],subsets:["latin","latin-ext"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/missfajardose/v6/WcXjlQPKn6nBfr8LY3ktNu6rPKfVZo7L2bERcf0BDns.ttf"}},{kind:"webfonts#webfont",family:"Mitr",category:"sans-serif",variants:["200","300","regular","500","600","700"],subsets:["latin","thai","latin-ext","vietnamese"],version:"v1",lastModified:"2016-06-20",files:{200:"//fonts.gstatic.com/s/mitr/v1/GCzZRAhweqJhxrmM0bPztg.ttf",300:"//fonts.gstatic.com/s/mitr/v1/A61rQ_y9i8Ja__oFN7KxiQ.ttf",500:"//fonts.gstatic.com/s/mitr/v1/r_Z6yrJJ0zmkGAqxqjlLRg.ttf",600:"//fonts.gstatic.com/s/mitr/v1/42l66tb_XMxM97GKatU9Ng.ttf",700:"//fonts.gstatic.com/s/mitr/v1/V-V7Rul5HOZ651R4Tml2Lw.ttf",regular:"//fonts.gstatic.com/s/mitr/v1/vKMd72X2iT4iBo5GvdCa_A.ttf"}},{kind:"webfonts#webfont",family:"Modak",category:"display",variants:["regular"],subsets:["latin","devanagari","latin-ext"],version:"v2",lastModified:"2016-05-11",files:{regular:"//fonts.gstatic.com/s/modak/v2/lMsN0QIKid-pCPvL0hH4nw.ttf"}},{kind:"webfonts#webfont",family:"Modern Antiqua",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/modernantiqua/v6/8qX_tr6Xzy4t9fvZDXPkh6rFJ4O13IHVxZbM6yoslpo.ttf"}},{kind:"webfonts#webfont",family:"Mogra",category:"display",variants:["regular"],subsets:["latin","gujarati","latin-ext"],version:"v1",lastModified:"2016-06-20",files:{regular:"//fonts.gstatic.com/s/mogra/v1/gIxQBn9PseDaI0D4FnOiBQ.ttf"}},{kind:"webfonts#webfont",family:"Molengo",category:"sans-serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v7",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/molengo/v7/jcjgeGuzv83I55AzOTpXNQ.ttf"}},{kind:"webfonts#webfont",family:"Molle",category:"handwriting",variants:["italic"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{italic:"//fonts.gstatic.com/s/molle/v4/9XTdCsjPXifLqo5et-YoGA.ttf"}},{kind:"webfonts#webfont",family:"Monda",category:"sans-serif",variants:["regular","700"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/monda/v4/EVOzZUyc_j1w2GuTgTAW1g.ttf",regular:"//fonts.gstatic.com/s/monda/v4/qFMHZ9zvR6B_gnoIgosPrw.ttf"}},{kind:"webfonts#webfont",family:"Monofett",category:"display",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/monofett/v6/C6K5L799Rgxzg2brgOaqAw.ttf"}},{kind:"webfonts#webfont",family:"Monoton",category:"display",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/monoton/v6/aCz8ja_bE4dg-7agSvExdw.ttf"}},{kind:"webfonts#webfont",family:"Monsieur La Doulaise",category:"handwriting",variants:["regular"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/monsieurladoulaise/v5/IMAdMj6Eq9jZ46CPctFtMKP61oAqTJXlx5ZVOBmcPdM.ttf"}},{kind:"webfonts#webfont",family:"Montaga",category:"serif",variants:["regular"],subsets:["latin"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/montaga/v4/PwTwUboiD-M4-mFjZfJs2A.ttf"}},{kind:"webfonts#webfont",family:"Montez",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-20",files:{regular:"//fonts.gstatic.com/s/montez/v6/kx58rLOWQQLGFM4pDHv5Ng.ttf"}},{kind:"webfonts#webfont",family:"Montserrat",category:"sans-serif",variants:["regular","700"],subsets:["latin"],version:"v7",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/montserrat/v7/IQHow_FEYlDC4Gzy_m8fcgJKKGfqHaYFsRG-T3ceEVo.ttf",regular:"//fonts.gstatic.com/s/montserrat/v7/Kqy6-utIpx_30Xzecmeo8_esZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Montserrat Alternates",category:"sans-serif",variants:["regular","700"],subsets:["latin"],version:"v4",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/montserratalternates/v4/YENqOGAVzwIHjYNjmKuAZpeqBKvsAhm-s2I4RVSXFfc.ttf",regular:"//fonts.gstatic.com/s/montserratalternates/v4/z2n1Sjxk9souK3HCtdHuklPuEVRGaG9GCQnmM16YWq0.ttf"}},{kind:"webfonts#webfont",family:"Montserrat Subrayada",category:"sans-serif",variants:["regular","700"],subsets:["latin"],version:"v4",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/montserratsubrayada/v4/wf-IKpsHcfm0C9uaz9IeGJvEcF1LWArDbGWgKZSH9go.ttf",regular:"//fonts.gstatic.com/s/montserratsubrayada/v4/nzoCWCz0e9c7Mr2Gl8bbgrJymm6ilkk9f0nDA_sC_qk.ttf"}},{kind:"webfonts#webfont",family:"Mountains of Christmas",category:"display",variants:["regular","700"],subsets:["latin"],version:"v8",lastModified:"2016-06-07",files:{700:"//fonts.gstatic.com/s/mountainsofchristmas/v8/PymufKtHszoLrY0uiAYKNM9cPTbSBTrQyTa5TWAe3vE.ttf",regular:"//fonts.gstatic.com/s/mountainsofchristmas/v8/dVGBFPwd6G44IWDbQtPew2Auds3jz1Fxb61CgfaGDr4.ttf"}},{kind:"webfonts#webfont",family:"Mouse Memoirs",category:"sans-serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/mousememoirs/v4/NBFaaJFux_j0AQbAsW3QeH8f0n03UdmQgF_CLvNR2vg.ttf"}},{kind:"webfonts#webfont",family:"Mr Bedfort",category:"handwriting",variants:["regular"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/mrbedfort/v5/81bGgHTRikLs_puEGshl7_esZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Mr Dafoe",category:"handwriting",variants:["regular"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/mrdafoe/v5/s32Q1S6ZkT7EaX53mUirvQ.ttf"}},{kind:"webfonts#webfont",family:"Mr De Haviland",category:"handwriting",variants:["regular"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/mrdehaviland/v5/fD8y4L6PJ4vqDk7z8Y8e27v4lrhng1lzu7-weKO6cw8.ttf"}},{kind:"webfonts#webfont",family:"Mrs Saint Delafield",category:"handwriting",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/mrssaintdelafield/v4/vuWagfFT7bj9lFtZOFBwmjHMBelqWf3tJeGyts2SmKU.ttf"}},{kind:"webfonts#webfont",family:"Mrs Sheppards",category:"handwriting",variants:["regular"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/mrssheppards/v5/2WFsWMV3VUeCz6UVH7UjCn8f0n03UdmQgF_CLvNR2vg.ttf"}},{kind:"webfonts#webfont",family:"Mukta Vaani",category:"sans-serif",variants:["200","300","regular","500","600","700","800"],subsets:["latin","gujarati","latin-ext"],version:"v1",lastModified:"2016-06-20",files:{200:"//fonts.gstatic.com/s/muktavaani/v1/X9qyC4rK_D9w1AvSv0mw_0nzyIngrzGjGh22wPb6cGM.ttf",300:"//fonts.gstatic.com/s/muktavaani/v1/X9qyC4rK_D9w1AvSv0mw_y9-WlPSxbfiI49GsXo3q0g.ttf",500:"//fonts.gstatic.com/s/muktavaani/v1/X9qyC4rK_D9w1AvSv0mw_8CNfqCYlB_eIx7H1TVXe60.ttf",600:"//fonts.gstatic.com/s/muktavaani/v1/X9qyC4rK_D9w1AvSv0mw_5Z7xm-Bj30Bj2KNdXDzSZg.ttf",700:"//fonts.gstatic.com/s/muktavaani/v1/X9qyC4rK_D9w1AvSv0mw_3e1Pd76Vl7zRpE7NLJQ7XU.ttf",800:"//fonts.gstatic.com/s/muktavaani/v1/X9qyC4rK_D9w1AvSv0mw_w89PwPrYLaRFJ-HNCU9NbA.ttf",regular:"//fonts.gstatic.com/s/muktavaani/v1/knS0wTOFNOwOD4CZrdHIxKCWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Muli",category:"sans-serif",variants:["300","300italic","regular","italic"],subsets:["latin"],version:"v7",lastModified:"2016-05-31",files:{300:"//fonts.gstatic.com/s/muli/v7/VJw4F3ZHRAZ7Hmg3nQu5YQ.ttf","300italic":"//fonts.gstatic.com/s/muli/v7/s-NKMCru8HiyjEt0ZDoBoA.ttf",regular:"//fonts.gstatic.com/s/muli/v7/KJiP6KznxbALQgfJcDdPAw.ttf",italic:"//fonts.gstatic.com/s/muli/v7/Cg0K_IWANs9xkNoxV7H1_w.ttf"}},{kind:"webfonts#webfont",family:"Mystery Quest",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/mysteryquest/v4/467jJvg0c7HgucvBB9PLDyeUSrabuTpOsMEiRLtKwk0.ttf"}},{kind:"webfonts#webfont",family:"Neucha",category:"handwriting",variants:["regular"],subsets:["latin","cyrillic"],version:"v8",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/neucha/v8/bijdhB-TzQdtpl0ykhGh4Q.ttf"}},{kind:"webfonts#webfont",family:"Neuton",category:"serif",variants:["200","300","regular","italic","700","800"],subsets:["latin","latin-ext"],version:"v8",lastModified:"2016-05-31",files:{200:"//fonts.gstatic.com/s/neuton/v8/DA3Mkew3XqSkPpi1f4tJow.ttf",300:"//fonts.gstatic.com/s/neuton/v8/xrc_aZ2hx-gdeV0mlY8Vww.ttf",700:"//fonts.gstatic.com/s/neuton/v8/gnWpkWY7DirkKiovncYrfg.ttf",800:"//fonts.gstatic.com/s/neuton/v8/XPzBQV4lY6enLxQG9cF1jw.ttf",regular:"//fonts.gstatic.com/s/neuton/v8/9R-MGIOQUdjAVeB6nE6PcQ.ttf",italic:"//fonts.gstatic.com/s/neuton/v8/uVMT3JOB5BNFi3lgPp6kEg.ttf"}},{kind:"webfonts#webfont",family:"New Rocker",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/newrocker/v5/EFUWzHJedEkpW399zYOHofesZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"News Cycle",category:"sans-serif",variants:["regular","700"],subsets:["latin","latin-ext"],version:"v13",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/newscycle/v13/G28Ny31cr5orMqEQy6ljtwJKKGfqHaYFsRG-T3ceEVo.ttf",regular:"//fonts.gstatic.com/s/newscycle/v13/xyMAr8VfiUzIOvS1abHJO_esZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Niconne",category:"handwriting",variants:["regular"],subsets:["latin","latin-ext"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/niconne/v6/ZA-mFw2QNXodx5y7kfELBg.ttf"}},{kind:"webfonts#webfont",family:"Nixie One",category:"display",variants:["regular"],subsets:["latin"],version:"v7",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/nixieone/v7/h6kQfmzm0Shdnp3eswRaqQ.ttf"}},{kind:"webfonts#webfont",family:"Nobile",category:"sans-serif",variants:["regular","italic","700","700italic"],subsets:["latin"],version:"v7",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/nobile/v7/9p6M-Yrg_r_QPmSD1skrOg.ttf",regular:"//fonts.gstatic.com/s/nobile/v7/lC_lPi1ddtN38iXTCRh6ow.ttf",italic:"//fonts.gstatic.com/s/nobile/v7/vGmrpKzWQQSrb-PR6FWBIA.ttf","700italic":"//fonts.gstatic.com/s/nobile/v7/oQ1eYPaXV638N03KvsNvyKCWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Norican",category:"handwriting",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/norican/v4/SHnSqhYAWG5sZTWcPzEHig.ttf"}},{kind:"webfonts#webfont",family:"Nosifer",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/nosifer/v5/7eJGoIuHRrtcG00j6CptSA.ttf"}},{kind:"webfonts#webfont",family:"Nothing You Could Do",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/nothingyoucoulddo/v6/jpk1K3jbJoyoK0XKaSyQAf-TpkXjXYGWiJZAEtBRjPU.ttf"}},{kind:"webfonts#webfont",family:"Noticia Text",category:"serif",variants:["regular","italic","700","700italic"],subsets:["latin","latin-ext","vietnamese"],version:"v6",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/noticiatext/v6/pEko-RqEtp45bE2P80AAKUD2ttfZwueP-QU272T9-k4.ttf",regular:"//fonts.gstatic.com/s/noticiatext/v6/wdyV6x3eKpdeUPQ7BJ5uUC3USBnSvpkopQaUR-2r7iU.ttf",italic:"//fonts.gstatic.com/s/noticiatext/v6/dAuxVpkYE_Q_IwIm6elsKPMZXuCXbOrAvx5R0IT5Oyo.ttf","700italic":"//fonts.gstatic.com/s/noticiatext/v6/-rQ7V8ARjf28_b7kRa0JuvAs9-1nE9qOqhChW0m4nDE.ttf"}},{kind:"webfonts#webfont",family:"Noto Sans",category:"sans-serif",variants:["regular","italic","700","700italic"],subsets:["greek","latin","greek-ext","cyrillic","devanagari","latin-ext","vietnamese","cyrillic-ext"],version:"v6",lastModified:"2016-05-20",files:{700:"//fonts.gstatic.com/s/notosans/v6/PIbvSEyHEdL91QLOQRnZ1y3USBnSvpkopQaUR-2r7iU.ttf",regular:"//fonts.gstatic.com/s/notosans/v6/0Ue9FiUJwVhi4NGfHJS5uA.ttf",italic:"//fonts.gstatic.com/s/notosans/v6/dLcNKMgJ1H5RVoZFraDz0qCWcynf_cDxXwCLxiixG1c.ttf","700italic":"//fonts.gstatic.com/s/notosans/v6/9Z3uUWMRR7crzm1TjRicDne1Pd76Vl7zRpE7NLJQ7XU.ttf"}},{kind:"webfonts#webfont",family:"Noto Serif",category:"serif",variants:["regular","italic","700","700italic"],subsets:["greek","latin","greek-ext","cyrillic","latin-ext","vietnamese","cyrillic-ext"],version:"v4",lastModified:"2016-05-20",files:{700:"//fonts.gstatic.com/s/notoserif/v4/lJAvZoKA5NttpPc9yc6lPQJKKGfqHaYFsRG-T3ceEVo.ttf",regular:"//fonts.gstatic.com/s/notoserif/v4/zW6mc7bC1CWw8dH0yxY8JfesZW2xOQ-xsNqO47m55DA.ttf",italic:"//fonts.gstatic.com/s/notoserif/v4/HQXBIwLHsOJCNEQeX9kNzy3USBnSvpkopQaUR-2r7iU.ttf","700italic":"//fonts.gstatic.com/s/notoserif/v4/Wreg0Be4tcFGM2t6VWytvED2ttfZwueP-QU272T9-k4.ttf"}},{kind:"webfonts#webfont",family:"Nova Cut",category:"display",variants:["regular"],subsets:["latin"],version:"v8",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/novacut/v8/6q12jWcBvj0KO2cMRP97tA.ttf"}},{kind:"webfonts#webfont",family:"Nova Flat",category:"display",variants:["regular"],subsets:["latin"],version:"v8",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/novaflat/v8/pK7a0CoGzI684qe_XSHBqQ.ttf"}},{kind:"webfonts#webfont",family:"Nova Mono",category:"monospace",variants:["regular"],subsets:["greek","latin"],version:"v7",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/novamono/v7/6-SChr5ZIaaasJFBkgrLNw.ttf"}},{kind:"webfonts#webfont",family:"Nova Oval",category:"display",variants:["regular"],subsets:["latin"],version:"v8",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/novaoval/v8/VuukVpKP8BwUf8o9W5LYQQ.ttf"}},{kind:"webfonts#webfont",family:"Nova Round",category:"display",variants:["regular"],subsets:["latin"],version:"v8",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/novaround/v8/7-cK3Ari_8XYYFgVMxVhDvesZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Nova Script",category:"display",variants:["regular"],subsets:["latin"],version:"v8",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/novascript/v8/dEvxQDLgx1M1TKY-NmBWYaCWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Nova Slim",category:"display",variants:["regular"],subsets:["latin"],version:"v8",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/novaslim/v8/rPYXC81_VL2EW-4CzBX65g.ttf"}},{kind:"webfonts#webfont",family:"Nova Square",category:"display",variants:["regular"],subsets:["latin"],version:"v8",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/novasquare/v8/BcBzXoaDzYX78rquGXVuSqCWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Numans",category:"sans-serif",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/numans/v6/g5snI2p6OEjjTNmTHyBdiQ.ttf"}},{kind:"webfonts#webfont",family:"Nunito",category:"sans-serif",variants:["300","regular","700"],subsets:["latin"],version:"v7",lastModified:"2016-05-31",files:{300:"//fonts.gstatic.com/s/nunito/v7/zXQvrWBJqUooM7Xv98MrQw.ttf",700:"//fonts.gstatic.com/s/nunito/v7/aEdlqgMuYbpe4U3TnqOQMA.ttf",regular:"//fonts.gstatic.com/s/nunito/v7/ySZTeT3IuzJj0GK6uGpbBg.ttf"}},{kind:"webfonts#webfont",family:"Offside",category:"display",variants:["regular"],subsets:["latin"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/offside/v4/v0C913SB8wqQUvcu1faUqw.ttf"}},{kind:"webfonts#webfont",family:"Old Standard TT",category:"serif",variants:["regular","italic","700"],subsets:["latin"],version:"v7",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/oldstandardtt/v7/5Ywdce7XEbTSbxs__4X1_HJqbZqK7TdZ58X80Q_Lw8Y.ttf",regular:"//fonts.gstatic.com/s/oldstandardtt/v7/n6RTCDcIPWSE8UNBa4k-DLcB5jyhm1VsHs65c3QNDr0.ttf",italic:"//fonts.gstatic.com/s/oldstandardtt/v7/QQT_AUSp4AV4dpJfIN7U5PWrQzeMtsHf8QsWQ2cZg3c.ttf"}},{kind:"webfonts#webfont",family:"Oldenburg",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/oldenburg/v4/dqA_M_uoCVXZbCO-oKBTnQ.ttf"}},{kind:"webfonts#webfont",family:"Oleo Script",category:"display",variants:["regular","700"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/oleoscript/v5/hudNQFKFl98JdNnlo363fne1Pd76Vl7zRpE7NLJQ7XU.ttf",regular:"//fonts.gstatic.com/s/oleoscript/v5/21stZcmPyzbQVXtmGegyqKCWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Oleo Script Swash Caps",category:"display",variants:["regular","700"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/oleoscriptswashcaps/v4/HMO3ftxA9AU5floml9c755reFYaXZ4zuJXJ8fr8OO1g.ttf",regular:"//fonts.gstatic.com/s/oleoscriptswashcaps/v4/vdWhGqsBUAP-FF3NOYTe4iMF4kXAPemmyaDpMXQ31P0.ttf"}},{kind:"webfonts#webfont",family:"Open Sans",category:"sans-serif",variants:["300","300italic","regular","italic","600","600italic","700","700italic","800","800italic"],subsets:["greek","latin","greek-ext","cyrillic","latin-ext","vietnamese","cyrillic-ext"],version:"v13",lastModified:"2016-05-20",files:{300:"//fonts.gstatic.com/s/opensans/v13/DXI1ORHCpsQm3Vp6mXoaTS3USBnSvpkopQaUR-2r7iU.ttf",600:"//fonts.gstatic.com/s/opensans/v13/MTP_ySUJH_bn48VBG8sNSi3USBnSvpkopQaUR-2r7iU.ttf",700:"//fonts.gstatic.com/s/opensans/v13/k3k702ZOKiLJc3WVjuplzC3USBnSvpkopQaUR-2r7iU.ttf",800:"//fonts.gstatic.com/s/opensans/v13/EInbV5DfGHOiMmvb1Xr-hi3USBnSvpkopQaUR-2r7iU.ttf","300italic":"//fonts.gstatic.com/s/opensans/v13/PRmiXeptR36kaC0GEAetxi9-WlPSxbfiI49GsXo3q0g.ttf",regular:"//fonts.gstatic.com/s/opensans/v13/IgZJs4-7SA1XX_edsoXWog.ttf",italic:"//fonts.gstatic.com/s/opensans/v13/O4NhV7_qs9r9seTo7fnsVKCWcynf_cDxXwCLxiixG1c.ttf","600italic":"//fonts.gstatic.com/s/opensans/v13/PRmiXeptR36kaC0GEAetxpZ7xm-Bj30Bj2KNdXDzSZg.ttf","700italic":"//fonts.gstatic.com/s/opensans/v13/PRmiXeptR36kaC0GEAetxne1Pd76Vl7zRpE7NLJQ7XU.ttf","800italic":"//fonts.gstatic.com/s/opensans/v13/PRmiXeptR36kaC0GEAetxg89PwPrYLaRFJ-HNCU9NbA.ttf"}},{kind:"webfonts#webfont",family:"Open Sans Condensed",category:"sans-serif",variants:["300","300italic","700"],subsets:["greek","latin","greek-ext","cyrillic","latin-ext","vietnamese","cyrillic-ext"],version:"v10",lastModified:"2016-05-20",files:{300:"//fonts.gstatic.com/s/opensanscondensed/v10/gk5FxslNkTTHtojXrkp-xEMwSSh38KQVJx4ABtsZTnA.ttf",700:"//fonts.gstatic.com/s/opensanscondensed/v10/gk5FxslNkTTHtojXrkp-xBEM87DM3yorPOrvA-vB930.ttf","300italic":"//fonts.gstatic.com/s/opensanscondensed/v10/jIXlqT1WKafUSwj6s9AzV4_LkTZ_uhAwfmGJ084hlvM.ttf"}},{kind:"webfonts#webfont",family:"Oranienbaum",category:"serif",variants:["regular"],subsets:["latin","cyrillic","latin-ext","cyrillic-ext"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/oranienbaum/v5/M98jYwCSn0PaFhXXgviCoaCWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Orbitron",category:"sans-serif",variants:["regular","500","700","900"],subsets:["latin"],version:"v7",lastModified:"2016-05-31",files:{500:"//fonts.gstatic.com/s/orbitron/v7/p-y_ffzMdo5JN_7ia0vYEqCWcynf_cDxXwCLxiixG1c.ttf",700:"//fonts.gstatic.com/s/orbitron/v7/PS9_6SLkY1Y6OgPO3APr6qCWcynf_cDxXwCLxiixG1c.ttf",900:"//fonts.gstatic.com/s/orbitron/v7/2I3-8i9hT294TE_pyjy9SaCWcynf_cDxXwCLxiixG1c.ttf",regular:"//fonts.gstatic.com/s/orbitron/v7/DY8swouAZjR3RaUPRf0HDQ.ttf"}},{kind:"webfonts#webfont",family:"Oregano",category:"display",variants:["regular","italic"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/oregano/v4/UiLhqNixVv2EpjRoBG6axA.ttf",italic:"//fonts.gstatic.com/s/oregano/v4/_iwqGEht6XsAuEaCbYG64Q.ttf"}},{kind:"webfonts#webfont",family:"Orienta",category:"sans-serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/orienta/v4/_NKSk93mMs0xsqtfjCsB3Q.ttf"}},{kind:"webfonts#webfont",family:"Original Surfer",category:"display",variants:["regular"],subsets:["latin"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/originalsurfer/v5/gdHw6HpSIN4D6Xt7pi1-qIkEz33TDwAZczo_6fY7eg0.ttf"}},{kind:"webfonts#webfont",family:"Oswald",category:"sans-serif",variants:["300","regular","700"],subsets:["latin","latin-ext"],version:"v11",lastModified:"2016-05-31",files:{300:"//fonts.gstatic.com/s/oswald/v11/y3tZpCdiRD4oNRRYFcAR5Q.ttf",700:"//fonts.gstatic.com/s/oswald/v11/7wj8ldV_5Ti37rHa0m1DDw.ttf",regular:"//fonts.gstatic.com/s/oswald/v11/uLEd2g2vJglLPfsBF91DCg.ttf"}},{kind:"webfonts#webfont",family:"Over the Rainbow",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v7",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/overtherainbow/v7/6gp-gkpI2kie2dHQQLM2jQBdxkZd83xOSx-PAQ2QmiI.ttf"}},{kind:"webfonts#webfont",family:"Overlock",category:"display",variants:["regular","italic","700","700italic","900","900italic"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/overlock/v5/Fexr8SqXM8Bm_gEVUA7AKaCWcynf_cDxXwCLxiixG1c.ttf",900:"//fonts.gstatic.com/s/overlock/v5/YPJCVTT8ZbG3899l_-KIGqCWcynf_cDxXwCLxiixG1c.ttf",regular:"//fonts.gstatic.com/s/overlock/v5/Z8oYsGi88-E1cUB8YBFMAg.ttf",italic:"//fonts.gstatic.com/s/overlock/v5/rq6EacukHROOBrFrK_zF6_esZW2xOQ-xsNqO47m55DA.ttf","700italic":"//fonts.gstatic.com/s/overlock/v5/wFWnYgeXKYBks6gEUwYnfAJKKGfqHaYFsRG-T3ceEVo.ttf","900italic":"//fonts.gstatic.com/s/overlock/v5/iOZhxT2zlg7W5ij_lb-oDp0EAVxt0G0biEntp43Qt6E.ttf"}},{kind:"webfonts#webfont",family:"Overlock SC",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/overlocksc/v5/8D7HYDsvS_g1GhBnlHzgzaCWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Ovo",category:"serif",variants:["regular"],subsets:["latin"],version:"v7",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/ovo/v7/mFg27dimu3s9t09qjCwB1g.ttf"}},{kind:"webfonts#webfont",family:"Oxygen",category:"sans-serif",variants:["300","regular","700"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-06-07",files:{300:"//fonts.gstatic.com/s/oxygen/v5/lZ31r0bR1Bzt_DfGZu1S8A.ttf",700:"//fonts.gstatic.com/s/oxygen/v5/yLqkmDwuNtt5pSqsJmhyrg.ttf",regular:"//fonts.gstatic.com/s/oxygen/v5/uhoyAE7XlQL22abzQieHjw.ttf"}},{kind:"webfonts#webfont",family:"Oxygen Mono",category:"monospace",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/oxygenmono/v4/DigTu7k4b7OmM8ubt1Qza6CWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"PT Mono",category:"monospace",variants:["regular"],subsets:["latin","cyrillic","latin-ext","cyrillic-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/ptmono/v4/QUbM8H9yJK5NhpQ0REO6Wg.ttf"}},{kind:"webfonts#webfont",family:"PT Sans",category:"sans-serif",variants:["regular","italic","700","700italic"],subsets:["latin","cyrillic","latin-ext","cyrillic-ext"],version:"v8",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/ptsans/v8/F51BEgHuR0tYHxF0bD4vwvesZW2xOQ-xsNqO47m55DA.ttf",regular:"//fonts.gstatic.com/s/ptsans/v8/UFoEz2uiuMypUGZL1NKoeg.ttf",italic:"//fonts.gstatic.com/s/ptsans/v8/yls9EYWOd496wiu7qzfgNg.ttf","700italic":"//fonts.gstatic.com/s/ptsans/v8/lILlYDvubYemzYzN7GbLkC3USBnSvpkopQaUR-2r7iU.ttf"}},{kind:"webfonts#webfont",family:"PT Sans Caption",category:"sans-serif",variants:["regular","700"],subsets:["latin","cyrillic","latin-ext","cyrillic-ext"],version:"v9",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/ptsanscaption/v9/Q-gJrFokeE7JydPpxASt25tc0eyfI4QDEsobEEpk_hA.ttf",regular:"//fonts.gstatic.com/s/ptsanscaption/v9/OXYTDOzBcXU8MTNBvBHeSW8by34Z3mUMtM-o4y-SHCY.ttf"}},{kind:"webfonts#webfont",family:"PT Sans Narrow",category:"sans-serif",variants:["regular","700"],subsets:["latin","cyrillic","latin-ext","cyrillic-ext"],version:"v7",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/ptsansnarrow/v7/Q_pTky3Sc3ubRibGToTAYsLtdzs3iyjn_YuT226ZsLU.ttf",regular:"//fonts.gstatic.com/s/ptsansnarrow/v7/UyYrYy3ltEffJV9QueSi4ZTvAuddT2xDMbdz0mdLyZY.ttf"}},{kind:"webfonts#webfont",family:"PT Serif",category:"serif",variants:["regular","italic","700","700italic"],subsets:["latin","cyrillic","latin-ext","cyrillic-ext"],version:"v8",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/ptserif/v8/kyZw18tqQ5if-_wpmxxOeKCWcynf_cDxXwCLxiixG1c.ttf",regular:"//fonts.gstatic.com/s/ptserif/v8/sAo427rn3-QL9sWCbMZXhA.ttf",italic:"//fonts.gstatic.com/s/ptserif/v8/9khWhKzhpkH0OkNnBKS3n_esZW2xOQ-xsNqO47m55DA.ttf","700italic":"//fonts.gstatic.com/s/ptserif/v8/Foydq9xJp--nfYIx2TBz9QJKKGfqHaYFsRG-T3ceEVo.ttf"}},{kind:"webfonts#webfont",family:"PT Serif Caption",category:"serif",variants:["regular","italic"],subsets:["latin","cyrillic","latin-ext","cyrillic-ext"],version:"v8",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/ptserifcaption/v8/7xkFOeTxxO1GMC1suOUYWVsRioCqs5fohhaYel24W3k.ttf",italic:"//fonts.gstatic.com/s/ptserifcaption/v8/0kfPsmrmTSgiec7u_Wa0DB1mqvzPHelJwRcF_s_EUM0.ttf"}},{kind:"webfonts#webfont",family:"Pacifico",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v7",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/pacifico/v7/GIrpeRY1r5CzbfL8r182lw.ttf"}},{kind:"webfonts#webfont",family:"Palanquin",category:"sans-serif",variants:["100","200","300","regular","500","600","700"],subsets:["latin","devanagari","latin-ext"],version:"v1",lastModified:"2016-05-31",files:{100:"//fonts.gstatic.com/s/palanquin/v1/Hu0eGDVGK_g4saUFu6AK3KCWcynf_cDxXwCLxiixG1c.ttf",200:"//fonts.gstatic.com/s/palanquin/v1/pqXYXD7-VI5ezTjeqQOcyC3USBnSvpkopQaUR-2r7iU.ttf",300:"//fonts.gstatic.com/s/palanquin/v1/c0-J5OCAagpFCKkKraz-Ey3USBnSvpkopQaUR-2r7iU.ttf",500:"//fonts.gstatic.com/s/palanquin/v1/wLvvkEcZMKy95afLWh2EfC3USBnSvpkopQaUR-2r7iU.ttf",600:"//fonts.gstatic.com/s/palanquin/v1/405UIAv95_yZkCECrH6y-i3USBnSvpkopQaUR-2r7iU.ttf",700:"//fonts.gstatic.com/s/palanquin/v1/-UtkePo3NFvxEN3rGCtTvi3USBnSvpkopQaUR-2r7iU.ttf",regular:"//fonts.gstatic.com/s/palanquin/v1/xCwBUoAEV0kzCDwerAZ0Aw.ttf"}},{kind:"webfonts#webfont",family:"Palanquin Dark",category:"sans-serif",variants:["regular","500","600","700"],subsets:["latin","devanagari","latin-ext"],version:"v1",lastModified:"2016-05-31",files:{500:"//fonts.gstatic.com/s/palanquindark/v1/iXyBGf5UbFUu6BG8hOY-maMZTo-EwKMRQt3RWHocLi0.ttf",600:"//fonts.gstatic.com/s/palanquindark/v1/iXyBGf5UbFUu6BG8hOY-mVNxaunw8i4Gywrk2SigRnk.ttf",700:"//fonts.gstatic.com/s/palanquindark/v1/iXyBGf5UbFUu6BG8hOY-mWToair6W0TEE44XrlfKbiM.ttf",regular:"//fonts.gstatic.com/s/palanquindark/v1/PamTqrrgbBh_M3702w39rOfChn3JSg5yz_Q_xmrKQN0.ttf"}},{kind:"webfonts#webfont",family:"Paprika",category:"display",variants:["regular"],subsets:["latin"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/paprika/v4/b-VpyoRSieBdB5BPJVF8HQ.ttf"}},{kind:"webfonts#webfont",family:"Parisienne",category:"handwriting",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/parisienne/v4/TW74B5QISJNx9moxGlmJfvesZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Passero One",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v8",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/passeroone/v8/Yc-7nH5deCCv9Ed0MMnAQqCWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Passion One",category:"display",variants:["regular","700","900"],subsets:["latin","latin-ext"],version:"v6",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/passionone/v6/feOcYDy2R-f3Ysy72PYJ2ne1Pd76Vl7zRpE7NLJQ7XU.ttf",900:"//fonts.gstatic.com/s/passionone/v6/feOcYDy2R-f3Ysy72PYJ2ienaqEuufTBk9XMKnKmgDA.ttf",regular:"//fonts.gstatic.com/s/passionone/v6/1UIK1tg3bKJ4J3o35M4heqCWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Pathway Gothic One",category:"sans-serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/pathwaygothicone/v4/Lqv9ztoTUV8Q0FmQZzPqaA6A6xIYD7vYcYDop1i-K-c.ttf"}},{kind:"webfonts#webfont",family:"Patrick Hand",category:"handwriting",variants:["regular"],subsets:["latin","latin-ext","vietnamese"],version:"v10",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/patrickhand/v10/9BG3JJgt_HlF3NpEUehL0C3USBnSvpkopQaUR-2r7iU.ttf"}},{kind:"webfonts#webfont",family:"Patrick Hand SC",category:"handwriting",variants:["regular"],subsets:["latin","latin-ext","vietnamese"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/patrickhandsc/v4/OYFWCgfCR-7uHIovjUZXsbAgSRh1LpJXlLfl8IbsmHg.ttf"}},{kind:"webfonts#webfont",family:"Pattaya",category:"sans-serif",variants:["regular"],subsets:["latin","cyrillic","thai","latin-ext","vietnamese"],version:"v1",lastModified:"2016-06-20",files:{regular:"//fonts.gstatic.com/s/pattaya/v1/sJEout1xdD7J8H-1H81pIQ.ttf"}},{kind:"webfonts#webfont",family:"Patua One",category:"display",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/patuaone/v6/njZwotTYjswR4qdhsW-kJw.ttf"}},{kind:"webfonts#webfont",family:"Pavanam",category:"sans-serif",variants:["regular"],subsets:["latin","tamil","latin-ext"],version:"v1",lastModified:"2016-06-20",files:{regular:"//fonts.gstatic.com/s/pavanam/v1/C7yuEhNK5oftNLSL3I0bGw.ttf"}},{kind:"webfonts#webfont",family:"Paytone One",category:"sans-serif",variants:["regular"],subsets:["latin"],version:"v8",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/paytoneone/v8/3WCxC7JAJjQHQVoIE0ZwvqCWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Peddana",category:"serif",variants:["regular"],subsets:["latin","telugu"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/peddana/v4/zaSZuj_GhmC8AOTugOROnA.ttf"}},{kind:"webfonts#webfont",family:"Peralta",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/peralta/v4/cTJX5KEuc0GKRU9NXSm-8Q.ttf"}},{kind:"webfonts#webfont",family:"Permanent Marker",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v5",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/permanentmarker/v5/9vYsg5VgPHKK8SXYbf3sMol14xj5tdg9OHF8w4E7StQ.ttf"}},{kind:"webfonts#webfont",family:"Petit Formal Script",category:"handwriting",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/petitformalscript/v4/OEZwr2-ovBsq2n3ACCKoEvVPl2Gjtxj0D6F7QLy1VQc.ttf"}},{kind:"webfonts#webfont",family:"Petrona",category:"serif",variants:["regular"],subsets:["latin"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/petrona/v5/nnQwxlP6dhrGovYEFtemTg.ttf"}},{kind:"webfonts#webfont",family:"Philosopher",category:"sans-serif",variants:["regular","italic","700","700italic"],subsets:["latin","cyrillic"],version:"v7",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/philosopher/v7/napvkewXG9Gqby5vwGHICHe1Pd76Vl7zRpE7NLJQ7XU.ttf",regular:"//fonts.gstatic.com/s/philosopher/v7/oZLTrB9jmJsyV0u_T0TKEaCWcynf_cDxXwCLxiixG1c.ttf",italic:"//fonts.gstatic.com/s/philosopher/v7/_9Hnc_gz9k7Qq6uKaeHKmUeOrDcLawS7-ssYqLr2Xp4.ttf","700italic":"//fonts.gstatic.com/s/philosopher/v7/PuKlryTcvTj7-qZWfLCFIM_zJjSACmk0BRPxQqhnNLU.ttf"}},{kind:"webfonts#webfont",family:"Piedra",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/piedra/v5/owf-AvEEyAj9LJ2tVZ_3Mw.ttf"}},{kind:"webfonts#webfont",family:"Pinyon Script",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/pinyonscript/v6/TzghnhfCn7TuE73f-CBQ0CeUSrabuTpOsMEiRLtKwk0.ttf"}},{kind:"webfonts#webfont",family:"Pirata One",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/pirataone/v4/WnbD86B4vB2ckYcL7oxuhvesZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Plaster",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v8",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/plaster/v8/O4QG9Z5116CXyfJdR9zxLw.ttf"}},{kind:"webfonts#webfont",family:"Play",category:"sans-serif",variants:["regular","700"],subsets:["greek","latin","cyrillic","latin-ext","cyrillic-ext"],version:"v7",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/play/v7/crPhg6I0alLI-MpB3vW-zw.ttf",regular:"//fonts.gstatic.com/s/play/v7/GWvfObW8LhtsOX333MCpBg.ttf"}},{kind:"webfonts#webfont",family:"Playball",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/playball/v6/3hOFiQm_EUzycTpcN9uz4w.ttf"}},{kind:"webfonts#webfont",family:"Playfair Display",category:"serif",variants:["regular","italic","700","700italic","900","900italic"],subsets:["latin","cyrillic","latin-ext"],version:"v10",lastModified:"2016-06-07",files:{700:"//fonts.gstatic.com/s/playfairdisplay/v10/UC3ZEjagJi85gF9qFaBgICsv6SrURqJprbhH_C1Mw8w.ttf",900:"//fonts.gstatic.com/s/playfairdisplay/v10/UC3ZEjagJi85gF9qFaBgIKqwMe2wjvZrAR44M0BJZ48.ttf",regular:"//fonts.gstatic.com/s/playfairdisplay/v10/2NBgzUtEeyB-Xtpr9bm1CV6uyC_qD11hrFQ6EGgTJWI.ttf",italic:"//fonts.gstatic.com/s/playfairdisplay/v10/9MkijrV-dEJ0-_NWV7E6NzMsbnvDNEBX25F5HWk9AhI.ttf","700italic":"//fonts.gstatic.com/s/playfairdisplay/v10/n7G4PqJvFP2Kubl0VBLDECsYW3XoOVcYyYdp9NzzS9E.ttf","900italic":"//fonts.gstatic.com/s/playfairdisplay/v10/n7G4PqJvFP2Kubl0VBLDEC0JfJ4xmm7j1kL6D7mPxrA.ttf"}},{kind:"webfonts#webfont",family:"Playfair Display SC",category:"serif",variants:["regular","italic","700","700italic","900","900italic"],subsets:["latin","cyrillic","latin-ext"],version:"v5",lastModified:"2016-06-07",files:{700:"//fonts.gstatic.com/s/playfairdisplaysc/v5/5ggqGkvWJU_TtW2W8cEubA-Amcyomnuy4WsCiPxGHjw.ttf",900:"//fonts.gstatic.com/s/playfairdisplaysc/v5/5ggqGkvWJU_TtW2W8cEubKXL3C32k275YmX_AcBPZ7w.ttf",regular:"//fonts.gstatic.com/s/playfairdisplaysc/v5/G0-tvBxd4eQRdwFKB8dRkcpjYTDWIvcAwAccqeW9uNM.ttf",italic:"//fonts.gstatic.com/s/playfairdisplaysc/v5/myuYiFR-4NTrUT4w6TKls2klJsJYggW8rlNoTOTuau0.ttf","700italic":"//fonts.gstatic.com/s/playfairdisplaysc/v5/6X0OQrQhEEnPo56RalREX4krgPi80XvBcbTwmz-rgmU.ttf","900italic":"//fonts.gstatic.com/s/playfairdisplaysc/v5/6X0OQrQhEEnPo56RalREX8Zag2q3ssKz8uH1RU4a9gs.ttf"}},{kind:"webfonts#webfont",family:"Podkova",category:"serif",variants:["regular","700"],subsets:["latin"],version:"v8",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/podkova/v8/SqW4aa8m_KVrOgYSydQ33vesZW2xOQ-xsNqO47m55DA.ttf",regular:"//fonts.gstatic.com/s/podkova/v8/eylljyGVfB8ZUQjYY3WZRQ.ttf"}},{kind:"webfonts#webfont",family:"Poiret One",category:"display",variants:["regular"],subsets:["latin","cyrillic","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/poiretone/v4/dWcYed048E5gHGDIt8i1CPesZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Poller One",category:"display",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/pollerone/v6/dkctmDlTPcZ6boC8662RA_esZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Poly",category:"serif",variants:["regular","italic"],subsets:["latin"],version:"v7",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/poly/v7/bcMAuiacS2qkd54BcwW6_Q.ttf",italic:"//fonts.gstatic.com/s/poly/v7/Zkx-eIlZSjKUrPGYhV5PeA.ttf"}},{kind:"webfonts#webfont",family:"Pompiere",category:"display",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/pompiere/v6/o_va2p9CD5JfmFohAkGZIA.ttf"}},{kind:"webfonts#webfont",family:"Pontano Sans",category:"sans-serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/pontanosans/v4/gTHiwyxi6S7iiHpqAoiE3C3USBnSvpkopQaUR-2r7iU.ttf"}},{kind:"webfonts#webfont",family:"Poppins",category:"sans-serif",variants:["300","regular","500","600","700"],subsets:["latin","devanagari","latin-ext"],version:"v1",lastModified:"2016-06-07",files:{300:"//fonts.gstatic.com/s/poppins/v1/VIeViZ2fPtYBt3B2fQZplvesZW2xOQ-xsNqO47m55DA.ttf",500:"//fonts.gstatic.com/s/poppins/v1/4WGKlFyjcmCFVl8pRsgZ9vesZW2xOQ-xsNqO47m55DA.ttf",600:"//fonts.gstatic.com/s/poppins/v1/-zOABrCWORC3lyDh-ajNnPesZW2xOQ-xsNqO47m55DA.ttf",700:"//fonts.gstatic.com/s/poppins/v1/8JitanEsk5aDh7mDYs-fYfesZW2xOQ-xsNqO47m55DA.ttf",regular:"//fonts.gstatic.com/s/poppins/v1/hlvAxH6aIdOjWlLzgm0jqg.ttf"}},{kind:"webfonts#webfont",family:"Port Lligat Sans",category:"sans-serif",variants:["regular"],subsets:["latin"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/portlligatsans/v5/CUEdhRk7oC7up0p6t0g4P6mASEpx5X0ZpsuJOuvfOGA.ttf"}},{kind:"webfonts#webfont",family:"Port Lligat Slab",category:"serif",variants:["regular"],subsets:["latin"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/portlligatslab/v5/CUEdhRk7oC7up0p6t0g4PxLSPACXvawUYCBEnHsOe30.ttf"}},{kind:"webfonts#webfont",family:"Pragati Narrow",category:"sans-serif",variants:["regular","700"],subsets:["latin","devanagari","latin-ext"],version:"v2",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/pragatinarrow/v2/DnSI1zRkc0CY-hI5SC3q3MLtdzs3iyjn_YuT226ZsLU.ttf",regular:"//fonts.gstatic.com/s/pragatinarrow/v2/HzG2TfC862qPNsZsV_djPpTvAuddT2xDMbdz0mdLyZY.ttf"}},{kind:"webfonts#webfont",family:"Prata",category:"serif",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/prata/v6/3gmx8r842loRRm9iQkCDGg.ttf"}},{kind:"webfonts#webfont",family:"Press Start 2P",category:"display",variants:["regular"],subsets:["greek","latin","cyrillic","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/pressstart2p/v4/8Lg6LX8-ntOHUQnvQ0E7o1jfl3W46Sz5gOkEVhcFWF4.ttf"}},{kind:"webfonts#webfont",family:"Pridi",category:"serif",variants:["200","300","regular","500","600","700"],subsets:["latin","thai","latin-ext","vietnamese"],version:"v1",lastModified:"2016-06-20",files:{200:"//fonts.gstatic.com/s/pridi/v1/WvKJ-kflGuELyK4uQzpYIA.ttf",300:"//fonts.gstatic.com/s/pridi/v1/Ihwk-OGVFS69PINILdqAjQ.ttf",500:"//fonts.gstatic.com/s/pridi/v1/dPNOrMxU-HjLo-fvkFydsQ.ttf",600:"//fonts.gstatic.com/s/pridi/v1/J0i5OZxX07KC4mby5RjNbg.ttf",700:"//fonts.gstatic.com/s/pridi/v1/UhCy4jDDJttTB8k8rtWadg.ttf",regular:"//fonts.gstatic.com/s/pridi/v1/Mau018Ghi7LJX7FkGYCZAQ.ttf"}},{kind:"webfonts#webfont",family:"Princess Sofia",category:"handwriting",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/princesssofia/v4/8g5l8r9BM0t1QsXLTajDe-wjmA7ie-lFcByzHGRhCIg.ttf"}},{kind:"webfonts#webfont",family:"Prociono",category:"serif",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/prociono/v6/43ZYDHWogdFeNBWTl6ksmw.ttf"}},{kind:"webfonts#webfont",family:"Prompt",category:"sans-serif",variants:["100","100italic","200","200italic","300","300italic","regular","italic","500","500italic","600","600italic","700","700italic","800","800italic","900","900italic"],subsets:["latin","thai","latin-ext","vietnamese"],version:"v1",lastModified:"2016-06-20",files:{100:"//fonts.gstatic.com/s/prompt/v1/ltjX-trOmfS-yKy_awt70g.ttf",200:"//fonts.gstatic.com/s/prompt/v1/MNB_CVkbfYHFMWX_UbDC2Q.ttf",300:"//fonts.gstatic.com/s/prompt/v1/LzifakiWysr3N3OoAdbdpg.ttf",500:"//fonts.gstatic.com/s/prompt/v1/w31OY1otplAgr5iZ21K7Fg.ttf",600:"//fonts.gstatic.com/s/prompt/v1/uUrJjg1BGaIb6CAOlUIp9g.ttf",700:"//fonts.gstatic.com/s/prompt/v1/HdM_epiStzshOr-49ubVyg.ttf",800:"//fonts.gstatic.com/s/prompt/v1/GF9cOamDd7mYPHNW1nZLKg.ttf",900:"//fonts.gstatic.com/s/prompt/v1/KFgmbwHbRBQb28VFhH3c8Q.ttf","100italic":"//fonts.gstatic.com/s/prompt/v1/KvTeArBpVb-tA2mahV6Jk_esZW2xOQ-xsNqO47m55DA.ttf","200italic":"//fonts.gstatic.com/s/prompt/v1/NR0JuXzzCDKpLNVhfyEAiaCWcynf_cDxXwCLxiixG1c.ttf","300italic":"//fonts.gstatic.com/s/prompt/v1/ir8BhbeDHM-qnbo-tnpmt6CWcynf_cDxXwCLxiixG1c.ttf",regular:"//fonts.gstatic.com/s/prompt/v1/nDo1rQFnTFNua4cp-OnD2A.ttf",italic:"//fonts.gstatic.com/s/prompt/v1/ZD4khIP924SU2fRYOJkraQ.ttf","500italic":"//fonts.gstatic.com/s/prompt/v1/dfaeaRx00u9arVHsaDjliaCWcynf_cDxXwCLxiixG1c.ttf","600italic":"//fonts.gstatic.com/s/prompt/v1/CJUBMsoNNHMMdFRxm-n7p6CWcynf_cDxXwCLxiixG1c.ttf","700italic":"//fonts.gstatic.com/s/prompt/v1/GtXRH7QWy3aLCHoJuR5WIKCWcynf_cDxXwCLxiixG1c.ttf","800italic":"//fonts.gstatic.com/s/prompt/v1/kBLgnnEB-VXkOLFCc0pzwqCWcynf_cDxXwCLxiixG1c.ttf","900italic":"//fonts.gstatic.com/s/prompt/v1/qjrOe-lEPwDDeUu5g6q_DaCWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Prosto One",category:"display",variants:["regular"],subsets:["latin","cyrillic","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/prostoone/v5/bsqnAElAqk9kX7eABTRFJPesZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Proza Libre",category:"sans-serif",variants:["regular","italic","500","500italic","600","600italic","700","700italic","800","800italic"],subsets:["latin","latin-ext"],version:"v1",lastModified:"2016-06-20",files:{500:"//fonts.gstatic.com/s/prozalibre/v1/4gjxWDPA6RMWrIls_qgQBsCNfqCYlB_eIx7H1TVXe60.ttf",600:"//fonts.gstatic.com/s/prozalibre/v1/4gjxWDPA6RMWrIls_qgQBpZ7xm-Bj30Bj2KNdXDzSZg.ttf",700:"//fonts.gstatic.com/s/prozalibre/v1/4gjxWDPA6RMWrIls_qgQBne1Pd76Vl7zRpE7NLJQ7XU.ttf",800:"//fonts.gstatic.com/s/prozalibre/v1/4gjxWDPA6RMWrIls_qgQBg89PwPrYLaRFJ-HNCU9NbA.ttf",regular:"//fonts.gstatic.com/s/prozalibre/v1/Hg11OrfE1P_U6mKmrZPknKCWcynf_cDxXwCLxiixG1c.ttf",italic:"//fonts.gstatic.com/s/prozalibre/v1/ClQTew5IUT7yKo8vyspLxEeOrDcLawS7-ssYqLr2Xp4.ttf","500italic":"//fonts.gstatic.com/s/prozalibre/v1/rWq3Qp4ZlPGKduc1qkgLHGnWRcJAYo5PSCx8UfGMHCI.ttf","600italic":"//fonts.gstatic.com/s/prozalibre/v1/rWq3Qp4ZlPGKduc1qkgLHJe6We3S5L6hKLscKpOkmlo.ttf","700italic":"//fonts.gstatic.com/s/prozalibre/v1/rWq3Qp4ZlPGKduc1qkgLHM_zJjSACmk0BRPxQqhnNLU.ttf","800italic":"//fonts.gstatic.com/s/prozalibre/v1/rWq3Qp4ZlPGKduc1qkgLHCad_7rtf4IdDfsLVg-2OV4.ttf"}},{kind:"webfonts#webfont",family:"Puritan",category:"sans-serif",variants:["regular","italic","700","700italic"],subsets:["latin"],version:"v8",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/puritan/v8/pJS2SdwI0SCiVnO0iQSFT_esZW2xOQ-xsNqO47m55DA.ttf",regular:"//fonts.gstatic.com/s/puritan/v8/wv_RtgVBSCn-or2MC0n4Kg.ttf",italic:"//fonts.gstatic.com/s/puritan/v8/BqZX8Tp200LeMv1KlzXgLQ.ttf","700italic":"//fonts.gstatic.com/s/puritan/v8/rFG3XkMJL75nUNZwCEIJqC3USBnSvpkopQaUR-2r7iU.ttf"}},{kind:"webfonts#webfont",family:"Purple Purse",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/purplepurse/v5/Q5heFUrdmei9axbMITxxxS3USBnSvpkopQaUR-2r7iU.ttf"}},{kind:"webfonts#webfont",family:"Quando",category:"serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/quando/v5/03nDiEZuO2-h3xvtG6UmHg.ttf"}},{kind:"webfonts#webfont",family:"Quantico",category:"sans-serif",variants:["regular","italic","700","700italic"],subsets:["latin"],version:"v5",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/quantico/v5/OVZZzjcZ3Hkq2ojVcUtDjaCWcynf_cDxXwCLxiixG1c.ttf",regular:"//fonts.gstatic.com/s/quantico/v5/pwSnP8Xpaix2rIz99HrSlQ.ttf",italic:"//fonts.gstatic.com/s/quantico/v5/KQhDd2OsZi6HiITUeFQ2U_esZW2xOQ-xsNqO47m55DA.ttf","700italic":"//fonts.gstatic.com/s/quantico/v5/HeCYRcZbdRso3ZUu01ELbQJKKGfqHaYFsRG-T3ceEVo.ttf"}},{kind:"webfonts#webfont",family:"Quattrocento",category:"serif",variants:["regular","700"],subsets:["latin","latin-ext"],version:"v8",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/quattrocento/v8/Uvi-cRwyvqFpl9j3oT2mqkD2ttfZwueP-QU272T9-k4.ttf",regular:"//fonts.gstatic.com/s/quattrocento/v8/WZDISdyil4HsmirlOdBRFC3USBnSvpkopQaUR-2r7iU.ttf"}},{kind:"webfonts#webfont",family:"Quattrocento Sans",category:"sans-serif",variants:["regular","italic","700","700italic"],subsets:["latin","latin-ext"],version:"v9",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/quattrocentosans/v9/tXSgPxDl7Lk8Zr_5qX8FIbqxG25nQNOioCZSK4sU-CA.ttf",regular:"//fonts.gstatic.com/s/quattrocentosans/v9/efd6FGWWGX5Z3ztwLBrG9eAj_ty82iuwwDTNEYXGiyQ.ttf",italic:"//fonts.gstatic.com/s/quattrocentosans/v9/8PXYbvM__bjl0rBnKiByg532VBCoA_HLsn85tSWZmdo.ttf","700italic":"//fonts.gstatic.com/s/quattrocentosans/v9/8N1PdXpbG6RtFvTjl-5E7buqAJxizi8Dk_SK5et7kMg.ttf"}},{kind:"webfonts#webfont",family:"Questrial",category:"sans-serif",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/questrial/v6/MoHHaw_WwNs_hd9ob1zTVw.ttf"}},{kind:"webfonts#webfont",family:"Quicksand",category:"sans-serif",variants:["300","regular","700"],subsets:["latin"],version:"v5",lastModified:"2016-05-31",files:{300:"//fonts.gstatic.com/s/quicksand/v5/qhfoJiLu10kFjChCCTvGlC3USBnSvpkopQaUR-2r7iU.ttf",700:"//fonts.gstatic.com/s/quicksand/v5/32nyIRHyCu6iqEka_hbKsi3USBnSvpkopQaUR-2r7iU.ttf",regular:"//fonts.gstatic.com/s/quicksand/v5/Ngv3fIJjKB7sD-bTUGIFCA.ttf"}},{kind:"webfonts#webfont",family:"Quintessential",category:"handwriting",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/quintessential/v4/mmk6ioesnTrEky_Zb92E5s02lXbtMOtZWfuxKeMZO8Q.ttf"}},{kind:"webfonts#webfont",family:"Qwigley",category:"handwriting",variants:["regular"],subsets:["latin","latin-ext"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/qwigley/v6/aDqxws-KubFID85TZHFouw.ttf"}},{kind:"webfonts#webfont",family:"Racing Sans One",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/racingsansone/v4/1r3DpWaCiT7y3PD4KgkNyDjVlsJB_M_Q_LtZxsoxvlw.ttf"}},{kind:"webfonts#webfont",family:"Radley",category:"serif",variants:["regular","italic"],subsets:["latin","latin-ext"],version:"v9",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/radley/v9/FgE9di09a-mXGzAIyI6Q9Q.ttf",italic:"//fonts.gstatic.com/s/radley/v9/Z_JcACuPAOO2f9kzQcGRug.ttf"}},{kind:"webfonts#webfont",family:"Rajdhani",category:"sans-serif",variants:["300","regular","500","600","700"],subsets:["latin","devanagari","latin-ext"],version:"v5",lastModified:"2016-06-07",files:{300:"//fonts.gstatic.com/s/rajdhani/v5/9pItuEhQZVGdq8spnHTku6CWcynf_cDxXwCLxiixG1c.ttf",500:"//fonts.gstatic.com/s/rajdhani/v5/nd_5ZpVwm710HcLual0fBqCWcynf_cDxXwCLxiixG1c.ttf",600:"//fonts.gstatic.com/s/rajdhani/v5/5fnmZahByDeTtgxIiqbJSaCWcynf_cDxXwCLxiixG1c.ttf",700:"//fonts.gstatic.com/s/rajdhani/v5/UBK6d2Hg7X7wYLlF92aXW6CWcynf_cDxXwCLxiixG1c.ttf",regular:"//fonts.gstatic.com/s/rajdhani/v5/Wfy5zp4PGFAFS7-Wetehzw.ttf"}},{kind:"webfonts#webfont",family:"Rakkas",category:"display",variants:["regular"],subsets:["latin","arabic","latin-ext"],version:"v1",lastModified:"2016-06-20",files:{regular:"//fonts.gstatic.com/s/rakkas/v1/XWSZpoSbAR4myQgKbSJM9A.ttf"}},{kind:"webfonts#webfont",family:"Raleway",category:"sans-serif",variants:["100","100italic","200","200italic","300","300italic","regular","italic","500","500italic","600","600italic","700","700italic","800","800italic","900","900italic"],subsets:["latin","latin-ext"],version:"v11",lastModified:"2016-06-07",files:{100:"//fonts.gstatic.com/s/raleway/v11/UDfD6oxBaBnmFJwQ7XAFNw.ttf",200:"//fonts.gstatic.com/s/raleway/v11/LAQwev4hdCtYkOYX4Oc7nPesZW2xOQ-xsNqO47m55DA.ttf",300:"//fonts.gstatic.com/s/raleway/v11/2VvSZU2kb4DZwFfRM4fLQPesZW2xOQ-xsNqO47m55DA.ttf",500:"//fonts.gstatic.com/s/raleway/v11/348gn6PEmbLDWlHbbV15d_esZW2xOQ-xsNqO47m55DA.ttf",600:"//fonts.gstatic.com/s/raleway/v11/M7no6oPkwKYJkedjB1wqEvesZW2xOQ-xsNqO47m55DA.ttf",700:"//fonts.gstatic.com/s/raleway/v11/VGEV9-DrblisWOWLbK-1XPesZW2xOQ-xsNqO47m55DA.ttf",800:"//fonts.gstatic.com/s/raleway/v11/mMh0JrsYMXcLO69jgJwpUvesZW2xOQ-xsNqO47m55DA.ttf",900:"//fonts.gstatic.com/s/raleway/v11/ajQQGcDBLcyLpaUfD76UuPesZW2xOQ-xsNqO47m55DA.ttf","100italic":"//fonts.gstatic.com/s/raleway/v11/hUpHtml6IPNuUR-FwVi2UKCWcynf_cDxXwCLxiixG1c.ttf","200italic":"//fonts.gstatic.com/s/raleway/v11/N2DIbZG4399cPGfifZUEQi3USBnSvpkopQaUR-2r7iU.ttf","300italic":"//fonts.gstatic.com/s/raleway/v11/TVSB8ogXDKMcnAAJ5CqrUi3USBnSvpkopQaUR-2r7iU.ttf",regular:"//fonts.gstatic.com/s/raleway/v11/_dCzxpXzIS3sL-gdJWAP8A.ttf",italic:"//fonts.gstatic.com/s/raleway/v11/utU2m1gdZSfuQpArSy5Dbw.ttf","500italic":"//fonts.gstatic.com/s/raleway/v11/S7vGLZZ40c85SJgiptJGVy3USBnSvpkopQaUR-2r7iU.ttf","600italic":"//fonts.gstatic.com/s/raleway/v11/OY22yoG8EJ3IN_muVWm29C3USBnSvpkopQaUR-2r7iU.ttf","700italic":"//fonts.gstatic.com/s/raleway/v11/lFxvRPuGFG5ktd7P0WRwKi3USBnSvpkopQaUR-2r7iU.ttf","800italic":"//fonts.gstatic.com/s/raleway/v11/us4LjTCmlYgh3W8CKujEJi3USBnSvpkopQaUR-2r7iU.ttf","900italic":"//fonts.gstatic.com/s/raleway/v11/oY2RadnkHfshu5f0FLsgVS3USBnSvpkopQaUR-2r7iU.ttf"}},{kind:"webfonts#webfont",family:"Raleway Dots",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/ralewaydots/v4/lhLgmWCRcyz-QXo8LCzTfC3USBnSvpkopQaUR-2r7iU.ttf"}},{kind:"webfonts#webfont",family:"Ramabhadra",category:"sans-serif",variants:["regular"],subsets:["latin","telugu"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/ramabhadra/v5/JyhxLXRVQChLDGADS_c5MPesZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Ramaraja",category:"serif",variants:["regular"],subsets:["latin","telugu"],version:"v1",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/ramaraja/v1/XIqzxFapVczstBedHdQTiw.ttf"}},{kind:"webfonts#webfont",family:"Rambla",category:"sans-serif",variants:["regular","italic","700","700italic"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/rambla/v4/C5VZH8BxQKmnBuoC00UPpw.ttf",regular:"//fonts.gstatic.com/s/rambla/v4/YaTmpvm5gFg_ShJKTQmdzg.ttf",italic:"//fonts.gstatic.com/s/rambla/v4/mhUgsKmp0qw3uATdDDAuwA.ttf","700italic":"//fonts.gstatic.com/s/rambla/v4/ziMzUZya6QahrKONSI1TzqCWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Rammetto One",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/rammettoone/v5/mh0uQ1tV8QgSx9v_KyEYPC3USBnSvpkopQaUR-2r7iU.ttf"}},{kind:"webfonts#webfont",family:"Ranchers",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/ranchers/v4/9ya8CZYhqT66VERfjQ7eLA.ttf"}},{kind:"webfonts#webfont",family:"Rancho",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/rancho/v6/ekp3-4QykC4--6KaslRgHA.ttf"}},{kind:"webfonts#webfont",family:"Ranga",category:"display",variants:["regular","700"],subsets:["latin","devanagari","latin-ext"],version:"v1",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/ranga/v1/h8G_gEUH7vHKH-NkjAs34A.ttf",regular:"//fonts.gstatic.com/s/ranga/v1/xpW6zFTNzY1JykoBIqE1Zg.ttf"}},{kind:"webfonts#webfont",family:"Rasa",category:"serif",variants:["300","regular","500","600","700"],subsets:["latin","gujarati","latin-ext"],version:"v1",lastModified:"2016-06-20",files:{300:"//fonts.gstatic.com/s/rasa/v1/XQ1gDq2EqBtGcdadPyPbww.ttf",500:"//fonts.gstatic.com/s/rasa/v1/HfsDi_Ls3NARO_YEODINGg.ttf",600:"//fonts.gstatic.com/s/rasa/v1/f-fvbq-hWIQCdmT3QHGk3Q.ttf",700:"//fonts.gstatic.com/s/rasa/v1/TSF3CG-8Cn72jvaVdqtMMQ.ttf",regular:"//fonts.gstatic.com/s/rasa/v1/A5PoJUwX_PxTsywxlRB79g.ttf"}},{kind:"webfonts#webfont",family:"Rationale",category:"sans-serif",variants:["regular"],subsets:["latin"],version:"v7",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/rationale/v7/7M2eN-di0NGLQse7HzJRfg.ttf"}},{kind:"webfonts#webfont",family:"Ravi Prakash",category:"display",variants:["regular"],subsets:["latin","telugu"],version:"v3",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/raviprakash/v3/8EzbM7Rymjk25jWeHxbO6C3USBnSvpkopQaUR-2r7iU.ttf"}},{kind:"webfonts#webfont",family:"Redressed",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-20",files:{regular:"//fonts.gstatic.com/s/redressed/v6/3aZ5sTBppH3oSm5SabegtA.ttf"}},{kind:"webfonts#webfont",family:"Reem Kufi",category:"sans-serif",variants:["regular"],subsets:["latin","arabic"],version:"v1",lastModified:"2016-08-22",files:{regular:"//fonts.gstatic.com/s/reemkufi/v1/xLwMbK_T1g-h9p-rp60A1Q.ttf"}},{kind:"webfonts#webfont",family:"Reenie Beanie",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v7",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/reeniebeanie/v7/ljpKc6CdXusL1cnGUSamX4jjx0o0jr6fNXxPgYh_a8Q.ttf"}},{kind:"webfonts#webfont",family:"Revalia",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/revalia/v4/1TKw66fF5_poiL0Ktgo4_A.ttf"}},{kind:"webfonts#webfont",family:"Rhodium Libre",category:"serif",variants:["regular"],subsets:["latin","devanagari","latin-ext"],version:"v1",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/rhodiumlibre/v1/Vxr7A4-xE2zsBDDI8BcseIjjx0o0jr6fNXxPgYh_a8Q.ttf"}},{kind:"webfonts#webfont",family:"Ribeye",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/ribeye/v5/e5w3VE8HnWBln4Ll6lUj3Q.ttf"}},{kind:"webfonts#webfont",family:"Ribeye Marrow",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/ribeyemarrow/v6/q7cBSA-4ErAXBCDFPrhlY0cTNmV93fYG7UKgsLQNQWs.ttf"}},{kind:"webfonts#webfont",family:"Righteous",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/righteous/v5/0nRRWM_gCGCt2S-BCfN8WQ.ttf"}},{kind:"webfonts#webfont",family:"Risque",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/risque/v4/92RnElGnl8yHP97-KV3Fyg.ttf"}},{kind:"webfonts#webfont",family:"Roboto",category:"sans-serif",variants:["100","100italic","300","300italic","regular","italic","500","500italic","700","700italic","900","900italic"],subsets:["greek","latin","greek-ext","cyrillic","latin-ext","vietnamese","cyrillic-ext"],version:"v15",lastModified:"2016-06-07",files:{100:"//fonts.gstatic.com/s/roboto/v15/7MygqTe2zs9YkP0adA9QQQ.ttf",300:"//fonts.gstatic.com/s/roboto/v15/dtpHsbgPEm2lVWciJZ0P-A.ttf",500:"//fonts.gstatic.com/s/roboto/v15/Uxzkqj-MIMWle-XP2pDNAA.ttf",700:"//fonts.gstatic.com/s/roboto/v15/bdHGHleUa-ndQCOrdpfxfw.ttf",900:"//fonts.gstatic.com/s/roboto/v15/H1vB34nOKWXqzKotq25pcg.ttf","100italic":"//fonts.gstatic.com/s/roboto/v15/T1xnudodhcgwXCmZQ490TPesZW2xOQ-xsNqO47m55DA.ttf","300italic":"//fonts.gstatic.com/s/roboto/v15/iE8HhaRzdhPxC93dOdA056CWcynf_cDxXwCLxiixG1c.ttf",regular:"//fonts.gstatic.com/s/roboto/v15/W5F8_SL0XFawnjxHGsZjJA.ttf",italic:"//fonts.gstatic.com/s/roboto/v15/hcKoSgxdnKlbH5dlTwKbow.ttf","500italic":"//fonts.gstatic.com/s/roboto/v15/daIfzbEw-lbjMyv4rMUUTqCWcynf_cDxXwCLxiixG1c.ttf","700italic":"//fonts.gstatic.com/s/roboto/v15/owYYXKukxFDFjr0ZO8NXh6CWcynf_cDxXwCLxiixG1c.ttf","900italic":"//fonts.gstatic.com/s/roboto/v15/b9PWBSMHrT2zM5FgUdtu0aCWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Roboto Condensed",category:"sans-serif",variants:["300","300italic","regular","italic","700","700italic"],subsets:["greek","latin","greek-ext","cyrillic","latin-ext","vietnamese","cyrillic-ext"],version:"v13",lastModified:"2016-06-07",files:{300:"//fonts.gstatic.com/s/robotocondensed/v13/b9QBgL0iMZfDSpmcXcE8nJRhFVcex_hajThhFkHyhYk.ttf",700:"//fonts.gstatic.com/s/robotocondensed/v13/b9QBgL0iMZfDSpmcXcE8nPOYkGiSOYDq_T7HbIOV1hA.ttf","300italic":"//fonts.gstatic.com/s/robotocondensed/v13/mg0cGfGRUERshzBlvqxeAPYa9bgCHecWXGgisnodcS0.ttf",regular:"//fonts.gstatic.com/s/robotocondensed/v13/Zd2E9abXLFGSr9G3YK2MsKDbm6fPDOZJsR8PmdG62gY.ttf",italic:"//fonts.gstatic.com/s/robotocondensed/v13/BP5K8ZAJv9qEbmuFp8RpJY_eiqgTfYGaH0bJiUDZ5GA.ttf","700italic":"//fonts.gstatic.com/s/robotocondensed/v13/mg0cGfGRUERshzBlvqxeAE2zk2RGRC3SlyyLLQfjS_8.ttf"}},{kind:"webfonts#webfont",family:"Roboto Mono",category:"monospace",variants:["100","100italic","300","300italic","regular","italic","500","500italic","700","700italic"],subsets:["greek","latin","greek-ext","cyrillic","latin-ext","vietnamese","cyrillic-ext"],version:"v4",lastModified:"2016-06-07",files:{100:"//fonts.gstatic.com/s/robotomono/v4/aOIeRp72J9_Hp_8KwQ9M-YAWxXGWZ3yJw6KhWS7MxOk.ttf",300:"//fonts.gstatic.com/s/robotomono/v4/N4duVc9C58uwPiY8_59Fzy9-WlPSxbfiI49GsXo3q0g.ttf",500:"//fonts.gstatic.com/s/robotomono/v4/N4duVc9C58uwPiY8_59Fz8CNfqCYlB_eIx7H1TVXe60.ttf",700:"//fonts.gstatic.com/s/robotomono/v4/N4duVc9C58uwPiY8_59Fz3e1Pd76Vl7zRpE7NLJQ7XU.ttf","100italic":"//fonts.gstatic.com/s/robotomono/v4/rqQ1zSE-ZGCKVZgew-A9dgyDtfpXZi-8rXUZYR4dumU.ttf","300italic":"//fonts.gstatic.com/s/robotomono/v4/1OsMuiiO6FCF2x67vzDKA2o9eWDfYYxG3A176Zl7aIg.ttf",regular:"//fonts.gstatic.com/s/robotomono/v4/eJ4cxQe85Lo39t-LVoKa26CWcynf_cDxXwCLxiixG1c.ttf",italic:"//fonts.gstatic.com/s/robotomono/v4/mE0EPT_93c7f86_WQexR3EeOrDcLawS7-ssYqLr2Xp4.ttf","500italic":"//fonts.gstatic.com/s/robotomono/v4/1OsMuiiO6FCF2x67vzDKA2nWRcJAYo5PSCx8UfGMHCI.ttf","700italic":"//fonts.gstatic.com/s/robotomono/v4/1OsMuiiO6FCF2x67vzDKA8_zJjSACmk0BRPxQqhnNLU.ttf"}},{kind:"webfonts#webfont",family:"Roboto Slab",category:"serif",variants:["100","300","regular","700"],subsets:["greek","latin","greek-ext","cyrillic","latin-ext","vietnamese","cyrillic-ext"],version:"v6",lastModified:"2016-05-20",files:{100:"//fonts.gstatic.com/s/robotoslab/v6/MEz38VLIFL-t46JUtkIEgIAWxXGWZ3yJw6KhWS7MxOk.ttf",300:"//fonts.gstatic.com/s/robotoslab/v6/dazS1PrQQuCxC3iOAJFEJS9-WlPSxbfiI49GsXo3q0g.ttf",700:"//fonts.gstatic.com/s/robotoslab/v6/dazS1PrQQuCxC3iOAJFEJXe1Pd76Vl7zRpE7NLJQ7XU.ttf",regular:"//fonts.gstatic.com/s/robotoslab/v6/3__ulTNA7unv0UtplybPiqCWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Rochester",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-20",files:{regular:"//fonts.gstatic.com/s/rochester/v6/bnj8tmQBiOkdji_G_yvypg.ttf"}},{kind:"webfonts#webfont",family:"Rock Salt",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/rocksalt/v6/Zy7JF9h9WbhD9V3SFMQ1UQ.ttf"}},{kind:"webfonts#webfont",family:"Rokkitt",category:"serif",variants:["regular","700"],subsets:["latin"],version:"v10",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/rokkitt/v10/gxlo-sr3rPmvgSixYog_ofesZW2xOQ-xsNqO47m55DA.ttf",regular:"//fonts.gstatic.com/s/rokkitt/v10/GMA7Z_ToF8uSvpZAgnp_VQ.ttf"}},{kind:"webfonts#webfont",family:"Romanesco",category:"handwriting",variants:["regular"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/romanesco/v5/2udIjUrpK_CPzYSxRVzD4Q.ttf"}},{kind:"webfonts#webfont",family:"Ropa Sans",category:"sans-serif",variants:["regular","italic"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/ropasans/v5/Gba7ZzVBuhg6nX_AoSwlkQ.ttf",italic:"//fonts.gstatic.com/s/ropasans/v5/V1zbhZQscNrh63dy5Jk2nqCWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Rosario",category:"sans-serif",variants:["regular","italic","700","700italic"],subsets:["latin"],version:"v11",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/rosario/v11/nrS6PJvDWN42RP4TFWccd_esZW2xOQ-xsNqO47m55DA.ttf",regular:"//fonts.gstatic.com/s/rosario/v11/bL-cEh8dXtDupB2WccA2LA.ttf",italic:"//fonts.gstatic.com/s/rosario/v11/pkflNy18HEuVVx4EOjeb_Q.ttf","700italic":"//fonts.gstatic.com/s/rosario/v11/EOgFX2Va5VGrkhn_eDpIRS3USBnSvpkopQaUR-2r7iU.ttf"}},{kind:"webfonts#webfont",family:"Rosarivo",category:"serif",variants:["regular","italic"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/rosarivo/v4/EmPiINK0qyqc7KSsNjJamA.ttf",italic:"//fonts.gstatic.com/s/rosarivo/v4/u3VuWsWQlX1pDqsbz4paNPesZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Rouge Script",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/rougescript/v5/AgXDSqZJmy12qS0ixjs6Vy3USBnSvpkopQaUR-2r7iU.ttf"}},{kind:"webfonts#webfont",family:"Rozha One",category:"serif",variants:["regular"],subsets:["latin","devanagari","latin-ext"],version:"v2",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/rozhaone/v2/PyrMHQ6lucEIxwKmhqsX8A.ttf"}},{kind:"webfonts#webfont",family:"Rubik",category:"sans-serif",variants:["300","300italic","regular","italic","500","500italic","700","700italic","900","900italic"],subsets:["latin","cyrillic","hebrew","latin-ext"],version:"v2",lastModified:"2016-06-02",files:{300:"//fonts.gstatic.com/s/rubik/v2/o1vXYO8YwDpErHEAPAxpOg.ttf",500:"//fonts.gstatic.com/s/rubik/v2/D4HihERG27s-BJrQ4dvkbw.ttf",700:"//fonts.gstatic.com/s/rubik/v2/m1GGHcpLe6Mb0_sAyjXE4g.ttf",900:"//fonts.gstatic.com/s/rubik/v2/mOHfPRl5uP4vw7-5-dbnng.ttf","300italic":"//fonts.gstatic.com/s/rubik/v2/NyXDvUhvZLSWiVfGa5KM-vesZW2xOQ-xsNqO47m55DA.ttf",regular:"//fonts.gstatic.com/s/rubik/v2/4sMyW_teKWHB3K8Hm-Il6A.ttf",italic:"//fonts.gstatic.com/s/rubik/v2/elD65ddI0qvNcCh42b1Iqg.ttf","500italic":"//fonts.gstatic.com/s/rubik/v2/0hcxMdoMbXtHiEM1ebdN6PesZW2xOQ-xsNqO47m55DA.ttf","700italic":"//fonts.gstatic.com/s/rubik/v2/R4g_rs714cUXVZcdnRdHw_esZW2xOQ-xsNqO47m55DA.ttf","900italic":"//fonts.gstatic.com/s/rubik/v2/HH1b7kBbwInqlw8OQxRE5vesZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Rubik Mono One",category:"sans-serif",variants:["regular"],subsets:["latin","cyrillic","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/rubikmonoone/v5/e_cupPtD4BrZzotubJD7UbAREgn5xbW23GEXXnhMQ5Y.ttf"}},{kind:"webfonts#webfont",family:"Rubik One",category:"sans-serif",variants:["regular"],subsets:["latin","cyrillic","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/rubikone/v4/Zs6TtctNRSIR8T5PO018rQ.ttf"}},{kind:"webfonts#webfont",family:"Ruda",category:"sans-serif",variants:["regular","700","900"],subsets:["latin","latin-ext"],version:"v7",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/ruda/v7/JABOu1SYOHcGXVejUq4w6g.ttf",900:"//fonts.gstatic.com/s/ruda/v7/Uzusv-enCjoIrznlJJaBRw.ttf",regular:"//fonts.gstatic.com/s/ruda/v7/jPEIPB7DM2DNK_uBGv2HGw.ttf"}},{kind:"webfonts#webfont",family:"Rufina",category:"serif",variants:["regular","700"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/rufina/v4/D0RUjXFr55y4MVZY2Ww_RA.ttf",regular:"//fonts.gstatic.com/s/rufina/v4/s9IFr_fIemiohfZS-ZRDbQ.ttf"}},{kind:"webfonts#webfont",family:"Ruge Boogie",category:"handwriting",variants:["regular"],subsets:["latin","latin-ext"],version:"v7",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/rugeboogie/v7/U-TTmltL8aENLVIqYbI5QaCWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Ruluko",category:"sans-serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/ruluko/v4/lv4cMwJtrx_dzmlK5SDc1g.ttf"}},{kind:"webfonts#webfont",family:"Rum Raisin",category:"sans-serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/rumraisin/v4/kDiL-ntDOEq26B7kYM7cx_esZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Ruslan Display",category:"display",variants:["regular"],subsets:["latin","cyrillic","latin-ext"],version:"v7",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/ruslandisplay/v7/SREdhlyLNUfU1VssRBfs3rgH88D3l9N4auRNHrNS708.ttf"}},{kind:"webfonts#webfont",family:"Russo One",category:"sans-serif",variants:["regular"],subsets:["latin","cyrillic","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/russoone/v5/zfwxZ--UhUc7FVfgT21PRQ.ttf"}},{kind:"webfonts#webfont",family:"Ruthie",category:"handwriting",variants:["regular"],subsets:["latin","latin-ext"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/ruthie/v6/vJ2LorukHSbWYoEs5juivg.ttf"}},{kind:"webfonts#webfont",family:"Rye",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/rye/v4/VUrJlpPpSZxspl3w_yNOrQ.ttf"}},{kind:"webfonts#webfont",family:"Sacramento",category:"handwriting",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/sacramento/v4/_kv-qycSHMNdhjiv0Kj7BvesZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Sahitya",category:"serif",variants:["regular","700"],subsets:["latin","devanagari"],version:"v1",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/sahitya/v1/Zm5hNvMwUyN3tC4GMkH1l_esZW2xOQ-xsNqO47m55DA.ttf",regular:"//fonts.gstatic.com/s/sahitya/v1/wQWULcDbZqljdTfjOUtDvw.ttf"}},{kind:"webfonts#webfont",family:"Sail",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v7",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/sail/v7/iuEoG6kt-bePGvtdpL0GUQ.ttf"}},{kind:"webfonts#webfont",family:"Salsa",category:"display",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/salsa/v6/BnpUCBmYdvggScEPs5JbpA.ttf"}},{kind:"webfonts#webfont",family:"Sanchez",category:"serif",variants:["regular","italic"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/sanchez/v4/BEL8ao-E2LJ5eHPLB2UAiw.ttf",italic:"//fonts.gstatic.com/s/sanchez/v4/iSrhkWLexUZzDeNxNEHtzA.ttf"}},{kind:"webfonts#webfont",family:"Sancreek",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v7",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/sancreek/v7/8ZacBMraWMvHly4IJI3esw.ttf"}},{kind:"webfonts#webfont",family:"Sansita One",category:"display",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/sansitaone/v6/xWqf68oB50JXqGIRR0h2hqCWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Sarala",category:"sans-serif",variants:["regular","700"],subsets:["latin","devanagari","latin-ext"],version:"v1",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/sarala/v1/hpc9cz8KYsazwq2In_oJYw.ttf",regular:"//fonts.gstatic.com/s/sarala/v1/ohip9lixCHoBab7hTtgLnw.ttf"}},{kind:"webfonts#webfont",family:"Sarina",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/sarina/v5/XYtRfaSknHIU3NHdfTdXoQ.ttf"}},{kind:"webfonts#webfont",family:"Sarpanch",category:"sans-serif",variants:["regular","500","600","700","800","900"],subsets:["latin","devanagari","latin-ext"],version:"v1",lastModified:"2016-05-31",files:{500:"//fonts.gstatic.com/s/sarpanch/v1/Ov7BxSrFSZYrfuJxL1LzQaCWcynf_cDxXwCLxiixG1c.ttf",600:"//fonts.gstatic.com/s/sarpanch/v1/WTnP2wnc0qSbUaaDG-2OQ6CWcynf_cDxXwCLxiixG1c.ttf",700:"//fonts.gstatic.com/s/sarpanch/v1/57kYsSpovYmFaEt2hsZhv6CWcynf_cDxXwCLxiixG1c.ttf",800:"//fonts.gstatic.com/s/sarpanch/v1/OKyqPLjdnuVghR-1TV6RzaCWcynf_cDxXwCLxiixG1c.ttf",900:"//fonts.gstatic.com/s/sarpanch/v1/JhYc2cr6kqWTo_P0vfvJR6CWcynf_cDxXwCLxiixG1c.ttf",regular:"//fonts.gstatic.com/s/sarpanch/v1/YMBZdT27b6O5a1DADbAGSg.ttf"}},{kind:"webfonts#webfont",family:"Satisfy",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-20",files:{regular:"//fonts.gstatic.com/s/satisfy/v6/PRlyepkd-JCGHiN8e9WV2w.ttf"}},{kind:"webfonts#webfont",family:"Scada",category:"sans-serif",variants:["regular","italic","700","700italic"],subsets:["latin","cyrillic","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/scada/v4/t6XNWdMdVWUz93EuRVmifQ.ttf",regular:"//fonts.gstatic.com/s/scada/v4/iZNC3ZEYwe3je6H-28d5Ug.ttf",italic:"//fonts.gstatic.com/s/scada/v4/PCGyLT1qNawkOUQ3uHFhBw.ttf","700italic":"//fonts.gstatic.com/s/scada/v4/kLrBIf7V4mDMwcd_Yw7-D_esZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Scheherazade",category:"serif",variants:["regular","700"],subsets:["latin","arabic"],version:"v12",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/scheherazade/v12/C1wtT46acJkQxc6mPHwvHED2ttfZwueP-QU272T9-k4.ttf",regular:"//fonts.gstatic.com/s/scheherazade/v12/AuKlqGWzUC-8XqMOmsqXiy3USBnSvpkopQaUR-2r7iU.ttf"}},{kind:"webfonts#webfont",family:"Schoolbell",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-20",files:{regular:"//fonts.gstatic.com/s/schoolbell/v6/95-3djEuubb3cJx-6E7j4vesZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Scope One",category:"serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v2",lastModified:"2016-06-20",files:{regular:"//fonts.gstatic.com/s/scopeone/v2/ge7dY8Yht-n7_1cLHtoT3w.ttf"}},{kind:"webfonts#webfont",family:"Seaweed Script",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/seaweedscript/v4/eorWAPpOvvWrPw5IHwE60BnpV0hQCek3EmWnCPrvGRM.ttf"}},{kind:"webfonts#webfont",family:"Secular One",category:"sans-serif",variants:["regular"],subsets:["latin","hebrew","latin-ext"],version:"v1",lastModified:"2016-06-20",files:{regular:"//fonts.gstatic.com/s/secularone/v1/yW9qikjpt_X0fh5oQJcdo6CWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Sevillana",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/sevillana/v4/6m1Nh35oP7YEt00U80Smiw.ttf"}},{kind:"webfonts#webfont",family:"Seymour One",category:"sans-serif",variants:["regular"],subsets:["latin","cyrillic","latin-ext"],version:"v4",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/seymourone/v4/HrdG2AEG_870Xb7xBVv6C6CWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Shadows Into Light",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/shadowsintolight/v6/clhLqOv7MXn459PTh0gXYAW_5bEze-iLRNvGrRpJsfM.ttf"}},{kind:"webfonts#webfont",family:"Shadows Into Light Two",category:"handwriting",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/shadowsintolighttwo/v4/gDxHeefcXIo-lOuZFCn2xVQrZk-Pga5KeEE_oZjkQjQ.ttf"}},{kind:"webfonts#webfont",family:"Shanti",category:"sans-serif",variants:["regular"],subsets:["latin"],version:"v8",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/shanti/v8/lc4nG_JG6Q-2FQSOMMhb_w.ttf"}},{kind:"webfonts#webfont",family:"Share",category:"display",variants:["regular","italic","700","700italic"],subsets:["latin","latin-ext"],version:"v6",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/share/v6/XrU8e7a1YKurguyY2azk1Q.ttf",regular:"//fonts.gstatic.com/s/share/v6/1ytD7zSb_-g9I2GG67vmVw.ttf",italic:"//fonts.gstatic.com/s/share/v6/a9YGdQWFRlNJ0zClJVaY3Q.ttf","700italic":"//fonts.gstatic.com/s/share/v6/A992-bLVYwAflKu6iaznufesZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Share Tech",category:"sans-serif",variants:["regular"],subsets:["latin"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/sharetech/v5/Dq3DuZ5_0SW3oEfAWFpen_esZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Share Tech Mono",category:"monospace",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/sharetechmono/v6/RQxK-3RA0Lnf3gnnnNrAscwD6PD0c3_abh9zHKQtbGU.ttf"}},{kind:"webfonts#webfont",family:"Shojumaru",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/shojumaru/v4/WP8cxonzQQVAoI3RJQ2wug.ttf"}},{kind:"webfonts#webfont",family:"Short Stack",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/shortstack/v6/v4dXPI0Rm8XN9gk4SDdqlqCWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Shrikhand",category:"display",variants:["regular"],subsets:["latin","gujarati","latin-ext"],version:"v1",lastModified:"2016-06-20",files:{regular:"//fonts.gstatic.com/s/shrikhand/v1/45jwHiwIDTWCy3Ir85vvKA.ttf"}},{kind:"webfonts#webfont",family:"Sigmar One",category:"display",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/sigmarone/v6/oh_5NxD5JBZksdo2EntKefesZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Signika",category:"sans-serif",variants:["300","regular","600","700"],subsets:["latin","latin-ext"],version:"v6",lastModified:"2016-06-07",files:{300:"//fonts.gstatic.com/s/signika/v6/0wDPonOzsYeEo-1KO78w4fesZW2xOQ-xsNqO47m55DA.ttf",600:"//fonts.gstatic.com/s/signika/v6/lQMOF6NUN2ooR7WvB7tADvesZW2xOQ-xsNqO47m55DA.ttf",700:"//fonts.gstatic.com/s/signika/v6/lEcnfPBICWJPv5BbVNnFJPesZW2xOQ-xsNqO47m55DA.ttf",regular:"//fonts.gstatic.com/s/signika/v6/WvDswbww0oAtvBg2l1L-9w.ttf"}},{kind:"webfonts#webfont",family:"Signika Negative",category:"sans-serif",variants:["300","regular","600","700"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-06-07",files:{300:"//fonts.gstatic.com/s/signikanegative/v5/q5TOjIw4CenPw6C-TW06FjYFXpUPtCmIEFDvjUnLLaI.ttf",600:"//fonts.gstatic.com/s/signikanegative/v5/q5TOjIw4CenPw6C-TW06FrKLaDJM01OezSVA2R_O3qI.ttf",700:"//fonts.gstatic.com/s/signikanegative/v5/q5TOjIw4CenPw6C-TW06FpYzPxtVvobH1w3hEppR8WI.ttf",regular:"//fonts.gstatic.com/s/signikanegative/v5/Z-Q1hzbY8uAo3TpTyPFMXVM1lnCWMnren5_v6047e5A.ttf"}},{kind:"webfonts#webfont",family:"Simonetta",category:"display",variants:["regular","italic","900","900italic"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{900:"//fonts.gstatic.com/s/simonetta/v5/22EwvvJ2r1VwVCxit5LcVi3USBnSvpkopQaUR-2r7iU.ttf",regular:"//fonts.gstatic.com/s/simonetta/v5/fN8puNuahBo4EYMQgp12Yg.ttf",italic:"//fonts.gstatic.com/s/simonetta/v5/ynxQ3FqfF_Nziwy3T9ZwL6CWcynf_cDxXwCLxiixG1c.ttf","900italic":"//fonts.gstatic.com/s/simonetta/v5/WUXOpCgBZaRPrWtMCpeKoienaqEuufTBk9XMKnKmgDA.ttf"}},{kind:"webfonts#webfont",family:"Sintony",category:"sans-serif",variants:["regular","700"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/sintony/v4/zVXQB1wqJn6PE4dWXoYpvPesZW2xOQ-xsNqO47m55DA.ttf",regular:"//fonts.gstatic.com/s/sintony/v4/IDhCijoIMev2L6Lg5QsduQ.ttf"}},{kind:"webfonts#webfont",family:"Sirin Stencil",category:"display",variants:["regular"],subsets:["latin"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/sirinstencil/v5/pRpLdo0SawzO7MoBpvowsImg74kgS1F7KeR8rWhYwkU.ttf"}},{kind:"webfonts#webfont",family:"Six Caps",category:"sans-serif",variants:["regular"],subsets:["latin"],version:"v7",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/sixcaps/v7/_XeDnO0HOV8Er9u97If1tQ.ttf"}},{kind:"webfonts#webfont",family:"Skranji",category:"display",variants:["regular","700"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-06-07",files:{700:"//fonts.gstatic.com/s/skranji/v4/Lcrhg-fviVkxiEgoadsI1vesZW2xOQ-xsNqO47m55DA.ttf",regular:"//fonts.gstatic.com/s/skranji/v4/jnOLPS0iZmDL7dfWnW3nIw.ttf"}},{kind:"webfonts#webfont",family:"Slackey",category:"display",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-20",files:{regular:"//fonts.gstatic.com/s/slackey/v6/evRIMNhGVCRJvCPv4kteeA.ttf"}},{kind:"webfonts#webfont",family:"Smokum",category:"display",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-20",files:{regular:"//fonts.gstatic.com/s/smokum/v6/8YP4BuAcy97X8WfdKfxVRw.ttf"}},{kind:"webfonts#webfont",family:"Smythe",category:"display",variants:["regular"],subsets:["latin"],version:"v7",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/smythe/v7/yACD1gy_MpbB9Ft42fUvYw.ttf"}},{kind:"webfonts#webfont",family:"Sniglet",category:"display",variants:["regular","800"],subsets:["latin","latin-ext"],version:"v8",lastModified:"2016-05-31",files:{800:"//fonts.gstatic.com/s/sniglet/v8/NLF91nBmcEfkBgcEWbHFa_esZW2xOQ-xsNqO47m55DA.ttf",regular:"//fonts.gstatic.com/s/sniglet/v8/XWhyQLHH4SpCVsHRPRgu9w.ttf"}},{kind:"webfonts#webfont",family:"Snippet",category:"sans-serif",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/snippet/v6/eUcYMLq2GtHZovLlQH_9kA.ttf"}},{kind:"webfonts#webfont",family:"Snowburst One",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/snowburstone/v4/zSQzKOPukXRux2oTqfYJjIjjx0o0jr6fNXxPgYh_a8Q.ttf"}},{kind:"webfonts#webfont",family:"Sofadi One",category:"display",variants:["regular"],subsets:["latin"],version:"v4",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/sofadione/v4/nirf4G12IcJ6KI8Eoj119fesZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Sofia",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/sofia/v5/Imnvx0Ag9r6iDBFUY5_RaQ.ttf"}},{kind:"webfonts#webfont",family:"Sonsie One",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/sonsieone/v5/KSP7xT1OSy0q2ob6RQOTWPesZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Sorts Mill Goudy",category:"serif",variants:["regular","italic"],subsets:["latin","latin-ext"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/sortsmillgoudy/v6/JzRrPKdwEnE8F1TDmDLMUlIL2Qjg-Xlsg_fhGbe2P5U.ttf",italic:"//fonts.gstatic.com/s/sortsmillgoudy/v6/UUu1lKiy4hRmBWk599VL1TYNkCNSzLyoucKmbTguvr0.ttf"}},{kind:"webfonts#webfont",family:"Source Code Pro",category:"monospace",variants:["200","300","regular","500","600","700","900"],subsets:["latin","latin-ext"],version:"v6",lastModified:"2016-05-31",files:{200:"//fonts.gstatic.com/s/sourcecodepro/v6/leqv3v-yTsJNC7nFznSMqaXvKVW_haheDNrHjziJZVk.ttf",300:"//fonts.gstatic.com/s/sourcecodepro/v6/leqv3v-yTsJNC7nFznSMqVP7R5lD_au4SZC6Ks_vyWs.ttf",500:"//fonts.gstatic.com/s/sourcecodepro/v6/leqv3v-yTsJNC7nFznSMqX63uKwMO11Of4rJWV582wg.ttf",600:"//fonts.gstatic.com/s/sourcecodepro/v6/leqv3v-yTsJNC7nFznSMqeiMeWyi5E_-XkTgB5psiDg.ttf",700:"//fonts.gstatic.com/s/sourcecodepro/v6/leqv3v-yTsJNC7nFznSMqfgXsetDviZcdR5OzC1KPcw.ttf",900:"//fonts.gstatic.com/s/sourcecodepro/v6/leqv3v-yTsJNC7nFznSMqRA_awHl7mXRjE_LQVochcU.ttf",regular:"//fonts.gstatic.com/s/sourcecodepro/v6/mrl8jkM18OlOQN8JLgasD9Rl0pGnog23EMYRrBmUzJQ.ttf"}},{kind:"webfonts#webfont",family:"Source Sans Pro",category:"sans-serif",variants:["200","200italic","300","300italic","regular","italic","600","600italic","700","700italic","900","900italic"],subsets:["latin","latin-ext","vietnamese"],version:"v9",lastModified:"2016-05-31",files:{200:"//fonts.gstatic.com/s/sourcesanspro/v9/toadOcfmlt9b38dHJxOBGKXvKVW_haheDNrHjziJZVk.ttf",300:"//fonts.gstatic.com/s/sourcesanspro/v9/toadOcfmlt9b38dHJxOBGFP7R5lD_au4SZC6Ks_vyWs.ttf",600:"//fonts.gstatic.com/s/sourcesanspro/v9/toadOcfmlt9b38dHJxOBGOiMeWyi5E_-XkTgB5psiDg.ttf",700:"//fonts.gstatic.com/s/sourcesanspro/v9/toadOcfmlt9b38dHJxOBGPgXsetDviZcdR5OzC1KPcw.ttf",900:"//fonts.gstatic.com/s/sourcesanspro/v9/toadOcfmlt9b38dHJxOBGBA_awHl7mXRjE_LQVochcU.ttf","200italic":"//fonts.gstatic.com/s/sourcesanspro/v9/fpTVHK8qsXbIeTHTrnQH6OptKU7UIBg2hLM7eMTU8bI.ttf","300italic":"//fonts.gstatic.com/s/sourcesanspro/v9/fpTVHK8qsXbIeTHTrnQH6DUpNKoQAsDux-Todp8f29w.ttf",regular:"//fonts.gstatic.com/s/sourcesanspro/v9/ODelI1aHBYDBqgeIAH2zlNRl0pGnog23EMYRrBmUzJQ.ttf",italic:"//fonts.gstatic.com/s/sourcesanspro/v9/M2Jd71oPJhLKp0zdtTvoMwRX4TIfMQQEXLu74GftruE.ttf","600italic":"//fonts.gstatic.com/s/sourcesanspro/v9/fpTVHK8qsXbIeTHTrnQH6Pp6lGoTTgjlW0sC4r900Co.ttf","700italic":"//fonts.gstatic.com/s/sourcesanspro/v9/fpTVHK8qsXbIeTHTrnQH6LVT4locI09aamSzFGQlDMY.ttf","900italic":"//fonts.gstatic.com/s/sourcesanspro/v9/fpTVHK8qsXbIeTHTrnQH6A0NcF6HPGWR298uWIdxWv0.ttf"}},{kind:"webfonts#webfont",family:"Source Serif Pro",category:"serif",variants:["regular","600","700"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{600:"//fonts.gstatic.com/s/sourceserifpro/v4/yd5lDMt8Sva2PE17yiLarGi4cQnvCGV11m1KlXh97aQ.ttf",700:"//fonts.gstatic.com/s/sourceserifpro/v4/yd5lDMt8Sva2PE17yiLarEkpYHRvxGNSCrR82n_RDNk.ttf",regular:"//fonts.gstatic.com/s/sourceserifpro/v4/CeUM4np2c42DV49nanp55YGL0S0YDpKs5GpLtZIQ0m4.ttf"}},{kind:"webfonts#webfont",family:"Space Mono",category:"monospace",variants:["regular","italic","700","700italic"],subsets:["latin","latin-ext","vietnamese"],version:"v1",lastModified:"2016-06-20",files:{700:"//fonts.gstatic.com/s/spacemono/v1/vdpMRWfyjfCvDYTz00NEPAJKKGfqHaYFsRG-T3ceEVo.ttf",regular:"//fonts.gstatic.com/s/spacemono/v1/B_LOPq3uMVBqC_kmqwURBfesZW2xOQ-xsNqO47m55DA.ttf",italic:"//fonts.gstatic.com/s/spacemono/v1/7xgIgvUEl9Gvhtf7tXsRzC3USBnSvpkopQaUR-2r7iU.ttf","700italic":"//fonts.gstatic.com/s/spacemono/v1/y2NWQDXe2-qPj6a6rWkLc0D2ttfZwueP-QU272T9-k4.ttf"}},{kind:"webfonts#webfont",family:"Special Elite",category:"display",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/specialelite/v6/9-wW4zu3WNoD5Fjka35Jm4jjx0o0jr6fNXxPgYh_a8Q.ttf"}},{kind:"webfonts#webfont",family:"Spicy Rice",category:"display",variants:["regular"],subsets:["latin"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/spicyrice/v5/WGCtz7cLoggXARPi9OGD6_esZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Spinnaker",category:"sans-serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v8",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/spinnaker/v8/MQdIXivKITpjROUdiN6Jgg.ttf"}},{kind:"webfonts#webfont",family:"Spirax",category:"display",variants:["regular"],subsets:["latin"],version:"v5",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/spirax/v5/IOKqhk-Ccl7y31yDsePPkw.ttf"}},{kind:"webfonts#webfont",family:"Squada One",category:"display",variants:["regular"],subsets:["latin"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/squadaone/v5/3tzGuaJdD65cZVgfQzN8uvesZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Sree Krushnadevaraya",category:"serif",variants:["regular"],subsets:["latin","telugu"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/sreekrushnadevaraya/v4/CdsXmnHyEqVl1ahzOh5qnzjDZVem5Eb4d0dXjXa0F_Q.ttf"}},{kind:"webfonts#webfont",family:"Sriracha",category:"handwriting",variants:["regular"],subsets:["latin","thai","latin-ext","vietnamese"],version:"v1",lastModified:"2016-06-20",files:{regular:"//fonts.gstatic.com/s/sriracha/v1/l-TXHmKwoHm6vtjy4oUz8Q.ttf"}},{kind:"webfonts#webfont",family:"Stalemate",category:"handwriting",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/stalemate/v4/wQLCnG0qB6mOu2Wit2dt_w.ttf"}},{kind:"webfonts#webfont",family:"Stalinist One",category:"display",variants:["regular"],subsets:["latin","cyrillic","latin-ext"],version:"v8",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/stalinistone/v8/MQpS-WezM9W4Dd7D3B7I-UT7eZ8.ttf"}},{kind:"webfonts#webfont",family:"Stardos Stencil",category:"display",variants:["regular","700"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/stardosstencil/v6/h4ExtgvoXhPtv9Ieqd-XC81wDCbBgmIo8UyjIhmkeSM.ttf",regular:"//fonts.gstatic.com/s/stardosstencil/v6/ygEOyTW9a6u4fi4OXEZeTFf2eT4jUldwg_9fgfY_tHc.ttf"}},{kind:"webfonts#webfont",family:"Stint Ultra Condensed",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/stintultracondensed/v5/8DqLK6-YSClFZt3u3EgOUYelbRYnLTTQA1Z5cVLnsI4.ttf"}},{kind:"webfonts#webfont",family:"Stint Ultra Expanded",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/stintultraexpanded/v4/FeigX-wDDgHMCKuhekhedQ7dxr0N5HY0cZKknTIL6n4.ttf"}},{kind:"webfonts#webfont",family:"Stoke",category:"serif",variants:["300","regular"],subsets:["latin","latin-ext"],version:"v6",lastModified:"2016-06-07",files:{300:"//fonts.gstatic.com/s/stoke/v6/Sell9475FOS8jUqQsfFsUQ.ttf",regular:"//fonts.gstatic.com/s/stoke/v6/A7qJNoqOm2d6o1E6e0yUFg.ttf"}},{kind:"webfonts#webfont",family:"Strait",category:"sans-serif",variants:["regular"],subsets:["latin"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/strait/v4/m4W73ViNmProETY2ybc-Bg.ttf"}},{kind:"webfonts#webfont",family:"Sue Ellen Francisco",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v7",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/sueellenfrancisco/v7/TwHX4vSxMUnJUdEz1JIgrhzazJzPVbGl8jnf1tisRz4.ttf"}},{kind:"webfonts#webfont",family:"Suez One",category:"serif",variants:["regular"],subsets:["latin","hebrew","latin-ext"],version:"v1",lastModified:"2016-06-20",files:{regular:"//fonts.gstatic.com/s/suezone/v1/xulpHtKbz3V8hoSLE2uKDw.ttf"}},{kind:"webfonts#webfont",family:"Sumana",category:"serif",variants:["regular","700"],subsets:["latin","devanagari","latin-ext"],version:"v1",lastModified:"2016-06-07",files:{700:"//fonts.gstatic.com/s/sumana/v1/8AcM-KAproitONSBBHj3sQ.ttf",regular:"//fonts.gstatic.com/s/sumana/v1/wgdl__wAK7pzliiWs0Nlog.ttf"}},{kind:"webfonts#webfont",family:"Sunshiney",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/sunshiney/v6/kaWOb4pGbwNijM7CkxK1sQ.ttf"}},{kind:"webfonts#webfont",family:"Supermercado One",category:"display",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/supermercadoone/v6/kMGPVTNFiFEp1U274uBMb4mm5hmSKNFf3C5YoMa-lrM.ttf"}},{kind:"webfonts#webfont",family:"Sura",category:"serif",variants:["regular","700"],subsets:["latin","devanagari","latin-ext"],version:"v1",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/sura/v1/Z5bXQaFGmoWicN1WlcncxA.ttf",regular:"//fonts.gstatic.com/s/sura/v1/jznKrhTH5NezYxb0-Q5zzA.ttf"}},{kind:"webfonts#webfont",family:"Suranna",category:"serif",variants:["regular"],subsets:["latin","telugu"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/suranna/v4/PYmfr6TQeTqZ-r8HnPM-kA.ttf"}},{kind:"webfonts#webfont",family:"Swanky and Moo Moo",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/swankyandmoomoo/v6/orVNZ9kDeE3lWp3U3YELu9DVLKqNC3_XMNHhr8S94FU.ttf"}},{kind:"webfonts#webfont",family:"Syncopate",category:"sans-serif",variants:["regular","700"],subsets:["latin"],version:"v7",lastModified:"2016-05-20",files:{700:"//fonts.gstatic.com/s/syncopate/v7/S5z8ixiOoC4WJ1im6jAlYC3USBnSvpkopQaUR-2r7iU.ttf",regular:"//fonts.gstatic.com/s/syncopate/v7/RQVwO52fAH6MI764EcaYtw.ttf"}},{kind:"webfonts#webfont",family:"Tangerine",category:"handwriting",variants:["regular","700"],subsets:["latin"],version:"v7",lastModified:"2016-06-07",files:{700:"//fonts.gstatic.com/s/tangerine/v7/UkFsr-RwJB_d2l9fIWsx3i3USBnSvpkopQaUR-2r7iU.ttf",regular:"//fonts.gstatic.com/s/tangerine/v7/DTPeM3IROhnkz7aYG2a9sA.ttf"}},{kind:"webfonts#webfont",family:"Tauri",category:"sans-serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/tauri/v4/XIWeYJDXNqiVNej0zEqtGg.ttf"}},{kind:"webfonts#webfont",family:"Taviraj",category:"serif",variants:["100","100italic","200","200italic","300","300italic","regular","italic","500","500italic","600","600italic","700","700italic","800","800italic","900","900italic"],subsets:["latin","thai","latin-ext","vietnamese"],version:"v1",lastModified:"2016-06-20",files:{100:"//fonts.gstatic.com/s/taviraj/v1/7iDtujKEc7hwcT6D0zLx-A.ttf",200:"//fonts.gstatic.com/s/taviraj/v1/fn3qCO_sC_zLuf2hqWE37fesZW2xOQ-xsNqO47m55DA.ttf",300:"//fonts.gstatic.com/s/taviraj/v1/1EIpbtG_cs5haG6Ba9wX8vesZW2xOQ-xsNqO47m55DA.ttf",500:"//fonts.gstatic.com/s/taviraj/v1/s8BuqYm5ebG2N1R4JkTp_fesZW2xOQ-xsNqO47m55DA.ttf",600:"//fonts.gstatic.com/s/taviraj/v1/KscmiA6HGz7nCcHhaddQH_esZW2xOQ-xsNqO47m55DA.ttf",700:"//fonts.gstatic.com/s/taviraj/v1/TY91892tTFNYCeCXjQ1AEPesZW2xOQ-xsNqO47m55DA.ttf",800:"//fonts.gstatic.com/s/taviraj/v1/oGWJbiDGcxlInLLnrLxTDvesZW2xOQ-xsNqO47m55DA.ttf",900:"//fonts.gstatic.com/s/taviraj/v1/RfIEodnN0NYWUdZHol5fdPesZW2xOQ-xsNqO47m55DA.ttf","100italic":"//fonts.gstatic.com/s/taviraj/v1/ai0UdHXB1gi5etfpU0CZ6aCWcynf_cDxXwCLxiixG1c.ttf","200italic":"//fonts.gstatic.com/s/taviraj/v1/eDMMTK5GhTdvvz3R-ZWvay3USBnSvpkopQaUR-2r7iU.ttf","300italic":"//fonts.gstatic.com/s/taviraj/v1/IEBfc1xGgsBbdCeXKNAtfS3USBnSvpkopQaUR-2r7iU.ttf",regular:"//fonts.gstatic.com/s/taviraj/v1/AH1eoWagKJhbVx4Poc3M1A.ttf",italic:"//fonts.gstatic.com/s/taviraj/v1/hAS5RxygdSnG4626KdkXuQ.ttf","500italic":"//fonts.gstatic.com/s/taviraj/v1/319qfe3yzAi9RNFu-dI9zy3USBnSvpkopQaUR-2r7iU.ttf","600italic":"//fonts.gstatic.com/s/taviraj/v1/ofRN6EMiboGiM2Ga3cG_yy3USBnSvpkopQaUR-2r7iU.ttf","700italic":"//fonts.gstatic.com/s/taviraj/v1/4Yzb6i1xtMRZn9oAQ484nS3USBnSvpkopQaUR-2r7iU.ttf","800italic":"//fonts.gstatic.com/s/taviraj/v1/MPtY5Qs3hwV4f0LUH-vVmy3USBnSvpkopQaUR-2r7iU.ttf","900italic":"//fonts.gstatic.com/s/taviraj/v1/aDM2JaXSd_qo0nqKiBAq5C3USBnSvpkopQaUR-2r7iU.ttf"}},{kind:"webfonts#webfont",family:"Teko",category:"sans-serif",variants:["300","regular","500","600","700"],subsets:["latin","devanagari","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{300:"//fonts.gstatic.com/s/teko/v5/OobFGE9eo24rcBpN6zXDaQ.ttf",500:"//fonts.gstatic.com/s/teko/v5/FQ0duU7gWM4cSaImOfAjBA.ttf",600:"//fonts.gstatic.com/s/teko/v5/QDx_i8H-TZ1IK1JEVrqwEQ.ttf",700:"//fonts.gstatic.com/s/teko/v5/xKfTxe_SWpH4xU75vmvylA.ttf",regular:"//fonts.gstatic.com/s/teko/v5/UtekqODEqZXSN2L-njejpA.ttf"}},{kind:"webfonts#webfont",family:"Telex",category:"sans-serif",variants:["regular"],subsets:["latin"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/telex/v4/24-3xP9ywYeHOcFU3iGk8A.ttf"}},{kind:"webfonts#webfont",family:"Tenali Ramakrishna",category:"sans-serif",variants:["regular"],subsets:["latin","telugu"],version:"v3",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/tenaliramakrishna/v3/M0nTmDqv2M7AGoGh-c946BZak5pSBHqWX6uyVMiMFoA.ttf"}},{kind:"webfonts#webfont",family:"Tenor Sans",category:"sans-serif",variants:["regular"],subsets:["latin","cyrillic","latin-ext"],version:"v7",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/tenorsans/v7/dUBulmjNJJInvK5vL7O9yfesZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Text Me One",category:"sans-serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/textmeone/v4/9em_3ckd_P5PQkP4aDyDLqCWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"The Girl Next Door",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v7",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/thegirlnextdoor/v7/cWRA4JVGeEcHGcPl5hmX7kzo0nFFoM60ux_D9BUymX4.ttf"}},{kind:"webfonts#webfont",family:"Tienne",category:"serif",variants:["regular","700","900"],subsets:["latin"],version:"v8",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/tienne/v8/JvoCDOlyOSEyYGRwCyfs3g.ttf",900:"//fonts.gstatic.com/s/tienne/v8/FBano5T521OWexj2iRYLMw.ttf",regular:"//fonts.gstatic.com/s/tienne/v8/-IIfDl701C0z7-fy2kmGvA.ttf"}},{kind:"webfonts#webfont",family:"Tillana",category:"handwriting",variants:["regular","500","600","700","800"],subsets:["latin","devanagari","latin-ext"],version:"v1",lastModified:"2016-05-31",files:{500:"//fonts.gstatic.com/s/tillana/v1/gqdUngSIcY9tSla5eCZky_esZW2xOQ-xsNqO47m55DA.ttf",600:"//fonts.gstatic.com/s/tillana/v1/fqon6-r15hy8M1cyiYfQBvesZW2xOQ-xsNqO47m55DA.ttf",700:"//fonts.gstatic.com/s/tillana/v1/jGARMTxLrMerzTCpGBpMffesZW2xOQ-xsNqO47m55DA.ttf",800:"//fonts.gstatic.com/s/tillana/v1/pmTtNH_Ibktj5Cyc1XrP6vesZW2xOQ-xsNqO47m55DA.ttf",regular:"//fonts.gstatic.com/s/tillana/v1/zN0D-jDPsr1HzU3VRFLY5g.ttf"}},{kind:"webfonts#webfont",family:"Timmana",category:"sans-serif",variants:["regular"],subsets:["latin","telugu"],version:"v1",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/timmana/v1/T25SicsJUJkc2s2sbBsDnA.ttf"}},{kind:"webfonts#webfont",family:"Tinos",category:"serif",variants:["regular","italic","700","700italic"],subsets:["greek","latin","greek-ext","cyrillic","hebrew","latin-ext","vietnamese","cyrillic-ext"],version:"v9",lastModified:"2016-05-20",files:{700:"//fonts.gstatic.com/s/tinos/v9/vHXfhX8jZuQruowfon93yQ.ttf",regular:"//fonts.gstatic.com/s/tinos/v9/EqpUbkVmutfwZ0PjpoGwCg.ttf",italic:"//fonts.gstatic.com/s/tinos/v9/slfyzlasCr9vTsaP4lUh9A.ttf","700italic":"//fonts.gstatic.com/s/tinos/v9/M6kfzvDMM0CdxdraoFpG6vesZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Titan One",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/titanone/v4/FbvpRvzfV_oipS0De3iAZg.ttf"}},{kind:"webfonts#webfont",family:"Titillium Web",category:"sans-serif",variants:["200","200italic","300","300italic","regular","italic","600","600italic","700","700italic","900"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{200:"//fonts.gstatic.com/s/titilliumweb/v4/anMUvcNT0H1YN4FII8wprzOdCrLccoxq42eaxM802O0.ttf",300:"//fonts.gstatic.com/s/titilliumweb/v4/anMUvcNT0H1YN4FII8wpr9ZAkYT8DuUZELiKLwMGWAo.ttf",600:"//fonts.gstatic.com/s/titilliumweb/v4/anMUvcNT0H1YN4FII8wpr28K9dEd5Ue-HTQrlA7E2xQ.ttf",700:"//fonts.gstatic.com/s/titilliumweb/v4/anMUvcNT0H1YN4FII8wpr2-6tpSbB9YhmWtmd1_gi_U.ttf",900:"//fonts.gstatic.com/s/titilliumweb/v4/anMUvcNT0H1YN4FII8wpr7L0GmZLri-m-nfoo0Vul4Y.ttf","200italic":"//fonts.gstatic.com/s/titilliumweb/v4/RZunN20OBmkvrU7sA4GPPj4N98U-66ThNJvtgddRfBE.ttf","300italic":"//fonts.gstatic.com/s/titilliumweb/v4/RZunN20OBmkvrU7sA4GPPrfzCkqg7ORZlRf2cc4mXu8.ttf",regular:"//fonts.gstatic.com/s/titilliumweb/v4/7XUFZ5tgS-tD6QamInJTcTyagQBwYgYywpS70xNq8SQ.ttf",italic:"//fonts.gstatic.com/s/titilliumweb/v4/r9OmwyQxrgzUAhaLET_KO-ixohbIP6lHkU-1Mgq95cY.ttf","600italic":"//fonts.gstatic.com/s/titilliumweb/v4/RZunN20OBmkvrU7sA4GPPgOhzTSndyK8UWja2yJjKLc.ttf","700italic":"//fonts.gstatic.com/s/titilliumweb/v4/RZunN20OBmkvrU7sA4GPPio3LEw-4MM8Ao2j9wPOfpw.ttf"}},{kind:"webfonts#webfont",family:"Trade Winds",category:"display",variants:["regular"],subsets:["latin"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/tradewinds/v5/sDOCVgAxw6PEUi2xdMsoDaCWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Trirong",category:"serif",variants:["100","100italic","200","200italic","300","300italic","regular","italic","500","500italic","600","600italic","700","700italic","800","800italic","900","900italic"],subsets:["latin","thai","latin-ext","vietnamese"],version:"v1",lastModified:"2016-06-20",files:{100:"//fonts.gstatic.com/s/trirong/v1/A4AP1moxqvtadq5CW3L17A.ttf",200:"//fonts.gstatic.com/s/trirong/v1/QD8N5qk-agpAEYCSSWullPesZW2xOQ-xsNqO47m55DA.ttf",300:"//fonts.gstatic.com/s/trirong/v1/mfCfGz4GqprWJZ47PUMDGfesZW2xOQ-xsNqO47m55DA.ttf",500:"//fonts.gstatic.com/s/trirong/v1/6CsQ6UR1e8rURaEPxqnGBvesZW2xOQ-xsNqO47m55DA.ttf",600:"//fonts.gstatic.com/s/trirong/v1/1FjmLIhPhB6Yc7RWqO27mfesZW2xOQ-xsNqO47m55DA.ttf",700:"//fonts.gstatic.com/s/trirong/v1/ab8hG5CTSzMAobTnPgcDP_esZW2xOQ-xsNqO47m55DA.ttf",800:"//fonts.gstatic.com/s/trirong/v1/UBRQXGJvi5EHcyI5wwZew_esZW2xOQ-xsNqO47m55DA.ttf",900:"//fonts.gstatic.com/s/trirong/v1/Lam1ewMdiP3O-bVYT-W6t_esZW2xOQ-xsNqO47m55DA.ttf","100italic":"//fonts.gstatic.com/s/trirong/v1/ke-m75CXBPHlqwRHmCTBi6CWcynf_cDxXwCLxiixG1c.ttf","200italic":"//fonts.gstatic.com/s/trirong/v1/TLnptEEWKdIVHKJYBO592y3USBnSvpkopQaUR-2r7iU.ttf","300italic":"//fonts.gstatic.com/s/trirong/v1/RnkK09k5OfEHFxd_smcYuC3USBnSvpkopQaUR-2r7iU.ttf",regular:"//fonts.gstatic.com/s/trirong/v1/lYu4kez-Enlvh2X-itx6CA.ttf",italic:"//fonts.gstatic.com/s/trirong/v1/kV0MzmWPKkglEtJf--dQhQ.ttf","500italic":"//fonts.gstatic.com/s/trirong/v1/I7H5Vf-5oH45BHkyxaUodS3USBnSvpkopQaUR-2r7iU.ttf","600italic":"//fonts.gstatic.com/s/trirong/v1/BXLhSV51vCWUiACSqyWe6i3USBnSvpkopQaUR-2r7iU.ttf","700italic":"//fonts.gstatic.com/s/trirong/v1/CEBv6IoZawJuRHdATx4LQi3USBnSvpkopQaUR-2r7iU.ttf","800italic":"//fonts.gstatic.com/s/trirong/v1/lGUgSzOvjUqrsrJfnROivC3USBnSvpkopQaUR-2r7iU.ttf","900italic":"//fonts.gstatic.com/s/trirong/v1/EtuLHyx5DS9oX5NoKhYlkC3USBnSvpkopQaUR-2r7iU.ttf"}},{kind:"webfonts#webfont",family:"Trocchi",category:"serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/trocchi/v4/uldNPaKrUGVeGCVsmacLwA.ttf"}},{kind:"webfonts#webfont",family:"Trochut",category:"display",variants:["regular","italic","700"],subsets:["latin"],version:"v4",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/trochut/v4/lWqNOv6ISR8ehNzGLFLnJ_esZW2xOQ-xsNqO47m55DA.ttf",regular:"//fonts.gstatic.com/s/trochut/v4/6Y65B0x-2JsnYt16OH5omw.ttf",italic:"//fonts.gstatic.com/s/trochut/v4/pczUwr4ZFvC79TgNO5cZng.ttf"}},{kind:"webfonts#webfont",family:"Trykker",category:"serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/trykker/v5/YiVrVJpBFN7I1l_CWk6yYQ.ttf"}},{kind:"webfonts#webfont",family:"Tulpen One",category:"display",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/tulpenone/v6/lwcTfVIEVxpZLZlWzR5baPesZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Ubuntu",category:"sans-serif",variants:["300","300italic","regular","italic","500","500italic","700","700italic"],subsets:["greek","latin","greek-ext","cyrillic","latin-ext","cyrillic-ext"],version:"v9",lastModified:"2016-06-03",files:{300:"//fonts.gstatic.com/s/ubuntu/v9/7-wH0j2QCTHKgp7vLh9-sQ.ttf",500:"//fonts.gstatic.com/s/ubuntu/v9/bMbHEMwSUmkzcK2x_74QbA.ttf",700:"//fonts.gstatic.com/s/ubuntu/v9/B7BtHjNYwAp3HgLNagENOQ.ttf","300italic":"//fonts.gstatic.com/s/ubuntu/v9/j-TYDdXcC_eQzhhp386SjaCWcynf_cDxXwCLxiixG1c.ttf",regular:"//fonts.gstatic.com/s/ubuntu/v9/lhhB5ZCwEkBRbHMSnYuKyA.ttf",italic:"//fonts.gstatic.com/s/ubuntu/v9/b9hP8wd30SygxZjGGk4DCQ.ttf","500italic":"//fonts.gstatic.com/s/ubuntu/v9/NWdMogIO7U6AtEM4dDdf_aCWcynf_cDxXwCLxiixG1c.ttf","700italic":"//fonts.gstatic.com/s/ubuntu/v9/pqisLQoeO9YTDCNnlQ9bf6CWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Ubuntu Condensed",category:"sans-serif",variants:["regular"],subsets:["greek","latin","greek-ext","cyrillic","latin-ext","cyrillic-ext"],version:"v7",lastModified:"2016-06-03",files:{regular:"//fonts.gstatic.com/s/ubuntucondensed/v7/DBCt-NXN57MTAFjitYxdrKDbm6fPDOZJsR8PmdG62gY.ttf"}},{kind:"webfonts#webfont",family:"Ubuntu Mono",category:"monospace",variants:["regular","italic","700","700italic"],subsets:["greek","latin","greek-ext","cyrillic","latin-ext","cyrillic-ext"],version:"v6",lastModified:"2016-06-03",files:{700:"//fonts.gstatic.com/s/ubuntumono/v6/ceqTZGKHipo8pJj4molytne1Pd76Vl7zRpE7NLJQ7XU.ttf",regular:"//fonts.gstatic.com/s/ubuntumono/v6/EgeuS9OtEmA0y_JRo03MQaCWcynf_cDxXwCLxiixG1c.ttf",italic:"//fonts.gstatic.com/s/ubuntumono/v6/KAKuHXAHZOeECOWAHsRKA0eOrDcLawS7-ssYqLr2Xp4.ttf","700italic":"//fonts.gstatic.com/s/ubuntumono/v6/n_d8tv_JOIiYyMXR4eaV9c_zJjSACmk0BRPxQqhnNLU.ttf"}},{kind:"webfonts#webfont",family:"Ultra",category:"serif",variants:["regular"],subsets:["latin"],version:"v8",lastModified:"2016-05-20",files:{regular:"//fonts.gstatic.com/s/ultra/v8/OW8uXkOstRADuhEmGOFQLA.ttf"}},{kind:"webfonts#webfont",family:"Uncial Antiqua",category:"display",variants:["regular"],subsets:["latin"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/uncialantiqua/v4/F-leefDiFwQXsyd6eaSllqrFJ4O13IHVxZbM6yoslpo.ttf"}},{kind:"webfonts#webfont",family:"Underdog",category:"display",variants:["regular"],subsets:["latin","cyrillic","latin-ext"],version:"v5",lastModified:"2016-06-07",files:{regular:"//fonts.gstatic.com/s/underdog/v5/gBv9yjez_-5PnTprHWq0ig.ttf"}},{kind:"webfonts#webfont",family:"Unica One",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/unicaone/v4/KbYKlhWMDpatWViqDkNQgA.ttf"}},{kind:"webfonts#webfont",family:"UnifrakturCook",category:"display",variants:["700"],subsets:["latin"],version:"v8",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/unifrakturcook/v8/ASwh69ykD8iaoYijVEU6RrWZkcsCTHKV51zmcUsafQ0.ttf"}},{kind:"webfonts#webfont",family:"UnifrakturMaguntia",category:"display",variants:["regular"],subsets:["latin"],version:"v7",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/unifrakturmaguntia/v7/7KWy3ymCVR_xfAvvcIXm3-kdNg30GQauG_DE-tMYtWk.ttf"}},{kind:"webfonts#webfont",family:"Unkempt",category:"display",variants:["regular","700"],subsets:["latin"],version:"v7",lastModified:"2016-06-07",files:{700:"//fonts.gstatic.com/s/unkempt/v7/V7H-GCl9bgwGwqFqTTgDHvesZW2xOQ-xsNqO47m55DA.ttf",regular:"//fonts.gstatic.com/s/unkempt/v7/NLLBeNSspr0RGs71R5LHWA.ttf"}},{kind:"webfonts#webfont",family:"Unlock",category:"display",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/unlock/v6/rXEQzK7uIAlhoyoAEiMy1w.ttf"}},{kind:"webfonts#webfont",family:"Unna",category:"serif",variants:["regular"],subsets:["latin"],version:"v8",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/unna/v8/UAS0AM7AmbdCNY_80xyAZQ.ttf"}},{kind:"webfonts#webfont",family:"VT323",category:"monospace",variants:["regular"],subsets:["latin"],version:"v7",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/vt323/v7/ITU2YQfM073o1iYK3nSOmQ.ttf"}},{kind:"webfonts#webfont",family:"Vampiro One",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v7",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/vampiroone/v7/OVDs4gY4WpS5u3Qd1gXRW6CWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Varela",category:"sans-serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v7",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/varela/v7/ON7qs0cKUUixhhDFXlZUjw.ttf"}},{kind:"webfonts#webfont",family:"Varela Round",category:"sans-serif",variants:["regular"],subsets:["latin","hebrew"],version:"v7",lastModified:"2016-06-02",files:{regular:"//fonts.gstatic.com/s/varelaround/v7/APH4jr0uSos5wiut5cpjri3USBnSvpkopQaUR-2r7iU.ttf"}},{kind:"webfonts#webfont",family:"Vast Shadow",category:"display",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/vastshadow/v6/io4hqKX3ibiqQQjYfW0-h6CWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Vesper Libre",category:"serif",variants:["regular","500","700","900"],subsets:["latin","devanagari","latin-ext"],version:"v8",lastModified:"2016-05-31",files:{500:"//fonts.gstatic.com/s/vesperlibre/v8/0liLgNkygqH6EOtsVjZDsZMQuUSAwdHsY8ov_6tk1oA.ttf",700:"//fonts.gstatic.com/s/vesperlibre/v8/0liLgNkygqH6EOtsVjZDsUD2ttfZwueP-QU272T9-k4.ttf",900:"//fonts.gstatic.com/s/vesperlibre/v8/0liLgNkygqH6EOtsVjZDsaObDOjC3UL77puoeHsE3fw.ttf",regular:"//fonts.gstatic.com/s/vesperlibre/v8/Cg-TeZFsqV8BaOcoVwzu2C3USBnSvpkopQaUR-2r7iU.ttf"}},{kind:"webfonts#webfont",family:"Vibur",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v7",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/vibur/v7/xB9aKsUbJo68XP0bAg2iLw.ttf"}},{kind:"webfonts#webfont",family:"Vidaloka",category:"serif",variants:["regular"],subsets:["latin"],version:"v8",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/vidaloka/v8/C6Nul0ogKUWkx356rrt9RA.ttf"}},{kind:"webfonts#webfont",family:"Viga",category:"sans-serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/viga/v5/uD87gDbhS7frHLX4uL6agg.ttf"}},{kind:"webfonts#webfont",family:"Voces",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/voces/v5/QoBH6g6yKgNIgvL8A2aE2Q.ttf"}},{kind:"webfonts#webfont",family:"Volkhov",category:"serif",variants:["regular","italic","700","700italic"],subsets:["latin"],version:"v8",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/volkhov/v8/L8PbKS-kEoLHm7nP--NCzPesZW2xOQ-xsNqO47m55DA.ttf",regular:"//fonts.gstatic.com/s/volkhov/v8/MDIZAofe1T_J3un5Kgo8zg.ttf",italic:"//fonts.gstatic.com/s/volkhov/v8/1rTjmztKEpbkKH06JwF8Yw.ttf","700italic":"//fonts.gstatic.com/s/volkhov/v8/W6oG0QDDjCgj0gmsHE520C3USBnSvpkopQaUR-2r7iU.ttf"}},{kind:"webfonts#webfont",family:"Vollkorn",category:"serif",variants:["regular","italic","700","700italic"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{700:"//fonts.gstatic.com/s/vollkorn/v6/gOwQjJVGXlDOONC12hVoBqCWcynf_cDxXwCLxiixG1c.ttf",regular:"//fonts.gstatic.com/s/vollkorn/v6/IiexqYAeh8uII223thYx3w.ttf",italic:"//fonts.gstatic.com/s/vollkorn/v6/UuIzosgR1ovBhJFdwVp3fvesZW2xOQ-xsNqO47m55DA.ttf","700italic":"//fonts.gstatic.com/s/vollkorn/v6/KNiAlx6phRqXCwnZZG51JAJKKGfqHaYFsRG-T3ceEVo.ttf"}},{kind:"webfonts#webfont",family:"Voltaire",category:"sans-serif",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/voltaire/v6/WvqBzaGEBbRV-hrahwO2cA.ttf"}},{kind:"webfonts#webfont",family:"Waiting for the Sunrise",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v7",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/waitingforthesunrise/v7/eNfH7kLpF1PZWpsetF-ha9TChrNgrDiT3Zy6yGf3FnM.ttf"}},{kind:"webfonts#webfont",family:"Wallpoet",category:"display",variants:["regular"],subsets:["latin"],version:"v8",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/wallpoet/v8/hmum4WuBN4A0Z_7367NDIg.ttf"}},{kind:"webfonts#webfont",family:"Walter Turncoat",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-20",files:{regular:"//fonts.gstatic.com/s/walterturncoat/v6/sG9su5g4GXy1KP73cU3hvQplL2YwNeota48DxFlGDUo.ttf"}},{kind:"webfonts#webfont",family:"Warnes",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/warnes/v6/MXG7_Phj4YpzAXxKGItuBw.ttf"}},{kind:"webfonts#webfont",family:"Wellfleet",category:"display",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/wellfleet/v4/J5tOx72iFRPgHYpbK9J4XQ.ttf"}},{kind:"webfonts#webfont",family:"Wendy One",category:"sans-serif",variants:["regular"],subsets:["latin","latin-ext"],version:"v4",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/wendyone/v4/R8CJT2oDXdMk_ZtuHTxoxw.ttf"}},{kind:"webfonts#webfont",family:"Wire One",category:"sans-serif",variants:["regular"],subsets:["latin"],version:"v7",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/wireone/v7/sRLhaQOQpWnvXwIx0CycQw.ttf"}},{kind:"webfonts#webfont",family:"Work Sans",category:"sans-serif",variants:["100","200","300","regular","500","600","700","800","900"],subsets:["latin","latin-ext"],version:"v2",lastModified:"2016-06-07",files:{100:"//fonts.gstatic.com/s/worksans/v2/ZAhtNqLaAViKjGLajtuwWaCWcynf_cDxXwCLxiixG1c.ttf",200:"//fonts.gstatic.com/s/worksans/v2/u_mYNr_qYP37m7vgvmIYZy3USBnSvpkopQaUR-2r7iU.ttf",300:"//fonts.gstatic.com/s/worksans/v2/FD_Udbezj8EHXbdsqLUply3USBnSvpkopQaUR-2r7iU.ttf",500:"//fonts.gstatic.com/s/worksans/v2/Nbre-U_bp6Xktt8cpgwaJC3USBnSvpkopQaUR-2r7iU.ttf",600:"//fonts.gstatic.com/s/worksans/v2/z9rX03Xuz9ZNHTMg1_ghGS3USBnSvpkopQaUR-2r7iU.ttf",700:"//fonts.gstatic.com/s/worksans/v2/4udXuXg54JlPEP5iKO5AmS3USBnSvpkopQaUR-2r7iU.ttf",800:"//fonts.gstatic.com/s/worksans/v2/IQh-ap2Uqs7kl1YINeeEGi3USBnSvpkopQaUR-2r7iU.ttf",900:"//fonts.gstatic.com/s/worksans/v2/Hjn0acvjHfjY_vAK9Uc6gi3USBnSvpkopQaUR-2r7iU.ttf",regular:"//fonts.gstatic.com/s/worksans/v2/zVvigUiMvx7JVEnrJgc-5Q.ttf"}},{kind:"webfonts#webfont",family:"Yanone Kaffeesatz",category:"sans-serif",variants:["200","300","regular","700"],subsets:["latin","latin-ext"],version:"v7",lastModified:"2016-05-31",files:{200:"//fonts.gstatic.com/s/yanonekaffeesatz/v7/We_iSDqttE3etzfdfhuPRbq92v6XxU4pSv06GI0NsGc.ttf",300:"//fonts.gstatic.com/s/yanonekaffeesatz/v7/We_iSDqttE3etzfdfhuPRZlIwXPiNoNT_wxzJ2t3mTE.ttf",700:"//fonts.gstatic.com/s/yanonekaffeesatz/v7/We_iSDqttE3etzfdfhuPRf2R4S6PlKaGXWPfWpHpcl0.ttf",regular:"//fonts.gstatic.com/s/yanonekaffeesatz/v7/YDAoLskQQ5MOAgvHUQCcLdXn3cHbFGWU4T2HrSN6JF4.ttf"}},{kind:"webfonts#webfont",family:"Yantramanav",category:"sans-serif",variants:["100","300","regular","500","700","900"],subsets:["latin","devanagari","latin-ext"],version:"v1",lastModified:"2016-05-31",files:{100:"//fonts.gstatic.com/s/yantramanav/v1/Rs1I2PF4Z8GAb6qjgvr8wIAWxXGWZ3yJw6KhWS7MxOk.ttf",300:"//fonts.gstatic.com/s/yantramanav/v1/HSfbC4Z8I8BZ00wiXeA5bC9-WlPSxbfiI49GsXo3q0g.ttf",500:"//fonts.gstatic.com/s/yantramanav/v1/HSfbC4Z8I8BZ00wiXeA5bMCNfqCYlB_eIx7H1TVXe60.ttf",700:"//fonts.gstatic.com/s/yantramanav/v1/HSfbC4Z8I8BZ00wiXeA5bHe1Pd76Vl7zRpE7NLJQ7XU.ttf",900:"//fonts.gstatic.com/s/yantramanav/v1/HSfbC4Z8I8BZ00wiXeA5bCenaqEuufTBk9XMKnKmgDA.ttf",regular:"//fonts.gstatic.com/s/yantramanav/v1/FwdziO-qWAO8pZg8e376kaCWcynf_cDxXwCLxiixG1c.ttf"}},{kind:"webfonts#webfont",family:"Yatra One",category:"display",variants:["regular"],subsets:["latin","devanagari","latin-ext"],version:"v1",lastModified:"2016-06-20",files:{regular:"//fonts.gstatic.com/s/yatraone/v1/ApKQzWF7_vG0Lt5TDqgUvw.ttf"}},{kind:"webfonts#webfont",family:"Yellowtail",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-20",files:{regular:"//fonts.gstatic.com/s/yellowtail/v6/HLrU6lhCTjXfLZ7X60LcB_esZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Yeseva One",category:"display",variants:["regular"],subsets:["latin","cyrillic","latin-ext"],version:"v10",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/yesevaone/v10/eenQQxvpzSA80JmisGcgX_esZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Yesteryear",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v5",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/yesteryear/v5/dv09hP_ZrdjVOfZQXKXuZvesZW2xOQ-xsNqO47m55DA.ttf"}},{kind:"webfonts#webfont",family:"Yrsa",category:"serif",variants:["300","regular","500","600","700"],subsets:["latin","latin-ext"],version:"v1",lastModified:"2016-06-20",files:{300:"//fonts.gstatic.com/s/yrsa/v1/YI0C1syzAYpkrPx27UnC2w.ttf",500:"//fonts.gstatic.com/s/yrsa/v1/rWuZmBLHIeKRbnfSvWCvYg.ttf",600:"//fonts.gstatic.com/s/yrsa/v1/1413P-oEfrq-tBIdqnslDQ.ttf",700:"//fonts.gstatic.com/s/yrsa/v1/iV49zaJV5wyo_4LgxE2yng.ttf",regular:"//fonts.gstatic.com/s/yrsa/v1/JWX_dCK4_Jq-oqF7r9rFHg.ttf"}},{kind:"webfonts#webfont",family:"Zeyada",category:"handwriting",variants:["regular"],subsets:["latin"],version:"v6",lastModified:"2016-05-31",files:{regular:"//fonts.gstatic.com/s/zeyada/v6/hmonmGYYFwqTZQfG2nRswQ.ttf"}}]}),SVGMatrix.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0,this},SVGMatrix.prototype.toHTML=function(t){return t?"matrix("+[this.a.toFixed(t),this.b.toFixed(t),this.c.toFixed(t),this.d.toFixed(t),this.e.toFixed(t),this.f.toFixed(t)].join(",")+")":"matrix("+[this.a,this.b,this.c,this.d,this.e,this.f].join(",")+")"},SVGMatrix.prototype.clone=function(){const t=SVGUtils.createSVGMatrix();return this.copyTo(t),t},SVGMatrix.prototype.removeScale=function(){const t=this.getScale(),e=SVGUtils.createSVGMatrix().scaleNonUniform(t.x,t.y).inverse();return this.multiply(e)},SVGMatrix.prototype.removeRotation=function(){const t=this.getRotation(),e=SVGUtils.createSVGMatrix().rotate(t).inverse();return this.multiply(e)},SVGMatrix.prototype.rotateAroundPt=function(t,e){let i=this.translate(e.x,e.y);return i=(i=i.rotate(t)).translate(-e.x,-e.y)},SVGMatrix.prototype.scaleAroundPt=function(t,e,i){let n=this.translate(i.x,i.y);return n=(n=n.scaleNonUniform(t,e)).translate(-i.x,-i.y)},SVGMatrix.prototype.copyTo=function(t){t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.e=this.e,t.f=this.f},SVGMatrix.prototype.transformPointList=function(t,e){const i=t.length;let n=t;e&&(n=[]);for(let e=0;e<i;e++)n[e]=t[e].matrixTransform(this);return n},SVGMatrix.prototype.deltaTransformPoint=function(t){return{x:t.x*this.a+t.y*this.c,y:t.x*this.b+t.y*this.d}},SVGMatrix.prototype.getRotation=function(){const t=this.deltaTransformPoint({x:0,y:1});return 180/Math.PI*Math.atan2(t.y,t.x)-90},SVGMatrix.prototype.getScale=function(){return{x:Math.sqrt(this.a*this.a+this.b*this.b),y:Math.sqrt(this.c*this.c+this.d*this.d)}},SVGMatrix.prototype.getTranslation=function(){return SVGUtils.createSVGPoint(this.e,this.f)},SVGMatrix.prototype.decompose=function(t){let e,i,n=this,s=n.a,o=n.b,a=n.c,r=n.d,l=Math.acos,c=Math.atan,d=Math.sqrt,u=Math.PI,f={x:n.e,y:n.f},h=0,m={x:1,y:1},g={x:0,y:0},p=s*r-o*a;return t?s?(g={x:c(a/s),y:c(o/s)},m={x:s,y:p/s}):o?(h=.5*u,m={x:o,y:p/o},g.x=c(r/o)):(m={x:a,y:r},g.x=.25*u):s||o?(e=d(s*s+o*o),h=o>0?l(s/e):-l(s/e),m={x:e,y:p/e},g.x=c((s*a+o*r)/(e*e))):a||r?(i=d(a*a+r*r),h=.5*u-(r>0?l(-a/i):-l(a/i)),m={x:p/i,y:i},g.y=c((s*a+o*r)/(i*i))):m={x:0,y:0},{translateX:f.x,translateY:f.y,scaleX:m.x,scaleY:m.y,skewX:g.x,skewY:g.y,rotation:h}},SVGPoint.prototype.clone=function(){return SVGUtils.createSVGPoint(this.x,this.y)},SVGPoint.prototype.getAngleFromPoint=function(t,e){let i=Math.atan2(t.y-this.y,t.x-this.x);return!0===e&&(i=180*i/Math.PI)<0&&(i=360+i),i},SVGPoint.prototype.set=function(t,e){this.x=t,this.y=e},SVGPoint.prototype.getDistanceFromPoint=function(t){const e=t.x-this.x,i=t.y-this.y;return Math.sqrt(e*e+i*i)},SVGPoint.prototype.getDistance=function(t,e){const i=t.x-this.x,n=t.y-this.y,s=i*i+n*n;return e?s:Math.sqrt(s)},SVGPoint.prototype.getLength=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},SVGPoint.prototype.normalize=function(t){void 0===t&&(t=1);const e=this.getLength(),i=0!==e?t/e:0;return SVGUtils.createSVGPoint(this.x*i,this.y*i)},SVGPoint.prototype.scale=function(t,e){this.x*=t,this.y*=e},SVGPoint.prototype.translate=function(t,e){this.x+=t,this.y+=e},SVGPoint.prototype.isZero=function(){return 0===this.x&&0===this.y},SVGPoint.prototype.equals=function(t,e){return!!(e&&Math.abs(this.x-t.x)<e&&Math.abs(this.y-t.y)<e)||this.x===t.x&&this.y===t.y},SVGPoint.prototype.add=function(t){return void 0===t.x?SVGUtils.createSVGPoint(this.x+t,this.y+t):SVGUtils.createSVGPoint(this.x+t.x,this.y+t.y)},SVGPoint.prototype.subtract=function(t){return void 0===t.x?SVGUtils.createSVGPoint(this.x-t,this.y-t):SVGUtils.createSVGPoint(this.x-t.x,this.y-t.y)},SVGPoint.prototype.multiply=function(t){return void 0===t.x?SVGUtils.createSVGPoint(this.x*t,this.y*t):SVGUtils.createSVGPoint(this.x*t.x,this.y*t.y)},SVGPoint.prototype.divide=function(t){return void 0===t.x?SVGUtils.createSVGPoint(this.x/t,this.y/t):SVGUtils.createSVGPoint(this.x/t.x,this.y/t.y)},SVGPoint.prototype.modulo=function(t){return void 0===t.x?SVGUtils.createSVGPoint(this.x%t,this.y%t):SVGUtils.createSVGPoint(this.x%t.x,this.y%t.y)},SVGPoint.prototype.negate=function(t){return SVGUtils.createSVGPoint(-this.x,-this.y)},SVGPoint.prototype.dot=function(t){return this.x*t.x+this.y*t.y},SVGPoint.prototype.cross=function(t){return this.x*t.y-this.y*t.x},_=SVGSVGElement.prototype,SVGSVGElement.SVG_NS="http://www.w3.org/2000/svg",SVGSVGElement.XLINK_NS="http://www.w3.org/1999/xlink",window.SVGUtils=document.createElementNS(SVGSVGElement.SVG_NS,"svg"),window.SVGUtils.hitTestRect=SVGUtils.createSVGRect(),window.XMLUtils=(new DOMParser).parseFromString("<xml></xml>","application/xml"),_.elementListFromIntersection=function(t){const e=[],i=this.getIntersectionList(t,null);let n;for(let s=0;s<i.length;s++)(n=i[s]).intersectGlobalRect(t)&&e.push(n);return e},void 0===SVGSVGElement.prototype.getIntersectionList&&(SVGSVGElement.prototype.getIntersectionList=function(t,e){e=e||[];const i=this.getBoundingClientRect(),n=SVGUtils.createSVGRect();let s,o=this.querySelectorAll(".layer > *:not(.locked)");t.xx=t.x+t.width,t.yy=t.y+t.height;for(let a=0;a<o.length;a++)switch((s=o[a]).nodeName){case"g":case"foreignObject":case"image":case"path":case"line":case"rect":case"text":case"ellipse":const r=s.getBoundingClientRect();n.x=r.x-i.x,n.y=r.y-i.y,n.width=r.width,n.height=r.height,n.xx=n.x+r.width,n.yy=n.y+r.height,n.x>t.xx||n.xx<t.x||n.y>t.yy||n.yy<t.y||e.push(s)}return e}),_.__createSVGPoint=_.createSVGPoint,_.createSVGPoint=function(t,e){var i=this.__createSVGPoint();return i.x=t||0,i.y=e||0,i},_.createSVGPointPolar=function(t,e){var i=this.__createSVGPoint();return i.x=t*Math.cos(e),i.y=t*Math.sin(e),i},_.createPath=function(){return document.createElementNS(SVGSVGElement.SVG_NS,"path")},_.createLine=function(t,e,i,n){const s=document.createElementNS(SVGSVGElement.SVG_NS,"line");return s.setAttribute("x1",t),s.setAttribute("y1",e),s.setAttribute("x2",i),s.setAttribute("y2",n),s.setAttribute("stroke-width","1"),s.setAttribute("stroke","#000000"),s},_.createRect=function(t,e,i,n,s){const o=document.createElementNS(SVGSVGElement.SVG_NS,"rect");return s?o.setAttribute("transform","matrix(1,0,0,1,"+t+","+e+")"):(o.setAttribute("x",t),o.setAttribute("y",e)),i&&o.setAttribute("width",i),n&&o.setAttribute("height",n),o},_.createEllipse=function(t,e,i,n){const s=document.createElementNS(SVGSVGElement.SVG_NS,"ellipse");return s.setAttribute("cx",t),s.setAttribute("cy",e),s.setAttribute("rx",i),s.setAttribute("ry",n),s},_.createGroup=function(t,e,i){const n=document.createElementNS(SVGSVGElement.SVG_NS,"g");return t=t||0,e=e||0,n.setAttribute("transform","matrix(1,0,0,1,"+t+","+e+")"),i&&n.setAttribute("id",i),n},_.createClipPath=function(t){const e=document.createElementNS(SVGSVGElement.SVG_NS,"clipPath");return e.setAttribute("id",t),e},_.createMask=function(t){const e=document.createElementNS(SVGSVGElement.SVG_NS,"mask");return e.setAttribute("id",t),e},_.createTextBox=function(t,e,i,n,s,o,a,r,l,c){const d=document.createElementNS(SVGSVGElement.SVG_NS,"text");d.setAttribute("data-type","TextBox"),d.setAttribute("transform","matrix(1,0,0,1,"+t+","+e+")"),d.setAttribute("width",i),d.setAttribute("height",n),d.setAttribute("tabindex","1"),o=o||"arial",a=a||"normal",r=r||"400",l=l||"12",c=c||"left",d.setAttribute("font-family",o),d.setAttribute("font-size",l),d.setAttribute("font-style",a),d.setAttribute("font-weight",r),d.setAttribute("text-align",c);let u="start";"left"===c?u="start":"center"===c?u="middle":"right"===c&&(u="end"),d.setAttribute("text-anchor",u),d.setAttribute("focusable","true");const f=this.createTSpan(0,s,20);return d.appendChild(f),d.initTextData(s),d},_.createTSpan=function(t,e,i){const n=document.createElementNS(SVGSVGElement.SVG_NS,"tspan");return n.setAttribute("x","0"),n.setAttribute("dy",i),n.setAttribute("style","white-space: pre;"),n.appendChild(XMLUtils.createCDATASection(e)),n},_.createSVGStopColor=function(t,e,i){const n=document.createElementNS(SVGSVGElement.SVG_NS,"stop");return n.setAttribute("offset",t),n.setAttribute("stop-color",e),i&&n.setAttribute("stop-opacity",i),n},_.createSymbol=function(t){const e=document.createElementNS(SVGSVGElement.SVG_NS,"symbol");return e.setAttribute("id",t),e.setAttribute("overflow","visible"),e},_.createForeignObject=function(t,e,i,n,s){const o=document.createElementNS(SVGSVGElement.SVG_NS,"foreignObject");return o.setAttribute("transform","matrix(1,0,0,1,"+t+","+e+")"),o.setAttribute("x",0),o.setAttribute("y",0),o.setAttribute("width",i),o.setAttribute("height",n),o.innerHTML=s,o},_.createForeignObjectHtmlText=function(t,e,i,n,s){const o=this.createForeignObject(t,e,i,n,"<div>"+s+"</div>");return o.setAttribute("data-type","html-text"),o},_.createForeignObjectWidget=function(t,e,i,n,s){const o=this.createForeignObject(t,e,i,n,'<iframe xmlns="http://www.w3.org/1999/xhtml" width="100%" height="100%" src="'+s+'" frameborder="0"> </iframe>');return o.setAttribute("data-type","iframe-widget"),o},_.createPattern=function(t,e,i,n,s,o,a,r){const l=document.createElementNS(SVGSVGElement.SVG_NS,"pattern");return l.setAttribute("id",t),e=e||0,i=i||0,n=n||100,s=s||100,r=r||"userSpaceOnUse",l.setAttribute("x",e),l.setAttribute("y",i),(o||a)&&l.setAttribute("patternTransform","rotate("+o+") scale("+a+") "),l.setAttribute("patternUnits",r),l.setAttribute("width",n),l.setAttribute("height",s),l},_.createMarker=function(t,e,i,n,s,o,a){var r=document.createElementNS(SVGSVGElement.SVG_NS,"marker");return r.setAttribute("id",t),s=s||0,o=o||0,a=a||"auto",n=n||"strokeWidth",r.setAttribute("refX",s),r.setAttribute("refY",o),r.setAttribute("orient",a),r.setAttribute("markerUnits",n),r.setAttribute("style","overflow:visible;"),e&&r.setAttribute("markerWidth",e),i&&r.setAttribute("markerHeight",i),r},_.createImage=function(t,e,i,n,s,o){e=e||0,i=i||0;var a=document.createElementNS(SVGSVGElement.SVG_NS,"image");if(a.setAttribute("x",e),a.setAttribute("y",i),n&&s)a.setAttributeNS(SVGSVGElement.XLINK_NS,"href",t),a.setAttribute("width",n),a.setAttribute("height",s);else{var r=new Image;r.src=t,r.onload=function(){a.setAttributeNS(SVGSVGElement.XLINK_NS,"href",t),a.setAttribute("width",this.width),a.setAttribute("height",this.height),o&&o(a)}}return a},_.createUse=function(t){const e=document.createElementNS(SVGSVGElement.SVG_NS,"use");return e.setAttribute("href","#"+t),e},_.createDefs=function(){return document.createElementNS(SVGSVGElement.SVG_NS,"defs")},_.createXlink=function(t,e){const i=document.createElementNS(SVGSVGElement.SVG_NS,"a");return i.setAttribute("xlink:href",t),e&&i.setAttribute("target",e),i},_.createSVGLinearGradient=function(t,e,i,n,s,o,a){o=o||"objectBoundingBox",a=a||"pad";const r=document.createElementNS(SVGSVGElement.SVG_NS,"linearGradient");return r.setAttribute("id",t),r.setAttribute("x1",e),r.setAttribute("y1",i),r.setAttribute("x2",n),r.setAttribute("y2",s),r.setAttribute("gradientUnits",o),r.setAttribute("gradientTransform","matrix(1 0 0 1 0 0)"),r.setAttribute("spreadMethod",a),r},_.createSVGRadialGradient=function(t,e,i,n,s,o){s=s||"objectBoundingBox",o=o||"pad";const a=document.createElementNS(SVGSVGElement.SVG_NS,"radialGradient");return a.setAttribute("id",t),a.setAttribute("cx",e),a.setAttribute("cy",i),a.setAttribute("r",n),a.setAttribute("gradientUnits",s),a.setAttribute("gradientTransform","matrix(1 0 0 1 0 0)"),a.setAttribute("spreadMethod",o),a},_.createSVG=function(t,e){const i=document.createElementNS("http://www.w3.org/2000/svg","svg");return i.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg"),i.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),t&&i.setAttribute("width",t),e&&i.setAttribute("height",e),i},_.consolidateMatrix=function(){const t=this.querySelectorAll("[transform]");for(let e=0;e<t.length;e++)t[e].getTransform().setMatrix(t[e].transform.baseVal.consolidate().matrix)},_.getResourceById=function(t){return this.querySelector('defs [id="'+t+'"]')},_.extractIdFromIRI=function(t){return-1!==t.indexOf("url")?t.split("#")[1].split(")")[0].split('"')[0]:null},_.getResourceByIRI=function(t){const e=this.extractIdFromIRI(t);return e?this.getResourceById(e):null},_.addResource=function(t,e){e&&t.setAttribute("id",e),this.querySelector("defs").appendChild(t)},_.createResourceIdFromExistentId=function(t){let e=1;const i=t.split("_");if(i.length>1){let n=parseInt(i.pop());isNaN(n)||(e=n,t=i.join("_"))}let n=t+"_"+e,s=this.getResourceById(n);for(;s;)n=t+"_"+ ++e,s=this.getResourceById(n);return n},_.removeUnusedResources=function(t){const e=this.querySelectorAll("defs>*[id]");let i;for(let n=0;n<e.length;n++){if("linearGradient"===(i=e[n]).nodeName||"radialGradient"===i.nodeName){if(!1===t.removeUnusedGradients)continue}else if("pattern"===i.nodeName){if(!1===t.removeUnusedPatterns)continue}else if("symbol"===i.nodeName){if(!1===t.removeUnusedSymbols)continue}else if("filter"===i.nodeName){if(!1===t.removeUnusedFilters)continue}else if("marker"===i.nodeName&&!1===t.removeUnusedMarkers)continue;0===this.getReferencedElementList(i).length&&i.remove()}},_.getReferencedElementList=function(t){const e=t.getAttribute("id");switch(t.nodeName){case"symbol":return this.querySelectorAll('use[href="#'+e+'"]');case"filter":return this.querySelectorAll('*[filter*="#'+e+'"]');case"marker":return this.querySelectorAll('*[marker-start*="#'+e+'"],*[marker-mid*="#'+e+'"],*[marker-end*="#'+e+'"]');case"linearGradient":case"radialGradient":case"pattern":return this.querySelectorAll('*[fill*="'+e+'"],*[stroke*="'+e+'"]');default:return this.querySelectorAll('*[clip-path*="#'+e+'"],*[mask*="#'+e+'"],*[*|href="#'+e+'"]')}},_.getAsBitmap=function(t,e,i,n){e=e||"image/png",i=i||1;const s=(new XMLSerializer).serializeToString(this),o=window.URL,a=new Blob([s],{type:"image/svg+xml;charset=utf-8"}),r=o.createObjectURL(a),l=document.createElement("canvas");l.width=Math.floor(this.getAttribute("width")*i),l.height=Math.floor(this.getAttribute("height")*i);const c=l.getContext("2d"),d=new Image;d.onload=function(){if("image/jpeg"===e&&(c.fillStyle="#FFFFFF",c.fillRect(0,0,l.width,l.height)),c.drawImage(d,0,0),n){l.toBlob(function(e){t(e),o.revokeObjectURL(r)},e)}else t(l.toDataURL(e)),o.revokeObjectURL(r)},d.src=r},_.convertElementListToPath=function(t,e,i,n){const s=[];let o,a,r,l;a=t.length;let c=0,d=0;function u(t){++d===c&&e(s)}function f(){n("The Font file could not be loaded.")}for(o=0;o<a;o++)if("text"===(r=t[o]).nodeName)c++,l=r.convertTextToPath(u,f),s.push(l);else if("path"===r.nodeName)l=r.cloneNode(),s.push(l);else if("g"===r.nodeName&&r.dataset.objectId){const t=OBJECTS[r.dataset.objectId].convertToPath(r);t&&s.push(t)}else(l=SVGUtils.createPath()).getTransform().setMatrix(r.getTransform().matrix.clone()),l.setPathData(r.getPathData({absolutize:!0,normalize:!0})),l.setGraphicAttributesByElement(r),s.push(l);0===c&&e(s)},_=SVGSVGElement.prototype,_.parse_clear=function(){const t=SVG_TAG_ATTRIBUTES;!function e(i){let n,s,o;const a=[].slice.call(i.children,0);let r,l,c;const d=a.length;for(r=0;r<d;r++)if(o=a[r],c=t[o.nodeName]){if(o.attributes)for(s=[].slice.call(o.attributes,0),l=0;l<s.length;l++)n=s[l].name,-1===c.indexOf(n)&&-1===t["*"].indexOf(n)&&0!==n.indexOf("data-")&&o.removeAttribute(n);e(o)}else o.parentElement.removeChild(o)}(this)},_.parse_adjustAttributes=function(){function t(t,e,i){let n;const s=t.length;for(let o=0;o<s;o++){if((n=t[o]).hasAttribute(e))return;let s=n.parentElement;for(;s&&!s.hasAttribute(e);)s=s.parentElement;s&&(i=s.getAttribute(e)),n.setAttribute(e,i)}}let e,i;const n=this.querySelectorAll("ellipse,path,line,rect"),s=[],o=[],a=[],r=[];let l;i=n.length;for(let t=0;t<i;t++)"line"===(l=n[t].nodeName)?s.push(n[t]):"rect"===l?o.push(n[t]):"ellipse"===l?a.push(n[t]):"path"===l&&r.push(n[t]);t(n,"stroke","none"),t(n,"stroke-width","1"),t(s.concat(r),"stroke-linecap","butt"),t(o.concat(r),"stroke-linejoin","miter"),t(o.concat(a,r),"fill","#000000");let c=this.querySelectorAll('[stroke="currentColor"]');for(i=c.length,e=0;e<i;e++)c[e].setAttribute("stroke","#000000");for(i=(c=this.querySelectorAll('[fill="currentColor"]')).length,e=0;e<i;e++)c[e].setAttribute("fill","#000000")},_.parse_scripts=function(){const t=[],e=[].slice.call(this.querySelectorAll("script"),0);let i;const n=e.length;for(let s=0;s<n;s++)i=e[s],t.push({description:"script removed",element:i}),i.parentElement.removeChild(i);return t},_.parse_clipPaths=function(){const t=[].slice.call(this.querySelectorAll("[clip-path]"),0);let e,i,n,s;const o=t.length;for(let a=0;a<o;a++)if("g"===(e=t[a]).nodeName&&(i=e.getAttribute("clip-path"),n=this.extractIdFromIRI(i),(s=this.querySelector('clipPath[id="'+n+'"]'))&&s.parentElement!==e)){if(e.children.length>1){const t=this.createGroup();e.moveChildrenTo(t),e.appendChild(t)}e.appendChild(s)}},_.parse_masks=function(){const t=[].slice.call(this.querySelectorAll("[mask]"),0);let e,i,n,s;const o=t.length;for(let a=0;a<o;a++)if("g"===(e=t[a]).nodeName&&(i=e.getAttribute("mask"),n=this.extractIdFromIRI(i),(s=this.querySelector('mask[id="'+n+'"]'))&&s.parentElement!==e)){if(e.children.length>1){const t=this.createGroup();t.appendChildren(e.children),e.appendChild(t)}e.appendChild(s)}},_.parse_styleToAttributes=function(){const t=this.querySelectorAll("[style]");for(let e=0;e<t.length;e++)t[e]instanceof SVGElement&&t[e].stylePropertiesToAttributes()},_.parse_cssToAttributes=function(){const t=[].slice.call(this.querySelectorAll("style"),0);function e(t){const e={},i=t.split(";");i.pop();const n=i.length;let s,o,a,r;for(s=0;s<n;s++)o=i[s].indexOf(":"),a=i[s].substring(0,o).trim(),r=i[s].substring(o+1).trim(),""!==a&&""!==r&&(e[a]=r);return e}function i(t){const i={},n=(t=function(t){return t.replace(/\/\*(\r|\n|.)*\*\//g,"")}(t)).split("}");n.pop();const s=n.length;let o,a,r;for(o=0;o<s;o++)i[r=(a=n[o].split("{"))[0].trim()]=e(a[1]);return i}let n,s,o;const a=t.length;for(let e=0;e<a;e++)for(o in n=i(t[e].textContent),t[e].remove(),n){s=this.querySelectorAll(o);for(let t=0;t<s.length;t++)s[t].stylePropertiesToAttributes(n[o]),s[t].classList.remove(o)}},_.parse_class=function(){const t=this.querySelectorAll(".layer *[class]");let e;for(let i=0;i<t.length;i++)(e=t[i]).__setAttribute("data-css-class",e.getAttribute("class")),e.removeAttribute("class")},_.parse_fonts=function(){const t=[],e=this.querySelector("defs");if(e){const i=[].slice.call(e.querySelectorAll("link"),0);let n,s,o;const a=i.length;for(n=0;n<a;n++)if((s=i[n]).hasAttribute("rel")&&"stylesheet"===s.getAttribute("rel")){(o=(o=s.getAttribute("href")).replace("http:","https:")).indexOf("//fonts.googleapis.com/css?family")>-1&&(t.push({description:"google font",href:o}),s.remove())}}return t},_.parse_gradients=function(){const t=this.querySelectorAll("linearGradient[*|href],radialGradient[*|href]");let e,i;const n=t.length;for(let s=0;s<n;s++)e=t[s],(i=this.querySelector(e.getAttribute("xlink:href")))&&(i.cloneChildrenTo(e),i.hasAttribute("gradientTransform")&&!e.hasAttribute("gradientTransform")&&e.setAttribute("gradientTransform",i.getAttribute("gradientTransform")),e.removeAttribute("xlink:href"))},_.parse_anchors=function(){const t=[].slice.call(this.querySelectorAll("a"),0),e=t.length;let i,n,s,o;for(i=0;i<e;i++){o=(s=t[i]).parentElement,n=s.getAttribute("xlink:href");const e=s.firstElementChild;e.setAttribute("data-xlink-href",n),s.hasAttribute("target")&&e.setAttribute("data-xlink-target",s.getAttribute("target")),o.replaceChild(s.firstElementChild,s)}},_.sanitize_geometry=function(){const t=this.querySelectorAll("polygon,polyline,circle,path");let e,i,n;for(e=0;e<t.length;e++)"circle"===(i=t[e]).nodeName?n=this.createEllipse(i.getAttribute("cx"),i.getAttribute("cy"),i.getAttribute("r"),i.getAttribute("r")):(n=this.createPath()).setPathData(i.getPathData({absolutize:!0,normalize:!0})),n.setGraphicAttributesByElement(i),i.hasAttribute("transform")&&n.setAttribute("transform",i.getAttribute("transform")),i.parentElement.replaceChild(n,i)},_.areSourceDefsInTargetDefs=function(t){const e=this.querySelectorAll("defs *[id]");if(e.length>0){let i="";for(let t=0;t<e.length;t++)i+='[id="'+e[t].getAttribute("id")+'"],';return i=i.substring(0,i.length-1),t.querySelector(i)}return!1},_.parse_defs=function(t){let e=this.querySelectorAll("defs");if(0===e.length&&this.appendChild(SVGUtils.createDefs()),(e=this.querySelectorAll("defs")).length>1)for(let t=1;t<e.length;t++)e[t].moveChildrenTo(e[0]),e[t].remove();const i=e[0];i.remove();const n=[].slice.call(this.querySelectorAll("linearGradient,radialGradient,pattern,marker,symbol"),0);for(let t=0;t<n.length;t++)i.appendChild(n[t]);if(this.appendChild(i),t){const e=i.querySelectorAll("*[id]");let n,s;for(let i=0;i<e.length;i++){s=(n=e[i]).getAttribute("id");let o=t.querySelector('[id="'+s+'"]');o&&(n.setAttribute("data-item-exists","true"),n.targetDefsItem=o)}}},_.parse_content=function(){},_.parse_text=function(){const t=this.querySelectorAll('text:not( [data-type="object"] text)');let e,i;for(e=0;e<t.length;e++){if((i=t[e]).hasAttribute("data-custom-element")||i.__setAttribute("data-custom-element","TextEditable_cmp"),i.hasAttribute("data-type")||i.__setAttribute("data-type","TextBox"),i.hasAttribute("x")&&i.hasAttribute("y")){let t=i.getTransform().matrix.translate(parseFloat(i.getAttribute("x")),parseFloat(i.getAttribute("y")));i.getTransform().setMatrix(t),i.removeAttribute("x"),i.removeAttribute("y"),i.firstElementChild&&(i.firstElementChild.__setAttribute("x","0"),i.firstElementChild.__setAttribute("y","0"))}const n=i.querySelectorAll("tspan");for(let t=0;t<n.length;t++)n[t].style.whiteSpace="pre"}},_=SVGGraphicsElement.prototype,_.prepareToNormalizeScale=function(t){this.normalizationData={},this.normalizationData.storedScreenMatrix=this.getScreenCTM(),this.normalizationData.localRotation=this.getTransform().matrix.getRotation();const e=this.childNodes.length;for(let i=0;i<e;i++)this.childNodes[i].prepareToNormalizeScale&&this.childNodes[i].prepareToNormalizeScale(t)},_.normalizeScale=function(t){const e=this.parentElement.screenMatrixToLocalMatrix(this.normalizationData.storedScreenMatrix);this.getTransform().setMatrix(e);const i=this.childNodes.length;for(let e=0;e<i;e++)this.childNodes[e].normalizeScale&&this.childNodes[e].normalizeScale(t)},_.normalizeFillingScale=function(t,e){if(!this.hasAttribute(t))return null;const i=this.getAttribute(t);if(i.indexOf("url")>-1){const t=activeApplication.activeDocument.resources.getResourceByIRI(i);"radialGradient"===t.nodeName||"linearGradient"===t.nodeName?this.normalizeGradientScale(t,e):"pattern"===t.nodeName&&this.normalizePatternScale(t,e)}},_.normalizePatternScale=function(t,e){},_.normalizeGradientScale=function(t,e){let i,n,s,o;if("objectBoundingBox"!==(t.getAttribute("gradientUnits")||"objectBoundingBox"))if(t instanceof SVGRadialGradientElement){n=this.ownerSVGElement.createSVGPoint(t.cx.baseVal.value,t.cy.baseVal.value);const s=t.getTransform().matrix;n=n.matrixTransform(s),t.getTransform().matrix.identity(),i=this.screenMatrixToLocalMatrix(this.normalizationData.storedScreenMatrix),n=n.matrixTransform(i),t.cx.baseVal.value=n.x,t.cy.baseVal.value=n.y,t.r.baseVal.value=t.r.baseVal.value*e.effectScale}else if(t instanceof SVGLinearGradientElement){s=this.ownerSVGElement.createSVGPoint(t.x1.baseVal.value,t.y1.baseVal.value),o=this.ownerSVGElement.createSVGPoint(t.x2.baseVal.value,t.y2.baseVal.value);const e=t.getTransform().matrix;s=s.matrixTransform(e),o=o.matrixTransform(e),t.getTransform().matrix.identity(),i=this.screenMatrixToLocalMatrix(this.normalizationData.storedScreenMatrix),s=s.matrixTransform(i),o=o.matrixTransform(i),t.x1.baseVal.value=s.x,t.y1.baseVal.value=s.y,t.x2.baseVal.value=o.x,t.y2.baseVal.value=o.y}},_.createSelectionPreview=function(t){if(this.hasAttribute("no-preview"))return;const e=this.toSelectionPreview();return e?(e.elementRef=this,e.classList.add("interactive-path"),e.setAttribute("vector-effect","non-scaling-stroke"),e.setAttribute("stroke-width","1"),t=t||this.getScreenCTM(),e.getTransform().setMatrix(t),this.selectionPreview=e,e):(console.log("NO createSelectionPreview",this.nodeName),null)},_.toSelectionPreview=function(){if(!this.getBBox)return null;const t=this.getLocalBBox(),e=SVGUtils.createRect(t.x,t.y,t.width,t.height);return"true"===this.dataset.mantainAspectRatio&&(e.dataset.mantainAspectRatio="true"),e},_.scaleStrokeAndEffects=function(t){this.hasAttribute("stroke-width")||this.setAttribute("stroke-width",1),this.scaleAttributeNumber("stroke-width",t);const e=this.getAttribute("stroke-dasharray");if(e){const i=e.split(" "),n=i.length;for(let e=0;e<n;e++)i[e]=parseFloat(i[e])*t;this.setAttribute("stroke-dasharray",i.join(" "))}this.getAttribute("stroke-dash-offset")&&this.scaleAttributeNumber("stroke-dash-offset",t)},_.setGraphicAttributesByElement=function(t,e){const i=e||["opacity","fill","stroke","fill-opacity","stroke-opacity","fill-rule","vector-effect","paint-order","stroke-width","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","marker-start","marker-end","marker-mid"],n=[];let s;const o=i.length;for(let e=0;e<o;e++)s=i[e],t.hasAttribute(s)&&(this.setAttribute(s,t.getAttribute(s)),n.push(s));return n},_.setGraphicAttributesByObjectProperties=function(t){const e=[],i=["opacity","fill","stroke","fill-opacity","stroke-opacity","fill-rule","vector-effect","paint-order","stroke-width","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","marker-start","marker-end","marker-mid"];for(let n in t)i.indexOf(n)>-1&&(this.setAttribute(n,t[n]),e.push(n));return e},_.getFill=function(){return this.hasAttribute("fill")?this.getAttribute("fill"):this.parentElement.getFill()},_.getStroke=function(){return this.hasAttribute("stroke")?this.getAttribute("stroke"):this.parentElement.getStroke()},_=SVGElement.prototype,_.__setAttribute=_.setAttribute,_.__getAttribute=_.getAttribute,_.setAttribute=function(t,e){this.onSetAttribute(t,e)},_.onSetAttribute=function(t,e){this.__setAttribute(t,e)},_.getAttribute=function(t){return this.onGetAttribute(t)},_.onGetAttribute=function(t){return this.__getAttribute(t)},_.placeAt=function(t,e){this.setAttribute("transform","matrix(1 0 0 1 "+t+" "+e+")")},_.getTransform=function(){if(0===this.transform.baseVal.numberOfItems){let t=SVGUtils.createSVGTransformFromMatrix(SVGUtils.createSVGMatrix());this.transform.baseVal.appendItem(t)}return this.transform.baseVal.getItem(0)},_.setOrigin=function(t,e){},_.resetOrigin=function(){},_.bakeTransform=function(){},void 0===_.getTransformToElement&&(_.getTransformToElement=function(t){return t.getScreenCTM().inverse().multiply(this.getScreenCTM())}),_.intersectGlobalRect=function(t){if(this.isContainedInGlobalRect(t))return!0;const e=this.globalRectToLocalPolygon(t),i={},n={},s=this.getBBox();return i.x=s.x,i.y=s.y,n.x=s.x+s.width,n.y=s.y+s.height,!!GeometryUtils.getPolygonLineIntersection(e,{x:i.x,y:i.y},{x:n.x,y:i.y})||(!!GeometryUtils.getPolygonLineIntersection(e,{x:n.x,y:i.y},{x:n.x,y:n.y})||(!!GeometryUtils.getPolygonLineIntersection(e,{x:n.x,y:n.y},{x:i.x,y:n.y})||!!GeometryUtils.getPolygonLineIntersection(e,{x:i.x,y:n.y},{x:i.x,y:i.y})))},_.globalMatrixToLocalMatrix=function(t){let e=this.parentNode;return e instanceof SVGMaskElement&&(e=e.parentNode),this.ownerSVGElement.getTransformToElement(e).multiply(t)},_.screenMatrixToLocalMatrix=function(t){return this.getScreenCTM().inverse().multiply(t)},_.globalToLocal=function(t,e){if(!this.ownerSVGElement)return{x:t,y:e};const i=this.ownerSVGElement.createSVGPoint(t,e),n=this.ownerSVGElement.getTransformToElement(this);return i.matrixTransform(n)},_.localToGlobal=function(t,e){const i=this.ownerSVGElement.createSVGPoint();return i.x=t,i.y=e,i.matrixTransform(this.getCTM())},_.localToScreen=function(t,e){const i=this.ownerSVGElement.createSVGPoint();return i.x=t,i.y=e,i.matrixTransform(this.getScreenCTM())},_.translateInGlobal=function(t,e){const i=this.ownerSVGElement.createSVGMatrix().translate(t,e).multiply(this.getCTM());this.getTransform().setMatrix(this.globalMatrixToLocalMatrix(i))},_.scaleAttributeNumber=function(t,e){this.hasAttribute(t)&&this.setAttribute(t,parseFloat(this.getAttribute(t))*e)},_.getGradient=function(t){if(!this.hasAttribute(t))return null;const e=this.getAttribute(t),i=this.getElementFromDocumentByIRI(e);return i&&(i instanceof SVGLinearGradientElement||i instanceof SVGRadialGradientElement)?i:null},_.getElementFromDocumentByIRI=function(t){if(-1!==t.indexOf("url")){let e=t.split("#")[1].split(")")[0];e=e.split('"')[0];const i=document.querySelector('[id="'+e+'"]');if(i)return i}return null},_.getMainElement=function(){let t=this;t instanceof SVGTSpanElement&&(t=t.parentElement),t instanceof SVGTextPathElement&&(t=t.parentElement);const e=this.closest('[data-type="object"]');return e||t},_.getLayerOwner=function(){return this.closest(".layer")},_.isSelected=function(){return this.hasAttribute("selected")},_.isLocked=function(){return this.hasAttribute("locked")},_.isContainedInGlobalRect=function(t){const e=this.getGlobalBBox();return e.left>t.left&&e.right<t.right&&e.top>t.top&&e.bottom<t.bottom},_.globalRectToLocalPolygon=function(t){const e=this.ownerSVGElement.getTransformToElement(this),i=this.ownerSVGElement.createSVGPoint();i.x=t.x,i.y=t.y;const n=i.matrixTransform(e);i.x=t.x+t.width,i.y=t.y;const s=i.matrixTransform(e);i.x=t.x+t.width,i.y=t.y+t.height;const o=i.matrixTransform(e);return i.x=t.x,i.y=t.y+t.height,[n,s,o,i.matrixTransform(e),n]},_.getLocalBBox=function(){const t=this.getBBox();return t.center={x:t.x+t.width/2,y:t.y+t.height/2},t.min={x:t.x,y:t.y},t.max={x:t.x+t.width,y:t.y+t.height},t},_.getGlobalBBox=function(){const t=this.getBoundingClientRect(),e={};return e.y=e.top=t.top-activeApplication.workspace.bounding.y,e.x=e.left=t.left-activeApplication.workspace.bounding.x,e.width=t.width,e.height=t.height,e.min={x:e.x,y:e.y},e.max={x:e.x+e.width,y:e.y+e.height},e.center={x:e.x+e.width/2,y:e.y+e.height/2},e.right=e.max.x,e.bottom=e.max.y,e},_.getGlobalBBoxByLocalBox=function(){const t=this.getCTM(),e=this.ownerSVGElement.createSVGPoint(),i=this.getLocalBBox();e.x=i.x,e.y=i.y;const n=e.matrixTransform(t);e.x=i.x+i.width,e.y=i.y;const s=e.matrixTransform(t);e.x=i.x+i.width,e.y=i.y+i.height;const o=e.matrixTransform(t);e.x=i.x,e.y=i.y+i.height;const a=e.matrixTransform(t),r=Math.min(n.x,s.x,o.x,a.x),l=Math.max(n.x,s.x,o.x,a.x),c=Math.min(n.y,s.y,o.y,a.y),d=Math.max(n.y,s.y,o.y,a.y);return i.min={x:r,y:c},i.max={x:l,y:d},i.x=r,i.y=c,i.width=l-r,i.height=d-c,i.left=r,i.right=l,i.top=c,i.bottom=d,i.center={x:i.x+i.width/2,y:i.y+i.height/2},i},_.getEditableGeometryPointList=function(){return[]},_.getGeometryPointList=function(){return[]},_.getSelectedTransformablePointList=function(){const t=[],e=this.getGeometryPointList();for(let i=0;i<e.length;i++)e[i].isSelected&&t.push(e[i]);return t},_.isTextAttribute=function(t){return["font-family","text-decoration","font-style","text-align","font-weight","font-size","letter-spacing","word-spacing","line-height"].indexOf(t)>-1},_.isGraphicAttribute=function(t){return["opacity","fill","stroke","fill-opacity","stroke-opacity","fill-rule","paint-order","stroke-width","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","marker-start","marker-end","marker-mid"].indexOf(t)>-1},_.stylePropertiesToAttributes=function(t){let e="";const i=t||this.style;i.opacity&&(this.__setAttribute("opacity",i.opacity),this.style.removeProperty("opacity")),i.fill&&(this.__setAttribute("fill",i.fill),this.style.removeProperty("fill")),i.stroke&&(this.__setAttribute("stroke",i.stroke),this.style.removeProperty("stroke")),i.fillOpacity&&("1"!==i.fillOpacity&&this.__setAttribute("fill-opacity",i.fillOpacity),this.style.removeProperty("fill-opacity")),i.strokeOpacity&&("1"!==i.strokeOpacity&&this.__setAttribute("stroke-opacity",i.strokeOpacity),this.style.removeProperty("stroke-opacity")),i.fillRule&&("nonzero"!==i.fillRule&&this.__setAttribute("fill-rule",i.fillRule),this.style.removeProperty("fill-rule")),i["stroke-width"]&&(this.__setAttribute("stroke-width",i["stroke-width"]),this.style.removeProperty("stroke-width")),i["stroke-linecap"]&&(this.__setAttribute("stroke-linecap",i["stroke-linecap"]),this.style.removeProperty("stroke-linecap")),i["stroke-linejoin"]&&(this.__setAttribute("stroke-linejoin",i["stroke-linejoin"]),this.style.removeProperty("stroke-linejoin")),i["stroke-miterlimit"]&&(this.__setAttribute("stroke-miterlimit",i["stroke-miterlimit"]),this.style.removeProperty("stroke-miterlimit")),i["marker-start"]&&("none"!==i["marker-start"]&&this.__setAttribute("marker-start",i["marker-start"]),this.style.removeProperty("marker-start")),i["marker-end"]&&("none"!==i["marker-end"]&&this.__setAttribute("marker-end",i["marker-end"]),this.style.removeProperty("marker-end")),i["marker-mid"]&&("none"!==i["marker-mid"]&&this.__setAttribute("marker-mid",i["marker-mid"]),this.style.removeProperty("marker-mid")),i["font-family"]&&(this.__setAttribute("font-family",i["font-family"].replace(/"/g,"")),this.style.removeProperty("font-family")),i["font-weight"]&&(this.__setAttribute("font-weight",i["font-weight"]),this.style.removeProperty("font-weight")),i["font-size"]&&(this.__setAttribute("font-size",parseFloat(i["font-size"])),this.style.removeProperty("font-size")),i.filter&&(this.__setAttribute("filter",i.filter.replace(/"/g,"")),this.style.removeProperty("filter")),i["mix-blend-mode"]&&(e+="mix-blend-mode:"+i["mix-blend-mode"]+"; "),this.setAttribute("style",e)},_.render=function(){this.waitForRendering=!1},_.renderRequest=function(t,e){if(0===t)this.render();else if(!0!==this.waitForRendering){t=t||0,this.waitForRendering=!0;const i=this;setTimeout(function(){!0===i.waitForRendering&&(i.render(),e&&e(i))},t)}},_.storeJsonData=function(t,e){let i=this.querySelector('[data-type="'+t+'"]');return i?(i.innerHTML=JSON.stringify(e),i):((i=document.createElement("jvs:data")).setAttribute("xmlns:jvs","http://www.janvas.com/jvs"),i.setAttribute("data-type",t),i.innerHTML=JSON.stringify(e),this.appendChild(i),i)},_.getStoredJsonData=function(t){const e=this.querySelector('[data-type="'+t+'"]');return e?JSON.parse(e.innerHTML):(console.log("stored jsonData not found",t),null)},_.getObjectController=function(){const t=OBJECTS[this.dataset.objectId];return t.init(this),t},_=SVGLineElement.prototype,_.resetOrigin=function(){const t=this.getGlobalBBox(),e=this.parentElement.globalToLocal(t.center.x,t.center.y),i=SVGUtils.createGroup(e.x,e.y);this.parentElement.appendChild(i),this.transformGeometryPointList(this.getTransformToElement(i)),this.getTransform().setMatrix(i.getTransform().matrix.clone()),this.render(),i.remove()},_.normalizeScale=function(t){const e=this.parentElement.screenMatrixToLocalMatrix(this.normalizationData.storedScreenMatrix);"non-scaling-stroke"!==this.getAttribute("vector-effect")&&t.scaleStrokeAndEffects&&this.scaleStrokeAndEffects(t.effectScale),this.getTransform().setMatrix(this.getTransform().matrix.identity().translate(e.e,e.f).rotate(this.normalizationData.localRotation)),this.screenMatrixToLocalMatrix(this.normalizationData.storedScreenMatrix).transformPointList(this.getGeometryPointList()),this.geometryPointList[0].ownerShapeElement=this,this.geometryPointList[1].ownerShapeElement=this,this.geometryPointList[0].id=0,this.geometryPointList[1].id=1,this.render(),t.scaleStrokeAndEffects&&this.normalizeFillingScale("stroke",t)},_.intersectGlobalRect=function(t){if(this.isContainedInGlobalRect(t))return!0;var e=this.globalRectToLocalPolygon(t);return GeometryUtils.getPolygonLineIntersection(e,{x:this.x1.baseVal.value,y:this.y1.baseVal.value},{x:this.x2.baseVal.value,y:this.y2.baseVal.value},!0)},Object.defineProperty(_,"width",{get:function(){var t=this.ownerSVGElement.createSVGPoint(this.getAttribute("x1"),this.getAttribute("y1"));return this.ownerSVGElement.createSVGPoint(this.getAttribute("x2"),this.getAttribute("y2")).getDistanceFromPoint(t)},set:function(t){var e=this.ownerSVGElement.createSVGPoint(this.getAttribute("x1"),this.getAttribute("y1")),i=this.ownerSVGElement.createSVGPoint(this.getAttribute("x2"),this.getAttribute("y2")),n=t/i.getDistanceFromPoint(e);i.x=e.x+(i.x-e.x)*n,i.y=e.y+(i.y-e.y)*n,this.setAttribute("x2",i.x),this.setAttribute("y2",i.y)},enumerable:!0}),Object.defineProperty(_,"orientation",{get:function(){var t=this.ownerSVGElement.createSVGPoint(this.getAttribute("x1"),this.getAttribute("y1")),e=this.ownerSVGElement.createSVGPoint(this.getAttribute("x2"),this.getAttribute("y2"));return t.getAngleFromPoint(e,!0)},set:function(t){var e=this.ownerSVGElement.createSVGPoint(this.getAttribute("x1"),this.getAttribute("y1")),i=this.ownerSVGElement.createSVGPoint(this.getAttribute("x2"),this.getAttribute("y2")),n=i.getDistanceFromPoint(e);i=this.ownerSVGElement.createSVGPointPolar(n,t*(Math.PI/180)),this.setAttribute("x2",e.x+i.x),this.setAttribute("y2",e.y+i.y)},enumerable:!0}),_.toSVGPathElement=function(){var t=this.ownerSVGElement.createPath();return t.setPathData(this.getPathData({normalize:!0})),t},_.updateGeometry=function(t,e,i,n){this.x1.baseVal.value=t,this.y1.baseVal.value=e,this.x2.baseVal.value=i,this.y2.baseVal.value=n,this.geometryPointList=null},_.getPt1=function(){return SVGUtils.createSVGPoint(this.x1.baseVal.value,this.y1.baseVal.value)},_.getPt2=function(){return SVGUtils.createSVGPoint(this.x2.baseVal.value,this.y2.baseVal.value)},_.getEditableGeometryPointList=function(){return this.getGeometryPointList()},_.getGeometryPointList=function(){return this.geometryPointList||(this.geometryPointList=[],this.geometryPointList.push(SVGUtils.createSVGPoint(this.x1.baseVal.value,this.y1.baseVal.value)),this.geometryPointList.push(SVGUtils.createSVGPoint(this.x2.baseVal.value,this.y2.baseVal.value)),this.geometryPointList[0].ownerShapeElement=this,this.geometryPointList[1].ownerShapeElement=this,this.geometryPointList[0].id=0,this.geometryPointList[1].id=1,this.geometryPointList[0].name="start",this.geometryPointList[1].name="end"),this.geometryPointList},_.setGeometryPointList=function(t){this.geometryPointList=t,this.geometryPointList[0].ownerShapeElement=this,this.geometryPointList[1].ownerShapeElement=this,this.geometryPointList[0].id=0,this.geometryPointList[1].id=1},_.cloneGeometryPointList=function(t){var e=this.getGeometryPointList(),i=[];return i.push(SVGUtils.createSVGPoint(e[0].x,e[0].y)),i.push(SVGUtils.createSVGPoint(e[1].x,e[1].y)),t&&(i[0].isSelected=e[0].isSelected,i[1].isSelected=e[1].isSelected),i},_.transformGeometryPointList=function(t,e){var i,n,s,o=(e=e||this.getGeometryPointList()).length;for(s=0;s<o;s++)n=(i=e[s]).matrixTransform(t),i.x=n.x,i.y=n.y},_.toSelectionPreview=function(){return this.cloneNode()},_.getFill=function(){return"none"},_.render=function(){this.x1.baseVal.value=this.geometryPointList[0].x,this.y1.baseVal.value=this.geometryPointList[0].y,this.x2.baseVal.value=this.geometryPointList[1].x,this.y2.baseVal.value=this.geometryPointList[1].y,this.waitForRendering=!1},_=SVGRectElement.prototype,_.normalizeScale=function(t){const e=this.parentElement.screenMatrixToLocalMatrix(this.normalizationData.storedScreenMatrix),i=e.getScale();"non-scaling-stroke"!==this.getAttribute("vector-effect")&&t.scaleStrokeAndEffects&&this.scaleStrokeAndEffects(t.effectScale),this.scaleAttributeNumber("x",i.x),this.scaleAttributeNumber("y",i.y),this.scaleAttributeNumber("width",i.x),this.scaleAttributeNumber("height",i.y),this.scaleAttributeNumber("rx",i.x),this.scaleAttributeNumber("ry",i.y);const n=this.ownerSVGElement.createSVGMatrix().scaleNonUniform(i.x,i.y).inverse();this.getTransform().setMatrix(e.multiply(n)),t.scaleStrokeAndEffects&&(this.normalizeFillingScale("fill",t),this.normalizeFillingScale("stroke",t))},_.resetOrigin=function(){const t=parseFloat(this.getAttribute("x"))||0,e=parseFloat(this.getAttribute("y"))||0,i=parseFloat(this.getAttribute("width")),n=parseFloat(this.getAttribute("height")),s=SVGUtils.createSVGPoint(t+i/2,e+n/2);this.getTransform().setMatrix(this.getTransform().matrix.translate(s.x,s.y)),this.setAttribute("x",0-i/2),this.setAttribute("y",0-n/2)},_.setOrigin=function(t,e){const i=this.globalToLocal(t,e),n=SVGUtils.createSVGPoint(parseFloat(this.getAttribute("x"))||0,parseFloat(this.getAttribute("y"))||0);this.getTransform().setMatrix(this.getTransform().matrix.translate(i.x,i.y)),this.setAttribute("x",n.x-i.x),this.setAttribute("y",n.y-i.y)},_.toSVGPathElement=function(){const t=SVGUtils.createPath();return t.setPathData(this.getPathData({normalize:!0})),t},_.toSelectionPreview=function(){return this.cloneNode()},_.updateGeometry=function(t,e,i,n){this.x.baseVal.value=t,this.y.baseVal.value=e,i&&(this.width.baseVal.value=i),n&&(this.height.baseVal.value=n)},_=SVGEllipseElement.prototype,_.normalizeScale=function(t){var e=this.parentElement.screenMatrixToLocalMatrix(this.normalizationData.storedScreenMatrix),i=e.getScale();"non-scaling-stroke"!==this.getAttribute("vector-effect")&&t.scaleStrokeAndEffects&&this.scaleStrokeAndEffects(t.effectScale),this.scaleAttributeNumber("cx",i.x),this.scaleAttributeNumber("cy",i.y),this.scaleAttributeNumber("rx",i.x),this.scaleAttributeNumber("ry",i.y);var n=this.ownerSVGElement.createSVGMatrix().scaleNonUniform(i.x,i.y).inverse();this.getTransform().setMatrix(e.multiply(n)),t.scaleStrokeAndEffects&&(this.normalizeFillingScale("fill",t),this.normalizeFillingScale("stroke",t))},_.resetOrigin=function(){const t=SVGUtils.createSVGPoint(this.getAttribute("cx"),this.getAttribute("cy"));this.getTransform().setMatrix(this.getTransform().matrix.translate(t.x,t.y)),this.setAttribute("cx",0),this.setAttribute("cy",0)},_.setOrigin=function(t,e){const i=this.globalToLocal(t,e),n=SVGUtils.createSVGPoint(this.getAttribute("cx"),this.getAttribute("cy"));this.getTransform().setMatrix(this.getTransform().matrix.translate(i.x,i.y)),this.setAttribute("cx",n.x-i.x),this.setAttribute("cy",n.y-i.y)},_.updateGeometry=function(t,e,i,n){this.cx.baseVal.value=t,this.cy.baseVal.value=e,i&&(this.rx.baseVal.value=i),n&&(this.ry.baseVal.value=n)},_.toSVGPathElement=function(){var t=SVGUtils.createPath();return t.setPathData(this.getPathData({normalize:!0})),t},_.toSelectionPreview=function(){return this.cloneNode()},_=SVGPathElement.prototype,_.normalizeScale=function(t){"non-scaling-stroke"!==this.getAttribute("vector-effect")&&t.scaleStrokeAndEffects&&this.scaleStrokeAndEffects(t.effectScale);const e=SVGUtils.createSVGPoint(this.getTransform().matrix.e,this.getTransform().matrix.f);if(this.getTransform().setMatrix(this.getTransform().matrix.identity().translate(e.x,e.y).rotate(this.normalizationData.localRotation)),this.dataset.objectId&&OBJECTS[this.dataset.objectId]){const e=this.parentElement.screenMatrixToLocalMatrix(this.normalizationData.storedScreenMatrix).getScale();this.getObjectController().normalizeScale(e.x,e.y,t.effectScale)}else this.transformGeometryPointList(this.screenMatrixToLocalMatrix(this.normalizationData.storedScreenMatrix)),this.render();t.scaleStrokeAndEffects&&(this.normalizeFillingScale("fill",t),this.normalizeFillingScale("stroke",t))},_.toSelectionPreview=function(){const t=this.toSVGPathElement();return"true"===this.dataset.mantainAspectRatio&&(t.dataset.mantainAspectRatio="true"),t},_.bakeTransform=function(){const t=this.getGlobalBBox(),e=this.parentElement.globalToLocal(t.center.x,t.center.y),i=SVGUtils.createGroup(e.x,e.y);this.parentElement.appendChild(i),this.transformGeometryPointList(this.getTransformToElement(i)),this.getTransform().setMatrix(i.getTransform().matrix.clone()),this.render(),i.remove()},_.setOrigin=function(t,e){const i=this.globalToLocal(t,e);this.getTransform().setMatrix(this.getTransform().matrix.translate(i.x,i.y)),this.transformGeometryPointList(SVGUtils.createSVGMatrix().translate(-i.x,-i.y)),this.render()},_.resetOrigin=function(){const t=this.getLocalBBox(),e=SVGUtils.createSVGPoint(t.center.x,t.center.y);this.getTransform().setMatrix(this.getTransform().matrix.translate(e.x,e.y)),this.transformGeometryPointList(SVGUtils.createSVGMatrix().translate(-e.x,-e.y)),this.render()},_.setPivot=function(t,e){},_.transformGeometryPointList=function(t,e){let i,n,s,o;(e=e||this.getGeometryPointList()).length>2&&(o=GeometryUtils.getPolygonArea([e[0],e[1],e[2]])>0);const a=t.getScale(),r=e.length;for(let o=0;o<r;o++)switch((i=e[o]).type){case"L":case"M":s=i.matrixTransform(t),i.x=s.x,i.y=s.y;break;case"C":s=i.matrixTransform(t),i.x=s.x,i.y=s.y,s=(n=i.controlPt1).matrixTransform(t),n.x=s.x,n.y=s.y,s=(n=i.controlPt2).matrixTransform(t),n.x=s.x,n.y=s.y;break;case"Q":s=i.matrixTransform(t),i.x=s.x,i.y=s.y,s=(n=i.controlPt1).matrixTransform(t),n.x=s.x,n.y=s.y;break;case"A":1===a.x&&1===a.y||(i.rx*=a.x,i.ry*=a.y),s=i.matrixTransform(t),i.x=s.x,i.y=s.y}if(e.length>2){if(GeometryUtils.getPolygonArea([e[0],e[1],e[2]])>0!==o)for(let t=0;t<r;t++)"A"===(i=e[t]).type&&(1===i.sweepFlag?i.sweepFlag=0:i.sweepFlag=1)}},_.getGeometryPointList=function(t){if(!this.geometryPointList){this.geometryPointList=[];const i=this.getPathData(t);let n=null;const s=i.length;let o,a;for(let t=0;t<s;t++){switch(o=i[t],a=null,o.type){case"L":a=this.createGeometryPoint_LINETO(o.values[0],o.values[1]);break;case"Z":var e=this.geometryPointList[this.geometryPointList.length-1];if(e.x!==n.x||e.y!==n.y){const t=this.createGeometryPoint_LINETO(n.x,n.y);t.ownerShapeElement=this,this.geometryPointList.push(t)}a=this.createGeometryPoint_CLOSEPATH();break;case"M":n=a=this.createGeometryPoint_MOVETO(o.values[0],o.values[1]);break;case"C":a=this.createGeometryPoint_CURVETO_CUBIC(o.values[0],o.values[1],o.values[2],o.values[3],o.values[4],o.values[5]);break;case"Q":a=this.createGeometryPoint_CURVETO_QUADRATIC(o.values[0],o.values[1],o.values[2],o.values[3]);break;case"A":a=this.createGeometryPoint_ARCTO(o.values[0],o.values[1],o.values[2],o.values[3],o.values[4],o.values[5],o.values[6]);break;default:return this.geometryPointList=null,this.getGeometryPointList({absolutize:!0,normalize:!0})}a.ownerShapeElement=this,a.id=t,this.geometryPointList.push(a)}}return this.geometryPointList},_,_.cloneSegment=function(t,e){let i;switch(t.type){case"L":i=this.createGeometryPoint_LINETO(t.x,t.y);break;case"Z":i=this.createGeometryPoint_CLOSEPATH();break;case"M":i=this.createGeometryPoint_MOVETO(t.x,t.y);break;case"C":i=this.createGeometryPoint_CURVETO_CUBIC(t.controlPt1.x,t.controlPt1.y,t.controlPt2.x,t.controlPt2.y,t.x,t.y);break;case"Q":i=this.createGeometryPoint_CURVETO_QUADRATIC(t.controlPt1.x,t.controlPt1.y,t.x,t.y);break;case"A":i=this.createGeometryPoint_ARCTO(t.rx,t.ry,t.angle,t.largeArcFlag,t.sweepFlag,t.x,t.y)}return e&&(i.isSelected=t.isSelected),i},_.cloneGeometryPointList=function(t){const e=this.getGeometryPointList(),i=[],n=e.length;let s;for(let o=0;o<n;o++)(s=this.cloneSegment(e[o],t)).id=o,i.push(s);return i},_.clonePointList=function(t){const e=[],i=t.length;for(let n=0;n<i;n++)e.push(this.cloneSegment(t[n]));return e},_.setGeometryPointList=function(t){this.geometryPointList=t;const e=this.geometryPointList.length;for(let t=0;t<e;t++)this.geometryPointList[t].ownerShapeElement=this,this.geometryPointList[t].id=t},_.getSubPathMoveToSegmentId=function(t){const e=this.getGeometryPointList();let i=e.indexOf(t);if(i>-1)for(t=e[i];t&&"M"!==t.type;)t=e[--i];return i},_.getSubPathList=function(){const t=this.getGeometryPointList();let e;const i=[],n=t.length;for(let s=0;s<n;s++)"M"===t[s].type&&(e={ownerPath:this,geometryPointList:[]},i.push(e)),e.geometryPointList.push(t[s]);return i},_.getSubPathIdBySegment=function(t){const e=this.getSubPathList(),i=e.length;for(let n=0;n<i;n++)if(e[n].geometryPointList.indexOf(t)>-1)return n;return 0},_.removeSubPath=function(t){const e=this.getSubPathList();let i=[];const n=e.length;for(let s=0;s<n;s++)s!==t&&(i=i.concat(e[s].geometryPointList));this.setGeometryPointList(i)},_.setSubPathGeometryPointList=function(t,e){const i=this.getSubPathList();let n=[];const s=i.length;for(let o=0;o<s;o++)n=o===t?n.concat(e):n.concat(i[o].geometryPointList);this.setGeometryPointList(n)},_.getSegmentIdAtLength=function(t){if(void 0===t||!isFinite(t))throw"Invalid arguments.";const e=document.createElementNS("http://www.w3.org/2000/svg","path");e.setAttribute("d",this.getAttribute("d"));const i=e.getGeometryPointList();if(0===i.length)return null;let n,s=i.length-1;for(;s>0;s--)if(n=i.pop(),e.render(),t>e.getTotalLength())return s;return null},_.getSegmentAtLength=function(t){const e=this.getSegmentIdAtLength(t);return e?this.getGeometryPointList()[e]:null},_.closestPoint=function(t){const e=this;let i,n,s=e.getTotalLength(),o=8,a=1/0;for(let t,l,c=0;c<=s;c+=o)(l=r(t=e.getPointAtLength(c)))<a&&(i=t,n=c,a=l);for(o/=2;o>.5;){let t,l,c,d,u,f;(c=n-o)>=0&&(u=r(t=e.getPointAtLength(c)))<a?(i=t,n=c,a=u):(d=n+o)<=s&&(f=r(l=e.getPointAtLength(d)))<a?(i=l,n=d,a=f):o/=2}return(i=[i.x,i.y]).distance=Math.sqrt(a),i;function r(e){const i=e.x-t.x,n=e.y-t.y;return i*i+n*n}},_.getGeometryPointListAsString=function(){const t=this.geometryPointList.length;let e="";for(let i=0;i<t;i++)e+=this.geometryPointList[i].toString();return e},_.render=function(){const t=this.geometryPointList.length;let e="";for(let i=0;i<t;i++)this.geometryPointList[i].id=i,e+=this.geometryPointList[i].toString();this.setAttribute("d",e),this.waitForRendering=!1},_.createGeometryPoint_CLOSEPATH=function(){const t={type:"Z",toString:function(){return this.type+" "}};return t},_.createGeometryPoint_MOVETO=function(t,e){const i=SVGUtils.createSVGPoint(t,e);return i.type="M",i.toString=function(){return this.type+" "+this.x+" "+this.y+" "},i},_.createGeometryPoint_LINETO=function(t,e){const i=SVGUtils.createSVGPoint(t,e);return i.type="L",i.toString=function(){return this.type+" "+this.x+" "+this.y+" "},i},_.createGeometryPoint_CURVETO_CUBIC=function(t,e,i,n,s,o){const a=SVGUtils.createSVGPoint(s,o);return a.type="C",a.controlPt1=SVGUtils.createSVGPoint(t,e),a.controlPt1.type="CTRL1",a.controlPt2=SVGUtils.createSVGPoint(i,n),a.controlPt2.type="CTRL2",a.controlPt1.ownerPoint=a,a.controlPt2.ownerPoint=a,a.toString=function(){return this.type+" "+this.controlPt1.x+" "+this.controlPt1.y+" "+this.controlPt2.x+" "+this.controlPt2.y+" "+this.x+" "+this.y+" "},a},_.createGeometryPoint_CURVETO_QUADRATIC=function(t,e,i,n){const s=SVGUtils.createSVGPoint(i,n);return s.type="Q",s.controlPt1=SVGUtils.createSVGPoint(t,e),s.controlPt1.type="CTRL1",s.controlPt1.ownerPoint=s,s.toString=function(){return this.type+" "+this.controlPt1.x+" "+this.controlPt1.y+" "+this.x+" "+this.y+" "},s},_.createGeometryPoint_ARCTO=function(t=100,e=100,i=0,n=1,s=1,o=100,a=100){const r=SVGUtils.createSVGPoint(o,a);return r.type="A",r.rx=t,r.ry=e,r.angle=i,r.largeArcFlag=n,r.sweepFlag=s,r.toString=function(){return this.type+" "+this.rx+" "+this.ry+" "+this.angle+" "+this.largeArcFlag+" "+this.sweepFlag+" "+this.x+" "+this.y+" "},r},_.createGeometryPoint_ARCTO_by_startEndAngles=function(t,e,i,n,s,o=0){function a(t,e,i){const n=i*Math.PI/180;return SVGUtils.createSVGPoint(t.x+e*Math.cos(n),t.y+e*Math.sin(n))}let r,l,c,d;return n<i&&(n+=360),1===o?(l=a(t,e,n),r=a(t,e,i),c=Math.abs(i-n)<=180?"0":"1",d=0):(l=a(t,e,i),r=a(t,e,n),c=n-i<=180?"0":"1",d=1),(s=s||this.createGeometryPoint_ARCTO()).rx=e,s.ry=e,s.angle=0,s.largeArcFlag=c,s.sweepFlag=d,s.x=r.x,s.y=r.y,s.startPt=l,s.endPt=r,s.center=t,s.angleStart=i,s.angleEnd=n,s.radius=e,s},_.createGeometryPoint_ARCTO_by_3Points=function(t,e,i,n){function s(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}const o=s(e,i),a=s(i,t),r=s(t,e),l=Math.acos((o*o+a*a-r*r)/(2*o*a));let c=o*a*r/4/(.5*o*a*Math.sin(l));const d=+(Math.PI/2>l),u=+((e.x-t.x)*(i.y-t.y)-(e.y-t.y)*(i.x-t.x)<0);return isNaN(c)&&(c=1),(n=n||this.createGeometryPoint_ARCTO()).rx=c,n.ry=c,n.angle=0,n.largeArcFlag=d,n.sweepFlag=u,n.x=e.x,n.y=e.y,n},_.buildArc=function(t,e,i,n,s){function o(t,e,i){const n=i*Math.PI/180;return SVGUtils.createSVGPoint(t.x+e*Math.cos(n),t.y+e*Math.sin(n))}s=s||this,n<i&&(n+=360);const a=o(t,e,i),r=o(t,e,n),l=n-i<=180?"0":"1",c=["M",a.x,a.y,"A",e,e,0,l,1,r.x,r.y].join(" ");return s.setAttribute("d",c),{center:t,angleStart:a,angleEnd:r,startPt:a,endPt:r}},_.buildArcBy3Points=function(t,e,i,n){function s(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}n=n||this;const o=s(e,i),a=s(i,t),r=s(t,e),l=Math.acos((o*o+a*a-r*r)/(2*o*a));let c=o*a*r/4/(.5*o*a*Math.sin(l));const d=+(Math.PI/2>l),u=+((e.x-t.x)*(i.y-t.y)-(e.y-t.y)*(i.x-t.x)<0);isNaN(c)&&(c=1),n.setAttribute("d",["M",t.x,t.y,"A",c,c,0,d,u,e.x,e.y].join(" "))},_.createFillet=function(t,e,i){const n=this,s=n.getSubPathIdBySegment(e),o=n.getSubPathList()[s].geometryPointList;o[o.length-1].type;let a=e.id,r=i.id;if(a>r){let t=e;e=i,i=t,t=a,a=r,r=t}if(r===a+1){const e=n.createGeometryPoint_ARCTO(10,10,0,0,0,i.x,i.y),s=n.getGeometryPointList();s.addAt(e,r),n.setGeometryPointList(s),this.updateFillet(t,e)}},_.updateFillet=function(t,e){const i=this.getSubPathIdBySegment(e),n=this.getSubPathList()[i].geometryPointList,s="Z"===n[n.length-1].type,o=n.indexOf(e);let a=n[o-1],r=n[o+1],l=null,c=null;if("L"===a.type)l=a;else if(s&&"M"===a.type){const t=n[n.length-2];"L"===t.type&&(l=t)}if(!l)return;if("L"===r.type)c=r;else if(s&&"Z"===r.type){const t=n[1];"L"===t.type&&(c=t)}if(!c)return;const d=n[n.indexOf(l)-1],u={x:d.x,y:d.y},f={x:l.x,y:l.y},h={x:e.x,y:e.y},m={x:c.x,y:c.y},g=GeometryUtils.getLineLineIntersection(u,f,h,m);if(!g)return;const p=GeometryUtils.fillet(f,g,m,t);let v=0;return p.area<0&&(v=1),this.createGeometryPoint_ARCTO_by_startEndAngles(p.center,p.radius,p.startAngle,p.endAngle,e,v),l.x=e.startPt.x,l.y=e.startPt.y,"M"===a.type&&(a.x=l.x,a.y=l.y),this.render(),p},_.buildRegularPolygon=function(t,e,i,n,s){s=s||this;const o=2*Math.PI/i;let a,r,l=0,c="M "+(a=t+n*Math.sin(o/2+o*l))+" "+(r=e+n*Math.cos(o/2+o*l));for(l=1;l<=i;l++)c+=" L "+(a=t+n*Math.sin(o/2+o*l))+" "+(r=e+n*Math.cos(o/2+o*l));c+="Z",s.setAttribute("d",c)},_.quadraticCurveToCubicCurve=function(t,e){const i=t.x+2/3*(e.controlPt1.x-t.x),n=t.y+2/3*(e.controlPt1.y-t.y),s=e.controlPt1.x+1/3*(e.x-e.controlPt1.x),o=e.controlPt1.y+1/3*(e.y-e.controlPt1.y);return this.createGeometryPoint_CURVETO_CUBIC(i,n,s,o,e.x,e.y)},_.convertQuandraticCurveToCubicCurve=function(){const t=[],e=this.getGeometryPointList(),i=e.length;let n;for(let s=0;s<i;s++)"Q"===(n=e[s]).type&&(e[s]=this.quadraticCurveToCubicCurve(e[s-1],e[s]),e[s].ownerShapeElement=this,t.push(e[s]));return t},_.getSelectedTransformablePointList=function(){const t=[],e=this.getSubPathList(),i=e.length;for(let o=0;o<i;o++){const i=e[o].geometryPointList,a=i.length;let r;for(let t=0;t<a;t++){var n=i[t];if(n.isSelected){if(n.flagged=!0,"Q"===n.type)n.controlPt1.flagged=!0;else if("C"===n.type)n.controlPt2.flagged=!0;else if("M"===n.type&&"Z"===i[a-1].type){var s=i[a-2];s.flagged=!0,"Q"===s.type?s.controlPt1.flagged=!0:"C"===s.type&&(s.controlPt2.flagged=!0)}t<a-1&&("Z"===(r=i[t+1]).type&&((r=i[0]).flagged=!0,r=i[1]),"Q"!==r.type&&"C"!==r.type||(r.controlPt1.flagged=!0))}}for(let e=0;e<a;e++)(n=i[e]).flagged&&(t.push(n),n.connectedToSelection=!0,delete n.flagged),"Q"===n.type?n.controlPt1.flagged&&(t.push(n.controlPt1),n.controlPt1.connectedToSelection=!0,delete n.controlPt1.flagged):"C"===n.type&&(n.controlPt1.flagged&&(t.push(n.controlPt1),n.controlPt1.connectedToSelection=!0,delete n.controlPt1.flagged),n.controlPt2.flagged&&(t.push(n.controlPt2),n.controlPt2.connectedToSelection=!0,delete n.controlPt2.flagged))}return t},_.updateGeometryPointListBySubPathList=function(t){let e=[];for(let i=0;i<t.length;i++)e=e.concat(t[i].geometryPointList);this.setGeometryPointList(e)},_.addPathPointAtLocation=function(t,e){const i=t.pt1,n=t.pt2;if("C"===n.type){e=e||t.pointOnSegment.t;const s=new Bezier(i.x,i.y,n.controlPt1.x,n.controlPt1.y,n.controlPt2.x,n.controlPt2.y,n.x,n.y).split(e),o=s.left,a=s.right;let r=this.createGeometryPoint_CURVETO_CUBIC(o.points[1].x,o.points[1].y,o.points[2].x,o.points[2].y,o.points[3].x,o.points[3].y),l=this.createGeometryPoint_CURVETO_CUBIC(a.points[1].x,a.points[1].y,a.points[2].x,a.points[2].y,a.points[3].x,a.points[3].y);const c=this.getGeometryPointList();return c.removeAt(n.id),c.addAt(r,n.id),c.addAt(l,n.id+1),this.setGeometryPointList(c),r}if("L"===n.type){const e=this.createGeometryPoint_LINETO(t.pointOnSegment.x,t.pointOnSegment.y),i=this.getGeometryPointList();return i.addAt(e,n.id),this.setGeometryPointList(i),e}if("A"===n.type){n.largeArcFlag=0,n.rx=n.radius,n.ry=n.radius;const e=this.createGeometryPoint_ARCTO(n.rx,n.ry,n.angle,n.largeArcFlag,n.sweepFlag,t.pointOnSegment.x,t.pointOnSegment.y);let s=GeometryUtils.getArcCenter(i.x,i.y,e.x,e.y,e.rx,e.ry,e.angle,e.largeArcFlag,e.sweepFlag);GeometryUtils.isPointSnappedTo(s,n.center,2)||(e.largeArcFlag=1),s=GeometryUtils.getArcCenter(e.x,e.y,n.x,n.y,n.rx,n.ry,n.angle,n.largeArcFlag,n.sweepFlag),GeometryUtils.isPointSnappedTo(s,n.center,2)||(n.largeArcFlag=1);const o=this.getGeometryPointList();return o.addAt(e,n.id),this.setGeometryPointList(o),e}},_.splitPathAtPoint=function(t){if(1===this.getSubPathList().length){const e=this.getGeometryPointList(),i=e.slice(0,t.id+1),n=e.slice(t.id+1);if(n.unshift(this.createGeometryPoint_MOVETO(t.x,t.y)),"Z"===n[n.length-1].type){i.shift(this.createGeometryPoint_MOVETO(t.x,t.y)),n.pop();const e=this.cloneNode();return e.setGeometryPointList(n.concat(i)),e.render(),[e]}const s=this.cloneNode(),o=this.cloneNode();return s.setGeometryPointList(i),s.render(),o.setGeometryPointList(n),o.render(),[s,o]}},_.joinPath=function(t,e=2){const i=t.getTransformToElement(this);(t=t.cloneNode()).transformGeometryPointList(i);const n=t.getSubPathList(),s=this.getSubPathList();let o,a,r,l,c,d,u,f;const h=n.length;for(let i=0;i<h;i++)if(c=(r=(o=n[i]).geometryPointList)[0],"Z"!==(u=r[r.length-1]).type&&"z"!==u.type){const i=s.length;for(let n=0;n<i;n++)if(d=(l=(a=s[n]).geometryPointList)[0],"Z"!==(f=l[l.length-1]).type&&"z"!==f.type){if(c.getDistanceFromPoint(f)<e)return r.shift(),a.geometryPointList=l.concat(r),this.updateGeometryPointListBySubPathList(s),!0;if(c.getDistanceFromPoint(d)<e)return t.reverseSubPath(o),l.shift(),a.geometryPointList=r.concat(l),this.updateGeometryPointListBySubPathList(s),!0;if(u.getDistanceFromPoint(f)<e)return t.reverseSubPath(o),r.shift(),a.geometryPointList=l.concat(r),this.updateGeometryPointListBySubPathList(s),!0;if(u.getDistanceFromPoint(d)<e)return l.shift(),a.geometryPointList=r.concat(l),this.updateGeometryPointListBySubPathList(s),!0}}return!1},_.unifyPathSegments=function(t){const e=t.getTransformToElement(this);(t=t.cloneNode()).transformGeometryPointList(e),this.setGeometryPointList(this.getGeometryPointList().concat(t.cloneGeometryPointList()))},_.reverseSubPath=function(t){let e=t.geometryPointList;const i=e.shift(),n=i.x,s=i.y;let o,a,r=!1;"Z"!==e[e.length-1].type&&"Z"!==e[e.length-1].type||(r=!0,e.pop()),e.push(i),e.reverse();const l=e.length;for(let t=0;t<l-1;t++)if(o=e[t],a=e[t+1],o.x=a.x,o.y=a.y,"C"===o.type){let t=o.controlPt1.x,e=o.controlPt1.y;o.controlPt1.x=o.controlPt2.x,o.controlPt1.y=o.controlPt2.y,o.controlPt2.x=t,o.controlPt2.y=e}else"A"===o.type&&(1===o.sweepFlag?o.sweepFlag=0:o.sweepFlag=1);const c=e[e.length-1];if(c.x=n,c.y=s,"C"===c.type){let t=c.controlPt1.x,e=c.controlPt1.y;c.controlPt1.x=c.controlPt2.x,c.controlPt1.y=c.controlPt2.y,c.controlPt2.x=t,c.controlPt2.y=e}else"A"===c.type&&(1===c.sweepFlag?c.sweepFlag=0:c.sweepFlag=1);r&&e.push(this.createGeometryPoint_CLOSEPATH())},_.reverseSegments=function(t){const e=this.getSubPathList();if(void 0!==t)this.reverseSubPath(e[t]);else for(let t=0;t<e.length;t++)this.reverseSubPath(e[t]);this.updateGeometryPointListBySubPathList(e),this.render()},_.closePath=function(t){const e=this.getSubPathList(),i=this;function n(t){const e=t.geometryPointList,n=e[0],s=e[e.length-1];"Z"!==s.type&&"z"!==s.type&&(n.x===s.x&&n.y===s.y?e.push(i.createGeometryPoint_CLOSEPATH()):(e.push(i.createGeometryPoint_LINETO(n.x,n.y)),e.push(i.createGeometryPoint_CLOSEPATH())))}if(void 0!==t)n(e[t]);else for(let t=0;t<e.length;t++)n(e[t]);let s=[];for(let t=0;t<e.length;t++)s=s.concat(e[t].geometryPointList);this.setGeometryPointList(s),this.render()},_.hasPointInPolygon=function(t){const e=this.getGeometryPointList();let i;const n=e.length;for(let s=0;s<n;s++)if("Z"!==(i=e[s]).type&&GeometryUtils.isPointInPoly(t,i))return!0;return!1},_.intersectGlobalRect=function(t){if(this.isContainedInGlobalRect(t))return!0;const e=this.globalRectToLocalPolygon(t);if(this.hasPointInPolygon(e))return!0;const i=this.getTotalLength();let n,s=0;for(;s<i;){if(n=this.getPointAtLength(s),GeometryUtils.isPointInPoly(e,n))return!0;s+=3}return!1},_.toPolygonVertices=function(t,e=1,i=.125){t=t||this.getGeometryPointList({normalize:!0});const n=[];function s(t,e,i,s,o,a,r,l,c){let d,u,f,h,m,g,p,v,y;for(d=s-e-(f=3*(a-e))-(u=3*(l-a)-f),h=o-i-(g=3*(r-i))-(m=3*(c-r)-g),y=t;y<=1;y+=t)v=(p=y*y)*y,n.push({x:e+d*v+u*p+f*y,y:i+h*v+m*p+g*y,smooth:!0})}function o(t,e,i,s,o,a,r){let l,c,d,u,f;for(c=2*(a-e),l=s-e,u=2*(r-i),d=o-i,f=t;f<=1;f+=t)n.push({x:e+f*((1-f)*c+f*l),y:i+f*((1-f)*u+f*d),smooth:!0})}let a,r,l=null,c=t.length;for(r=0;r<c;r++){if("L"===(a=t[r]).type)n.push({x:a.x/e,y:a.y/e});else if("C"===a.type)s(i,l.x/e,l.y/e,a.x/e,a.y/e,a.controlPt1.x/e,a.controlPt1.y/e,a.controlPt2.x/e,a.controlPt2.y/e);else if("Q"===a.type)o(i,l.x/e,l.y/e,a.x/e,a.y/e,a.controlPt1.x/e,a.controlPt1.y/e);else if("M"===a.type)n.push({x:a.x/e,y:a.y/e});else if("Z"===a.type&&("C"===l.type||"Q"===l.type)){const e=t[1];"C"!==e.type&&"Q"!==e.type||(n[0].smooth=!0)}l=a}return n},_.getOffsetPathAsPolygon=function(t){let e="";const i=this.getSubPathList(),n=i.length;for(let s=0;s<n;s++){const n=this.toPolygonVertices(i[s].geometryPointList),o=n.length,a="Z"===i[s].geometryPointList[i[s].geometryPointList.length-1].type,r=GeometryUtils.getPolygonOffset(n,t,a);e+=" M"+r[0].x+" "+r[0].y;for(let t=1;t<o;t++)e+=" L"+r[t].x+" "+r[t].y;a&&(e+=" Z")}const s=this.cloneNode();return s.setAttribute("d",e),s},_.toPathPolygonWithControlPoints=function(t){const e=[];let i,n,s=null,o=t.length;for(n=0;n<o;n++)"L"===(i=t[n]).type?e.push({type:"L",x:i.x,y:i.y}):"C"===i.type?(e.push({type:"Ctrl1",x:i.controlPt1.x,y:i.controlPt1.y}),e.push({type:"Ctrl2",x:i.controlPt2.x,y:i.controlPt2.y}),e.push({type:"C",x:i.x,y:i.y})):"Q"===i.type?(e.push({type:"Ctrl1",x:i.controlPt1.x,y:i.controlPt1.y}),e.push({type:"Q",x:i.x,y:i.y})):"M"===i.type?e.push({type:"M",x:i.x,y:i.y}):"A"===i.type?e.push({type:"A",x:i.x,y:i.y,radius:i.radius,rx:i.rx,ry:i.ry,largeArcFlag:i.largeArcFlag,sweepFlag:i.sweepFlag,angle:i.angle}):i.type,s=i;return e},_.getOffsetPath=function(t){let e="";const i=this.getSubPathList(),n=i.length;for(let s=0;s<n;s++){const n=this.toPathPolygonWithControlPoints(i[s].geometryPointList),o=n.length,a="Z"===i[s].geometryPointList[i[s].geometryPointList.length-1].type,r=GeometryUtils.getPolygonOffset(n,t,a);let l;for(let i=0;i<o;i++)"M"===(l=n[i]).type?e+=" M"+r[i].x+" "+r[i].y:"L"===l.type?e+=" L"+r[i].x+" "+r[i].y:"A"===l.type?e+=" A"+(l.rx+t)+" "+(l.ry+t)+" "+l.angle+" "+l.largeArcFlag+" "+l.sweepFlag+" "+r[i].x+" "+r[i].y:"C"===l.type?e+=" C"+r[i-2].x+" "+r[i-2].y+" "+r[i-1].x+" "+r[i-1].y+" "+r[i].x+" "+r[i].y:"Q"===l.type&&(e+=" Q"+r[i-1].x+" "+r[i-1].y+" "+r[i].x+" "+r[i].y);a&&(e+=" Z")}return e},_.reduceCurves=function(t){const e=[],i=(t=t||this).getGeometryPointList({normalize:!0}),n=i.length;let s;for(let o=0;o<n;o++)if("C"===(s=i[o]).type){const n=i[o-1],a=new Bezier(n,s.controlPt1,s.controlPt2,s).reduce();a.length>0?a.forEach((i,n)=>{const s=t.createGeometryPoint_CURVETO_CUBIC(i.points[1].x,i.points[1].y,i.points[2].x,i.points[2].y,i.points[3].x,i.points[3].y);e.push(s)}):e.push(s)}else if("Q"===s.type){const n=i[o-1],a=new Bezier(n,s.controlPt1,s.x,s.y).reduce();a.length>0?a.forEach((i,n)=>{const s=t.createGeometryPoint_CURVETO_QUADRATIC(i.points[1].x,i.points[1].y,i.points[2].x,i.points[2].y);e.push(s)}):e.push(s)}else if("A"===s.type){if(s.rx===s.ry&&!s.radius){const t=i[o-1],e=GeometryUtils.getArcCenter(t.x,t.y,s.x,s.y,s.rx,s.ry,s.angle,s.largeArcFlag,s.sweepFlag);s.radius=s.rx=s.ry=e.getDistanceFromPoint(s)}e.push(s)}else e.push(s);return e},_.toSVGPathElement=function(){return isNaN(this.getTransform().matrix.e)&&this.getTransform().matrix.identity(),this.cloneNode(!0)},_=SVGGElement.prototype,_.getEditableGeometryPointList=function(){if(console.log("this.dataset",this.dataset),this.dataset.objectId&&"linear-object"===OBJECTS[this.dataset.objectId].type){const t=this.getObjectController().getProperties(),e=[];return e.push(SVGUtils.createSVGPoint(0,0)),e.push(SVGUtils.createSVGPoint(t.width,0)),e.push(SVGUtils.createSVGPoint(t.width/2,t.height)),e[0].ownerShapeElement=this,e[1].ownerShapeElement=this,e[2].ownerShapeElement=this,e[0].id=0,e[1].id=1,e[2].id=2,e[0].name="start",e[1].name="end",e[2].name="height",this.getTransformToElement(this.parentElement).transformPointList(e,!0)}},_.getLocalBBox=function(){if(this.dataset.objectId){const t=this.getObjectController().getProperties();let e={x:0,y:0};return e.width=t.width,e.height=t.height,e.center={x:e.x+e.width/2,y:e.y+e.height/2},e.min={x:e.x,y:e.y},e.max={x:e.x+e.width,y:e.y+e.height},e}let t=this.getBBox();if(this.hasAttribute("clip-path")){const e=this.querySelector("clipPath");e.getBBox?0===(t=e.getBBox()).width&&(t=e.parentElement.getBBox()):t=e.parentElement.getBBox()}return t.center={x:t.x+t.width/2,y:t.y+t.height/2},t.min={x:t.x,y:t.y},t.max={x:t.x+t.width,y:t.y+t.height},t},_.__getGlobalBBox=SVGElement.prototype.getGlobalBBox,_.getGlobalBBox=function(){if(this.hasAttribute("clip-path")){const t=this.querySelector("clipPath");if(t)return t.getGlobalBBox()}return this.__getGlobalBBox()},_.normalizeScale=function(t){let e=this.parentElement;e instanceof SVGMaskElement&&(e=e.parentElement);const i=e.screenMatrixToLocalMatrix(this.normalizationData.storedScreenMatrix);if(this.getTransform().setMatrix(this.getTransform().matrix.identity().translate(i.e,i.f).rotate(this.normalizationData.localRotation)),this.dataset.objectId&&OBJECTS[this.dataset.objectId]){const i=e.screenMatrixToLocalMatrix(this.normalizationData.storedScreenMatrix).getScale();return void this.getObjectController().normalizeScale(i.x,i.y,t.effectScale)}const n=this.childNodes.length;for(let e=0;e<n;e++)this.childNodes[e].normalizeScale&&this.childNodes[e].normalizeScale(t)},_.getTransformableChildren=function(){const t=[];for(let e=0;e<this.children.length;e++)if(console.log("getTransformableChildren",this.children[e].nodeName),"clipPath"===this.children[e].nodeName||"mask"===this.children[e].nodeName){const i=this.children[e].children;for(let e=0;e<i.length;e++)t.push(i[e])}else t.push(this.children[e]);return t},_.setOrigin=function(t,e){const i=this.globalToLocal(t,e);this.getTransform().setMatrix(this.getTransform().matrix.translate(i.x,i.y)),this.setAttribute("x",-i.x),this.setAttribute("y",-i.y);const n=SVGUtils.createSVGMatrix().translate(-i.x,-i.y),s=this.getTransformableChildren();for(let t=0;t<s.length;t++)s[t].getTransform&&s[t].getTransform().setMatrix(n.multiply(s[t].getTransform().matrix))},_.resetOrigin=function(){const t=this.getLocalBBox(),e=SVGUtils.createSVGPoint(t.center.x,t.center.y);this.getTransform().setMatrix(this.getTransform().matrix.translate(e.x,e.y)),this.setAttribute("x",-e.x),this.setAttribute("y",-e.y);const i=SVGUtils.createSVGMatrix().translate(-e.x,-e.y),n=this.getTransformableChildren();for(let t=0;t<n.length;t++)n[t].getTransform().setMatrix(i.multiply(n[t].getTransform().matrix))},_.bakeTransform=function(){const t=this.getGlobalBBox(),e=this.parentElement.globalToLocal(t.center.x,t.center.y),i=SVGUtils.createGroup(e.x,e.y);this.parentElement.appendChild(i);const n=this.getTransformableChildren();for(let t=0;t<n.length;t++)n[t].getTransform().setMatrix(n[t].getTransformToElement(i).clone());this.getTransform().setMatrix(i.getTransform().matrix.clone()),i.remove()},_.toSVGPathElement=function(){return null},_=SVGImageElement.prototype,_.initializeWithOriginalSize=function(t){var e=this,i=new Image;i.src=e.getAttributeNS(SVGSVGElement.XLINK_NS,"href"),i.onload=function(){e.setAttribute("width",this.naturalWidth),e.setAttribute("height",this.naturalHeight),t&&t()}},_.resetOrigin=function(){const t=this.getLocalBBox(),e=SVGUtils.createSVGPoint(t.center.x,t.center.y);this.getTransform().setMatrix(this.getTransform().matrix.translate(e.x,e.y)),this.setAttribute("x",-e.x),this.setAttribute("y",-e.y)},_.setOrigin=function(t,e){const i=this.globalToLocal(t,e),n=SVGUtils.createSVGPoint(parseFloat(this.getAttribute("x"))||0,parseFloat(this.getAttribute("y"))||0);this.getTransform().setMatrix(this.getTransform().matrix.translate(i.x,i.y)),this.setAttribute("x",n.x-i.x),this.setAttribute("y",n.y-i.y)},_.resizeTo=function(t,e){const i=document.createElement("canvas");return i.width=t,i.height=e,i.getContext("2d").drawImage(this,0,0,parseInt(this.getAttribute("width")),parseInt(this.getAttribute("height")),0,0,i.width,i.height),i.toDataURL("image/png")},SVGGradientElement.prototype.getTransform=function(){if(0===this.gradientTransform.baseVal.numberOfItems){var t=SVGUtils.createSVGTransformFromMatrix(SVGUtils.createSVGMatrix());this.gradientTransform.baseVal.appendItem(t)}return this.gradientTransform.baseVal.getItem(0)},SVGLinearGradientElement.prototype.copyPointsTo=function(t){if(t instanceof SVGRadialGradientElement){var e=this.x2.baseVal.value-this.x1.baseVal.value,i=this.y2.baseVal.value-this.y1.baseVal.value,n=Math.sqrt(e*e+i*i)/2,s=this.x1.baseVal.value+e/2,o=this.y1.baseVal.value+i/2;t.cx.baseVal.value=s,t.cy.baseVal.value=o,t.r.baseVal.value=n}else t instanceof SVGLinearGradientElement&&(t.x1.baseVal.value=this.x1.baseVal.value,t.y1.baseVal.value=this.y1.baseVal.value,t.x2.baseVal.value=this.x2.baseVal.value,t.y2.baseVal.value=this.y2.baseVal.value)},SVGRadialGradientElement.prototype.copyPointsTo=function(t){if(t instanceof SVGRadialGradientElement)t.cx.baseVal.value=this.cx.baseVal.value,t.cy.baseVal.value=this.cy.baseVal.value,t.r.baseVal.value=this.r.baseVal.value;else if(t instanceof SVGLinearGradientElement){var e=this.cx.baseVal.value-this.r.baseVal.value,i=this.cy.baseVal.value-this.r.baseVal.value,n=this.cx.baseVal.value+this.r.baseVal.value,s=this.cy.baseVal.value+this.r.baseVal.value;t.x1.baseVal.value=e,t.y1.baseVal.value=i,t.x2.baseVal.value=n,t.y2.baseVal.value=s}},SVGGradientElement.prototype.initDefaultPoints=function(){this.setAttribute("gradientUnits","objectBoundingBox"),"linearGradient"==this.nodeName?(this.setAttribute("x1","0"),this.setAttribute("y1","0.5"),this.setAttribute("x2","1"),this.setAttribute("y2",".5")):(this.setAttribute("cx","0.5"),this.setAttribute("cy","0.5"),this.setAttribute("r",".5"))},SVGGradientElement.prototype.setPointsFromBBox=function(t){this instanceof SVGRadialGradientElement?(this.cx.baseVal.value=t.center.x,this.cy.baseVal.value=t.center.y,this.r.baseVal.value=t.width/2):this instanceof SVGLinearGradientElement&&(this.x1.baseVal.value=t.center.x,this.y1.baseVal.value=t.min.y,this.x2.baseVal.value=t.center.x,this.y2.baseVal.value=t.max.y)},SVGGradientElement.prototype.insertNewStopColor=function(t,e,i){var n=SVGUtils.createSVGStopColor(t,"#FFFFFF","1");if(this.appendChild(n),this.sortStopColors(),e)n.setAttribute("stop-color",e),n.setAttribute("stop-opacity",i);else{var s,o,a,r,l,c;n.previousElementSibling?(s=n.previousElementSibling,(a=ColorUtils.parseColorString(s.getAttribute("stop-color"))).a=parseFloat(s.getAttribute("stop-opacity")||1),o=parseFloat(s.getAttribute("offset"))):(a={r:0,g:0,b:0,a:1},o=0),n.nextElementSibling?(r=n.nextElementSibling,(c=ColorUtils.parseColorString(r.getAttribute("stop-color"))).a=parseFloat(r.getAttribute("stop-opacity")||1),l=parseFloat(r.getAttribute("offset"))):(c={r:0,g:0,b:0,a:1},l=1);var d=(t-o)/(l-o),u=ColorUtils.mixColorChannel(a.r,c.r,d),f=ColorUtils.mixColorChannel(a.g,c.g,d),h=ColorUtils.mixColorChannel(a.b,c.b,d),m=ColorUtils.mixColorChannel(a.a,c.a,d);n.setAttribute("stop-color",ColorUtils.rgbToHex(u,f,h)),n.setAttribute("stop-opacity",m),n.setAttribute("fill",ColorUtils.rgbToHex(u,f,h))}return n},SVGGradientElement.prototype.sortStopColors=function(){var t,e=[],i=this.children.length;for(t=0;t<i;t++)e.push(this.children[t]);for(e.sort(function(t,e){return t.offset.baseVal-e.offset.baseVal}),this.removeChildren(),t=0;t<i;t++)this.appendChild(e[t])},SVGGradientElement.prototype.copyStopColorsTo=function(t){var e,i=this.children.length;for(t.removeChildren(),e=0;e<i;e++)t.appendChild(this.children[e].cloneNode(!0))},SVGStopElement.prototype.stylePropertiesToAttributes=function(){const t=[];if(this.style["stop-opacity"]&&(this.setAttribute("stop-opacity",this.style["stop-opacity"]),t.push({description:"style to attribute",attribute:"stop-opacity"})),this.style["stop-color"]){var e=ColorUtils.parseColorString(this.style["stop-color"]);this.setAttribute("stop-color",ColorUtils.rgbToHex(e.r,e.g,e.b)),1!==e.a&&this.setAttribute("stop-opacity",e.a),t.push({description:"style to attribute",attribute:"stop-color"})}return this.removeAttribute("style"),t},SVGClipPathElement.prototype.normalizeScale=SVGGElement.prototype.normalizeScale,SVGClipPathElement.prototype.toSVGPathElement=SVGGElement.prototype.toSVGPathElement,_=SVGClipPathElement.prototype,_.prepareToNormalizeScale=function(t){this.normalizationData=this.parentNode.normalizationData;const e=this.childNodes.length;for(let i=0;i<e;i++)this.childNodes[i].prepareToNormalizeScale&&this.childNodes[i].prepareToNormalizeScale(t)},_.getScreenCTM=function(t){return this.parentElement.getScreenCTM()},_=SVGMaskElement.prototype,_.getScreenCTM=function(t){return this.parentNode.getScreenCTM()},_.prepareToNormalizeScale=function(t){this.normalizationData=this.parentNode.normalizationData;const e=this.childNodes.length;for(let i=0;i<e;i++)this.childNodes[i].prepareToNormalizeScale&&this.childNodes[i].prepareToNormalizeScale(t)},_.normalizeScale=function(t){const e=this.childNodes.length;for(let i=0;i<e;i++)this.childNodes[i].normalizeScale&&this.childNodes[i].normalizeScale(t)},_=SVGUseElement.prototype,_=SVGForeignObjectElement.prototype,_.normalizeScale=function(t){const e=this.parentElement.screenMatrixToLocalMatrix(this.normalizationData.storedScreenMatrix),i=e.getScale();this.scaleAttributeNumber("x",i.x),this.scaleAttributeNumber("y",i.y),this.scaleAttributeNumber("width",i.x),this.scaleAttributeNumber("height",i.y);const n=this.ownerSVGElement.createSVGMatrix().scaleNonUniform(i.x,i.y).inverse();this.getTransform().setMatrix(e.multiply(n))},_.toSVGPathElement=function(){return SVGUtils.createRect(this.x.baseVal.value,this.y.baseVal.value,this.width.baseVal.value,this.height.baseVal.value).toSVGPathElement()},_.getGlobalBBox=function(){return this.getGlobalBBoxByLocalBox()},_.updateGeometry=function(t,e,i,n){this.x.baseVal.value=t,this.y.baseVal.value=e,i&&(this.width.baseVal.value=i),n&&(this.height.baseVal.value=n)},_=SVGTextElement.prototype,_.createTextData=function(t){t=t||"";var e={};return e.text=t,e.style=new Array(e.text.length),e.drawInfo=new Array(e.text.length),e},_.initTextData=function(t){t=t||"",this.caretPosition=0,this.textData=this.createTextData(t)},_.getText=function(){return this.textData?this.textData.text:""},_.getElementStyle=function(t){var e={};return e.opacity=t.getAttribute("opacity")||this.getAttribute("opacity")||"1",e.fill=t.getAttribute("fill")||this.getAttribute("fill")||"#000000",e["fill-opacity"]=t.getAttribute("fill-opacity")||this.getAttribute("fill-opacity")||1,e.stroke=t.getAttribute("stroke")||this.getAttribute("stroke")||"none",e["stroke-opacity"]=t.getAttribute("stroke-opacity")||this.getAttribute("stroke-opacity")||1,e["stroke-width"]=t.getAttribute("stroke-width")||this.getAttribute("stroke-width")||0,e["font-family"]=t.getAttribute("font-family")||this.getAttribute("font-family")||"arial",e["text-decoration"]=t.getAttribute("text-decoration")||this.getAttribute("text-decoration")||"none",e["font-size"]=t.getAttribute("font-size")||this.getAttribute("font-size")||12,e["text-align"]=t.getAttribute("text-align")||this.getAttribute("text-align")||"left",e["font-weight"]=t.getAttribute("font-weight")||this.getAttribute("font-weight")||"",e["font-style"]=t.getAttribute("font-style")||this.getAttribute("font-style")||"",e["letter-spacing"]=t.getAttribute("letter-spacing")||this.getAttribute("letter-spacing")||0,e["word-spacing"]=t.getAttribute("word-spacing")||this.getAttribute("word-spacing")||0,e["line-height"]=t.getAttribute("line-height")||this.getAttribute("line-height")||"normal",e},_.__getLocalBBox=SVGElement.prototype.getLocalBBox,_.getLocalBBox=function(){if("TextBox"!==this.getAttribute("data-type"))return this.__getLocalBBox();let t={};return this.hasAttribute("width")&&this.hasAttribute("height")?(t.x=0,t.y=0,t.width=parseFloat(this.getAttribute("width")),t.height=parseFloat(this.getAttribute("height"))):(t=this.getBBox(),this.setAttribute("width",t.width),this.setAttribute("height",t.height)),t.center={x:t.x+t.width/2,y:t.y+t.height/2},t.min={x:t.x,y:t.y},t.max={x:t.x+t.width,y:t.y+t.height},t},_.getGlobalBBox=function(){return this.getGlobalBBoxByLocalBox()},_.prepareToNormalizeScale=function(t){this.normalizationData={},this.normalizationData.storedScreenMatrix=this.getScreenCTM(),this.normalizationData.localRotation=this.getTransform().matrix.getRotation()},_.normalizeScale=function(t){const e=this.parentElement.screenMatrixToLocalMatrix(this.normalizationData.storedScreenMatrix),i=e.getScale();this.scaleAttributeNumber("x",i.x),this.scaleAttributeNumber("y",i.y),this.scaleAttributeNumber("width",i.x),this.scaleAttributeNumber("height",i.y);const n=Math.sqrt(i.x*i.x+i.y*i.y)/Math.sqrt(2);if("non-scaling-stroke"!==this.getAttribute("vector-effect")&&t.scaleStrokeAndEffects&&this.scaleStrokeAndEffects(n),(t.scaleText||this.scaleText)&&(this.scaleStrokeAndEffects(n),this.scaleAttributeNumber("font-size",n),this.scaleAttributeNumber("letter-spacing",n),this.scaleAttributeNumber("word-spacing",n),this.scaleAttributeNumber("line-height",n),"true"===this.dataset.useRichText&&this.textData.style)){var s,o,a=this.textData.style,r=a.length;for(o=0;o<r;o++)(s=a[o])&&(s["font-size"]&&(s["font-size"]=parseFloat(s["font-size"])*n),s["letter-spacing"]&&(s["letter-spacing"]=parseFloat(s["letter-spacing"])*n),s["word-spacing"]&&(s["word-spacing"]=parseFloat(s["word-spacing"])*n),s["line-height"]&&(s["line-height"]=s["line-height"]*n))}const l=this.ownerSVGElement.createSVGMatrix().scaleNonUniform(i.x,i.y).inverse();this.getTransform().setMatrix(e.multiply(l)),this.render(),t.scaleStrokeAndEffects&&(this.normalizeFillingScale("fill",t),this.normalizeFillingScale("stroke",t))},_.intersectGlobalRect=SVGRectElement.prototype.intersectGlobalRect,_.__cloneNode=_.cloneNode,_.cloneNode=function(t){var e=this.__cloneNode(t);return this.textData&&(e.textData=this.getTextData()),e},_.convertTextToPath=function(t,e){return"TextOnPath"===this.getAttribute("data-type")?this.convertTextOnPathToPath(t,e):this.convertTextBoxToPath(t,e)},_.convertTextBoxToPath=function(t,e){var i=this,n=this.querySelectorAll("tspan"),s=SVGUtils.createGroup();return s.getTransform().setMatrix(this.getTransform().matrix.clone()),function n(o){var a,r,l;l=o.getStartPositionOfChar(0),a=l.x,r=l.y;var c,d,u=i.getElementStyle(o),f=window.GoogleFonts.getGoogleFontObjectByFamilyName(u["font-family"]).files[window.GoogleFonts.getGoogleFontVariantNameByStyleAndWeight(u["font-style"],u["font-weight"])];c=f,d=function(e){var i=opentype.Font.prototype.defaultRenderOptions;i.letterSpacing=parseFloat(u["letter-spacing"])||0,i.wordSpacing=parseFloat(u["word-spacing"])||0;for(var l=e.getPaths(o.textContent,a,r,u["font-size"],i),c=0;c<l.length;c++){var d=SVGUtils.createPath();d.setAttribute("d",l[c].toPathData(6)),d.setGraphicAttributesByObjectProperties(u),s.appendChild(d)}o.nextElementSibling?n(o.nextElementSibling):t&&t(s)},opentype.load(c,function(t,i){t?e&&e(s):d(i)})}(n[0]),s},_.convertTextOnPathToPath=function(t,e){var i=this,n=this.querySelectorAll("tspan"),s=SVGUtils.createGroup();return s.getTransform().setMatrix(this.getTransform().matrix.clone()),function n(o){var a,r,l,c,d,u,f=i.getElementStyle(o),h=window.GoogleFonts.getGoogleFontObjectByFamilyName(f["font-family"]).files[window.GoogleFonts.getGoogleFontVariantNameByStyleAndWeight(f["font-style"],f["font-weight"])];d=h,u=function(e){var i=opentype.Font.prototype.defaultRenderOptions;i.letterSpacing=parseFloat(f["letter-spacing"])||0,i.wordSpacing=parseFloat(f["word-spacing"])||0;for(var d=o.getNumberOfChars(),u=0;u<d;u++){c=o.getStartPositionOfChar(u),a=c.x,r=c.y,l=o.getRotationOfChar(u);for(var h=e.getPaths(o.textContent[u],0,0,f["font-size"],i),m=0;m<h.length;m++){var g=SVGUtils.createPath();g.getTransform().setMatrix(SVGUtils.createSVGMatrix().translate(a,r).rotate(l)),g.setAttribute("d",h[m].toPathData(3)),g.setGraphicAttributesByObjectProperties(f),s.appendChild(g)}}o.nextElementSibling?n(o.nextElementSibling):t&&t(s)},opentype.load(d,function(t,i){t?e&&e(s):u(i)})}(n[0]),s},opentype.Font.prototype.forEachGlyph=function(t,e,i,n,s,o){e=void 0!==e?e:0,i=void 0!==i?i:0,n=void 0!==n?n:72,s=s||this.defaultRenderOptions;var a,r=1/this.unitsPerEm*n,l=this.stringToGlyphs(t,s);if(s.kerning){var c=s.script||this.position.getDefaultScriptName();a=this.position.getKerningTables(c,s.language)}for(var d=0;d<l.length;d+=1){var u=l[d];if(o.call(this,u,e,i,n,s),u.advanceWidth&&(e+=u.advanceWidth*r),s.kerning&&d<l.length-1)e+=(a?this.position.getKerningValue(a,u.index,l[d+1].index):this.getKerningValue(u,l[d+1]))*r;s.letterSpacing?e+=s.letterSpacing:s.tracking&&(e+=s.tracking/1e3*n),s.wordSpacing&&"space"==u.name&&"space"==u.name&&(e+=s.wordSpacing)}return e},_=SVGTextElement.prototype,_.setTextSelectionAttribute=function(t,e){this.setTextStyleProperty(this.storedTextSelectionRange.textDataStartOffset,this.storedTextSelectionRange.textDataEndOffset,t,e)},_.onSetAttribute=function(t,e){if(this.hasAttribute("data-type")){let i;"true"===this.dataset.useRichText?this.storedTextSelectionRange&&this.hasAttribute("contenteditable")?this.setTextSelectionAttribute(t,e):(this.setTextStyleProperty(0,this.textData.text.length,t,e),this.__setAttribute(t,e)):this.__setAttribute(t,e),this.isTextAttribute(t)&&(i=200);const n=this;this.renderRequest(i,function(){n.restoreTextSelectionRange()})}else this.__setAttribute(t,e)},_.enterToTextEditing=function(t){this.textData||(this.parseText(),this.renderRequest()),this.firstElementChild&&!this.firstElementChild.hasAttribute("data-start-offset")&&this.renderRequest(),this.__setAttribute("contenteditable","true"),this.updateTextCursorPosition(),this.updateDocumentDrawingProperties()},_.exitFromTextEditing=function(t){this.onEndInputAction(),this.setCaretPosition(this.caretPosition),0===this.textData.text.length&&(this.textData=null,this.initTextData("text"),activeApplication.activeDocument.createInsertTextDataUndoRedoActions(this,this.getTextData()),this.renderRequest()),this.removeAttribute("contenteditable"),this.removeAttribute("tabindex"),XOS.hideElement(activeApplication.workspace.TEXT_CURSOR),activeApplication.isTextEditing=!1,activeApplication.currentEditableTextElement=null},_.updateSelectionState=function(){this.onEndInputAction(),this.saveTextSelectionRange(),this.caretPosition=this.storedTextSelectionRange.textDataStartOffset,this.updateTextCursorPosition(),this.updateDocumentDrawingProperties()},_.updateTextCursorPosition=function(){let t,e;const i=this.getNumberOfChars();if(0===i)t={x:0,y:0},e=0,this.lastDescent=0;else{let n;this.caretPosition>=i?(t=this.getEndPositionOfChar(i-1),e=this.getRotationOfChar(i-1)):(t=this.getStartPositionOfChar(this.caretPosition),e=this.getRotationOfChar(this.caretPosition));let s=(n=this.storedTextSelectionRange&&"#cdata-section"===this.storedTextSelectionRange.startContainer.nodeName?this.storedTextSelectionRange.startContainer.parentElement.getExtentOfChar(t):this.getExtentOfChar(t)).y+n.height-t.y;s>0&&(this.lastDescent=s);n.height,this.lastDescent;this.caretPosition>=i&&"\n"===this.textData.text[this.textData.text.length-1]&&(t.x=0,t.y+=n.height),"TextBox"===this.dataset.type?(activeApplication.workspace.TEXT_CURSOR.setAttribute("y1",this.lastDescent),activeApplication.workspace.TEXT_CURSOR.setAttribute("y2",-(n.height-this.lastDescent))):(activeApplication.workspace.TEXT_CURSOR.setAttribute("y1",0),activeApplication.workspace.TEXT_CURSOR.setAttribute("y2",-n.height))}const n=this.getCTM().translate(t.x,t.y).rotate(e);activeApplication.workspace.TEXT_CURSOR.getTransform().setMatrix(n),XOS.showElement(activeApplication.workspace.TEXT_CURSOR)},_.updateDocumentDrawingProperties=function(){let t;t="true"===this.dataset.useRichText?this.getTextStyleAt(this.caretPosition):this.getElementStyle(this),activeApplication.activeDocument.showSelectionProperties()},_.onStartInputAction=function(t){this.inputAction=t,this.inputActionTextData=this.createTextData(""),this.inputActionTextData.offset=0},_.onInputAction=function(t){var e,i=t.key;const n=KEYBOARD_EVENT_MANAGER.KEY_CODE_TO_NAME[t.keyCode];if("ESC"===n)return this.onEndInputAction(),void activeApplication.setActiveTool("draw-edit-text-tool").endTextEditing();if("HOME"===n||"PAGEUP"===n)return this.onEndInputAction(),this.setCaretPosition(0),void this.updateDocumentDrawingProperties();if("END"===n||"PAGEDOWN"===n)return this.onEndInputAction(),this.setCaretPosition(this.getNumberOfChars()),void this.updateDocumentDrawingProperties();if("LEFT"===n||"UP"===n)return this.onEndInputAction(),this.caretPosition--,this.caretPosition<0&&(this.caretPosition=0),this.setCaretPosition(this.caretPosition),void this.updateDocumentDrawingProperties();if("RIGHT"===n||"DOWN"===n){this.onEndInputAction(),this.caretPosition++;var s=this.getNumberOfChars();return this.caretPosition>s&&(this.caretPosition=s),this.setCaretPosition(this.caretPosition),void this.updateDocumentDrawingProperties()}if("TAB"===n&&(i="    ",t.preventDefault()),"BACKSPACE"===n){if(this.storedTextSelectionRange.selectedCharNum>0)return this.deleteSelectedText(),void this.renderRequest();if(0===this.caretPosition)return;this.caretPosition--,"deletePreviousText"!==this.inputAction&&(this.onEndInputAction(),this.onStartInputAction("deletePreviousText")),e=this.deleteTextData(this.caretPosition,1),this.inputActionTextData.text=e.text+this.inputActionTextData.text,this.inputActionTextData.style.unshift(e.style[0]),this.inputActionTextData.offset=this.caretPosition}else if("DELETE"===n){if(this.storedTextSelectionRange.selectedCharNum>0)return this.deleteSelectedText(),void this.renderRequest();"deleteNextText"!==this.inputAction&&(this.onEndInputAction(),this.onStartInputAction("deleteNextText"),this.inputActionTextData.offset=this.caretPosition),e=this.deleteTextData(this.caretPosition,1),this.inputActionTextData.text+=e.text,this.inputActionTextData.style.push(e.style[0])}else this.storedTextSelectionRange&&this.storedTextSelectionRange.selectedCharNum>0&&this.deleteSelectedText(),"ENTER"===n&&(this.onEndInputAction(),i="\n"),this.insertText(this.caretPosition,i),"insertText"!==this.inputAction&&(this.onEndInputAction(),this.onStartInputAction("insertText"),this.inputActionTextData.offset=this.caretPosition),this.inputActionTextData.text+=i,this.inputActionTextData.style=new Array(this.inputActionTextData.text.length),this.caretPosition+=i.length;var o=this;this.renderRequest(null,function(){o.setCaretPosition(o.caretPosition)})},_.setCaretPosition=function(t){this.caretPosition=t;var e=t,i=this.getNumberOfChars();e>=i&&(e=i-1),e<0||(this.selectSubString(e,0),this.saveTextSelectionRange(),this.updateTextCursorPosition())},_.onEndInputAction=function(){"insertText"===this.inputAction?activeApplication.activeDocument.createInsertTextDataUndoRedoActions(this,this.inputActionTextData):"deletePreviousText"===this.inputAction?activeApplication.activeDocument.createDeleteTextDataUndoRedoActions(this,this.inputActionTextData):"deleteNextText"===this.inputAction&&activeApplication.activeDocument.createDeleteTextDataUndoRedoActions(this,this.inputActionTextData),this.inputAction=null},_.deleteSelectedText=function(){if(this.storedTextSelectionRange&&this.storedTextSelectionRange.selectedCharNum>0){var t=this.deleteTextData(this.caretPosition,this.storedTextSelectionRange.selectedCharNum);activeApplication.activeDocument.createDeleteTextDataUndoRedoActions(this,t),this.setCaretPosition(this.caretPosition)}},_.onKeyDown=function(t){const e=KEYBOARD_EVENT_MANAGER.KEY_CODE_TO_NAME[t.keyCode];if(KEYBOARD_EVENT_MANAGER.cmdKeyPressed)switch(this.onEndInputAction(),e){case"Z":t.shiftKey?COMMANDS.redo.execute():COMMANDS.undo.execute(),t.stopPropagation();break;case"A":t.stopPropagation(),this.selectAll()}else"SHIFT"!==e&&18!==t.keyCode&&116!==t.keyCode&&20!==t.keyCode&&(t.stopPropagation(),this.onInputAction(t))},_.selectAll=function(){this.selectSubString(0,this.textData.text.length),this.caretPosition=0,this.updateTextCursorPosition();const t=this;setTimeout(function(){t.saveTextSelectionRange()},0)},_.onPaste=function(t){this.pasteText(t.clipboardData.getData("Text")),t.preventDefault()},_.onCopy=function(t){this.copySelectedText(t),t.preventDefault()},_.onCut=function(t){this.cutSelectedText(t),t.preventDefault()},_.copySelectedText=function(t){t.clipboardData.setData("text/plain",this.textData.text.substring(this.storedTextSelectionRange.textDataStartOffset,this.storedTextSelectionRange.textDataEndOffset))},_.cutSelectedText=function(t){t.clipboardData.setData("text/plain",this.textData.text.substring(this.storedTextSelectionRange.textDataStartOffset,this.storedTextSelectionRange.textDataEndOffset)),this.deleteSelectedText();const e=this;this.renderRequest(null,function(){e.setCaretPosition(e.caretPosition)})},_.pasteText=function(t){this.deleteSelectedText();const e=this.createTextData(t);e.offset=this.caretPosition,activeApplication.activeDocument.createInsertTextDataUndoRedoActions(this,e),this.insertTextData(this.caretPosition,e),this.caretPosition+=e.text.length;const i=this;this.renderRequest(null,function(){i.setCaretPosition(i.caretPosition)}),this.updateDocumentDrawingProperties()},_.insertText=function(t,e){this.textData.text=this.textData.text.splice(t,0,e);const i=this.textData.style.splice(t);this.textData.style=this.textData.style.concat(new Array(e.length),i)},_.deleteTextData=function(t,e){const i=this.getTextData(t,t+e);return this.textData.text=this.textData.text.splice(t,e),this.textData.style.splice(t,e),i},_.cloneStyle=function(t){var e={};for(var i in t)e[i]=t[i];return e},_.cloneTextDataStyle=function(t){var e,i,n=t.style.length;for(i=0;i<n;i++)(e=t.style[i])&&(t.style[i]=this.cloneStyle(e))},_.getTextData=function(t,e){var i={};return t=t||0,i.offset=t,e?(i.text=this.textData.text.substring(t,e),i.style=this.textData.style.slice(t,e)):(i.text=this.textData.text.substring(t),i.style=this.textData.style.slice(t)),this.cloneTextDataStyle(i),i},_.insertTextData=function(t,e,i){i=i||0,this.textData.text=this.textData.text.splice(t,i,e.text),i>0&&this.textData.style.splice(t,i);var n=this.textData.style.splice(t);this.textData.style=this.textData.style.concat(e.style,n)},_.splitTextStyle=function(t,e){var i=this.textData.style[t],n=this.textData.style[e];i||(this.textData.style[t]=this.cloneStyle(this.getTextStyleAt(t))),n||(this.textData.style[e]=this.cloneStyle(this.getTextStyleAt(e)))},_.setTextStyleProperty=function(t,e,i,n){this.splitTextStyle(t,e);for(var s=t,o=e;s<o;s++)this.textData.style[s]&&(this.textData.style[s][i]=n)},_.getTextStyleAt=function(t){for(var e=this.textData.style;t>-1;){if(e[t])return e[t];t--}return this.getElementStyle(this)},_.getTSpanAt=function(t){for(var e=this.textData.style;t>-1&&!e[t];)t--;return this.querySelector('tspan[data-start-offset="'+t+'"]')},_.restoreTextSelectionRange=function(){this.storedTextSelectionRange&&(this.storedTextSelectionRange.selectedCharNum>0&&this.selectSubString(this.storedTextSelectionRange.textDataStartOffset,this.storedTextSelectionRange.selectedCharNum),this.caretPosition=this.storedTextSelectionRange.textDataStartOffset)},_.saveTextSelectionRange=function(t){var e,i;"None"!=(e=this.getRootNode().getSelection?this.getRootNode().getSelection():window.getSelection()).type?(i=e.getRangeAt(0),this.storedTextSelectionRange=i,"#cdata-section"===this.storedTextSelectionRange.startContainer.nodeName?(this.storedTextSelectionRange.textDataStartOffset=parseInt(this.storedTextSelectionRange.startContainer.parentElement.dataset.startOffset)+this.storedTextSelectionRange.startOffset,this.storedTextSelectionRange.textDataEndOffset=parseInt(this.storedTextSelectionRange.endContainer.parentElement.dataset.startOffset)+this.storedTextSelectionRange.endOffset):(this.storedTextSelectionRange.textDataStartOffset=0,this.storedTextSelectionRange.textDataEndOffset=0),this.storedTextSelectionRange.selectedCharNum=this.storedTextSelectionRange.textDataEndOffset-this.storedTextSelectionRange.textDataStartOffset):(this.storedTextSelectionRange.endContainer=this.storedTextSelectionRange.startContainer,this.storedTextSelectionRange.textDataStartOffset=parseInt(this.storedTextSelectionRange.startContainer.parentElement.dataset.startOffset)+this.storedTextSelectionRange.startOffset,this.storedTextSelectionRange.textDataEndOffset=this.storedTextSelectionRange.textDataStartOffset,this.storedTextSelectionRange.selectedCharNum=0)},_.parseText=function(){if(!this.textData){var t,e,i={};i.text="",i.style=new Array(i.text.length),i.drawInfo=new Array(i.text.length);var n,s,o=this.children;if(0==o.length)this.initTextData(this.textContent),this.dataset.useRichText="false";else{for(var a=0;a<o.length;a++){s=o[a],n=null;for(var r=0;r<s.childNodes.length;r++)if("#cdata-section"==s.childNodes[r].nodeName){n=s.childNodes[r];break}t=n?n.data:s.textContent,e=this.getElementStyle(s),i.style[i.text.length]=e,i.text+=t}this.textData=i}}},_.consolidateAllStyles=function(){for(var t,e,i=this.getElementStyle(this),n=this.textData.style,s=0;s<n.length;s++)if(e=n[s])for(t in i)null==e[t]&&(e[t]=i[t])},_.getTextRangeStyle=function(t,e){t=t||this.storedTextSelectionRange.textDataStartOffset,e=e||this.storedTextSelectionRange.textDataEndOffset;const i={start:start,end:end},n=e-t;let s,o,a;const r=new Array(n);for(var l=0;l<=n;l++)if(s=this.textData.style[t+l]){for(a in o={},s)o[a]=s[a];r[l]=o}return i.textDataStyle=r,i},_=SVGTextElement.prototype,_.render=function(){this.waitForRendering=!1,this.textElementUtils=document.querySelector("#TEXT_UTILS"),this.textData||this.parseText();const t=this.createWordList(this.textData),e=this.getAttribute("data-type");let i=this;if("TextOnPath"===e&&(i=this.querySelector("textPath")),i.removeChildren(),0===t.length)return;let n=null;"TextBox"===e&&(n=parseFloat(this.getAttribute("width"))),this.textElementUtils.removeChildren();const s=this.renderizeWordList(t,n);"TextBox"!==e&&s[0].setAttribute("dy",0);for(let t=0;t<s.length;t++)i.appendChild(s[t]);const o=this.getBBox();this.__setAttribute("height",o.y+o.height),this.updateTextAlignment()},_.createWordList=function(t){const e=[],i=t.text,n=t.style;let s,o,a,r,l=null,c=!0,d=!0,u=i.length;for(r=0;r<u;r++)s=n[r],o=i[r],c?(l={wordChunkList:[a={isNewLine:d,idStart:r,text:"",style:s}]},e.push(l),c=d=!1):s&&(a={idStart:r,text:"",style:s},l.wordChunkList.push(a)),a.text+=o,"\n"===o?c=d=!0:" "===o&&(c=!0);return e},_.renderizeWordList=function(t,e){console.log("renderizeWordList",t);const i=[],n=this.textElementUtils;let s,o,a,r,l,c,d,u=0,f=t.length,h=this.currentStyle=this.getElementStyle(this);const m=this;for(let t in h)n.setAttribute(t,h[t]);function g(){if(n.firstElementChild)for(s=n.getBBox(),o=s.height,a=0-s.y,r=o-a,h["line-height"]&&"normal"!=h["line-height"]&&(o=parseFloat(h["line-height"])),n.firstElementChild.setAttribute("dy",u+o-r),u=r;n.firstElementChild;)i.push(n.removeChild(n.firstElementChild))}for(d=0;d<f;d++)(l=t[d]).wordChunkList[0].isNewLine?(g(),c=m.renderizeWordInNewTextLine(l)):(c=this.renderizeWordInCurrentTextLine(l,e))||(g(),c=m.renderizeWordInNewTextLine(l));return g(),i},_.renderizeWordInNewTextLine=function(t){let e,i,n,s;for((n=t.wordChunkList[0]).style&&(this.currentStyle=n.style),s=this.createTSpan(n.idStart,n.text,this.currentStyle,!0,0),i=t.wordChunkList.length,e=1;e<i;e++)(n=t.wordChunkList[e]).style?(this.currentStyle=n.style,s=this.createTSpan(n.idStart,n.text,this.currentStyle,!1)):s.firstChild.data+=n.text;return this.textElementUtils.firstElementChild.lastTextLineTSpan=this.textElementUtils.lastElementChild,s},_.renderizeWordInCurrentTextLine=function(t,e){let i,n,s,o,a,r=o=this.textElementUtils.lastElementChild,l=r.firstChild.data,c=this.currentStyle;for(n=t.wordChunkList.length,i=0;i<n;i++)s=t.wordChunkList[i],"true"===this.dataset.useRichText&&s.style?(this.currentStyle=s.style,o=this.createTSpan(s.idStart,s.text,this.currentStyle,!1)):o.firstChild.data+=s.text;if(e)if((a=this.textElementUtils.getBBox().width)>e){for(;this.textElementUtils.lastElementChild!==r;)this.textElementUtils.lastElementChild.remove();r.firstChild.data=l,this.currentStyle=c,o=null}else this.textElementUtils.firstElementChild.textLineWidth=a;return this.textElementUtils.firstElementChild.lastTextLineTSpan=this.textElementUtils.lastElementChild,o},_.updateTextAlignment=function(){const t=parseFloat(this.getAttribute("width"));let e,i,n,s,o,a,r,l,c,d,u;const f=this.getAttribute("text-align");let h=0;if(a=0,this.hasAttribute("letter-spacing")&&(a=parseFloat(this.getAttribute("letter-spacing"))),"justify"===f)for(this.__setAttribute("text-anchor","start"),this.__setAttribute("text-anchor","start"),i=(u=this.querySelectorAll("tspan")).length,e=0;e<i;e++)(d=u[e]).setAttribute("lengthAdjust","spacing"),d.setAttribute("textLength",t);else"right"===f||"center"===f?this.__setAttribute("text-anchor","end"):this.__setAttribute("text-anchor","start");for(i=(u=this.querySelectorAll('tspan[x="0"]')).length,e=0;e<i;e++)d=u[e],"right"===f?(s=(n=(c=u[e].lastTextLineTSpan).firstChild.data).length,32===(o=n.charCodeAt(s-1))||10===o?(l=c.getStartPositionOfChar(s-1).x,r=a,c.hasAttribute("letter-spacing")&&(r=parseFloat(c.getAttribute("letter-spacing"))),h=t-l+r):h=t,d.setAttribute("x",h)):"center"===f?(s=(n=(c=u[e].lastTextLineTSpan).firstChild.data).length,32===(o=n.charCodeAt(s-1))||10===o?(l=c.getStartPositionOfChar(s-1).x,r=a,c.hasAttribute("letter-spacing")&&(r=parseFloat(c.getAttribute("letter-spacing"))),h=t/2+Math.abs(l)/2+r/2):h=t/2,d.setAttribute("x",h)):"justify"===f&&(s=(n=(c=u[e].lastTextLineTSpan).firstChild.data).length,32!==(o=n.charCodeAt(s-1))&&10!==o||(l=Math.abs(c.getStartPositionOfChar(s-1).x),r=a,c.hasAttribute("letter-spacing")&&(r=parseFloat(c.getAttribute("letter-spacing"))),d.setAttribute("textLength",t+(t-l)+r)));"center"===f&&this.__setAttribute("text-anchor","middle")},_.createTSpan=function(t,e,i,n,s){var o=document.createElementNS(SVGSVGElement.SVG_NS,"tspan");if(o.dataset.startOffset=t,o.setAttribute("style","white-space: pre;"),o.appendChild(XMLUtils.createCDATASection(e)),"true"===this.dataset.useRichText&&i)for(var a in i)o.setAttribute(a,i[a]);return n&&(o.setAttribute("x","0"),o.setAttribute("dy",s)),this.textElementUtils.appendChild(o),o};const SVG_TAG_ATTRIBUTES={meta:["xmlns:jvs","name"],"jvs:property":["value","name"],"jvs:data":["xmlns:jvs"],link:["xmlns","rel","type","href"],style:[],"#cdata-section":[],"*":["name","class","id","tabindex","fill","fill-opacity","fill-rule","vector-effect","stroke","stroke-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-width","filter","marker-end","marker-mid","marker-start","mask","clip-path","opacity","style","transform","preserveAspectRatio","paint-order","locked","data-width","data-height"],a:["href","xlink:href","target"],circle:["cx","cy","r"],clipPath:[],defs:[],desc:[],ellipse:["cx","cy","rx","ry"],feBlend:["in","in2","mode","result"],feColorMatrix:["in","type","values","result"],feComponentTransfer:["in","result"],feComposite:["in","in2","k1","k2","k3","k4","result","operator"],feConvolveMatrix:[],feDiffuseLighting:["lighting-color","diffuseConstant","surfaceScale","result"],feDisplacementMap:["in","in2","scale","xChannelSelector","yChannelSelector","result"],feDistantLight:["azimuth","elevation","result"],feDropShadow:["dx","dy","stdDeviation","result"],feFlood:["flood-color","flood-opacity","result"],feFuncA:["amplitude","exponent","intercept","offset","slope","tableValues","type","result"],feFuncB:["amplitude","exponent","intercept","offset","slope","tableValues","type","result"],feFuncG:["amplitude","exponent","intercept","offset","slope","tableValues","type","result"],feFuncR:["amplitude","exponent","intercept","offset","slope","tableValues","type","result"],feGaussianBlur:["in","stdDeviation","endgeMode","result"],feImage:["xlink:href","href","width","height","x","y","preserveAspectRatio","result"],feMerge:["result"],feMergeNode:["in","result"],feMorphology:["in","operator","radius","result"],feOffset:["in","dx","dy","result"],fePointLight:["x","y","z","result"],feSpecularLighting:["specularExponent","specularConstant","surfaceScale","lighting-color","result","in"],feSpotLight:["limitingConeAngle","pointsAtX","pointsAtY","pointsAtZ","specularExponent","x","y","z","result"],feTile:["in","width","height","x","y","result"],feTurbulence:["baseFrequency","numOctaves","seed","stitchTiles","result"],filter:["filterUnits","primitiveUnits","width","height","x","y"],foreignObject:["height","width","x","y"],g:[],iframe:["src","height","width","frameborder","xmlns","allow"],div:[],br:[],pre:["style"],span:["style"],image:["height","href","xlink:href","width","x","y"],line:["x1","x2","y1","y2"],linearGradient:["gradientTransform","gradientUnits","href","xlink:href","spreadMethod","x1","x2","y1","y2"],marker:["markerHeight","markerUnits","markerWidth","viewBox","overflow","orient","refX","refY"],mask:["maskContentUnits","maskUnits","height","width","mask-type","x","y"],path:["d"],pattern:["height","patternContentUnits","patternTransform","patternUnits","viewBox","width","height","href","xlink:href","x","y"],polygon:["points"],polyline:["points"],radialGradient:["cx","cy","fr","fx","fy","gradientTransform","gradientUnits","href","xlink:href","r","spreadMethod"],rect:["height","rx","ry","width","x","y"],script:["xlink:href","href","type"],stop:["offset","stop-color","stop-opacity"],svg:["height","viewBox","width","x","y","xmlns","xmlns:xlink"],switch:[],symbol:["height","viewBox","width","x","y","refX","refY","overflow"],text:["alignment-baseline","baseline-shift","direction","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","kerning","lengthAdjust","letter-spacing","lighting-color","line-height","text-anchor","text-decoration","text-rendering","textLength","text-align","unicode-bidi","word-spacing","width","height","x","y"],textArea:[],textPath:["method","side","spacing","startOffset","href","xlink:href"],title:[],tspan:["alignment-baseline","baseline-shift","direction","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","kerning","lengthAdjust","letter-spacing","lighting-color","line-height","text-anchor","text-decoration","text-rendering","textLength","unicode-bidi","word-spacing","dx","dy","rotate","x","y"],use:["href","xlink:href","height","viewBox","width","x","y","refX","refY"]};class GeometryUtils{static getArcCenter(t,e,i,n,s,o,a,r,l){var c,d,u,f=function(t,e,i){return{x:t*Math.cos(i)-e*Math.sin(i),y:t*Math.sin(i)+e*Math.cos(i)}},h=(c=a,Math.PI*c/180),m=f(t,e,-h);t=m.x,e=m.y;var g=f(i,n,-h),p=(t-(i=g.x))/2,v=(e-(n=g.y))/2,y=p*p/(s*s)+v*v/(o*o);y>1&&(s*=y=Math.sqrt(y),o*=y);var b=s*s,A=o*o,x=b*A-b*v*v-A*p*p,S=b*v*v+A*p*p,w=(r===l?-1:1)*Math.sqrt(Math.abs(x/S));return d=w*s*v/o+(t+i)/2,u=w*-o*p/s+(e+n)/2,SVGUtils.createSVGPoint(d,u)}static getClosestPointToEllipse(t,e,i){let n,s,o,a,r,l,c,d,u,f,h=Math.abs(t.x),m=Math.abs(t.y),g=e,p=i,v=.70710678118,y=.70710678118,b=0;for(let t=0;t<3;++t)r=(n=g*v)-(o=v*v*v*(g*g-p*p)/g),l=(s=p*y)-(a=y*y*y*(p*p-g*g)/p),c=h-o,d=m-a,u=Math.sqrt(r*r+l*l),f=Math.sqrt(d*d+c*c),v=Math.min(1,Math.max(0,(c*u/f+o)/g)),y=Math.min(1,Math.max(0,(d*u/f+a)/p)),v/=b=Math.sqrt(v*v+y*y),y/=b;return{x:g*(t.x<0?-v:v),y:p*(t.y<0?-y:y)}}static fillet(t,e,i,n){const s=GeometryUtils.getPolygonArea([t,e,i]);if(s<0){const e=t;t=i,i=e}let o=GeometryUtils.getSegmentAngle(e,t),a=GeometryUtils.getSegmentAngle(e,i),r=a-o,l=a-r/2;r>0&&(l+=Math.PI);let c=Math.abs(n/Math.sin(r/2));const d=e.add(SVGUtils.createSVGPoint(Math.cos(l)*c,Math.sin(l)*c));return{startAngle:o/(Math.PI/180)+90,endAngle:a/(Math.PI/180)-90,center:d,radius:n,area:s}}static getPolygonArea(t){let e,i,n=0;const s=t.length;for(e=0;e<s;e++)i=(e+1)%s,n+=t[e].x*t[i].y,n-=t[e].y*t[i].x;return n/=2}static getCurveBounds(t,e,i,n,s,o,a,r,l=40){let c,d,u,f,h,m,g,p,v,y,b,A,x,S,w,P,E,k,L,D,C,T,M,_,G,O,N,R;G=O=Number.POSITIVE_INFINITY,N=R=Number.NEGATIVE_INFINITY,b=i-t,A=n-e,x=s-i,S=o-n,w=a-s,P=r-o;const U=1/l;for(let a=0;a<1.001;a+=U)M=(g=(c=t+a*b)+a*(E=(u=i+a*x)-c))+a*(C=(v=u+a*(L=(h=s+a*w)-u))-g),_=(p=(d=e+a*A)+a*(k=(f=n+a*S)-d))+a*(T=(y=f+a*(D=(m=o+a*P)-f))-p),G=Math.min(G,M),O=Math.min(O,_),N=Math.max(N,M),R=Math.max(R,_);return{x:G,y:O,width:N-G,height:R-O}}static bezierMinMax(t,e,i,n,s,o,a,r){let l,c,d,u,f,h,m,g,p=[],v=[],y=[];for(let v=0;v<2;++v)if(0===v?(c=6*t-12*i+6*s,l=-3*t+9*i-9*s+3*a,d=3*i-3*t):(c=6*e-12*n+6*o,l=-3*e+9*n-9*o+3*r,d=3*n-3*e),Math.abs(l)<1e-12){if(Math.abs(c)<1e-12)continue;0<(u=-d/c)&&u<1&&p.push(u)}else(m=c*c-4*d*l)<0?Math.abs(m)<1e-12&&0<(u=-c/(2*l))&&u<1&&p.push(u):(0<(f=(-c+(g=Math.sqrt(m)))/(2*l))&&f<1&&p.push(f),0<(h=(-c-g)/(2*l))&&h<1&&p.push(h));let b,A=p.length;for(;A--;)b=1-(u=p[A]),v[A]=b*b*b*t+3*b*b*u*i+3*b*u*u*s+u*u*u*a,y[A]=b*b*b*e+3*b*b*u*n+3*b*u*u*o+u*u*u*r;return v.push(t,a),y.push(e,r),{min:{x:Math.min.apply(0,v),y:Math.min.apply(0,y)},max:{x:Math.max.apply(0,v),y:Math.max.apply(0,y)}}}static getCircleTangentPoints(t,e,i){let n,s,o,a,r,l,c,d;return n=e.x-t.x,s=e.y-t.y,o=Math.sqrt(n*n+s*s),a=Math.asin(i/o),l=(r=Math.atan2(s,n))-a,(c={x:i*Math.sin(l),y:i*-Math.cos(l)}).x+=e.x,c.y+=e.y,l=r+a,(d={x:i*-Math.sin(l),y:i*Math.cos(l)}).x+=e.x,d.y+=e.y,{t1:c,t2:d}}static lineOffset(t,e,i){let n=t.getAngleFromPoint(e)+Math.PI/2,s=SVGUtils.createSVGPointPolar(i,n);return{pt1:t.add(s),pt2:e.add(s)}}static getSegmentAngle(t,e,i){return Math.atan2(e.y-t.y,e.x-t.x)}static getAngleBetweenTwoLine(t,e,i,n,s,o,a,r){var l=i-t,c=n-e,d=a-s,u=r-o,f=Math.atan2(l*u-c*d,l*d+c*u);return f<0&&(f*=-1),f}static getOffsetPoint(t,e,i,n){let s,o,a,r,l;return s=GeometryUtils.getSegmentAngle(e,t),a=(o=GeometryUtils.getSegmentAngle(e,i))-s,Math.abs(a)<.01?(r=o,l=Math.abs(n/Math.sin(o/2)),a>0&&(r+=Math.PI)):(r=o-a/2,a>0&&(r+=Math.PI),l=Math.abs(n/Math.sin(a/2))),n<0&&(l=0-l),SVGUtils.createSVGPoint(Math.cos(r)*l,Math.sin(r)*l)}static getPolygonOffset(t,e,i){const n=[];let s;if(!0===i)s=GeometryUtils.getOffsetPoint(t[t.length-2],t[0],t[1],e);else{const i=GeometryUtils.getSegmentAngle(t[0],t[1]);s=SVGUtils.createSVGPoint(Math.cos(i+Math.PI/2)*e,Math.sin(i+Math.PI/2)*e)}n.push(SVGUtils.createSVGPoint(t[0].x+s.x,t[0].y+s.y));const o=t.length-2;for(let i=0;i<o;i++)s=GeometryUtils.getOffsetPoint(t[i],t[i+1],t[i+2],e),n.push(SVGUtils.createSVGPoint(t[i+1].x+s.x,t[i+1].y+s.y));if(!0===i)s=GeometryUtils.getOffsetPoint(t[o],t[t.length-1],t[1],e);else{const i=GeometryUtils.getSegmentAngle(t[t.length-2],t[t.length-1]);s=SVGUtils.createSVGPoint(Math.cos(i+Math.PI/2)*e,Math.sin(i+Math.PI/2)*e)}return n.push(SVGUtils.createSVGPoint(t[t.length-1].x+s.x,t[t.length-1].y+s.y)),n}static isPointInPoly(t,e){let i=!1;const n=t.length;for(let s=-1,o=n-1;++s<n;o=s)(t[s].y<=e.y&&e.y<t[o].y||t[o].y<=e.y&&e.y<t[s].y)&&e.x<(t[o].x-t[s].x)*(e.y-t[s].y)/(t[o].y-t[s].y)+t[s].x&&(i=!i);return i}static outsetBBox(t,e){return t.min.x-=e,t.min.y-=e,t.max.x+=e,t.max.y+=e,t}static insetBBox(t,e){return t.min.x+=e,t.min.y+=e,t.max.x-=e,t.max.y-=e,t}static isPointSnappedTo(t,e,i){return t.x>e.x-i&&t.x<e.x+i&&t.y>e.y-i&&t.y<e.y+i}static isPointRect(t,e){return t.x>e.left&&t.x<e.right&&t.y>e.top&&t.y<e.bottom}static getClosestPointToCircle(t,e,i){const n=t.x-e.x,s=t.y-e.y,o=Math.sqrt(n*n+s*s);return{x:e.x+n/o*i,y:e.y+s/o*i}}static getCircleCircleIntersection(t,e,i,n,s,o){var a,r,l,c,d,u,f,h,m;return r=n-t,l=s-e,!((c=Math.sqrt(l*l+r*r))>i+o)&&(!(c<Math.abs(i-o))&&(m=e+l*(a=(i*i-o*o+c*c)/(2*c))/c,{intersection1:{x:(h=t+r*a/c)+(u=(d=Math.sqrt(i*i-a*a))/c*-l),y:m+(f=r*(d/c))},intersection2:{x:h-u,y:m-f}}))}static getLineCircleIntersection(t,e,i,n){function s(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function o(t,e,i){return s(t,i)+s(i,e)===s(t,e)}const a=Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)),r=[(e.x-t.x)/a,(e.y-t.y)/a],l=r[0]*(i.x-t.x)+r[1]*(i.y-t.y),c={coords:[],onLine:!1};c.coords[0]=l*r[0]+t.x,c.coords[1]=l*r[1]+t.y;const d=Math.sqrt(Math.pow(c.coords[0]-i.x,2)+Math.pow(c.coords[1]-i.y,2));if(d<n){const i=Math.sqrt(Math.pow(n,2)-Math.pow(d,2)),s={coords:[],onLine:!1};s.coords[0]=(l-i)*r[0]+t.x,s.coords[1]=(l-i)*r[1]+t.y,s.onLine=o(t,e,s.coords);const a={coords:[],onLine:!1};return a.coords[0]=(l+i)*r[0]+t.x,a.coords[1]=(l+i)*r[1]+t.y,a.onLine=o(t,e,a.coords),{points:{intersection1:s,intersection2:a},pointOnLine:c}}return parseInt(d),parseInt(n),{points:!1,pointOnLine:c}}static getClosestPointToLine(t,e,i,n){const s=e.x-t.x,o=e.y-t.y,a=s*s+o*o;let r,l=(i.x-t.x)*s+(i.y-t.y)*o;return r=n?Math.min(1,Math.max(0,l/a)):l/a,l=(e.x-t.x)*(i.y-t.y)-(e.y-t.y)*(i.x-t.x),{point:{x:t.x+s*r,y:t.y+o*r},left:l<1,dot:l,t:r}}static isPointOnLine(t,e,i,n){const s=GeometryUtils.getClosestPointToLine(t,e,i);return Math.abs(i.x-s.point.x)<n&&Math.abs(i.y-s.point.y)<n&&s.point}static isPointOverSegment(t,e,i,n,s=!0){const o=GeometryUtils.getClosestPointToLine(t,e,i,s);return Math.abs(i.x-o.point.x)<n&&Math.abs(i.y-o.point.y)<n&&o.point}static calcNearestPointOnLine(t,e,i){const n=(e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y);if(0===n)return!1;const s=((i.x-t.x)*(e.x-t.x)+(i.y-t.y)*(e.y-t.y))/n;return{x:t.x+s*(e.x-t.x),y:t.y+s*(e.y-t.y)}}static calcDistancePointToLine(t,e,i){const n=(e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y);if(0===n)return!1;const s=((t.y-i.y)*(e.x-t.x)-(t.x-i.x)*(e.y-t.y))/n;return Math.abs(s)*Math.sqrt(n)}static calcIsInsideLineSegment(t,e,i){const n=(e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y);if(0===n)return!1;const s=((i.x-t.x)*(e.x-t.x)+(i.y-t.y)*(e.y-t.y))/n;return 0<=s&&s<=1}static calcIsInsideThickLineSegment(t,e,i,n){const s=(e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y);if(0===s)return!1;const o=((i.x-t.x)*(e.x-t.x)+(i.y-t.y)*(e.y-t.y))/s;if(o<0)return Math.sqrt((t.x-i.x)*(t.x-i.x)+(t.y-i.y)*(t.y-i.y))<=n;if(0<=o&&o<=1){const o=((t.y-i.y)*(e.x-t.x)-(t.x-i.x)*(e.y-t.y))/s;return Math.abs(o)*Math.sqrt(s)<=n}return Math.sqrt((e.x-i.x)*(e.x-i.x)+(e.y-i.y)*(e.y-i.y))<=n}static getLineLineIntersection(t,e,i,n,s){if(s){let s,o,a,r,l,c,d,u,f;return r=n.x-i.x,l=n.y-i.y,c=e.x-t.x,d=e.y-t.y,s=r*(u=t.y-i.y)-l*(f=t.y-i.y),o=c*u-d*f,o/=a=l*c-r*d,(s/=a)>=0&&s<=1&&o>=0&&o<=1?(o=t.y+s*d,{x:s=t.x+s*c,y:o}):null}{let s,o,a,r,l,c;s=e.y-t.y,a=t.x-e.x,l=e.x*t.y-t.x*e.y,o=n.y-i.y,r=i.x-n.x,c=n.x*i.y-i.x*n.y;const d=s*r-o*a;return 0===d?null:SVGUtils.createSVGPoint((a*c-r*l)/d,(o*l-s*c)/d)}}static isLineLineOverlap(t,e,i,n,s,o,a,r){let l,c,d;return 0!==(l=(i-t)*(r-o)-(a-s)*(n-e))&&(c=((e-n)*(a-t)+(i-t)*(r-e))/l,0<(d=((r-o)*(a-t)+(s-a)*(r-e))/l)&&d<1&&0<c&&c<1)}static getPolygonLineIntersection(t,e,i){let n;const s=t.length-1;for(let o=0;o<s;o++)if(n=GeometryUtils.isLineLineOverlap(t[o].x,t[o].y,t[o+1].x,t[o+1].y,e.x,e.y,i.x,i.y))return!0;return!1}static getAngleBetweenPoints(t,e,i,n){const s={x:t.x-e.x,y:t.y-e.y};let o=Math.atan2(s.y,s.x);if(n&&(o-=n),i){o=Math.round(o/i)*i}for(;o<0;)o+=2*Math.PI;return o}static getElementListGlobalBBox(t){if(0===t.length)return;const e=t[0].getGlobalBBox(),i={x:e.x,y:e.y},n={x:e.x+e.width,y:e.y+e.height};let s,o;for(let e=1;e<t.length;e++)a=t[e].getGlobalBBox(),s=a.x+a.width,o=a.y+a.height,a.x<i.x&&(i.x=a.x),a.y<i.y&&(i.y=a.y),s>n.x&&(n.x=s),o>n.y&&(n.y=o);var a;return e.min=i,e.max=n,e.x=i.x,e.y=i.y,e.width=n.x-i.x,e.height=n.y-i.y,e.center={x:e.x+e.width/2,y:e.y+e.height/2},e}static getBBoxPointByLocationName(t,e){const i=(t=t||"left-top").split("-"),n=SVGUtils.createSVGPoint();switch(i[0]){case"left":n.x=e.x;break;case"center":n.x=e.x+e.width/2;break;case"right":n.x=e.x+e.width}switch(i[1]){case"top":n.y=e.y;break;case"center":n.y=e.y+e.height/2;break;case"bottom":n.y=e.y+e.height}return n}static areElementsInEqualParent(t){if(0===t.length)return!1;const e=t[0].parentElement,i=t.length;let n;for(n=0;n<i;n++)if(t[n].parentElement!==e)return!1;return!0}static parseTransformString(t){const e={rotate:{value:0,x:0,y:0},scale:{x:1,y:1}};if(!t)return e;let i,n,s,o,a;return(i=t.indexOf("rotate"))>-1&&(n=t.indexOf("(",i+6),s=t.indexOf(")",n),o=t.substring(n+1,s),e.rotate={value:0,x:0,y:0},(a=o.split(","))[0]&&(e.rotate.value=parseFloat(a[0])),a[1]&&(e.rotate.x=parseFloat(a[1])),a[2]&&(e.rotate.y=parseFloat(a[2]))),(i=t.indexOf("scale"))>-1&&(n=t.indexOf("(",i+5),s=t.indexOf(")",n),o=t.substring(n+1,s),e.scale={x:1,y:1},(a=o.split(","))[0]&&(e.scale.x=parseFloat(a[0])),a[1]&&(e.scale.y=parseFloat(a[1]))),e}static getClosestPointToCubicBezier(t,e,i,n,s,o,a,r,l,c,d=0,u=1,f=80){const h=(u-d)/f;let m,g,p,v,y,b,A,x=0,S=Number.POSITIVE_INFINITY,w=d;for(;w<=u;)p=(m=(1-w)*(1-w)*(1-w)*i+3*(1-w)*(1-w)*w*s+3*(1-w)*w*w*a+w*w*w*l)-t,v=(g=(1-w)*(1-w)*(1-w)*n+3*(1-w)*(1-w)*w*o+3*(1-w)*w*w*r+w*w*w*c)-e,(A=(p*=p)+(v*=v))<S&&(S=A,x=w,y=m,b=g),w+=h;return{x:y,y:b,t:w,best:x,tick:h,slices:f}}static getClosestPointToQuadraticBezier(t,e,i,n,s,o,a,r,l=0,c=1,d=80){const u=(c-l)/d;let f,h,m,g,p,v,y,b=0,A=Number.POSITIVE_INFINITY,x=l;for(;x<=c;)m=(f=(1-x)*(1-x)*i+2*(1-x)*x*s+x*x*a)-t,g=(h=(1-x)*(1-x)*n+2*(1-x)*x*o+x*x*r)-e,(y=(m*=m)+(g*=g))<A&&(A=y,b=x,p=f,v=h),x+=u;return{x:p,y:v,t:x,best:b,tick:u,slices:d}}}function DeleteTextData_action(t){this.textElement=null,this.offset=0,this.replaceCharNum=0,this.updateDocumentSelection=!0}function InsertTextData_action(t){this.textElement=null,this.textData=null,this.replaceCharNum=0,this.updateDocumentSelection=!0}function SetTextDataStyle_action(t){this.textElement=null,this.textDataStyle=null,this.updateDocumentSelection=!0}GeometryUtils.unitProperty={PIXEL:{unitName:"px",gridStep:1,drawingScale:1,unitValue:1,fixedDecimals:0},KILOMETER:{unitName:"km",gridStep:.37795275595312794,drawingScale:1e3,unitValue:2645833333e-15,fixedDecimals:3},METER:{unitName:"m",gridStep:1.8897637797656397,drawingScale:20,unitValue:.0002645833333,fixedDecimals:2},CENTIMETER:{unitName:"cm",gridStep:.18897637797656397,drawingScale:20,unitValue:.02645833333,fixedDecimals:2},MILLIMETER:{unitName:"mm",gridStep:3.779527559531279,drawingScale:1,unitValue:.2645833333,fixedDecimals:0},FEET:{unitName:"ft",gridStep:1.152014513568638,drawingScale:10,unitValue:.0008680446194226,fixedDecimals:2},INCH:{unitName:"in",gridStep:9.59999996928,drawingScale:1,unitValue:.0104166667,fixedDecimals:2},YARD:{unitName:"yd",gridStep:.34560435407059137,drawingScale:100,unitValue:.0002893482064742,fixedDecimals:2},MILE:{unitName:"mi",gridStep:.06082636631640895,drawingScale:1e5,unitValue:1.644023900422e-7,fixedDecimals:3},NAUTICAL_MILE:{unitName:"nm",gridStep:.6999773225490207,drawingScale:1e5,unitValue:1.428617710583e-7,fixedDecimals:3}},_=DeleteTextData_action.prototype,_.execute=function(){this.textElement.deleteTextData(this.offset,this.replaceCharNum);var t=this;this.textElement.renderRequest(null,function(){t.onExecuteEnd()})},_.onExecuteEnd=function(){activeApplication.activeDocument.onChange(),this.updateDocumentSelection&&(this.textElement.hasAttribute("contenteditable")?this.textElement.setCaretPosition(this.offset):(activeApplication.activeDocument.deselectAll(),activeApplication.workspace.update()))},_.setDeleteTextDataProperties=function(t,e,i){this.textElement=t,this.offset=e,this.replaceCharNum=i},_=InsertTextData_action.prototype,_.execute=function(){this.textElement.insertTextData(this.textData.offset,this.textData,this.replaceCharNum);var t=this;this.textElement.renderRequest(null,function(){t.onExecuteEnd()})},_.onExecuteEnd=function(){activeApplication.activeDocument.onChange(),this.updateDocumentSelection&&(this.textElement.hasAttribute("contenteditable")?this.textElement.setCaretPosition(this.textData.offset+this.textData.text.length):(activeApplication.activeDocument.deselectAll(),activeApplication.workspace.update()))},_.setInsertTextDataProperties=function(t,e,i){this.textElement=t,this.textData=e,this.replaceCharNum=i},_=SetTextDataStyle_action.prototype,_.execute=function(){for(var t=this.textDataStyle.length,e=0;e<t;e++)this.textElement.textData.style[this.textDataStartOffset+e]=this.textDataStyle[e];this.textElement.renderRequest(),this.onExecuteEnd()},_.onExecuteEnd=function(){activeApplication.activeDocument.onChange(),this.updateDocumentSelection&&(this.textElement.hasAttribute("contenteditable")||(activeApplication.activeDocument.selectElementList([this.textElement]),activeApplication.workspace.update()))},_.setTextDataStyleRange=function(t,e,i){var n,s,o;this.textElement=t,this.textDataStartOffset=e,this.maxChars=i-this.textDataStartOffset,this.textDataStyle=new Array(this.maxChars);for(var a=0;a<=this.maxChars;a++)if(n=this.textElement.textData.style[this.textDataStartOffset+a]){for(o in s={},n)s[o]=n[o];this.textDataStyle[a]=s}};class ButtonsPanel_cmp extends PopUpPanel{constructor(){super(),XOS.connectDomEvents(this.querySelectorAll("[data-event]"),this)}onClickOnToolButton(t){const e=t.target.dataset.toolName;activeApplication.setActiveTool(e),PopUpPanel.deactivateAllPopUpPanels()}}customElements.define("buttons-panel",ButtonsPanel_cmp);class PageListInspector_cmp extends PopUpPanel{constructor(){super(),this.pageViewList=this.querySelector(".itemList"),this.pageViewTemplate=this.pageViewList.querySelector("li"),this.pageViewList.removeChildren(),XOS.connectDomEvents(this.querySelectorAll("[data-event]"),this)}update(){this.drawPageList()}drawPageList(){const t=activeApplication.activeDocument.pageList.children;let e,i,n;this.pageViewList.removeChildren();const s=t.length;for(let o=0;o<s;o++)n=t[o],(e=this.pageViewTemplate.cloneNode(!0)).pageRef=n,(i=activeApplication.activeDocument.getPagePreview(n)).classList.add("dropShadow"),e.querySelector(".page-preview").appendChild(i),e.querySelector(".label").innerHTML=String(o+1),e.pageRef.hasAttribute("id")?e.querySelector(".label").innerHTML=e.pageRef.getAttribute("id"):e.querySelector(".label").innerHTML=String(o+1),this.pageViewList.appendChild(e),n.classList.contains("showed")?(e.classList.add("selected"),e.classList.add("active")):(e.classList.remove("selected"),e.classList.remove("active"))}updatePageNumber(){const t=this.pageViewList.children,e=t.length;let i,n;for(i=0;i<e;i++)(n=t[i]).pageRef.hasAttribute("id")?n.querySelector(".label").innerHTML=n.pageRef.getAttribute("id"):n.querySelector(".label").innerHTML=String(i+1)}onClick_menu(t){const e=t.target,i=document.querySelector("#POP_UP_MENUS>#"+e.dataset.menuActivator);i&&i.activateBy(e)}onClick_newPage(){const t=activeApplication.activeDocument.createNewPage();activeApplication.activeDocument.setActivePage(t),this.drawPageList(),this.adjustPosition()}onClick_removePage(){const t=this.pageViewList.querySelectorAll(".selected");if(t.length===this.pageViewList.children.length)return void document.querySelector("alert-dialog").open("Invalid operation","You can not remove all pages from the document.");const e=this;document.querySelector("confirm-dialog").open("Confirm","Are you sure you want to remove the selected pages?",function(){for(let e=0;e<t.length;e++)t[e].pageRef.remove();activeApplication.activeDocument.setActivePage(activeApplication.activeDocument.pageList.firstElementChild),e.drawPageList(),this.close()})}onClick_bringPageUp(){const t=this.pageViewList.querySelector(".selected");t.sendDown(),t.pageRef.sendDown(),this.updatePageNumber()}onClick_sendPageDown(){var t=this.pageViewList.querySelector(".selected");t.bringUp(),t.pageRef.bringUp(),this.updatePageNumber()}onClickItemList(t){if("UL"===t.target.nodeName){const t=this.pageViewList.querySelectorAll(".selected:not(.active)");for(let e=0;e<t.length;e++)t[e].classList.remove("selected");return}const e=t.target.closest("li");e.classList.contains("selected")?t.shiftKey?XOS.deselectElement(e):(e.applyClass("active"),activeApplication.activeDocument.setActivePage(e.pageRef)):t.shiftKey?XOS.selectElement(e,"add"):(XOS.selectElement(e,"unique"),e.applyClass("active"),activeApplication.activeDocument.setActivePage(e.pageRef))}onCopy(t){const e=activeApplication.activeDocument;e.activePage;e.exitFrom_AllIsolateLayerEditing();const i=this.pageViewList.querySelectorAll(".selected"),n=[];for(let t=0;t<i.length;t++)n.push(i[t].pageRef);const s=(new DocumentSerializer).serialize(activeApplication.activeDocument,{pageList:n});t.clipboardData.setData("text/plain",(new XMLSerializer).serializeToString(s)),t.preventDefault()}onCut(t){const e=this.pageViewList.querySelectorAll(".selected");if(e.length!==this.pageViewList.children.length){this.onCopy(t);for(let t=0;t<e.length;t++)e[t].pageRef.remove();activeApplication.activeDocument.setActivePage(activeApplication.activeDocument.pageList.firstElementChild),this.drawPageList()}else document.querySelector("alert-dialog").open("Invalid operation","You can not remove all pages from the document.")}}customElements.define("page-list-inspector",PageListInspector_cmp);class RectangularTransformInspector_cmp extends HTMLElement{constructor(){super(),PANELS[this.nodeName.toLowerCase()]=this,this.bboxPivotLocationName="left-top",this.isLocalMode=!0,this.controlledElements=XOS.connectDomEvents(this.querySelectorAll("[data-event]"),this)}update(){const t=activeApplication.activeDocument,e=t.activePage,i=e.focusedElement;let n,s;if(this.isLocalMode=1===e.selectionList.length,this.isLocalMode){n=activeApplication.workspace.bboxInteraction2D.selectionBBox||i.getLocalBBox();const e=i.getTransform().matrix.decompose();this.controlledElements.rotation.value=t.valueToFixed(e.rotation*(180/Math.PI))+" °",this.controlledElements.sizeX.value=t.valueToUnit(n.width*e.scaleX),this.controlledElements.sizeY.value=t.valueToUnit(n.height*e.scaleY),s=GeometryUtils.getBBoxPointByLocationName(this.bboxPivotLocationName,n).matrixTransform(i.getTransformToElement(i.parentElement)),i.parentElement.classList.contains("layer")&&(s.x-=t.preferences.origin.x,s.y-=t.preferences.origin.y),this.controlledElements.positionX.value=t.valueToUnit(s.x),this.controlledElements.positionY.value=t.valueToUnit(s.y),this.controlledElements.scaleTo.value="100 %",this.controlledElements.scaleX.value=t.valueToFixed(100*e.scaleX)+" %",this.controlledElements.scaleY.value=t.valueToFixed(100*e.scaleY)+" %",this.controlledElements.skewX.value=t.valueToFixed(e.skewX)+" °",this.controlledElements.skewY.value=t.valueToFixed(e.skewY)+" °";const o=i.getCTM().getRotation();this.controlledElements["pivot-display"].querySelector(".bbox").setAttribute("style","transform:rotate("+o+"deg)")}else{n=activeApplication.workspace.bboxInteraction2D.selectionBBox||GeometryUtils.getElementListGlobalBBox(e.selectionList);const i=e.content.getCTM().inverse();n.min=SVGUtils.createSVGPoint(n.min.x,n.min.y).matrixTransform(i),n.max=SVGUtils.createSVGPoint(n.max.x,n.max.y).matrixTransform(i),n.min.x-=t.preferences.origin.x,n.min.y-=t.preferences.origin.y,n.max.x-=t.preferences.origin.x,n.max.y-=t.preferences.origin.y,n.x=n.min.x,n.y=n.min.y,n.width=n.max.x-n.min.x,n.height=n.max.y-n.min.y,s=GeometryUtils.getBBoxPointByLocationName(this.bboxPivotLocationName,n),this.controlledElements.positionX.value=t.valueToUnit(s.x),this.controlledElements.positionY.value=t.valueToUnit(s.y),this.controlledElements.sizeX.value=t.valueToUnit(n.width),this.controlledElements.sizeY.value=t.valueToUnit(n.height),this.controlledElements.rotation.value="0 °",this.controlledElements.scaleX.value="100 %",this.controlledElements.scaleY.value="100 %",this.controlledElements.skewX.value="0 °",this.controlledElements.skewY.value="0 °",this.controlledElements["pivot-display"].querySelector(".bbox").setAttribute("style","transform:rotate(0deg)")}XOS.deselectElement(this.controlledElements["mantain-aspect-ratio-button"]),this.isLocalMode?"true"===e.selectionList[0].dataset.mantainAspectRatio&&XOS.selectElement(this.controlledElements["mantain-aspect-ratio-button"]):!0===t.preferences.mantainAspectRatio&&XOS.selectElement(this.controlledElements["mantain-aspect-ratio-button"])}setInputPropertyFocus(t){this.controlledElements[t].select()}onClick_pivot(t){XOS.selectElement(t.target),this.bboxPivotLocationName=t.target.getAttribute("id"),this.update()}onChange_positionX(t){const e=activeApplication.activeDocument,i=e.activePage;let n,s=Math.evalExpression(t.target.value);if(!isNaN(s)){if(s=e.unitToValue(s),this.isLocalMode){const t=i.selectionList[0];s-=(n=GeometryUtils.getBBoxPointByLocationName(this.bboxPivotLocationName,t.getLocalBBox()).matrixTransform(t.getTransformToElement(t.parentElement))).x,t.parentElement.classList.contains("layer")&&(s+=e.preferences.origin.x)}else{n=GeometryUtils.getBBoxPointByLocationName(this.bboxPivotLocationName,GeometryUtils.getElementListGlobalBBox(i.selectionList)),s=SVGUtils.createSVGPoint(s+e.preferences.origin.x,0).matrixTransform(i.content.getCTM()).x-n.x}e.translateElementList_undable(i.selectionList,s,0,this.isLocalMode)}}onChange_positionY(t){const e=activeApplication.activeDocument,i=e.activePage;let n,s=Math.evalExpression(t.target.value);if(!isNaN(s)){if(s=e.unitToValue(s),this.isLocalMode){const t=i.selectionList[0];s-=(n=GeometryUtils.getBBoxPointByLocationName(this.bboxPivotLocationName,t.getLocalBBox()).matrixTransform(t.getTransformToElement(t.parentElement))).y,t.parentElement.classList.contains("layer")&&(s+=e.preferences.origin.y)}else{n=GeometryUtils.getBBoxPointByLocationName(this.bboxPivotLocationName,GeometryUtils.getElementListGlobalBBox(i.selectionList)),s=SVGUtils.createSVGPoint(0,s+e.preferences.origin.y).matrixTransform(i.content.getCTM()).y-n.y}e.translateElementList_undable(i.selectionList,0,s,this.isLocalMode)}}onChange_sizeX(t){this.applySizeX(t.target.value)}applySizeX(t){let e=Math.evalExpression(t);if(isNaN(e))return;if(0===e)return;const i=activeApplication.activeDocument,n=i.activePage;let s,o,a;e=i.unitToValue(e),this.isLocalMode?(s=n.selectionList[0].getLocalBBox(),o=(o=GeometryUtils.getBBoxPointByLocationName(this.bboxPivotLocationName,s)).matrixTransform(n.selectionList[0].getCTM())):(s=GeometryUtils.getElementListGlobalBBox(n.selectionList),o=GeometryUtils.getBBoxPointByLocationName(this.bboxPivotLocationName,s),a=n.content.getCTM().inverse(),s.min=SVGUtils.createSVGPoint(s.min.x,s.min.y).matrixTransform(a),s.max=SVGUtils.createSVGPoint(s.max.x,s.max.y).matrixTransform(a),s.width=s.max.x-s.min.x,s.height=s.max.y-s.min.y);let r=e/s.width,l=1;this.isLocalMode?"true"===n.selectionList[0].dataset.mantainAspectRatio&&(l=r):!0===i.preferences.mantainAspectRatio&&(l=r),i.scaleElementList_undable(n.selectionList,r,l,o,this.isLocalMode)}onChange_sizeY(t){this.applySizeY(t.target.value)}applySizeY(t){let e=Math.evalExpression(t);if(isNaN(e))return;if(0===e)return;const i=activeApplication.activeDocument,n=i.activePage;let s,o,a;e=i.unitToValue(e),this.isLocalMode?(s=n.selectionList[0].getLocalBBox(),o=(o=GeometryUtils.getBBoxPointByLocationName(this.bboxPivotLocationName,s)).matrixTransform(n.selectionList[0].getCTM())):(s=GeometryUtils.getElementListGlobalBBox(n.selectionList),o=GeometryUtils.getBBoxPointByLocationName(this.bboxPivotLocationName,s),a=n.content.getCTM().inverse(),s.min=SVGUtils.createSVGPoint(s.min.x,s.min.y).matrixTransform(a),s.max=SVGUtils.createSVGPoint(s.max.x,s.max.y).matrixTransform(a),s.width=s.max.x-s.min.x,s.height=s.max.y-s.min.y);let r=1,l=e/s.height;this.isLocalMode?"true"===n.selectionList[0].dataset.mantainAspectRatio&&(r=l):!0===i.preferences.mantainAspectRatio&&(r=l),i.scaleElementList_undable(n.selectionList,r,l,o,this.isLocalMode)}onChange_rotation(t){let e=Math.evalExpression(t.target.value);if(isNaN(e))return;const i=activeApplication.activeDocument,n=i.activePage;let s;if(this.isLocalMode){const t=n.selectionList[0];e-=t.getTransform().matrix.getRotation(),s=GeometryUtils.getBBoxPointByLocationName(this.bboxPivotLocationName,t.getLocalBBox()).matrixTransform(t.getCTM())}else s=GeometryUtils.getBBoxPointByLocationName(this.bboxPivotLocationName,GeometryUtils.getElementListGlobalBBox(n.selectionList));i.rotateElementList_undable(n.selectionList,e,s)}onChange_scaleTo(t){let e=Math.evalExpression(t.target.value);if(isNaN(e))return;if(0===e)return;e/=100;const i=activeApplication.activeDocument,n=i.activePage;let s;if(this.isLocalMode){const t=n.selectionList[0];s=(s=GeometryUtils.getBBoxPointByLocationName(this.bboxPivotLocationName,t.getLocalBBox())).matrixTransform(t.getCTM()),e/=t.getTransform().matrix.decompose().scaleX}else s=GeometryUtils.getBBoxPointByLocationName(this.bboxPivotLocationName,GeometryUtils.getElementListGlobalBBox(n.selectionList));i.scaleElementList_undable(n.selectionList,e,e,s,this.isLocalMode)}onChange_scaleX(t){let e=Math.evalExpression(t.target.value);if(isNaN(e))return;if(0===e)return;e/=100;const i=activeApplication.activeDocument,n=i.activePage;let s;if(this.isLocalMode){const t=n.selectionList[0];s=(s=GeometryUtils.getBBoxPointByLocationName(this.bboxPivotLocationName,t.getLocalBBox())).matrixTransform(t.getCTM()),e/=t.getTransform().matrix.decompose().scaleX}else s=GeometryUtils.getBBoxPointByLocationName(this.bboxPivotLocationName,GeometryUtils.getElementListGlobalBBox(n.selectionList));i.scaleElementList_undable(n.selectionList,e,1,s,this.isLocalMode)}onChange_scaleY(t){let e=Math.evalExpression(t.target.value);if(isNaN(e))return;if(0===e)return;e/=100;const i=activeApplication.activeDocument,n=i.activePage;let s;if(this.isLocalMode){const t=n.selectionList[0];s=(s=GeometryUtils.getBBoxPointByLocationName(this.bboxPivotLocationName,t.getLocalBBox())).matrixTransform(t.getCTM()),e/=t.getTransform().matrix.decompose().scaleY}else s=GeometryUtils.getBBoxPointByLocationName(this.bboxPivotLocationName,GeometryUtils.getElementListGlobalBBox(n.selectionList));i.scaleElementList_undable(n.selectionList,1,e,s,this.isLocalMode)}onChange_skewX(t){let e=Math.evalExpression(t.target.value);if(isNaN(e))return;const i=activeApplication.activeDocument,n=i.activePage;let s;s=GeometryUtils.getBBoxPointByLocationName(this.bboxPivotLocationName,GeometryUtils.getElementListGlobalBBox(n.selectionList)),i.skewElementList_undable(n.selectionList,e,null,s,!1)}onChange_skewY(t){let e=Math.evalExpression(t.target.value);if(isNaN(e))return;const i=activeApplication.activeDocument,n=i.activePage;let s;s=GeometryUtils.getBBoxPointByLocationName(this.bboxPivotLocationName,GeometryUtils.getElementListGlobalBBox(n.selectionList)),i.skewElementList_undable(n.selectionList,null,e,s,!1)}onChange_moveX(t){var e=Math.evalExpression(this.controlledElements.moveX.value);if(isNaN(e))return;if(0===e)return;const i=activeApplication.activeDocument,n=i.activePage;n.moveX=i.unitToValue(e),i.translateElementList_undable(n.selectionList,n.moveX,0,this.isLocalMode)}onChange_moveY(t){var e=Math.evalExpression(this.controlledElements.moveY.value);if(isNaN(e))return;if(0===e)return;const i=activeApplication.activeDocument,n=i.activePage;n.moveY=i.unitToValue(e),i.translateElementList_undable(n.selectionList,0,n.moveY,this.isLocalMode)}onClick_moveX(t){this.onChange_moveX()}onClick_moveY(t){this.onChange_moveY()}onClick_mantainAspectRatio(t){const e=activeApplication.activeDocument,i=e.activePage;if(0===i.selectionList.length)return;const n=i.selectionList[0];this.isLocalMode?n.dataset.mantainAspectRatio="true"!==n.dataset.mantainAspectRatio:e.preferences.mantainAspectRatio=!0!==e.preferences.mantainAspectRatio,activeApplication.workspace.update(),e.onChange()}}customElements.define("rectangular-transform-inspector",RectangularTransformInspector_cmp);class RadialTransformInspector_cmp extends HTMLElement{constructor(){super(),PANELS[this.nodeName.toLowerCase()]=this,this.isLocalMode=!0,this.controlledElements=XOS.connectDomEvents(this.querySelectorAll("[data-event]"),this)}update(){const t=activeApplication.activeDocument,e=t.activePage.focusedElement,i=e.getTransformToElement(e.parentElement).getTranslation();e.parentElement.classList.contains("layer")&&(i.x-=t.preferences.origin.x,i.y-=t.preferences.origin.y),this.controlledElements.positionX.value=t.valueToUnit(i.x),this.controlledElements.positionY.value=t.valueToUnit(i.y),this.objectProperties=e.getObjectController().getProperties(e),this.controlledElements.startAngle.value=t.valueToFixed(this.objectProperties.startAngle)+" °",this.controlledElements.endAngle.value=t.valueToFixed(this.objectProperties.endAngle)+" °",this.controlledElements.sweepAngle.value=t.valueToFixed(this.objectProperties.endAngle-this.objectProperties.startAngle)+" °",this.controlledElements.radius.value=t.valueToUnit(this.objectProperties.radius),this.controlledElements.diameter.value=t.valueToUnit(2*this.objectProperties.radius)}setInputPropertyFocus(t){this.controlledElements[t].select()}onChange_positionX(t){const e=activeApplication.activeDocument,i=e.activePage,n=i.selectionList[0];let s=Math.evalExpression(t.target.value);if(isNaN(s))return;s=e.unitToValue(s),s-=n.getTransformToElement(n.parentElement).getTranslation().x;e.translateElementList_undable(i.selectionList,s,0,!0)}onChange_positionY(t){const e=activeApplication.activeDocument,i=e.activePage,n=i.selectionList[0];let s=Math.evalExpression(t.target.value);if(isNaN(s))return;s=e.unitToValue(s),s-=n.getTransformToElement(n.parentElement).getTranslation().y;e.translateElementList_undable(i.selectionList,0,s,!0)}onChange_startAngle(t){const e=activeApplication.activeDocument,i=e.activePage.selectionList[0];let n=Math.evalExpression(t.target.value);isNaN(n)||e.setPropertyObjectElementList_undable([i],{startAngle:n})}onChange_endAngle(t){const e=activeApplication.activeDocument,i=e.activePage.selectionList[0];let n=Math.evalExpression(t.target.value);isNaN(n)||e.setPropertyObjectElementList_undable([i],{endAngle:n})}onChange_sweepAngle(t){const e=activeApplication.activeDocument,i=e.activePage.selectionList[0];let n=Math.evalExpression(t.target.value);isNaN(n)||e.setPropertyObjectElementList_undable([i],{endAngle:this.objectProperties.startAngle+n})}onChange_radius(t){const e=activeApplication.activeDocument,i=e.activePage.selectionList[0];let n=Math.evalExpression(t.target.value);isNaN(n)||(n=e.unitToValue(n),e.setPropertyObjectElementList_undable([i],{radius:n}))}onChange_diameter(t){const e=activeApplication.activeDocument,i=e.activePage.selectionList[0];let n=Math.evalExpression(t.target.value);isNaN(n)||(n=e.unitToValue(n),e.setPropertyObjectElementList_undable([i],{radius:n/2}))}}customElements.define("radial-transform-inspector",RadialTransformInspector_cmp);class LinearTransformInspector_cmp extends HTMLElement{constructor(){super(),PANELS[this.nodeName.toLowerCase()]=this,this.linePivotLocationName="start",this.controlledElements=null,this.controlledElements=XOS.connectDomEvents(this.querySelectorAll("[data-event]"),this)}update(){const t=activeApplication.activeDocument,e=t.activePage,i=e.focusedElement,n=i.getEditableGeometryPointList();let s,o,a;s=n[0].clone(),o=n[1].clone(),a=i.parentElement.getTransformToElement(e.content),s=s.matrixTransform(a),o=o.matrixTransform(a),s.x-=t.preferences.origin.x,s.y-=t.preferences.origin.y,o.x-=t.preferences.origin.x,o.y-=t.preferences.origin.y,"start"===this.linePivotLocationName?(this.controlledElements.pointX.value=t.valueToUnit(s.x),this.controlledElements.pointY.value=t.valueToUnit(s.y)):"end"===this.linePivotLocationName?(this.controlledElements.pointX.value=t.valueToUnit(o.x),this.controlledElements.pointY.value=t.valueToUnit(o.y)):"center"===this.linePivotLocationName&&(this.controlledElements.pointX.value=t.valueToUnit(s.x+(o.x-s.x)/2),this.controlledElements.pointY.value=t.valueToUnit(s.y+(o.y-s.y)/2));const r=o.getDistanceFromPoint(s);this.controlledElements.lineLength.value=t.valueToUnit(r);let l=s.getAngleFromPoint(o,!0);this.controlledElements["pivot-display"].querySelector(".bbox").setAttribute("style","transform:rotate("+l+"deg)"),"end"===this.linePivotLocationName&&(l=o.getAngleFromPoint(s,!0)),this.controlledElements.lineOrientation.value=t.valueToFixed(l)+" °"}setInputPropertyFocus(t){this.controlledElements[t].select()}onClick_pivot(t){XOS.selectElement(t.target),this.linePivotLocationName=t.target.getAttribute("id"),this.update()}onChange_pointXY(t){const e=activeApplication.activeDocument,i=e.activePage,n=i.focusedElement;let s=parseFloat(this.controlledElements.pointX.value);if(isNaN(s))return;s=e.unitToValue(s);let o,a=parseFloat(this.controlledElements.pointY.value);if(isNaN(a))return;a=e.unitToValue(a);let r=SVGUtils.createSVGPoint();r.x=s+e.preferences.origin.x,r.y=a+e.preferences.origin.y,o=i.content.getTransformToElement(n.parentElement),r=r.matrixTransform(o);let l=n.getEditableGeometryPointList(),c=l[0],d=l[1];if("start"===this.linePivotLocationName)c.x=r.x,c.y=r.y;else if("end"===this.linePivotLocationName)d.x=r.x,d.y=r.y;else if("center"===this.linePivotLocationName){const t=SVGUtils.createSVGPoint(c.x+(d.x-c.x)/2,c.y+(d.y-c.y)/2),e=r.x-t.x,i=r.y-t.y;l[0].x+=e,l[0].y+=i,l[1].x+=e,l[1].y+=i}console.log("editablePointList",l);const u=n.getObjectController(),f=l[1].getDistanceFromPoint(l[0]),h=n.getAttribute("transform"),m=activeApplication.activeDocument.setPropertyObjectElementList_undable([n],{width:f});u.setLinearObjectPoints(l[0],l[1]);const g=n.getAttribute("transform");m.undoAction.onExecuteEnd=function(){n.setAttribute("transform",h)},m.redoAction.onExecuteEnd=function(){n.setAttribute("transform",g)},e.onChange(),activeApplication.workspace.update()}onChange_lineLength(t){this.setLineLength(this.controlledElements.lineLength.value),this.controlledElements.lineLength.blur()}setLineLength(t,e){e=e||this.linePivotLocationName;const i=activeApplication.activeDocument,n=i.activePage.focusedElement;let s=parseFloat(t);if(isNaN(s))return;s=i.unitToValue(s);const o=n.getEditableGeometryPointList();let a=o[0],r=o[1];const l=s/r.getDistanceFromPoint(a);if("start"===e)r.x=a.x+(r.x-a.x)*l,r.y=a.y+(r.y-a.y)*l;else if("end"===e)a.x=r.x+(a.x-r.x)*l,a.y=r.y+(a.y-r.y)*l;else if("center"===e){const t={x:r.x,y:r.y};r.x=a.x+(r.x-a.x)*l,r.y=a.y+(r.y-a.y)*l;const e=(t.x-r.x)/2,i=(t.y-r.y)/2;a.x+=e,a.y+=i,r.x+=e,r.y+=i}const c=n.getObjectController(),d=o[1].getDistanceFromPoint(o[0]),u=n.getAttribute("transform"),f=activeApplication.activeDocument.setPropertyObjectElementList_undable([n],{width:d});c.setLinearObjectPoints(o[0],o[1]);const h=n.getAttribute("transform");f.undoAction.onExecuteEnd=function(){n.setAttribute("transform",u)},f.redoAction.onExecuteEnd=function(){n.setAttribute("transform",h)},i.onChange(),activeApplication.workspace.snapInteraction2D.reset(),activeApplication.workspace.update()}onChange_lineOrientation(t){const e=activeApplication.activeDocument,i=e.activePage,n=i.focusedElement;let s=parseFloat(this.controlledElements.lineOrientation.value);if(isNaN(s))return;const o=n.getEditableGeometryPointList(),a=o[0],r=o[1];let l=SVGUtils.createSVGPointPolar(r.getDistanceFromPoint(a),s*(Math.PI/180));if("start"===this.linePivotLocationName)r.x=a.x+l.x,r.y=a.y+l.y;else if("end"===this.linePivotLocationName)a.x=r.x+l.x,a.y=r.y+l.y;else if("center"===this.linePivotLocationName){const t=SVGUtils.createSVGPoint(a.x+(r.x-a.x)/2,a.y+(r.y-a.y)/2),e=r.getDistanceFromPoint(a)/2;l=SVGUtils.createSVGPointPolar(e,s*(Math.PI/180)),a.x=t.x-l.x,a.y=t.y-l.y,r.x=t.x+l.x,r.y=t.y+l.y}const c=new UndoRedoAction,d=new UndoRedoAction;i.history.addUndoRedoActions(c,d),c.onExecuteEnd=d.onExecuteEnd=function(){u.update(n),e.selectElementList([n])},c.createAttributeSnapshot([n],"data-width,transform");const u=n.getObjectController();u&&u.setLinearObjectPoints(o[0],o[1]),d.createAttributeSnapshot([n],"data-width,transform"),e.onChange(),activeApplication.workspace.update()}}customElements.define("linear-transform-inspector",LinearTransformInspector_cmp);class LineTransformInspector_cmp extends LinearTransformInspector_cmp{constructor(){super()}update(){const t=activeApplication.activeDocument,e=t.activePage,i=e.focusedElement,n=i.getEditableGeometryPointList();let s,o,a;s=n[0].clone(),o=n[1].clone(),a=i.getTransformToElement(e.content),s=s.matrixTransform(a),o=o.matrixTransform(a),s.x-=t.preferences.origin.x,s.y-=t.preferences.origin.y,o.x-=t.preferences.origin.x,o.y-=t.preferences.origin.y,"start"===this.linePivotLocationName?(this.controlledElements.pointX.value=t.valueToUnit(s.x),this.controlledElements.pointY.value=t.valueToUnit(s.y)):"end"===this.linePivotLocationName?(this.controlledElements.pointX.value=t.valueToUnit(o.x),this.controlledElements.pointY.value=t.valueToUnit(o.y)):"center"===this.linePivotLocationName&&(this.controlledElements.pointX.value=t.valueToUnit(s.x+(o.x-s.x)/2),this.controlledElements.pointY.value=t.valueToUnit(s.y+(o.y-s.y)/2));const r=o.getDistanceFromPoint(s);this.controlledElements.lineLength.value=t.valueToUnit(r);let l=s.getAngleFromPoint(o,!0);this.controlledElements["pivot-display"].querySelector(".bbox").setAttribute("style","transform:rotate("+l+"deg)"),"end"===this.linePivotLocationName&&(l=o.getAngleFromPoint(s,!0)),this.controlledElements.lineOrientation.value=t.valueToFixed(l)+" °"}onChange_pointXY(t){const e=activeApplication.activeDocument,i=e.activePage,n=i.focusedElement;let s=parseFloat(this.controlledElements.pointX.value);if(isNaN(s))return;s=e.unitToValue(s);let o,a=parseFloat(this.controlledElements.pointY.value);if(isNaN(a))return;a=e.unitToValue(a);let r,l=SVGUtils.createSVGPoint();if(this.isLocalMode?(l.x=s,l.y=a,o=n.parentElement.getTransformToElement(n)):(l.x=s+e.preferences.origin.x,l.y=a+e.preferences.origin.y,o=i.content.getTransformToElement(n)),l=l.matrixTransform(o),"start"===this.linePivotLocationName)r={x1:l.x,y1:l.y};else if("end"===this.linePivotLocationName)r={x2:l.x,y2:l.y};else if("center"===this.linePivotLocationName){let t=n.getPt1(),e=n.getPt2();const i=SVGUtils.createSVGPoint(t.x+(e.x-t.x)/2,t.y+(e.y-t.y)/2),s=l.x-i.x,o=l.y-i.y;t.x+=s,t.y+=o,e.x+=s,e.y+=o,r={x1:t.x,y1:t.y,x2:e.x,y2:e.y}}n.geometryPointList=null,e.setAttributeElementList_undable([n],r)}setLineLength(t,e){e=e||this.linePivotLocationName;const i=activeApplication.activeDocument,n=i.activePage.focusedElement;let s=parseFloat(t);if(isNaN(s))return;s=i.unitToValue(s);const o=n.getGeometryPointList();let a=o[0],r=o[1];const l=s/r.getDistanceFromPoint(a);if("start"===e)r.x=a.x+(r.x-a.x)*l,r.y=a.y+(r.y-a.y)*l;else if("end"===e)a.x=r.x+(a.x-r.x)*l,a.y=r.y+(a.y-r.y)*l;else if("center"===e){const t={x:r.x,y:r.y};r.x=a.x+(r.x-a.x)*l,r.y=a.y+(r.y-a.y)*l;const e=(t.x-r.x)/2,i=(t.y-r.y)/2;a.x+=e,a.y+=i,r.x+=e,r.y+=i}const c=i.setAttributeElementList_undable([n],{x1:a.x,y1:a.y,x2:r.x,y2:r.y});c.undoAction.onExecuteEnd=function(){n.geometryPointList=null,i.selectElementList([n])},c.redoAction.onExecuteEnd=function(){n.geometryPointList=null,i.selectElementList([n])},n.geometryPointList=null}onChange_lineOrientation(t){const e=activeApplication.activeDocument,i=e.activePage.focusedElement;let n,s=parseFloat(this.controlledElements.lineOrientation.value);if(isNaN(s))return;const o=i.getGeometryPointList(),a=o[0],r=o[1];let l=SVGUtils.createSVGPointPolar(r.getDistanceFromPoint(a),s*(Math.PI/180));if("start"===this.linePivotLocationName)r.x=a.x+l.x,r.y=a.y+l.y,n=e.setAttributeElementList_undable([i],{x2:r.x,y2:r.y});else if("end"===this.linePivotLocationName)a.x=r.x+l.x,a.y=r.y+l.y,n=e.setAttributeElementList_undable([i],{x1:a.x,y1:a.y});else if("center"===this.linePivotLocationName){const t=SVGUtils.createSVGPoint(a.x+(r.x-a.x)/2,a.y+(r.y-a.y)/2),o=r.getDistanceFromPoint(a)/2;l=SVGUtils.createSVGPointPolar(o,s*(Math.PI/180)),a.x=t.x-l.x,a.y=t.y-l.y,r.x=t.x+l.x,r.y=t.y+l.y,n=e.setAttributeElementList_undable([i],{x1:a.x,y1:a.y,x2:r.x,y2:r.y})}n.undoAction.onExecuteEnd=function(){i.geometryPointList=null,e.selectElementList([i])},n.redoAction.onExecuteEnd=function(){i.geometryPointList=null,e.selectElementList([i])},i.geometryPointList=null,this.update()}}customElements.define("line-transform-inspector",LineTransformInspector_cmp);class PathPointTransformInspector_cmp extends HTMLElement{constructor(){super(),PANELS[this.nodeName.toLowerCase()]=this,this.controlledElements=XOS.connectDomEvents(this.querySelectorAll("[data-event]"),this)}update(){const t=activeApplication.activeDocument,e=t.activePage,i=e.focusedPoint,n=i.ownerShapeElement.getTransformToElement(e.content),s=i.matrixTransform(n);s.x-=t.preferences.origin.x,s.y-=t.preferences.origin.y,this.controlledElements.pointX.value=t.valueToUnit(s.x),this.controlledElements.pointY.value=t.valueToUnit(s.y)}onChange_pointXY(t){const e=activeApplication.activeDocument,i=e.activePage,n=(i.focusedElement,i.focusedPoint),s=t.target.getAttribute("name");let o=parseFloat(t.target.value);if(isNaN(o))return;const a=i.focusedPoint.ownerShapeElement.localToGlobal(n.x,n.y);if("pointX"===s){o=e.preferences.origin.x+e.unitToValue(o);let t=i.content.localToGlobal(o,0);t.x-=a.x,e.translateSelectedPointList_undable(t.x,0,!1,!0)}else{o=e.preferences.origin.y+e.unitToValue(o);let t=i.content.localToGlobal(0,o);t.y-=a.y,e.translateSelectedPointList_undable(0,t.y,!1,!0)}}}customElements.define("path-point-transform-inspector",PathPointTransformInspector_cmp);class LineToTransformInspector_cmp extends LinearTransformInspector_cmp{constructor(){super()}update(){const t=activeApplication.activeDocument,e=t.activePage,i=e.focusedElement,n=e.focusedPathSegmentPoint;let s,o,a;s=n.previousSegment,o=n,a=i.getTransformToElement(e.content),s=s.matrixTransform(a),o=o.matrixTransform(a),s.x-=t.preferences.origin.x,s.y-=t.preferences.origin.y,o.x-=t.preferences.origin.x,o.y-=t.preferences.origin.y,"start"===this.linePivotLocationName?(this.controlledElements.pointX.value=t.valueToUnit(s.x),this.controlledElements.pointY.value=t.valueToUnit(s.y)):"end"===this.linePivotLocationName?(this.controlledElements.pointX.value=t.valueToUnit(o.x),this.controlledElements.pointY.value=t.valueToUnit(o.y)):"center"===this.linePivotLocationName&&(this.controlledElements.pointX.value=t.valueToUnit(s.x+(o.x-s.x)/2),this.controlledElements.pointY.value=t.valueToUnit(s.y+(o.y-s.y)/2));const r=o.getDistanceFromPoint(s);this.controlledElements.lineLength.value=t.valueToUnit(r);let l=s.getAngleFromPoint(o,!0);this.controlledElements["pivot-display"].querySelector(".bbox").setAttribute("style","transform:rotate("+l+"deg)"),"end"===this.linePivotLocationName&&(l=o.getAngleFromPoint(s,!0)),this.controlledElements.lineOrientation.value=t.valueToFixed(l)+" °"}onChange_pointXY(t){const e=activeApplication.activeDocument,i=e.activePage,n=i.focusedElement,s=i.focusedPathSegmentPoint,o=t.target.getAttribute("name");let a,r=parseFloat(t.target.value);if(isNaN(r))return;r=e.unitToValue(r),a="pointX"===o?SVGUtils.createSVGPoint(r+e.preferences.origin.x,0).matrixTransform(i.content.getCTM()):SVGUtils.createSVGPoint(0,r+e.preferences.origin.y).matrixTransform(i.content.getCTM());const l=new UndoRedoAction,c=new UndoRedoAction;let d;if(i.history.addUndoRedoActions(l,c),l.createAttributeSnapshot([n],"d"),l.onExecuteEnd=c.onExecuteEnd=function(){e.selectElementList([n]),n.geometryPointList=null},"start"===this.linePivotLocationName)e.selectPointList([s.previousSegment]),d=n.localToGlobal(s.previousSegment.x,s.previousSegment.y);else if("end"===this.linePivotLocationName)e.selectPointList([s]),d=n.localToGlobal(s.x,s.y);else if("center"===this.linePivotLocationName){e.selectPointList([s.previousSegment,s]);const t=SVGUtils.createSVGPoint(s.previousSegment.x+(s.x-s.previousSegment.x)/2,s.previousSegment.y+(s.y-s.previousSegment.y)/2);d=n.localToGlobal(t.x,t.y)}if("pointX"===o){const t=a.x-d.x,i=e.getSelectedTransformablePointData();e.translateTransformDataPointList(i,t,0,!1,!0)}else{const t=a.y-d.y,i=e.getSelectedTransformablePointData();e.translateTransformDataPointList(i,0,t,!1,!0)}c.createAttributeSnapshot([n],"d"),activeApplication.workspace.update()}setLineLength(t,e){e=e||this.linePivotLocationName;const i=activeApplication.activeDocument,n=i.activePage,s=n.focusedElement,o=n.focusedPathSegmentPoint;let a=parseFloat(t);if(isNaN(a))return;a=i.unitToValue(a);const r=new UndoRedoAction,l=new UndoRedoAction;n.history.addUndoRedoActions(r,l),r.onExecuteEnd=l.onExecuteEnd=function(){i.selectElementList([s]),s.geometryPointList=null},r.createAttributeSnapshot([s],"d");let c=o.previousSegment,d=o;const u=a/d.getDistanceFromPoint(c);i.selectPointList([o.previousSegment,o]);const f=i.getSelectedTransformablePointData();let h;if("start"===e)h=s.localToGlobal(o.previousSegment.x,o.previousSegment.y),i.scaleTransformDataPointList(f,u,u,h,!0);else if("end"===e)h=s.localToGlobal(o.x,o.y),i.scaleTransformDataPointList(f,u,u,h,!0);else if("center"===e){const t=SVGUtils.createSVGPoint(c.x+(d.x-c.x)/2,c.y+(d.y-c.y)/2);h=s.localToGlobal(t.x,t.y),i.scaleTransformDataPointList(f,u,u,h,!0)}l.createAttributeSnapshot([s],"d"),activeApplication.workspace.snapInteraction2D.reset(),activeApplication.workspace.update()}onChange_lineOrientation(t){const e=activeApplication.activeDocument,i=e.activePage,n=i.focusedElement,s=i.focusedPathSegmentPoint;let o=parseFloat(this.controlledElements.lineOrientation.value);if(isNaN(o))return;const a=new UndoRedoAction,r=new UndoRedoAction;i.history.addUndoRedoActions(a,r),a.createAttributeSnapshot([n],"d"),a.onExecuteEnd=r.onExecuteEnd=function(){e.selectElementList([n]),n.geometryPointList=null};let l=s.previousSegment,c=s;const d=SVGUtils.createSVGPointPolar(s.getDistanceFromPoint(s.previousSegment),o*(Math.PI/180));let u,f=SVGUtils.createSVGPoint();if("start"===this.linePivotLocationName)e.selectPointList([s]),f.x=l.x+d.x-c.x,f.y=l.y+d.y-c.y,u=e.getSelectedTransformablePointData(),e.translateTransformDataPointList(u,f.x,f.y,!0,!0);else if("end"===this.linePivotLocationName)e.selectPointList([s.previousSegment]),f.x=c.x+d.x-l.x,f.y=c.y+d.y-l.y,u=e.getSelectedTransformablePointData(),e.translateTransformDataPointList(u,f.x,f.y,!0,!0);else if("center"===this.linePivotLocationName){e.selectPointList([s.previousSegment,s]),u=e.getSelectedTransformablePointData();const t=SVGUtils.createSVGPoint(l.x+(c.x-l.x)/2,l.y+(c.y-l.y)/2),i=n.localToGlobal(t.x,t.y);let a=l.getAngleFromPoint(c,!0);e.rotateTransformDataPointList(u,o-a,i,!0)}r.createAttributeSnapshot([n],"d"),activeApplication.workspace.update()}}customElements.define("line-to-transform-inspector",LineToTransformInspector_cmp);class ArcToTransformInspector_cmp extends HTMLElement{constructor(){super(),PANELS[this.nodeName.toLowerCase()]=this,this.controlledElements=XOS.connectDomEvents(this.querySelectorAll("[data-event]"),this)}update(){const t=activeApplication.activeDocument,e=t.activePage,i=e.focusedElement,n=e.focusedPathSegmentPoint,s=i.getTransformToElement(e.content),o=n.matrixTransform(s);o.x-=t.preferences.origin.x,o.y-=t.preferences.origin.y,this.controlledElements.pointX.value=t.valueToUnit(o.x),this.controlledElements.pointY.value=t.valueToUnit(o.y);const a=GeometryUtils.getArcCenter(n.previousSegment.x,n.previousSegment.y,n.x,n.y,n.rx,n.ry,n.angle,n.largeArcFlag,n.sweepFlag).getDistanceFromPoint(n.previousSegment);n.ry===n.rx?(this.controlledElements.radiusY.value=this.controlledElements.radiusX.value=t.valueToUnit(a),this.controlledElements.radiusY.disabled=!0):(this.controlledElements.radiusX.value=t.valueToUnit(n.rx),this.controlledElements.radiusY.value=t.valueToUnit(n.ry),this.controlledElements.radiusY.disabled=!1)}onChange_pointXY(t){const e=activeApplication.activeDocument,i=e.activePage,n=i.focusedElement,s=i.focusedPathSegmentPoint,o=t.target.getAttribute("name");let a=parseFloat(t.target.value);if(isNaN(a))return;const r=new UndoRedoAction,l=new UndoRedoAction;if(i.history.addUndoRedoActions(r,l),r.createAttributeSnapshot([n],"d"),r.onExecuteEnd=l.onExecuteEnd=function(){e.selectElementList([n]),n.geometryPointList=null},"pointX"===o){a=e.preferences.origin.x+e.unitToValue(a);const t=i.content.getTransformToElement(n),o=SVGUtils.createSVGPoint(a,0).matrixTransform(t);s.x=o.x}else{a=e.preferences.origin.y+e.unitToValue(a);const t=i.content.getTransformToElement(n),o=SVGUtils.createSVGPoint(0,a).matrixTransform(t);s.y=o.y}s.ownerShapeElement.render(),l.createAttributeSnapshot([n],"d"),activeApplication.workspace.update()}onChange_radiusXY(t){const e=activeApplication.activeDocument,i=e.activePage,n=i.focusedElement,s=i.focusedPathSegmentPoint;t.target.getAttribute("name");let o=parseFloat(t.target.value);if(isNaN(o))return;o=e.unitToValue(o);const a=new UndoRedoAction,r=new UndoRedoAction;i.history.addUndoRedoActions(a,r),a.createAttributeSnapshot([n],"d"),a.onExecuteEnd=r.onExecuteEnd=function(){e.selectElementList([n]),n.geometryPointList=null};const l=n.updateFillet(o,s);if(r.createAttributeSnapshot([n],"d"),l)return n.geometryPointList=null,void activeApplication.workspace.update();s.rx=s.ry=o,s.ownerShapeElement.render(),r.createAttributeSnapshot([n],"d"),n.geometryPointList=null,activeApplication.workspace.update()}}customElements.define("arc-to-transform-inspector",ArcToTransformInspector_cmp);class CurveToTransformInspector_cmp extends HTMLElement{constructor(){super(),PANELS[this.nodeName.toLowerCase()]=this,this.controlledElements=XOS.connectDomEvents(this.querySelectorAll("[data-event]"),this)}update(){const t=activeApplication.activeDocument,e=t.activePage,i=e.focusedElement,n=e.focusedPathSegmentPoint,s=i.getTransformToElement(e.content),o=n.matrixTransform(s);o.x-=t.preferences.origin.x,o.y-=t.preferences.origin.y,this.controlledElements.pointX.value=t.valueToUnit(o.x),this.controlledElements.pointY.value=t.valueToUnit(o.y)}onChange_pointXY(t){const e=activeApplication.activeDocument,i=e.activePage,n=i.focusedElement,s=i.focusedPathSegmentPoint;console.log("onChange_pointXY,",s);const o=t.target.getAttribute("name");let a=parseFloat(t.target.value);if(isNaN(a))return;const r=new UndoRedoAction,l=new UndoRedoAction;if(i.history.addUndoRedoActions(r,l),r.createAttributeSnapshot([n],"d"),r.onExecuteEnd=l.onExecuteEnd=function(){e.selectElementList([n]),n.geometryPointList=null},"pointX"===o){a=e.preferences.origin.x+e.unitToValue(a);const t=i.content.getTransformToElement(n),o=SVGUtils.createSVGPoint(a,0).matrixTransform(t);s.x=o.x}else{a=e.preferences.origin.y+e.unitToValue(a);const t=i.content.getTransformToElement(n),o=SVGUtils.createSVGPoint(0,a).matrixTransform(t);s.y=o.y}console.log("focusedPathSegmentPoint",s),s.ownerShapeElement.render(),l.createAttributeSnapshot([n],"d"),activeApplication.workspace.update()}}customElements.define("curve-to-transform-inspector",CurveToTransformInspector_cmp);class RectInspector_cmp extends HTMLElement{constructor(){super(),this.controlledElements=XOS.connectDomEvents(this.querySelectorAll("[data-event]"),this)}update(){const t=activeApplication.activeDocument,e=t.activePage.focusedElement;e.hasAttribute("rx")?(this.controlledElements.roundCorners.value=t.valueToUnit(e.getAttribute("rx")),this.controlledElements.roundCornersSlider.value=t.valueToFixed(parseFloat(this.controlledElements.roundCorners.value))):(this.controlledElements.roundCorners.value="",this.controlledElements.roundCornersSlider.value=0)}onChange_roundCorners(t){const e=activeApplication.activeDocument,i=e.activePage;let n=Math.evalExpression(t.target.value);isNaN(n)||e.setAttributeElementList_undable(i.selectionList,{rx:n,ry:n})}onSliderChangeStart_roundCorners(t){const e=activeApplication.activeDocument.activePage;this.undoAction=new UndoRedoAction,this.redoAction=new UndoRedoAction,e.history.addUndoRedoActions(this.undoAction,this.redoAction),this.undoAction.createAttributeSnapshot(e.selectionList,"rx,ry")}onSliderChangeEnd_roundCorners(t){const e=activeApplication.activeDocument,i=e.activePage;this.redoAction.createAttributeSnapshot(i.selectionList,"rx,ry"),this.undoAction=this.redoAction=null,e.onChange(),activeApplication.workspace.update()}onSliderChange_roundCorners(t){const e=activeApplication.activeDocument,i=e.activePage;this.undoAction||this.onSliderChangeStart_roundCorners(t),e.setAttributeElementList(i.selectionList,{rx:t.target.value,ry:t.target.value}),this.controlledElements.roundCorners.value=e.valueToUnit(t.target.value)}onClick_convertToPath(t){}}customElements.define("rect-inspector",RectInspector_cmp);class EllipseInspector_cmp extends HTMLElement{constructor(){super(),this.controlledElements=XOS.connectDomEvents(this.querySelectorAll("[data-event]"),this)}update(){const t=activeApplication.activeDocument,e=t.activePage.focusedElement;this.controlledElements.rx.value=t.valueToUnit(e.getAttribute("rx")),this.controlledElements.ry.value=t.valueToUnit(e.getAttribute("ry"))}onChange_rx(t){const e=activeApplication.activeDocument,i=e.activePage,n=e.unitToValue(this.controlledElements.rx.value);e.setAttributeElementList_undable(i.selectionList,{rx:n})}onChange_ry(t){const e=activeApplication.activeDocument,i=e.activePage,n=e.unitToValue(this.controlledElements.ry.value);e.setAttributeElementList_undable(i.selectionList,{ry:n})}onClick_convertToPath(t){}}customElements.define("ellipse-inspector",EllipseInspector_cmp);class PathInspector_cmp extends HTMLElement{constructor(){super(),this.controlledElements=XOS.connectDomEvents(this.querySelectorAll("[data-event]"),this),this.simplifyTolerance=2.5}update(){}onClick_simplifyPathButton(){const t=activeApplication.activeDocument,e=t.activePage,i={};paper.install(i),paper.setup([640,480]),e.focusedElement.geometryPointList=null;let n=i.project.importSVG(e.focusedElement);n.reduce();const s=n.exportSVG();s.transformGeometryPointList(e.focusedElement.getTransform().matrix.inverse()),s.render(),t.setAttributeElementList_undable([e.focusedElement],{d:s.getAttribute("d")}),activeApplication.workspace.update()}onClick_fixPathButton(){const t=activeApplication.activeDocument.activePage,e=t.focusedElement.reduceCurves();t.focusedElement.setGeometryPointList(e),t.focusedElement.render()}}customElements.define("path-inspector",PathInspector_cmp);class GroupInspector_cmp extends HTMLElement{constructor(){super(),this.controlledElements=XOS.connectDomEvents(this.querySelectorAll("[data-event]"),this)}update(){}onClick_expand(t){const e=activeApplication.activeDocument;e.activePage.focusedElement;e.ungroupElementList_undable()}onClick_edit(t){const e=activeApplication.activeDocument,i=e.activePage.focusedElement;e.enterTo_isolateLayerEditing(i)}}customElements.define("group-inspector",GroupInspector_cmp);class ImageInspector_cmp extends HTMLElement{constructor(){super(),this.controlledElements=XOS.connectDomEvents(this.querySelectorAll("[data-event]"),this),this.currentFilterName=null}update(){console.log("update");const t=activeApplication.activeDocument.activePage.focusedElement;let e=t.getAttributeNS(SVGSVGElement.XLINK_NS,"href");e&&(e.indexOf("data:")>-1&&(e="data:*"),this.controlledElements.href.value=e);let i=t.getAttribute("width"),n=t.getAttribute("height");if(!i){const e=t.getLocalBBox();i=e.width,n=e.height}this.controlledElements.imageSizeX.value=i+" px",this.controlledElements.imageSizeY.value=n+" px"}onClickOnTabBar(t){XOS.selectElement(t.target),XOS.showElement(this.querySelector("."+t.target.dataset.sectionTarget))}onChange_href(t){const e=activeApplication.activeDocument,i=e.activePage.focusedElement;e.setAttributeElementList_undable([i],{href:t.target.value},!1),i.initializeWithOriginalSize(function(){activeApplication.workspace.update()})}onChange_filterList(t){"choose-filter"!==t.target.value?(this.currentFilterName=t.target.value,XOS.showElement(this.querySelector('[data-filter-name="'+this.currentFilterName+'"]'))):this.currentFilterName=null}resetFilterProperties(){this.currentFilterName=null,this.controlledElements.brightness.value=this.controlledElements.contrast.value=0,this.controlledElements.brightness_slider.value=this.controlledElements.contrast_slider.value=0,this.controlledElements.hue.value=this.controlledElements.saturation.value=0,this.controlledElements.hue_slider.value=this.controlledElements.saturation_slider.value=0,this.controlledElements.vibrance.value=this.controlledElements.vibrance_slider.value=0,this.controlledElements.denoise.value=this.controlledElements.denoise_slider.value=0,this.controlledElements.noise.value=this.controlledElements.noise_slider.value=0,this.controlledElements.sepia.value=this.controlledElements.sepia_slider.value=0,this.controlledElements.filterList.value="choose-filter",XOS.hideElementChildren(this.querySelector(".filter-properties"))}onSliderChange_filterProperty(t){t.target.nextElementSibling.value=t.target.value,this.applyFilter()}onSliderChangeEnd_filterProperty(t){}onChange_filterProperty(t){const e=t.target.previousElementSibling;"INPUT"===e.nodeName&&(e.value=parseFloat(t.target.value)),this.applyFilter()}onClick_done(t){this.applyFilterFromOriginalAndFinalize()}initFilterData(){if(!this.canvasFx)try{this.canvasFx=fx.canvas()}catch(t){return void alert(t)}const t=activeApplication.activeDocument.activePage.focusedElement,e=this;if(!t.originalImage){t.originalImage=new Image,t.originalImage.src=t.getAttributeNS(SVGSVGElement.XLINK_NS,"href");let n=parseInt(t.getAttribute("width")),s=parseInt(t.getAttribute("height")),o=null;if(n>s&&n>800?o=800/n:s>n&&s>800&&(o=800/s),o){const i=new Image;i.src=t.resizeTo(n*o,s*o),i.onload=function(){t.texture=e.canvasFx.texture(i)}}else t.originalImage.onload=function(){t.texture=e.canvasFx.texture(t.originalImage)};function i(n){n.target.closest(".filter-properties")||(n.stopPropagation(),n.preventDefault(),document.removeEventListener("mousedown",i,!0),DIALOGS.confirmDialog.open(localString("Apply filter"),localString("Do you want to apply the filter to image ?"),function(){this.close(),e.applyFilterFromOriginalAndFinalize()},function(){this.close(),t.setAttributeNS(SVGSVGElement.XLINK_NS,"href",t.originalImage.src),t.texture=t.originalImage=null,e.resetFilterProperties()}))}t.mouseEventlistenerToRemove=i,document.addEventListener("mousedown",i,!0)}}applyFilterFromOriginalAndFinalize(){const t=activeApplication.activeDocument.activePage.focusedElement;t.texture=this.canvasFx.texture(t.originalImage),this.applyFilter(),t.texture=t.originalImage=null,this.resetFilterProperties(),document.removeEventListener("mousedown",t.mouseEventlistenerToRemove,!0)}applyFilter(){const t=activeApplication.activeDocument.activePage.focusedElement;if(t.originalImage||this.initFilterData(),t.texture){switch(this.currentFilterName){case"brightnessContrast":this.canvasFx.draw(t.texture).brightnessContrast(parseFloat(this.controlledElements.brightness.value),parseFloat(this.controlledElements.contrast.value)).update();break;case"hueSaturation":this.canvasFx.draw(t.texture).hueSaturation(parseFloat(this.controlledElements.hue.value),parseFloat(this.controlledElements.saturation.value)).update();break;case"vibrance":this.canvasFx.draw(t.texture).vibrance(parseFloat(this.controlledElements.vibrance.value)).update();break;case"denoise":this.canvasFx.draw(t.texture).denoise(parseFloat(this.controlledElements.denoise.value)).update();break;case"noise":this.canvasFx.draw(t.texture).noise(parseFloat(this.controlledElements.noise.value)).update();break;case"sepia":this.canvasFx.draw(t.texture).sepia(parseFloat(this.controlledElements.sepia.value)).update()}t.setAttributeNS(SVGSVGElement.XLINK_NS,"href",this.canvasFx.toDataURL("image/png"))}}}customElements.define("image-inspector",ImageInspector_cmp);class ClippedContentInspector_cmp extends HTMLElement{constructor(){super(),this.controlledElements=XOS.connectDomEvents(this.querySelectorAll("[data-event]"),this)}update(){}onClick_expand(t){activeApplication.activeDocument.ungroupElementList_undable()}onClick_edit(t){activeApplication.activeDocument.enterTo_isolateLayerEditing(activeApplication.activeDocument.activePage.activeEditableElement)}}customElements.define("clipped-content-inspector",ClippedContentInspector_cmp);class MaskedContentInspector extends HTMLElement{constructor(){super(),this.controlledElements=XOS.connectDomEvents(this.querySelectorAll("[data-event]"),this)}update(){}onClick_expand(t){activeApplication.activeDocument.ungroupElementList_undable()}onClick_edit(t){activeApplication.activeDocument.enterTo_isolateLayerEditing(activeApplication.activeDocument.activePage.focusedElement)}}customElements.define("masked-content-inspector",MaskedContentInspector);class ForeignObjectInspector_cmp extends HTMLElement{constructor(){super(),this.controlledElements=XOS.connectDomEvents(this.querySelectorAll("[data-event]"),this)}update(){const t=activeApplication.activeDocument.activePage;if("iframe-widget"===t.focusedElement.getAttribute("data-type")){let e=t.focusedElement.querySelector("iframe").getAttribute("src");e&&(this.controlledElements.src.value=e)}}onChange_src(t){activeApplication.activeDocument.setAttributeElementList_undable([activeApplication.activeDocument.activePage.focusedElement.querySelector("iframe")],{src:t.target.value})}}customElements.define("foreign-object-inspector",ForeignObjectInspector_cmp);class UseInspector_cmp extends HTMLElement{constructor(){super(),this.controlledElements=XOS.connectDomEvents(this.querySelectorAll("[data-event]"),this)}update(){const t=activeApplication.activeDocument.activePage.focusedElement,e=t.getAttribute("href")||t.getAttribute("xlink:href");this.controlledElements.id.value=e.split("#")[1]}onChange_ID(t){const e=this.controlledElements.id.value;if(""===e)return;function i(){this.close(),t.target.focus(),t.target.select()}if(!/^[A-Za-z][-A-Za-z0-9_:.]*$/.test(e))return void DIALOGS["alert-dialog"].open(localString("Invalid identifier"),localString("ID must begin with a letter ([A-Za-z]) and may be followed by any number of letters."),i);if(activeApplication.activeDocument.shadowRoot.querySelector('*[id="'+e+'"]'))return void DIALOGS["alert-dialog"].open(localString("Existent ID"),localString("The document already contains an element with ID:")+e,i);t.target.blur();const n=activeApplication.activeDocument,s=n.activePage.focusedElement,o=(s.getAttribute("href")||s.getAttribute("xlink:href")).split("#")[1],a=n.resources.getResourceById(o);n.refactorElementID(a,e,activeApplication.activeDocument.shadowRoot)}onClick_expand(t){activeApplication.activeDocument.expandUseElementList_undable()}onClick_edit(t){const e=activeApplication.activeDocument,i=e.activePage.focusedElement,n=(i.getAttribute("href")||i.getAttribute("xlink:href")).split("#")[1],s=e.resources.getResourceById(n);e.enterTo_isolateLayerEditing(s)}onClick_cloneSymbol(t){const e=activeApplication.activeDocument,i=e.activePage.focusedElement,n=(i.getAttribute("href")||i.getAttribute("xlink:href")).split("#")[1],s=e.resources.getResourceById(n).cloneNode(!0),o=e.resources.createResourceIdFromExistentId(s.getAttribute("id"));e.resources.addResource(s,o);const a={};a.href="#"+o,e.setAttributeElementList_undable([i],a)}}customElements.define("use-inspector",UseInspector_cmp);class ObjectInspector_cmp extends HTMLElement{constructor(){super(),this.controlledElements=XOS.connectDomEvents(this.querySelectorAll("[data-event]"),this)}update(){const t=activeApplication.activeDocument.activePage.focusedElement,e=t.getObjectController().getProperties(t);console.log("propertyData",e)}}customElements.define("object-inspector",ObjectInspector_cmp);class TextInspector_cmp extends HTMLElement{constructor(){super(),this.controlledElements=XOS.connectDomEvents(this.querySelectorAll("[data-event]"),this),this.textAlignPanel=document.querySelector("#TEXT_ALIGN_PANEL"),this.textDecorationPanel=document.querySelector("#TEXT_DECORATION_PANEL"),this.textHeightSpacePanel=document.querySelector("#TEXT_HEIGHT_SPACE_PANEL"),XOS.connectDomEvents(this.textAlignPanel.querySelectorAll("[data-event]"),this,this.controlledElements),XOS.connectDomEvents(this.textDecorationPanel.querySelectorAll("[data-event]"),this,this.controlledElements),XOS.connectDomEvents(this.textHeightSpacePanel.querySelectorAll("[data-event]"),this,this.controlledElements)}update(){const t=activeApplication.activeDocument,e=t.activePage.focusedElement;let i=e.getAttribute("line-height")||"normal";isNaN(i)?(this.controlledElements.lineHeightSlider.value=0,this.controlledElements.lineHeight.value="normal"):(this.controlledElements.lineHeightSlider.value=t.valueToFixed(i),this.controlledElements.lineHeight.value=i+" pt");let n=e.getAttribute("letter-spacing")||"0";this.controlledElements.letterSpacingSlider.value=t.valueToFixed(n),this.controlledElements.letterSpacing.value=t.valueToFixed(n)+" pt";let s=e.getAttribute("word-spacing")||"0";this.controlledElements.wordSpacingSlider.value=t.valueToFixed(s),this.controlledElements.wordSpacing.value=t.valueToFixed(s)+" pt","TextOnPath"===e.getAttribute("data-type")?(this.controlledElements.startOffset.parentElement.parentElement.classList.remove("hidden"),this.controlledElements.startOffset.value=parseFloat(e.querySelector("textPath").getAttribute("startOffset")||0)):this.controlledElements.startOffset.parentElement.parentElement.classList.add("hidden");let o=e.getAttribute("font-family")||"";this.controlledElements.fontFamily.value=o,this.fontObject=window.GoogleFonts.getGoogleFontObjectByFamilyName(o),this.updateFontVariantsMenu();let a=e.getAttribute("font-size")||12;this.controlledElements.fontSizeSlider.value=t.valueToFixed(a),this.controlledElements.fontSize.value=t.valueToFixed(a)+" pt",this.controlledElements.useRichText.checked="true"===e.dataset.useRichText;const r=e.getAttribute("text-align")||"left";let l=this.textAlignPanel.querySelector('[data-value="'+r+'"] use').getAttribute("xlink:href");this.querySelector('[data-panel-target="TEXT_ALIGN_PANEL"] use').setAttribute("xlink:href",l);let c="none";e.hasAttribute("text-decoration")&&(c=e.getAttribute("text-decoration")),console.log("textDecoration",c),l=this.textDecorationPanel.querySelector('[data-value="'+c+'"] use').getAttribute("xlink:href"),this.querySelector('[data-panel-target="TEXT_DECORATION_PANEL"] use').setAttribute("xlink:href",l)}updateFontVariantsMenu(){const t=activeApplication.activeDocument.activePage;if(this.controlledElements.fontVariants.removeChildren(),null==this.fontObject)return;let e,i,n,s;for(e=0;e<this.fontObject.variants.length;e++)i=this.fontObject.variants[e],n=document.createElement("option"),s=window.GoogleFonts.getGoogleFontStyleAndWeightByVariantName(i),n.appendChild(document.createTextNode(s.name)),n.setAttribute("value",i),this.controlledElements.fontVariants.appendChild(n);let o=t.focusedElement,a=o.getAttribute("font-weight")||"normal",r=o.getAttribute("font-style")||"regular";this.controlledElements.fontVariants.value=window.GoogleFonts.getGoogleFontVariantNameByStyleAndWeight(r,a)}onChange_fontVariants(t){const e=activeApplication.activeDocument,i=e.activePage;e.applyFontElementList_undable(i.selectionList,this.fontObject,t.target.value),i.selectionList[0].focus()}onClick_showFontLibrary(t){WINDOWS.mainLibraryWindow.showSection("font-library")}onChange_fontSize(t){const e=activeApplication.activeDocument,i=e.activePage;let n=Math.evalExpression(t.target.value);isNaN(n)||(activeApplication.workspace.removeSelectionPreview(),activeApplication.workspace.removeInteractions(),e.setAttributeElementList_undable(i.selectionList,{"font-size":n},!0,300))}onSliderChangeStart_fontSize(t){const e=activeApplication.activeDocument.activePage;activeApplication.workspace.removeSelectionPreview(),activeApplication.workspace.removeInteractions(),this.undoAction=new UndoRedoAction,this.redoAction=new UndoRedoAction,e.history.addUndoRedoActions(this.undoAction,this.redoAction),this.undoAction.createAttributeSnapshot(e.selectionList,"font-size")}onSliderChangeEnd_fontSize(t){const e=activeApplication.activeDocument,i=e.activePage;this.redoAction.createAttributeSnapshot(i.selectionList,"font-size"),this.undoAction=this.redoAction=null,e.onChange(),activeApplication.workspace.update()}onSliderChange_fontSize(t){const e=activeApplication.activeDocument,i=e.activePage;this.undoAction||this.onSliderChangeStart_fontSize(t),e.setAttributeElementList(i.selectionList,{"font-size":t.target.value}),this.controlledElements.fontSize.value=t.target.value+" pt"}onChange_textDecoration(t){const e=activeApplication.activeDocument,i=e.activePage,n=XOS.getFilteredElementListByNodeName(i.selectionList,"text");0!==n.length&&(e.setAttributeElementList_undable(n,{"text-decoration":t.target.value}),n[0].focus())}onChange_useRichText(t){const e=activeApplication.activeDocument,i=e.activePage,n=XOS.getFilteredElementListByNodeName(i.selectionList,"text");0!==n.length&&(e.setAttributeElementList_undable(n,{"data-use-rich-text":String(t.target.checked)}),n[0].focus())}onChange_lineHeight(t){const e=activeApplication.activeDocument,i=e.activePage;let n=Math.evalExpression(t.target.value);isNaN(n)&&(n="normal"),activeApplication.workspace.removeSelectionPreview(),activeApplication.workspace.removeInteractions(),e.setAttributeElementList_undable(i.selectionList,{"line-height":n},!0,300)}onSliderChangeStart_lineHeight(t){const e=activeApplication.activeDocument.activePage;activeApplication.workspace.removeSelectionPreview(),activeApplication.workspace.removeInteractions(),this.undoAction=new UndoRedoAction,this.redoAction=new UndoRedoAction,e.history.addUndoRedoActions(this.undoAction,this.redoAction),this.undoAction.createAttributeSnapshot(e.selectionList,"line-height")}onSliderChangeEnd_lineHeight(t){const e=activeApplication.activeDocument,i=e.activePage;this.redoAction.createAttributeSnapshot(i.selectionList,"line-height"),this.undoAction=this.redoAction=null,e.onChange(),activeApplication.workspace.update()}onSliderChange_lineHeight(t){const e=activeApplication.activeDocument,i=e.activePage;this.undoAction||this.onSliderChangeStart_lineHeight(t),e.setAttributeElementList(i.selectionList,{"line-height":t.target.value}),this.controlledElements.lineHeight.value=t.target.value+" pt"}onChange_letterSpacing(t){const e=activeApplication.activeDocument,i=e.activePage;let n=Math.evalExpression(t.target.value);activeApplication.workspace.removeSelectionPreview(),activeApplication.workspace.removeInteractions(),e.setAttributeElementList_undable(i.selectionList,{"letter-spacing":n},!0,300)}onSliderChangeStart_letterSpacing(t){const e=activeApplication.activeDocument.activePage;activeApplication.workspace.removeSelectionPreview(),activeApplication.workspace.removeInteractions(),this.undoAction=new UndoRedoAction,this.redoAction=new UndoRedoAction,e.history.addUndoRedoActions(this.undoAction,this.redoAction),this.undoAction.createAttributeSnapshot(e.selectionList,"letter-spacing")}onSliderChangeEnd_letterSpacing(t){const e=activeApplication.activeDocument,i=e.activePage;this.redoAction.createAttributeSnapshot(i.selectionList,"letter-spacing"),this.undoAction=this.redoAction=null,e.onChange(),activeApplication.workspace.update()}onSliderChange_letterSpacing(t){const e=activeApplication.activeDocument,i=e.activePage;this.undoAction||this.onSliderChangeStart_letterSpacing(t),e.setAttributeElementList(i.selectionList,{"letter-spacing":t.target.value}),this.controlledElements.letterSpacing.value=t.target.value+" pt"}onChange_wordSpacing(t){const e=activeApplication.activeDocument,i=e.activePage;let n=Math.evalExpression(t.target.value);activeApplication.workspace.removeSelectionPreview(),activeApplication.workspace.removeInteractions(),e.setAttributeElementList_undable(i.selectionList,{"word-spacing":n},!0,300)}onSliderChangeStart_wordSpacing(t){const e=activeApplication.activeDocument.activePage;activeApplication.workspace.removeSelectionPreview(),activeApplication.workspace.removeInteractions(),this.undoAction=new UndoRedoAction,this.redoAction=new UndoRedoAction,e.history.addUndoRedoActions(this.undoAction,this.redoAction),this.undoAction.createAttributeSnapshot(e.selectionList,"word-spacing")}onSliderChangeEnd_wordSpacing(t){const e=activeApplication.activeDocument,i=e.activePage;this.redoAction.createAttributeSnapshot(i.selectionList,"word-spacing"),this.undoAction=this.redoAction=null,e.onChange(),activeApplication.workspace.update()}onSliderChange_wordSpacing(t){const e=activeApplication.activeDocument,i=e.activePage;this.undoAction||this.onSliderChangeStart_wordSpacing(t),e.setAttributeElementList(i.selectionList,{"word-spacing":t.target.value}),this.controlledElements.wordSpacing.value=t.target.value+" pt"}onChange_startOffset(t){const e=activeApplication.activeDocument,i=e.activePage.activeEditableElement.querySelector("textPath");i&&e.setAttributeElementList_undable([i],{startOffset:Math.evalExpression(t.target.value)}),e.onChange()}onSliderChangeStart_startOffset(t){const e=activeApplication.activeDocument.activePage,i=e.focusedElement;activeApplication.workspace.removeSelectionPreview(),activeApplication.workspace.removeInteractions(),this.undoAction=new UndoRedoAction,this.redoAction=new UndoRedoAction,e.history.addUndoRedoActions(this.undoAction,this.redoAction);const n=i.querySelector("textPath");this.undoAction.createAttributeSnapshot([n],"startOffset")}onSliderChangeEnd_startOffset(t){const e=activeApplication.activeDocument,i=e.activePage.focusedElement.querySelector("textPath");this.redoAction.createAttributeSnapshot([i],"startOffset"),this.undoAction=this.redoAction=null,e.onChange(),activeApplication.workspace.update()}onSliderChange_startOffset(t){const e=activeApplication.activeDocument,i=e.activePage.focusedElement;this.undoAction||this.onSliderChangeStart_startOffset(t);const n=i.querySelector("textPath");e.setAttributeElementList([n],{startOffset:t.target.value}),this.controlledElements.startOffset.value=t.target.value+" pt"}onClick_textAlign(t){const e=activeApplication.activeDocument,i=e.activePage,n=XOS.getFilteredElementListByNodeName(i.selectionList,"text");0!==n.length&&e.setAttributeElementList_undable(n,{"text-align":t.target.getAttribute("data-value")})}onClick_textDecoration(t){const e=activeApplication.activeDocument,i=e.activePage,n=XOS.getFilteredElementListByNodeName(i.selectionList,"text");0!==n.length&&(e.setAttributeElementList_undable(n,{"text-decoration":t.target.getAttribute("data-value")}),n[0].focus())}onClick_convertToPath(t){const e=activeApplication.activeDocument,i=e.activePage;i.focusedElement;e.isTextEditing&&e.exitFrom_TextEditing(),TOOLS.activeTool!==TOOLS["selection-tool"]&&activeApplication.setActiveTool("selection-tool"),e.convertElementListToPath_undable(i.selectionList)}}customElements.define("text-inspector",TextInspector_cmp);class ElementInfoInspector_cmp extends HTMLElement{constructor(){super(),this.controlledElements=XOS.connectDomEvents(this.querySelectorAll("[data-event]"),this)}onClick_collapse(t){t.target.closest(".property-container").classList.toggle("collapsed"),this.update()}update(){const t=activeApplication.activeDocument.activePage.focusedElement;if(t){this.controlledElements.id.value=t.getAttribute("id")||"",this.controlledElements.name.value=t.getAttribute("data-name")||"",this.controlledElements.cssClass.value=t.getAttribute("data-css-class")||"";let e="",i=t.querySelector(":scope > title");i&&(e=i.innerHTML),this.controlledElements.title.value=e;let n="",s=t.querySelector(":scope > desc");s&&(n=s.innerHTML),this.controlledElements.desc.value=n,this.controlledElements.anchorLink.value=t.getAttribute("data-xlink-href")||"",this.controlledElements.anchorLinkTarget.value=t.getAttribute("data-xlink-target")||"";const o=this.controlledElements.anchorNames,a=o.firstElementChild;o.removeChildren(),o.appendChild(a);const r=activeApplication.activeDocument.pageList.querySelectorAll(":scope>.page[id]");let l,c,d;const u=r.length;for(let t=0;t<u;t++)(c=r[t]).hasAttribute("id")&&(d=c.getAttribute("id"),(l=a.cloneNode()).value="#"+d,l.innerHTML=d,o.appendChild(l))}}onChange_ID(t){const e=activeApplication.activeDocument.activePage.focusedElement,i=t.target.value;if(""!==i){if(!/^[A-Za-z][-A-Za-z0-9_:.]*$/.test(i))return void DIALOGS["alert-dialog"].open(localString("Invalid identifier"),localString("ID must begin with a letter ([A-Za-z]) and may be followed by any number of letters."));if(activeApplication.activeDocument.shadowRoot.querySelector('*[id="'+i+'"]'))return void DIALOGS["alert-dialog"].open(localString("Existent ID"),localString("The document already contains an element with ID:")+i)}t.target.blur(),activeApplication.activeDocument.setAttributeElementList_undable([e],{id:i})}onChange_title(t){const e=activeApplication.activeDocument.activePage.focusedElement;let i=e.querySelector("title");""===t.target.value?i&&i.remove():(i||(i=document.createElementNS(SVGSVGElement.SVG_NS,"title"),e.appendChild(i)),i.innerHTML=XOS.stripHtml(t.target.value))}onChange_desc(t){const e=activeApplication.activeDocument.activePage.focusedElement;let i=e.querySelector("desc");""===t.target.value?i&&i.remove():(i||(i=document.createElementNS(SVGSVGElement.SVG_NS,"desc"),e.appendChild(i)),i.innerHTML=XOS.stripHtml(t.target.value))}onChange_name(t){const e=activeApplication.activeDocument.activePage.focusedElement;""===t.target.value?e.removeAttribute("data-name"):e.setAttribute("data-name",t.target.value)}onChange_cssClass(t){const e=activeApplication.activeDocument.activePage.focusedElement,i=t.target.value;""===i?e.removeAttribute("data-css-class"):e.setAttribute("data-css-class",i)}onChange_anchorNames(t){"no-set"!==t.target.value&&(this.controlledElements.anchorLink.value=t.target.value,t.target.value="no-set"),this.onChange_anchorLink()}onChange_anchorLink(t){const e=activeApplication.activeDocument.activePage.focusedElement;let i=this.controlledElements.anchorLink.value;""===i?(e.removeAttribute("data-xlink-href"),e.removeAttribute("data-xlink-target")):e.setAttribute("data-xlink-href",i)}onChange_anchorLinkTarget(t){const e=activeApplication.activeDocument.activePage.focusedElement;let i=t.target.value;""===i?e.removeAttribute("data-xlink-target"):e.setAttribute("data-xlink-target",i)}}customElements.define("element-info-inspector",ElementInfoInspector_cmp);class MarkersInspector_cmp extends HTMLElement{constructor(){super(),PANELS[this.nodeName.toLowerCase()]=this,this.controlledElements=XOS.connectDomEvents(this.querySelectorAll("[data-event]"),this)}onClick_collapse(t){t.target.closest(".property-container").classList.toggle("collapsed"),this.update()}onClick_showMarkerLibrary(){WINDOWS.mainLibraryWindow.showSection("marker-library")}update(){const t=activeApplication.activeDocument.activePage.focusedElement;let e="",i="",n="";if(!t||-1===["line","path"].indexOf(t.nodeName))return void this.classList.add("hidden");this.classList.remove("hidden"),e=t.getAttribute("marker-start")||"",i=t.getAttribute("marker-mid")||"",n=t.getAttribute("marker-end")||"";const s=this;function o(t,e){const i=activeApplication.activeDocument.resources.getResourceByIRI(e),n=i.cloneNode(!0);n.setAttribute("id",t);const o=s.querySelector("#"+t);o.parentElement.replaceChild(n,o),n.markerRef=i}function a(t){const e=s.querySelector("#"+t);e.style.visibility="collapse",e.markerRef=null}""!==e?o("MARKER_START",e):a("MARKER_START"),""!==i?o("MARKER_MID",i):a("MARKER_MID"),""!==n?o("MARKER_END",n):a("MARKER_END"),this.updateSelectedMarkerProperties()}updateSelectedMarkerProperties(){const t=activeApplication.activeDocument,e=this.querySelector(".markers-display .selected");this.focusedMarker=e.querySelector("marker").markerRef,this.focusedMarker?(this.querySelector("#marker-properties").style.display="block",this.controlledElements.id.value=this.focusedMarker.getAttribute("id"),this.controlledElements.markerUnits.value=this.focusedMarker.getAttribute("markerUnits")||"strokeWidth",this.controlledElements.refX.value=t.valueToUnit(this.focusedMarker.getAttribute("refX")),this.controlledElements.refY.value=t.valueToUnit(this.focusedMarker.getAttribute("refY")),this.controlledElements.markerWidth.value=t.valueToUnit(this.focusedMarker.getAttribute("markerWidth")),this.controlledElements.markerHeight.value=t.valueToUnit(this.focusedMarker.getAttribute("markerHeight")),this.controlledElements.orient.value=this.focusedMarker.getAttribute("orient"),"auto"!==this.controlledElements.orient.value&&"auto-start-reverse"!==this.controlledElements.orient.value?this.controlledElements.orientMode.value="angle":this.controlledElements.orientMode.value=this.controlledElements.orient.value):this.querySelector("#marker-properties").style.display="none"}onClick_markerDisplay(t){XOS.selectElement(t.target),this.updateSelectedMarkerProperties()}onChange_markerID(t){const e=this.controlledElements.id.value;if(""===e)return;const i=activeApplication.activeDocument;function n(){this.close(),t.target.focus(),t.target.select()}/^[A-Za-z][-A-Za-z0-9_:.]*$/.test(e)?i.shadowRoot.querySelector('*[id="'+e+'"]')?DIALOGS["alert-dialog"].open(localString("Existent ID"),localString("The document already contains an element with ID:")+e,n):(t.target.blur(),i.refactorElementID(this.focusedMarker,e),this.update()):DIALOGS["alert-dialog"].open(localString("Invalid identifier"),localString("ID must begin with a letter ([A-Za-z]) and may be followed by any number of letters."),n)}onClick_cloneMarker(t){const e=activeApplication.activeDocument,i=e.activePage,n=this.focusedMarker.cloneNode(!0),s=e.resources.createResourceIdFromExistentId(n.getAttribute("id"));e.resources.addResource(n,s);const o="url(#"+s+")",a={};a[this.querySelector(".markers-display .selected").getAttribute("name")]=o,e.setAttributeElementList_undable(i.selectionList,a),this.update()}getActiveMarkerSideName(){return this.querySelector(".markers-display .selected").getAttribute("name")}onClick_editMarker(t){const e=activeApplication.activeDocument;e.activePage;e.enterTo_isolateLayerEditing(this.focusedMarker)}onClick_removeMarker(t){const e=activeApplication.activeDocument,i=e.activePage,n={};n[this.querySelector(".markers-display .selected").getAttribute("name")]="",e.setAttributeElementList_undable(i.selectionList,n),this.update()}onChange_markerUnits(t){const e=activeApplication.activeDocument;e.activePage;e.setAttributeElementList_undable([this.focusedMarker],{markerUnits:t.target.value},!1)}onChange_refX(t){const e=activeApplication.activeDocument;e.setAttributeElementList_undable([this.focusedMarker],{refX:e.unitToValue(t.target.value)},!1)}onChange_refY(t){const e=activeApplication.activeDocument;e.setAttributeElementList_undable([this.focusedMarker],{refY:e.unitToValue(t.target.value)},!1)}onChange_markerWidth(t){const e=activeApplication.activeDocument;e.setAttributeElementList_undable([this.focusedMarker],{markerWidth:e.unitToValue(t.target.value)},!1)}onChange_markerHeight(t){const e=activeApplication.activeDocument;e.setAttributeElementList_undable([this.focusedMarker],{markerHeight:e.unitToValue(t.target.value)},!1)}onChange_orientMode(t){if("angle"===t.target.value)this.controlledElements.orient.value="0";else{activeApplication.activeDocument.setAttributeElementList_undable([this.focusedMarker],{orient:t.target.value},!1),this.controlledElements.orient.value=t.target.value}}onChange_orient(t){""===t.target.value&&(t.target.value="auto"),activeApplication.activeDocument.setAttributeElementList_undable([this.focusedMarker],{orient:t.target.value},!1)}}customElements.define("markers-inspector",MarkersInspector_cmp);class FiltersInspector_cmp extends HTMLElement{constructor(){super(),this.init()}init(){this.controlledElements=XOS.connectDomEvents(this.querySelectorAll("[data-event]"),this);for(const t in this.controlledElements){const e=this.controlledElements[t];"color"===e.dataset.type&&Object.defineProperty(e,"value",{get:function(t){return e.querySelector(".rgba").style.backgroundColor},set:function(t){e.querySelector(".rgba").style.backgroundColor=t}})}}chooseColor(t){const e=t.target,i=PANELS["global-color-picker"],n=this;i.set(e.value,1,function(t){e.value=t.hex,console.log(" _colorPicker.hex",t.hex),n.applyFilter()}),i.activateBy(e)}update(){const t=activeApplication.activeDocument.activePage.focusedElement;if(XOS.hideElementChildren(this.querySelector(".filter-properties")),t.hasAttribute("filter")){let e=t.getAttribute("filter").replace(/\s\s+/g," ").split(") ");for(let t=0;t<e.length;t++){const i=e[t],n=i.substring(0,i.indexOf("(")).trim();if(""===n)continue;const s=i.substring(i.indexOf("(")+1).split(" "),o=[];for(let t=0;t<s.length;t++)""!==s[t]&&" "!==s[t]&&o.push(s[t]);const a=this.querySelector('[data-filter-name="'+n+'"]');if(!a)continue;const r=a.querySelectorAll('input[type="text"] , [data-type="color"] ');for(let t=0;t<r.length;t++){const e=r[t];let i=o[t];if("color"===e.dataset.type)console.log("color",i),e.value=i;else{e.value=parseFloat(i)+e.dataset.unit;const t=e.previousElementSibling;t&&(t.value=parseFloat(i))}}XOS.showElement(a,"add")}}}onChange_filterList(t){activeApplication.activeDocument.activePage.focusedElement;if("add-filter"!==t.target.value){const e=t.target.value,i=this.querySelector('[data-filter-name="'+e+'"]'),n=i.querySelectorAll('input[type="text"]');for(let t=0;t<n.length;t++){const e=n[t];let i=e.dataset.defaultValue;i+=e.dataset.unit,e.value=i}XOS.showElement(i,"add"),t.target.value="add-filter",this.applyFilter()}}onSliderChange_filterProperty(t){!0!==t.target.changed&&(this.onSliderChangeStart_filterProperty(t),t.target.changed=!0);const e=t.target.nextElementSibling;let i=t.target.value;i+=e.dataset.unit,e.value=i,this.applyFilter()}onSliderChangeEnd_filterProperty(t){t.target.changed=!1;const e=activeApplication.activeDocument,i=e.activePage.selectionList;this.redoAction.createAttributeSnapshot(i,"filter"),this.undoAction.onExecuteEnd=this.redoAction.onExecuteEnd=function(){e.selectElementList(i)},this.undoAction=this.redoAction=null,e.onChange(),console.log("onSliderChangeEnd_filterProperty")}onSliderChangeStart_filterProperty(t){console.log("onSliderChangeStart_filterProperty"),this.createUndoRedo()}createUndoRedo(){const t=activeApplication.activeDocument.activePage;this.undoAction=new UndoRedoAction,this.redoAction=new UndoRedoAction,t.history.addUndoRedoActions(this.undoAction,this.redoAction),this.undoAction.createAttributeSnapshot(t.selectionList,"filter")}onChange_filterProperty(t){const e=t.target.previousElementSibling;"INPUT"===e.nodeName&&(e.value=parseFloat(t.target.value)),t.target.value=parseFloat(t.target.value)+t.target.dataset.unit,this.createUndoRedo(),this.applyFilter();const i=activeApplication.activeDocument,n=i.activePage.selectionList;this.redoAction.createAttributeSnapshot(n,"filter"),this.undoAction.onExecuteEnd=this.redoAction.onExecuteEnd=function(){i.selectElementList(n)},this.undoAction=this.redoAction=null,i.onChange()}onClick_removeFilter(t){const e=t.target.closest("[data-filter-name]");XOS.hideElement(e),this.applyFilter()}applyFilter(){const t=activeApplication.activeDocument.activePage.focusedElement;let e="";const i=this.querySelectorAll("[data-filter-name].showed");for(let t=0;t<i.length;t++){e+=i[t].dataset.filterName+"(";const n=i[t].querySelectorAll('input[type="text"] , [data-type="color"]');for(let t=0;t<n.length;t++)e+=" "+n[t].value;e+=") "}t.setAttribute("filter",e)}}customElements.define("filters-inspector",FiltersInspector_cmp);class StrokeInspector_cmp extends PopUpPanel{constructor(){super("S"),this.strokeGradientDef=document.querySelector("#APPLICATION_DEFS #STROKE_GRADIENT"),this.strokePatternDef=document.querySelector("#APPLICATION_DEFS #STROKE_PATTERN"),this.strokeDisplay=this.querySelector("#STROKE_DISPLAY"),this.controlledElements=XOS.connectDomEvents(this.querySelectorAll("[data-event]"),this),this.controlledElements.strokeLineCap=this.querySelector('[name="strokeLineCap"]'),this.controlledElements.strokeLineJoin=this.querySelector('[name="strokeLineJoin"]')}onClick_collapse(t){t.target.closest(".property-container").classList.toggle("collapsed"),this.update()}onClickOnTabBar(t){XOS.selectElement(t.target),XOS.showElement(this.querySelector("."+t.target.dataset.sectionTarget))}update(){this.updateStrokeWidth(),this.updateCapAndJoin(),this.updateDash()}updateStrokeWidth(){const t=activeApplication.activeDocument,e=t.fillAndStrokeManager;this.controlledElements.strokeWidthSlider.value=e["stroke-width"],this.controlledElements.strokeWidth.value=t.valueToFixed(e["stroke-width"])+" px",this.controlledElements.nonScalingStroke.checked=e.nonScalingStroke}updateCapAndJoin(){const t=activeApplication.activeDocument.fillAndStrokeManager,e=t["stroke-linecap"]||"butt";XOS.selectElement(this.controlledElements.strokeLineCap.querySelector('[data-value="'+e+'"]'));const i=t["stroke-linejoin"]||"miter";XOS.selectElement(this.controlledElements.strokeLineJoin.querySelector('[data-value="'+i+'"]'))}updateDash(){const t=activeApplication.activeDocument,e=t.activePage;let i;for(i=0;i<6;i++)this.controlledElements["strokeDashArray_"+i].value="";const n=e.focusedElement;if(n&&n.hasAttribute("stroke-dasharray")&&""!==n.getAttribute("stroke-dasharray")){const e=n.getAttribute("stroke-dasharray").split(/,| /);for(i=0;i<e.length;i++)this.controlledElements["strokeDashArray_"+i].value=t.valueToFixed(parseFloat(e[i]));this.controlledElements.strokeDashOffsetSlider.value=parseFloat(n.getAttribute("stroke-dasharray")),this.controlledElements.strokeDashOffset.value=t.valueToFixed(this.controlledElements.strokeDashOffsetSlider.value)+" px"}else this.controlledElements.strokeDashOffsetSlider.value=0,this.controlledElements.strokeDashOffset.value=""}updateMarkers(){const t=activeApplication.activeDocument.activePage.focusedElement;let e="",i="",n="";if(!t||-1===["line","path","rect","ellipse"].indexOf(t.nodeName))return;if(e=t.getAttribute("marker-start")||"",i=t.getAttribute("marker-mid")||"",n=t.getAttribute("marker-end")||"",""===e&&""===i&&""===n)return;const s=this;function o(t,e){const i=activeApplication.activeDocument.resources.getResourceByIRI(e),n=i.cloneNode(!0);n.setAttribute("id",t);const o=s.querySelector("#"+t);o.parentElement.replaceChild(n,o),n.markerRef=i}function a(t){const e=s.querySelector("#"+t);e.style.visibility="collapse",e.markerRef=null}""!==e?o("MARKER_START",e):a("MARKER_START"),""!==i?o("MARKER_MID",i):a("MARKER_MID"),""!==n?o("MARKER_END",n):a("MARKER_END"),this.updateSelectedMarkerProperties()}updateSelectedMarkerProperties(){const t=activeApplication.activeDocument,e=this.querySelector(".markers-display .selected");this.focusedMarker=e.querySelector("marker").markerRef,this.focusedMarker?(this.querySelector("#marker-properties").style.display="block",this.controlledElements.id.value=this.focusedMarker.getAttribute("id"),this.controlledElements.markerUnits.value=this.focusedMarker.getAttribute("markerUnits")||"strokeWidth",this.controlledElements.refX.value=t.valueToUnit(this.focusedMarker.getAttribute("refX")),this.controlledElements.refY.value=t.valueToUnit(this.focusedMarker.getAttribute("refY")),this.controlledElements.markerWidth.value=t.valueToUnit(this.focusedMarker.getAttribute("markerWidth")),this.controlledElements.markerHeight.value=t.valueToUnit(this.focusedMarker.getAttribute("markerHeight")),this.controlledElements.orient.value=this.focusedMarker.getAttribute("orient"),"auto"!==this.controlledElements.orient.value&&"auto-start-reverse"!==this.controlledElements.orient.value?this.controlledElements.orientMode.value="angle":this.controlledElements.orientMode.value=this.controlledElements.orient.value):this.querySelector("#marker-properties").style.display="none"}onChange_strokeWidth(t){const e=activeApplication.activeDocument,i=e.activePage;let n=Math.evalExpression(t.target.value);isNaN(n)||(i.selectionList.length>0&&e.setAttributeElementList_undable(i.selectionList,{"stroke-width":n}),e.fillAndStrokeManager.set_stroke({"stroke-width":n}))}onSliderChangeEnd_strokeWidth(t){const e=activeApplication.activeDocument,i=e.activePage.selectionList;this.undoAction&&(this.redoAction.createAttributeSnapshot(i,"stroke-width"),this.undoAction.onExecuteEnd=this.redoAction.onExecuteEnd=function(){e.selectElementList(i)},e.onChange()),e.fillAndStrokeManager.set_stroke({"stroke-width":t.target.value}),this.undoAction=this.redoAction=null}onSliderChange_strokeWidth(t){const e=activeApplication.activeDocument,i=e.activePage;i.selectionList.length>0&&(this.undoAction||(this.undoAction=new UndoRedoAction,this.redoAction=new UndoRedoAction,i.history.addUndoRedoActions(this.undoAction,this.redoAction),this.undoAction.createAttributeSnapshot(i.selectionList,"stroke-width")),e.setAttributeElementList(i.selectionList,{"stroke-width":t.target.value})),this.controlledElements.strokeWidth.value=t.target.value+" px"}onChange_nonScalingStroke(t){const e=activeApplication.activeDocument,i=e.activePage;let n=null;t.target.checked&&(n="non-scaling-stroke"),e.fillAndStrokeManager.nonScalingStroke=t.target.checked,i.selectionList.length>0&&e.setAttributeElementList_undable(i.selectionList,{"vector-effect":n})}onClick_lineCup(t){const e=activeApplication.activeDocument,i=e.activePage,n=t.target.closest("[data-value]");i.selectionList.length>0?e.setAttributeElementList_undable(i.selectionList,{"stroke-linecap":n.dataset.value}):e.fillAndStrokeManager.set_stroke({"stroke-linecap":n.dataset.value}),this.update()}onClick_lineJoin(t){const e=activeApplication.activeDocument,i=e.activePage,n=t.target.closest("[data-value]");i.selectionList.length>0?e.setAttributeElementList_undable(i.selectionList,{"stroke-linejoin":n.dataset.value}):e.fillAndStrokeManager.set_stroke({"stroke-linejoin":n.dataset.value}),this.update()}onChange_miterLimit(t){const e=activeApplication.activeDocument,i=e.activePage;let n=Math.evalExpression(t.target.value);isNaN(n)&&(n=4),e.setAttributeElementList_undable(i.selectionList,{"stroke-miterlimit":n})}onClickStrokeDashStyle(t){const e=activeApplication.activeDocument,i=e.activePage,n=t.target.querySelector("line").getAttribute("stroke-dasharray");e.setAttributeElementList_undable(i.selectionList,{"stroke-dasharray":n}),this.updateDash()}onChange_strokeDashArray(t){const e=activeApplication.activeDocument,i=e.activePage;if(isNaN(Math.evalExpression(t.target.value)))return;let n,s,o="";for(n=0;n<6&&""!==(s=this.controlledElements["strokeDashArray_"+n]).value;n++)o+=s.value+" ";o=o.trim(),e.setAttributeElementList_undable(i.selectionList,{"stroke-dasharray":o})}onChange_strokeDashOffset(t){const e=activeApplication.activeDocument,i=e.activePage;let n=Math.evalExpression(t.target.value);isNaN(n)||e.setAttributeElementList_undable(i.selectionList,{"stroke-dashoffset":n})}onSliderChangeEnd_strokeDashOffset(t){const e=activeApplication.activeDocument,i=e.activePage.selectionList;this.redoAction.createAttributeSnapshot(i,"stroke-dashoffset"),this.undoAction.onExecuteEnd=this.redoAction.onExecuteEnd=function(){e.selectElementList(i)},this.undoAction=this.redoAction=null,e.onChange()}onSliderChange_strokeDashOffset(t){const e=activeApplication.activeDocument,i=e.activePage;this.undoAction||(this.undoAction=new UndoRedoAction,this.redoAction=new UndoRedoAction,i.history.addUndoRedoActions(this.undoAction,this.redoAction),this.undoAction.createAttributeSnapshot(i.selectionList,"stroke-dashoffset")),e.setAttributeElementList(i.selectionList,{"stroke-dashoffset":t.target.value}),this.controlledElements.strokeDashOffset.value=t.target.value+" px"}}customElements.define("stroke-inspector",StrokeInspector_cmp);class FillingInspector_cmp extends PopUpPanel{constructor(){super("S"),this.controlledElements=XOS.connectDomEvents(this.querySelectorAll('[data-event="change:onChange_fillingType"],[data-event="click:onClick_fillingType"]'),this),this.controlledElements=XOS.connectDomEvents(this.querySelectorAll(".content>.button-bar.small>[data-event]"),this,this.controlledElements)}onDomReady(){let t,e;this.querySelector("color-picker").setOnChangeEvents(function(i){if(t&&e){const i=activeApplication.activeDocument,n=i.fillAndStrokeManager.focusedGraphicSideName,s=i.activePage.selectionList;e.createAttributeSnapshot(s,n+","+n+"-opacity"),t.onExecuteEnd=e.onExecuteEnd=function(){i.selectElementList(s)},i.onChange()}t=e=null},function(t){const e=activeApplication.activeDocument,i=e.fillAndStrokeManager.focusedGraphicSideName,n=e.activePage,s={};s[i]=t.hex,s[i+"-opacity"]=t.alpha,n.selectionList.length>0&&e.setAttributeElementList(n.selectionList,s),e.fillAndStrokeManager["set_"+i](s)},function(i){const n=activeApplication.activeDocument,s=n.fillAndStrokeManager.focusedGraphicSideName,o=n.activePage;o.selectionList.length>0&&(t=new UndoRedoAction,e=new UndoRedoAction,o.history.addUndoRedoActions(t,e),t.createAttributeSnapshot(o.selectionList,s+","+s+"-opacity"))})}activateBy(t,e,i=!0){activeApplication.activeDocument.fillAndStrokeManager.focusedGraphicSideName=t.dataset.graphicSide,super.activateBy(t,e,i)}onClick_collapse(t){t.target.closest(".property-container").classList.toggle("collapsed"),this.update()}update(){const t=activeApplication.activeDocument,e=t.fillAndStrokeManager.focusedGraphicSideName;this.classList.add(e),this.querySelector(".title").innerHTML=localString(e);const i=t.fillAndStrokeManager[e+"FillingType"];if("radialGradient"===i||"linearGradient"===i){this.controlledElements.fillingType.value="gradient";const t=this.querySelector("gradient-inspector");XOS.showElement(t),t.update(),XOS.selectElement(this.querySelector('[data-filling-type="gradient"]'))}else if("pattern"===i){this.controlledElements.fillingType.value="pattern";const t=this.querySelector("pattern-inspector");XOS.showElement(t),t.update(),XOS.selectElement(this.querySelector('[data-filling-type="pattern"]'))}else if("color"===i){this.controlledElements.fillingType.value="color";const i=this.querySelector("color-picker");XOS.showElement(i),i.setColor(t.fillAndStrokeManager[e],t.fillAndStrokeManager[e+"-opacity"]),XOS.selectElement(this.querySelector('[data-filling-type="color"]'))}else this.controlledElements.fillingType.value="none",XOS.showElement(this.querySelector(".none-context")),XOS.selectElement(this.querySelector('[data-filling-type="none"]'))}onClick_fillingType(t){this.setSelectionFillingType(t.target.dataset.fillingType)}onChange_fillingType(t){this.setSelectionFillingType(t.target.value)}setSelectionFillingType(t){const e=activeApplication.activeDocument,i=e.fillAndStrokeManager.focusedGraphicSideName,n=e.activePage,s=n.selectionList,o=i,a=i+"-opacity",r=t;if("none"===r){const t={};t[o]="none",t[a]="1",s.length>0?e.setAttributeElementList_undable(n.selectionList,t):e.fillAndStrokeManager["set_"+i](t),this.update()}else if("color"===r){const t={};t[o]="#FFFFFF",t[a]="1",s.length>0?e.setAttributeElementList_undable(n.selectionList,t):e.fillAndStrokeManager["set_"+i](t),this.update()}else if("gradient"===r){const t=activeApplication.activeDocument.activePage;let n=e.fillAndStrokeManager[o+"Gradient"]||document.querySelector("#defaultGradient"),r=n.getAttribute("id");if(!e.resources.getResourceById(r)){const t=n.cloneNode(!0);e.resources.addResource(t)}const l={};l[o]="url(#"+r+")",l[a]="1",s.length>0?e.setAttributeElementList_undable(t.selectionList,l):e.fillAndStrokeManager["set_"+i](l),this.update()}else if("pattern"===r){let t=e.fillAndStrokeManager[o+"Pattern"]||document.querySelector("#defaultPattern"),r=t.getAttribute("id");if(!e.resources.getResourceById(r)){const i=t.cloneNode(!0);e.resources.addResource(i)}const l={};l[o]="url(#"+r+")",l[a]="1",s.length>0?e.setAttributeElementList_undable(n.selectionList,l):e.fillAndStrokeManager["set_"+i](l),this.update()}else if("swapFillStroke"===r){const t=e.fillAndStrokeManager.stroke;let i=e.fillAndStrokeManager["stroke-width"];"0"!==i&&0!==i||(i=1);const o={fill:t,"fill-opacity":e.fillAndStrokeManager["stroke-opacity"]||1,stroke:e.fillAndStrokeManager.fill,"stroke-opacity":e.fillAndStrokeManager["fill-opacity"]||1,"stroke-width":i};s.length>0?e.setAttributeElementList_undable(n.selectionList,o):(e.fillAndStrokeManager.set_stroke(o),e.fillAndStrokeManager.set_fill(o)),this.update()}}}customElements.define("filling-inspector",FillingInspector_cmp);class GradientInspector_cmp extends HTMLElement{constructor(){super(),this.stopColorListContainer=this.querySelector("#GRADIENT_COLOR_LIST"),this.stopColorTemplate=this.stopColorListContainer.querySelector(".editable-gradient-color"),this.stopColorTemplate.parentElement.removeChild(this.stopColorTemplate),this.controlledElements=XOS.connectDomEvents(this.querySelectorAll("[data-event]"),this)}onClick_collapse(t){t.target.closest(".property-container").classList.toggle("collapsed"),this.update()}onClick_showGradientLibrary(){WINDOWS.mainLibraryWindow.showSection("gradient-library")}update(t){const e=activeApplication.activeDocument,i=e.fillAndStrokeManager.focusedGraphicSideName;this.editableGradient=e.fillAndStrokeManager[i+"GradientDef"],this.stopColorListContainer.previousElementSibling.setAttribute("fill","url(#"+this.editableGradient.getAttribute("id")+")"),this.createEditableStopColors(),this.controlledElements.id.value=this.editableGradient.original.getAttribute("id"),this.controlledElements.spreadMethod.value=this.editableGradient.original.getAttribute("spreadMethod")||"pad";const n=this.controlledElements.gradientUnits.value=this.editableGradient.original.getAttribute("gradientUnits")||"objectBoundingBox",s=this.editableGradient.original.nodeName;if(this.controlledElements.gradientType.value=this.editableGradient.original.nodeName,"linearGradient"===s){let t,i,s,o;XOS.showElement(this.querySelector("#LINEAR_GRADIENT_PROPERTIES")),t=e.valueToFixed(this.editableGradient.original.getAttribute("x1")),i=e.valueToFixed(this.editableGradient.original.getAttribute("y1")),s=e.valueToFixed(this.editableGradient.original.getAttribute("x2")),o=e.valueToFixed(this.editableGradient.original.getAttribute("y2")),"objectBoundingBox"===n||"userSpaceOnUse"===n&&(t+=" px",i+=" px",s+=" px",o+=" px"),this.controlledElements.x1.value=t,this.controlledElements.y1.value=i,this.controlledElements.x2.value=s,this.controlledElements.y2.value=o}else{XOS.showElement(this.querySelector("#RADIAL_GRADIENT_PROPERTIES"));let t,i,s,o="",a="";t=e.valueToFixed(this.editableGradient.original.getAttribute("cx")),i=e.valueToFixed(this.editableGradient.original.getAttribute("cy")),s=e.valueToFixed(this.editableGradient.original.getAttribute("r")),this.editableGradient.original.hasAttribute("fx")&&(o=e.valueToFixed(this.editableGradient.original.getAttribute("fx"))),this.editableGradient.original.hasAttribute("fy")&&(a=e.valueToFixed(this.editableGradient.original.getAttribute("fy"))),"objectBoundingBox"===n||"userSpaceOnUse"===n&&(t+=" px",i+=" px",s+=" px",""!==o&&(o+=" px"),""!==a&&(a+=" px")),this.controlledElements.cx.value=t,this.controlledElements.cy.value=i,this.controlledElements.r.value=s,this.controlledElements.fx.value=o,this.controlledElements.fy.value=a}}createEditableStopColors(){let t,e;this.stopColorListContainer.removeChildren();const i=this.editableGradient.children.length;for(let n=0;n<i;n++)(t=this.editableGradient.children[n]).original=this.editableGradient.original.children[n],t.stylePropertiesToAttributes(),(e=this.stopColorTemplate.cloneNode(!0)).stopColorRef=t,e.setAttribute("fill",t.getAttribute("stop-color")),this.stopColorListContainer.appendChild(e),e.placeAt(150*t.offset.baseVal,12)}onChange_ID(t){const e=this.controlledElements.id.value;if(""===e)return;const i=activeApplication.activeDocument,n=this;function s(){this.close(),n.showElement(),n.parentElement.classList.add("locked"),t.target.focus(),t.target.select()}/^[A-Za-z][-A-Za-z0-9_:.]*$/.test(e)?i.shadowRoot.querySelector('*[id="'+e+'"]')?DIALOGS["alert-dialog"].open(localString("Existent ID"),localString("The document already contains an element with ID:")+e,s):(t.target.blur(),i.refactorElementID(this.editableGradient.original,e),this.update()):DIALOGS["alert-dialog"].open(localString("Invalid identifier"),localString("ID must begin with a letter ([A-Za-z]) and may be followed by any number of letters."),s)}onClick_cloneGradient(t){const e=activeApplication.activeDocument,i=e.fillAndStrokeManager.focusedGraphicSideName,n=e.activePage,s=this.editableGradient.original.cloneNode(!0),o=e.resources.createResourceIdFromExistentId(s.getAttribute("id"));e.resources.addResource(s,o);const a="url(#"+o+")",r={};r[i]=a,e.setAttributeElementList_undable(n.selectionList,r),this.update()}onChange_gradientType(t){const e=activeApplication.activeDocument,i=e.fillAndStrokeManager.focusedGraphicSideName,n=e.activePage,s=this.editableGradient.original,o=s.nodeName;let a=null;const r=this.controlledElements.gradientType.value,l=s.getAttribute("spreadMethod");if("radialGradient"===r&&"linearGradient"===o?a=SVGUtils.createSVGRadialGradient(s.id,.5,.5,.5,"objectBoundingBox",l):"linearGradient"===r&&"radialGradient"===o&&(a=SVGUtils.createSVGLinearGradient(s.id,0,.5,1,.5,"objectBoundingBox",l)),a){s.cloneChildrenTo(a);const t=e.resources.createResourceIdFromExistentId(s.getAttribute("id"));e.resources.addResource(a,t);const o="url(#"+t+")",r={};r[i]=o,e.setAttributeElementList_undable(n.selectionList,r)}this.update(),activeApplication.workspace.gradientInteraction.update()}onChange_spreadMethod(t){const e=activeApplication.activeDocument,i=this.editableGradient.original;let n=this.controlledElements.spreadMethod.value;"pad"===n&&(n=null),e.setAttributeElementList_undable([i],{spreadMethod:n},!1)}onChange_gradientUnits(t){const e=activeApplication.activeDocument,i=this.editableGradient.original,n=i.nodeName,s=this.controlledElements.gradientUnits.value,o={};o.gradientUnits=s,"objectBoundingBox"===s?"linearGradient"===n?(o.x1=0,o.y1=.5,o.x2=1,o.y2=.5):"radialGradient"===n&&(o.cx=.5,o.cy=.5,o.r=.5):"userSpaceOnUse"===s&&("linearGradient"===n?(o.x1=0,o.y1=50,o.x2=100,o.y2=50):"radialGradient"===n&&(o.cx=50,o.cy=50,o.r=50)),e.setAttributeElementList_undable([i],o,!1)}onChange_linearGradient_x1(t){const e=activeApplication.activeDocument,i=this.editableGradient.original,n=Math.evalExpression(this.controlledElements.x1.value);isNaN(n)||e.setAttributeElementList_undable([i],{x1:n},!1)}onChange_linearGradient_y1(t){const e=activeApplication.activeDocument,i=this.editableGradient.original,n=Math.evalExpression(this.controlledElements.y1.value);isNaN(n)||e.setAttributeElementList_undable([i],{y1:n},!1)}onChange_linearGradient_x2(t){const e=activeApplication.activeDocument,i=this.editableGradient.original,n=Math.evalExpression(this.controlledElements.x2.value);isNaN(n)||e.setAttributeElementList_undable([i],{x2:n},!1)}onChange_linearGradient_y2(t){const e=activeApplication.activeDocument,i=this.editableGradient.original,n=Math.evalExpression(this.controlledElements.y2.value);isNaN(n)||e.setAttributeElementList_undable([i],{y2:n},!1)}onChange_radialGradient_cx(t){const e=activeApplication.activeDocument,i=this.editableGradient.original,n=Math.evalExpression(this.controlledElements.cx.value);isNaN(n)||e.setAttributeElementList_undable([i],{cx:n},!1)}onChange_radialGradient_cy(t){const e=activeApplication.activeDocument,i=this.editableGradient.original,n=Math.evalExpression(this.controlledElements.cy.value);isNaN(n)||e.setAttributeElementList_undable([i],{cy:n},!1)}onChange_radialGradient_fx(t){const e=activeApplication.activeDocument,i=this.editableGradient.original;let n=Math.evalExpression(this.controlledElements.fx.value);isNaN(n)&&(n=null),e.setAttributeElementList_undable([i],{fx:n},!1)}onChange_radialGradient_fy(t){const e=activeApplication.activeDocument,i=this.editableGradient.original;let n=Math.evalExpression(this.controlledElements.fy.value);isNaN(n)&&(n=null),e.setAttributeElementList_undable([i],{fy:n},!1)}onChange_radialGradient_r(t){const e=activeApplication.activeDocument,i=this.editableGradient.original,n=Math.evalExpression(this.controlledElements.r.value);isNaN(n)||e.setAttributeElementList_undable([i],{r:n},!1)}onChange_opacity(t){const e=activeApplication.activeDocument,i=e.fillAndStrokeManager.focusedGraphicSideName,n=e.activePage;let s=Math.evalExpression(t.target.value);if(isNaN(s))return;s>0&&(s/=100);const o={};o[i+"-opacity"]=s,e.setAttributeElementList_undable(n.selectionList,o)}onSliderChangeEnd_opacity(t){const e=activeApplication.activeDocument,i=e.fillAndStrokeManager.focusedGraphicSideName,n=e.activePage;this.redoAction.createAttributeSnapshot(n.selectionList,i+"-opacity");const s=n.selectionList;s.length>0&&(this.undoAction.onExecuteEnd=this.redoAction.onExecuteEnd=function(){e.selectElementList(s)}),this.undoAction=this.redoAction=null,e.onChange()}onSliderChange_opacity(t){const e=activeApplication.activeDocument,i=e.fillAndStrokeManager.focusedGraphicSideName,n=e.activePage;this.undoAction||(this.undoAction=new UndoRedoAction,this.redoAction=new UndoRedoAction,n.history.addUndoRedoActions(this.undoAction,this.redoAction),this.undoAction.createAttributeSnapshot(n.selectionList,i+"-opacity"));const s={};s[i+"-opacity"]=t.target.value/100,e.setAttributeElementList(n.selectionList,s),this.controlledElements.opacity.value=t.target.value+" %"}onMouseDown_gradientColorList(t){this.dragLimitsRect=this.stopColorListContainer.closest("svg").getBoundingClientRect(),"rect"===t.target.nodeName&&(XOS.selectElement(t.target.parentElement),XOS.initDragFunctions(this,t))}onMouseUp_gradientColorList(t){const e=activeApplication.activeDocument,i=(e.fillAndStrokeManager.focusedGraphicSideName,e.activePage);if("rect"===t.target.nodeName)this.editGradientColor(t.target.parentElement);else if("svg"===t.target.nodeName){const n=(t.pageX-this.dragLimitsRect.left)/150,s=this.editableGradient.insertNewStopColor(n);this.undoAction=new UndoRedoAction,this.redoAction=new UndoRedoAction,i.history.addUndoRedoActions(this.undoAction,this.redoAction),this.undoAction.createDomNodeSnapshot(this.editableGradient.original.children,"insert"),this.redoAction.createDomNodeSnapshot(this.editableGradient.original.children,"delete"),this.editableGradient.cloneChildrenTo(this.editableGradient.original),this.undoAction.createDomNodeSnapshot(this.editableGradient.original.children,"delete"),this.undoAction.snapshotDataList.reverse(),this.redoAction.createDomNodeSnapshot(this.editableGradient.original.children,"insert"),this.redoAction.snapshotDataList.reverse();const o=i.selectionList;o.length>0&&(this.undoAction.onExecuteEnd=this.redoAction.onExecuteEnd=function(){e.selectElementList(o),activeApplication.workspace.update(),e.onChange()}),this.undoAction=this.redoAction=null,this.update(),XOS.selectElement(this.stopColorListContainer.querySelector('g[fill="'+s.getAttribute("stop-color")+'"]')),activeApplication.workspace.gradientInteraction.update()}}editGradientColor(t){XOS.selectElement(t);const e=t.stopColorRef,i=Array.from(e.parentElement.children).indexOf(e);e.original=this.editableGradient.original.children[i];const n=e.getAttribute("stop-color"),s=e.getAttribute("stop-opacity")||1,o=activeApplication.activeDocument,a=o.activePage,r=this;let l,c;const d=PANELS["global-color-picker"];d.set(n,s,function(t){c.createAttributeSnapshot([e.original],"stop-color,stop-opacity"),o.onChange(),r.update(),XOS.selectElement(r.stopColorListContainer.querySelector('g[fill="'+e.original.getAttribute("stop-color")+'"]')),activeApplication.workspace.gradientInteraction.update();const i=a.selectionList;i.length>0&&(l.onExecuteEnd=c.onExecuteEnd=function(){o.selectElementList(i)}),l=c=null},function(t){const i=t.hex;o.setAttributeElementList([e],{"stop-color":i,"stop-opacity":t.alpha}),o.setAttributeElementList([e.original],{"stop-color":i,"stop-opacity":t.alpha})},function(t){l=new UndoRedoAction,c=new UndoRedoAction,a.history.addUndoRedoActions(l,c),l.createAttributeSnapshot([e.original],"stop-color,stop-opacity")}),d.activateBy(t,"add")}onDragStart(t){const e=activeApplication.activeDocument.activePage;this.undoAction=new UndoRedoAction,this.redoAction=new UndoRedoAction,e.history.addUndoRedoActions(this.undoAction,this.redoAction),this.undoAction.createDomNodeSnapshot(this.editableGradient.original.children,"insert"),this.redoAction.createDomNodeSnapshot(this.editableGradient.original.children,"delete")}onDrag(t){const e=this.stopColorListContainer.querySelector(".selected");let i=t.pageX-this.dragLimitsRect.left;const n=t.pageY-this.dragLimitsRect.top;e.classList.remove("hidden"),i<0&&(i=0),i>150&&(i=150),(n<0||n>20)&&this.stopColorListContainer.children.length>2&&e.classList.add("hidden"),e.placeAt(i,12),e.stopColorRef.setAttribute("offset",String(i/150)),this.editableGradient.sortStopColors(),this.editableGradient.cloneChildrenTo(this.editableGradient.original)}onDragEnd(t){const e=activeApplication.activeDocument,i=e.activePage,n=this.stopColorListContainer.querySelector(".selected"),s=n.stopColorRef;if(n.classList.contains("hidden")){const t=[].slice.call(s.parentElement.children,0).indexOf(s);this.editableGradient.original.children[t].remove(),s.remove()}this.undoAction.createDomNodeSnapshot(this.editableGradient.original.children,"delete"),this.undoAction.snapshotDataList.reverse(),this.redoAction.createDomNodeSnapshot(this.editableGradient.original.children,"insert"),this.redoAction.snapshotDataList.reverse();const o=i.selectionList;o.length>0&&(this.undoAction.onExecuteEnd=this.redoAction.onExecuteEnd=function(){e.selectElementList(o),activeApplication.workspace.update(),e.onChange()}),this.undoAction=this.redoAction=null,activeApplication.workspace.gradientInteraction.update()}}customElements.define("gradient-inspector",GradientInspector_cmp);class PatternInspector_cmp extends HTMLElement{constructor(){super(),this.controlledElements=XOS.connectDomEvents(this.querySelectorAll("[data-event]"),this),this.patternDisplay=this.querySelector(".pattern-display")}onClick_collapse(t){t.target.closest(".property-container").classList.toggle("collapsed"),this.update()}update(t){const e=activeApplication.activeDocument,i=e.fillAndStrokeManager.focusedGraphicSideName;this.editablePattern=e.fillAndStrokeManager[i+"PatternDef"],this.patternDisplay.setAttribute("fill","url(#"+this.editablePattern.getAttribute("id")+")"),this.controlledElements.id.value=this.editablePattern.original.getAttribute("id");const n=e.valueToFixed(this.editablePattern.original.getAttribute("x"))||"0";this.controlledElements.patternXSlider.value=n,this.controlledElements.patternX.value=n+" pt";const s=e.valueToFixed(this.editablePattern.original.getAttribute("y"))||"0";this.controlledElements.patternYSlider.value=s,this.controlledElements.patternY.value=s+" pt";const o=GeometryUtils.parseTransformString(this.editablePattern.original.getAttribute("patternTransform"));let a=0,r=1;o.rotate&&(a=e.valueToFixed(o.rotate.value)),o.scale&&(r=e.valueToFixed(o.scale.x)),this.controlledElements.patternRotation.value=a+" °",this.controlledElements.patternRotationSlider.value=a,this.controlledElements.patternScale.value=100*r+" %",this.controlledElements.patternScaleSlider.value=100*r}onClick_showPatternLibrary(){WINDOWS.mainLibraryWindow.showSection("pattern-library")}onChange_ID(t){const e=this.controlledElements.id.value;if(""===e)return;const i=activeApplication.activeDocument,n=this;function s(){this.close(),n.showElement(),n.parentElement.classList.add("locked"),t.target.focus(),t.target.select()}/^[A-Za-z][-A-Za-z0-9_:.]*$/.test(e)?activeApplication.activeDocument.shadowRoot.querySelector('*[id="'+e+'"]')?DIALOGS["alert-dialog"].open(localString("Existent ID"),localString("The document already contains an element with ID:")+e,s):(t.target.blur(),i.refactorElementID(this.editablePattern.original,e),this.update()):DIALOGS["alert-dialog"].open(localString("Invalid identifier"),localString("ID must begin with a letter ([A-Za-z]) and may be followed by any number of letters."),s)}onClick_clonePattern(t){const e=activeApplication.activeDocument,i=e.fillAndStrokeManager.focusedGraphicSideName,n=e.activePage,s=this.editablePattern.original.cloneNode(!0),o=e.resources.createResourceIdFromExistentId(s.getAttribute("id"));e.resources.addResource(s,o);const a="url(#"+o+")",r={};r[i]=a,e.setAttributeElementList_undable(n.selectionList,r),this.update()}onClick_editPattern(t){activeApplication.activeDocument.enterTo_isolateLayerEditing(this.editablePattern.original)}onChange_patternX(t){const e=activeApplication.activeDocument,i=Math.evalExpression(t.target.value);isNaN(i)||(e.setAttributeElementList_undable([this.editablePattern.original],{x:i},!1),this.update())}onSliderChangeStart_patternX(t){const e=activeApplication.activeDocument.activePage;this.undoAction=new UndoRedoAction,this.redoAction=new UndoRedoAction,e.history.addUndoRedoActions(this.undoAction,this.redoAction),this.undoAction.createAttributeSnapshot([this.editablePattern.original],"x")}onSliderChangeEnd_patternX(t){const e=activeApplication.activeDocument,i=e.activePage;this.redoAction.createAttributeSnapshot([this.editablePattern.original],"x");const n=i.selectionList;n.length>0&&(this.undoAction.onExecuteEnd=this.redoAction.onExecuteEnd=function(){e.selectElementList(n)}),this.undoAction=this.redoAction=null,e.onChange(),this.update()}onSliderChange_patternX(t){const e=activeApplication.activeDocument;this.undoAction||this.onSliderChangeStart_patternX(t),e.setAttributeElementList([this.editablePattern.original],{x:t.target.value}),this.controlledElements.patternX.value=t.target.value+" pt"}onChange_patternY(t){const e=activeApplication.activeDocument,i=Math.evalExpression(t.target.value);isNaN(i)||e.setAttributeElementList_undable([this.editablePattern.original],{y:i},!1)}onSliderChangeStart_patternY(t){const e=activeApplication.activeDocument.activePage;this.undoAction=new UndoRedoAction,this.redoAction=new UndoRedoAction,e.history.addUndoRedoActions(this.undoAction,this.redoAction),this.undoAction.createAttributeSnapshot([this.editablePattern.original],"y")}onSliderChangeEnd_patternY(t){const e=activeApplication.activeDocument,i=e.activePage;this.redoAction.createAttributeSnapshot([this.editablePattern.original],"y");const n=i.selectionList;n.length>0&&(this.undoAction.onExecuteEnd=this.redoAction.onExecuteEnd=function(){e.selectElementList(n)}),this.undoAction=this.redoAction=null,e.onChange(),this.update()}onSliderChange_patternY(t){const e=activeApplication.activeDocument;this.undoAction||this.onSliderChangeStart_patternY(t),e.setAttributeElementList([this.editablePattern.original],{y:t.target.value}),this.controlledElements.patternY.value=t.target.value+" pt"}composePatternTransform(){const t=parseFloat(this.controlledElements.patternScale.value)/100;if(isNaN(t))return;const e=parseFloat(this.controlledElements.patternRotation.value);return isNaN(e)?void 0:"rotate("+e+") scale("+t+")"}onChange_patternScale(t){const e=activeApplication.activeDocument,i=this.composePatternTransform(),n=Math.evalExpression(t.target.value);isNaN(n)||(e.setAttributeElementList_undable([this.editablePattern.original],{patternTransform:i},!1),this.update())}onSliderChangeStart_patternScale(t){const e=activeApplication.activeDocument.activePage;this.undoAction=new UndoRedoAction,this.redoAction=new UndoRedoAction,e.history.addUndoRedoActions(this.undoAction,this.redoAction),this.undoAction.createAttributeSnapshot([this.editablePattern.original],"patternTransform")}onSliderChangeEnd_patternScale(t){const e=activeApplication.activeDocument,i=e.activePage;this.redoAction.createAttributeSnapshot([this.editablePattern.original],"patternTransform");const n=i.selectionList;n.length>0&&(this.undoAction.onExecuteEnd=this.redoAction.onExecuteEnd=function(){e.selectElementList(n)}),this.undoAction=this.redoAction=null,e.onChange(),this.update()}onSliderChange_patternScale(t){const e=activeApplication.activeDocument;this.undoAction||this.onSliderChangeStart_patternScale(t),this.controlledElements.patternScale.value=t.target.value+" %";const i=this.composePatternTransform();e.setAttributeElementList([this.editablePattern.original],{patternTransform:i},!1)}onChange_patternRotation(t){const e=this.composePatternTransform(),i=activeApplication.activeDocument,n=Math.evalExpression(t.target.value);isNaN(n)||(i.setAttributeElementList_undable([this.editablePattern.original],{patternTransform:e},!1),this.update())}onSliderChangeStart_patternRotation(t){const e=activeApplication.activeDocument.activePage;this.undoAction=new UndoRedoAction,this.redoAction=new UndoRedoAction,e.history.addUndoRedoActions(this.undoAction,this.redoAction),this.undoAction.createAttributeSnapshot([this.editablePattern.original],"patternTransform")}onSliderChangeEnd_patternRotation(t){const e=activeApplication.activeDocument,i=e.activePage;this.redoAction.createAttributeSnapshot([this.editablePattern.original],"patternTransform");const n=i.selectionList;n.length>0&&(this.undoAction.onExecuteEnd=this.redoAction.onExecuteEnd=function(){e.selectElementList(n)}),this.undoAction=this.redoAction=null,e.onChange(),this.update()}onSliderChange_patternRotation(t){const e=activeApplication.activeDocument;this.undoAction||this.onSliderChangeStart_patternRotation(t),this.controlledElements.patternRotation.value=t.target.value+" °";const i=this.composePatternTransform();e.setAttributeElementList([this.editablePattern.original],{patternTransform:i},!1)}onChange_opacity(t){const e=activeApplication.activeDocument,i=e.fillAndStrokeManager.focusedGraphicSideName,n=e.activePage;let s=Math.evalExpression(t.target.value);if(isNaN(s))return;s>0&&(s/=100);const o={};o[i+"-opacity"]=s,e.setAttributeElementList_undable(n.selectionList,o)}onSliderChangeEnd_opacity(t){const e=activeApplication.activeDocument,i=e.fillAndStrokeManager.focusedGraphicSideName,n=e.activePage;this.redoAction.createAttributeSnapshot(n.selectionList,i+"-opacity");const s=n.selectionList;s.length>0&&(this.undoAction.onExecuteEnd=this.redoAction.onExecuteEnd=function(){e.selectElementList(s)}),this.undoAction=this.redoAction=null,e.onChange()}onSliderChange_opacity(t){const e=activeApplication.activeDocument,i=e.fillAndStrokeManager.focusedGraphicSideName,n=e.activePage;this.undoAction||(this.undoAction=new UndoRedoAction,this.redoAction=new UndoRedoAction,n.history.addUndoRedoActions(this.undoAction,this.redoAction),this.undoAction.createAttributeSnapshot(n.selectionList,i+"-opacity"));const s={};s[i+"-opacity"]=t.target.value/100,e.setAttributeElementList(n.selectionList,s),this.controlledElements.opacity.value=t.target.value+" %"}}customElements.define("pattern-inspector",PatternInspector_cmp);class AppearanceInspector_cmp extends PopUpPanel{constructor(){super(),this.controlledElements=XOS.connectDomEvents(this.querySelectorAll("[data-event]"),this)}update(){const t=activeApplication.activeDocument,e=t.activePage.focusedElement,i=e.getAttribute("opacity")||1;this.controlledElements.opacitySlider.value=t.valueToFixed(100*i),this.controlledElements.opacity.value=this.controlledElements.opacitySlider.value+" %",this.controlledElements.mixBlendMode.value=e.style.mixBlendMode||"normal",this.controlledElements.paintOrder.value=e.getAttribute("paint-order")||"normal"}onChange_opacity(t){const e=activeApplication.activeDocument,i=e.activePage;let n=Math.evalExpression(t.target.value);isNaN(n)||(n>0&&(n/=100),e.setAttributeElementList_undable(i.selectionList,{opacity:n}))}onSliderChangeEnd_opacity(t){const e=activeApplication.activeDocument,i=e.activePage.selectionList;this.redoAction.createAttributeSnapshot(i,"opacity"),this.undoAction.onExecuteEnd=this.redoAction.onExecuteEnd=function(){e.selectElementList(i)},this.undoAction=this.redoAction=null,e.onChange()}onSliderChange_opacity(t){const e=activeApplication.activeDocument,i=e.activePage;this.undoAction||(this.undoAction=new UndoRedoAction,this.redoAction=new UndoRedoAction,i.history.addUndoRedoActions(this.undoAction,this.redoAction),this.undoAction.createAttributeSnapshot(i.selectionList,"opacity")),e.setAttributeElementList(i.selectionList,{opacity:t.target.value/100}),this.controlledElements.opacity.value=t.target.value+" %"}onChange_paintOrder(t){const e=activeApplication.activeDocument,i=e.activePage;e.setAttributeElementList_undable(i.selectionList,{"paint-order":t.target.value})}onChange_mixBlendMode(t){const e=activeApplication.activeDocument,i=e.activePage,n=[];for(let t=0;t<i.selectionList.length;t++)i.selectionList[t].style&&n.push(i.selectionList[t].style);e.setPropertyElementList_undable(n,{mixBlendMode:t.target.value})}}customElements.define("appearance-inspector",AppearanceInspector_cmp);class SnapsInspector_cmp extends PopUpPanel{constructor(){super(),this.controlledElements=XOS.connectDomEvents(this.querySelectorAll("[data-event]"),this)}update(){const t=activeApplication.activeDocument;t.activePage;this.controlledElements.snapToGrid.checked=t.preferences.snap.snapToGrid,this.controlledElements.snapToAngles.checked=t.preferences.snap.snapToAngles,this.controlledElements.snapToPoints.checked=t.preferences.snap.snapToPoints,this.controlledElements.snapToCenter.checked=t.preferences.snap.snapToCenter,this.controlledElements.snapToContour.checked=t.preferences.snap.snapToContour,this.controlledElements.snapToPerpendicular.checked=t.preferences.snap.snapToPerpendicular,this.controlledElements.snapToIntersection.checked=t.preferences.snap.snapToIntersection,this.controlledElements.snapToOffset.checked=t.preferences.snap.snapToOffset,this.controlledElements.snapToTangent.checked=t.preferences.snap.snapToTangent,this.controlledElements.useSmartGuides.checked=t.preferences.snap.useSmartGuides,this.controlledElements.useSmartPoints.checked=t.preferences.snap.useSmartPoints,this.controlledElements.distance.value=t.preferences.snap.distance,this.controlledElements.gridStep.value=t.valueToUnit(t.preferences.gridStep),this.controlledElements.snapAngleList.value=t.preferences.snap.snapAngleList.join(","),this.controlledElements.offsetDistance.value=t.preferences.snap.offsetDistance}onChange_snap(t){activeApplication.activeDocument.preferences.snap[t.target.id]=t.target.checked}onChange_distance(t){const e=activeApplication.activeDocument,i=parseFloat(t.target.value);isNaN(i)||(e.preferences.snap.distance=i)}onChange_gridStep(t){const e=activeApplication.activeDocument,i=parseFloat(t.target.value);isNaN(i)||(e.preferences.gridStep=e.unitToValue(i),activeApplication.workspace.update())}onChange_snapAngleList(t){const e=activeApplication.activeDocument,i=t.target.value.split(","),n=[];for(let t=0;t<i.length;t++)n.push(parseFloat(i[t]));e.preferences.snap.snapAngleList=n}onChange_offsetDistance(t){const e=activeApplication.activeDocument,i=parseFloat(t.target.value);isNaN(i)||(e.preferences.snap.offsetDistance=e.unitToValue(i),activeApplication.workspace.update())}}customElements.define("snaps-inspector",SnapsInspector_cmp);class SettingsInspector_cmp extends PopUpPanel{constructor(){super(),this.controlledElements=XOS.connectDomEvents(this.querySelectorAll("[data-event]"),this)}update(){const t=activeApplication.activeDocument;t.activePage;this.controlledElements.unitKey.value=t.preferences.unitKey,this.controlledElements.fixedDecimals.value=t.preferences.fixedDecimals,this.controlledElements.drawingScaleMenu.value=t.preferences.drawingScale,this.controlledElements.scaleStrokeAndEffects.checked=t.preferences.scaleStrokeAndEffects,this.controlledElements.scaleText.checked=t.preferences.scaleText,this.controlledElements.selectMainNodes.checked=t.preferences.selectMainNodes,this.controlledElements.optimizeZoom.checked=t.preferences.optimizeZoom,this.controlledElements.elementOriginVisibility.checked=t.preferences.elementOriginVisibility,this.controlledElements.rulersVisibility.checked=t.preferences.rulersVisibility,this.controlledElements.gridVisibility.checked=t.preferences.gridVisibility,this.controlledElements.moveStep.value=t.valueToUnit(t.preferences.moveStep),this.controlledElements.rotateStep.value=t.preferences.rotateStep+" °";const e=t.preferences.svgAlignmentPreserveAspectRatio.split(" ");this.controlledElements.svgOutputAlignment.value=e[0],2===e.length&&(this.controlledElements.svgOutputScaleMode.value=e[1])}onChange_unitKey(t){const e=activeApplication.activeDocument;e.setUnits(this.controlledElements.unitKey.value),e.setActivePageScale("fit"),activeApplication.workspace.update(),this.update()}onChange_fixedDecimals(t){activeApplication.activeDocument;let e=parseInt(this.controlledElements.fixedDecimals.value);isNaN(e)&&(e=2),activeApplication.activeDocument.preferences.fixedDecimals=e,activeApplication.workspace.update(),this.update()}onChange_drawingScaleMenu(t){const e=activeApplication.activeDocument,i=parseInt(this.controlledElements.drawingScaleMenu.value);isNaN(i)||(e.setDrawingScale(i),e.setActivePageScale("fit"))}onChange_selectMainNodes(t){activeApplication.activeDocument.preferences.selectMainNodes=this.controlledElements.selectMainNodes.checked}onChange_scaleStrokeAndEffects(t){activeApplication.activeDocument.preferences.scaleStrokeAndEffects=this.controlledElements.scaleStrokeAndEffects.checked}onChange_scaleText(t){activeApplication.activeDocument.preferences.scaleText=this.controlledElements.scaleText.checked}onChange_optimizeZoom(t){activeApplication.activeDocument.preferences.optimizeZoom=this.controlledElements.optimizeZoom.checked}onChange_elementOriginVisibility(t){activeApplication.activeDocument.preferences.elementOriginVisibility=this.controlledElements.elementOriginVisibility.checked,activeApplication.workspace.update()}onChange_rulersVisibility(t){activeApplication.activeDocument.preferences.rulersVisibility=t.target.checked,!1===t.target.checked&&(this.controlledElements.gridVisibility.checked=activeApplication.activeDocument.preferences.gridVisibility=!1),activeApplication.editingView.update()}onChange_interactionLabelVisibility(t){activeApplication.activeDocument.preferences.interactionLabelVisibility=t.target.checked,!1===t.target.checked&&(this.controlledElements.interactionLabelVisibility.checked=activeApplication.activeDocument.preferences.interactionLabelVisibility=!1),activeApplication.workspace.update()}onChange_gridVisibility(t){activeApplication.activeDocument.preferences.gridVisibility=t.target.checked,!0===t.target.checked&&(this.controlledElements.rulersVisibility.checked=activeApplication.activeDocument.preferences.rulersVisibility=!0),activeApplication.editingView.update()}onChange_moveStep(t){const e=activeApplication.activeDocument,i=parseFloat(t.target.value);isNaN(i)||(e.preferences.moveStep=e.unitToValue(i))}onChange_rotateStep(t){const e=activeApplication.activeDocument,i=parseFloat(t.target.value);isNaN(i)||(e.preferences.rotateStep=i)}onChange_svgOutputAlignment(t){const e=activeApplication.activeDocument;"unset"!==this.controlledElements.svgOutputAlignment.value?e.preferences.svgAlignmentPreserveAspectRatio=this.controlledElements.svgOutputAlignment.value+" "+this.controlledElements.svgOutputScaleMode.value:e.preferences.svgAlignmentPreserveAspectRatio="unset"}onChange_svgOutputScaleMode(t){this.onChange_svgOutputAlignment(t)}}customElements.define("settings-inspector",SettingsInspector_cmp);class PageInspector_cmp extends HTMLElement{constructor(){super(),this.controlledElements=XOS.connectDomEvents(this.querySelectorAll("[data-event]"),this)}onClick_collapse(t){t.target.closest(".property-container").classList.toggle("collapsed"),this.update()}update(){const t=activeApplication.activeDocument,e=t.activePage;"PIXEL"===t.preferences.unitKey?this.setUnits("PIXEL"):this.setUnits("MILLIMETER"),this.controlledElements.pageWidth.value=this.valueToUnit(parseInt(e.dataset.pageWidth)),this.controlledElements.pageHeight.value=this.valueToUnit(parseInt(e.dataset.pageHeight)),this.controlledElements.pagePresets.value="formats",this.controlledElements.id.value=e.getAttribute("id")||"",this.controlledElements.name.value=e.getAttribute("data-name")||"";let i="",n=e.parentElement.querySelector("svg.page.showed>title");n&&(i=n.innerHTML),this.controlledElements.title.value=i;let s="",o=e.parentElement.querySelector("svg.page.showed>desc");o&&(s=o.innerHTML),this.controlledElements.desc.value=s,this.controlledElements.cssClass.value=e.getAttribute("data-css-class")||""}setUnits(t){this.unitKey=t;const e=GeometryUtils.unitProperty[this.unitKey];this.unitValue=e.unitValue,this.unitName=e.unitName}valueToUnit(t){return Number(t*this.unitValue).toFixed(0)+" "+this.unitName}unitToValue(t){return Number(t/this.unitValue).toFixed(0)}onChange_pageWidth(t){const e=activeApplication.activeDocument,i=e.activePage;let n=Math.evalExpression(this.controlledElements.pageWidth.value);isNaN(n)||(n=this.unitToValue(n),e.setActivePageSize(n,i.dataset.pageHeight,this.querySelector("#applyFormatToAllPages").checked),e.setActivePageScale("fit"),activeApplication.workspace.update())}onChange_pageHeight(t){const e=activeApplication.activeDocument,i=e.activePage;let n=Math.evalExpression(this.controlledElements.pageHeight.value);isNaN(n)||(n=this.unitToValue(n),e.setActivePageSize(i.dataset.pageWidth,n,this.querySelector("#applyFormatToAllPages").checked),e.setActivePageScale("fit"),activeApplication.workspace.update())}onChange_pagePresets(t){const e=activeApplication.activeDocument,i=(e.activePage,t.target.value.split(","));let n=parseFloat(i[0]),s=parseFloat(i[1]);const o=i[2];e.setUnits(o),n=this.unitToValue(n),s=this.unitToValue(s),e.setActivePageSize(n,s,this.querySelector("#applyFormatToAllPages").checked),e.setActivePageScale("fit"),activeApplication.workspace.update(),this.update()}onClick_PortraitLandscape(){const t=activeApplication.activeDocument;t.activePage;let e=Math.evalExpression(this.controlledElements.pageWidth.value),i=Math.evalExpression(this.controlledElements.pageHeight.value);isNaN(e)||isNaN(i)||(t.setActivePageSize(this.unitToValue(i),this.unitToValue(e),this.querySelector("#applyFormatToAllPages").checked),t.setActivePageScale("fit"),activeApplication.workspace.update(),this.update())}onChange_ID(t){const e=t.target.value;if(""!==e){if(!/^[A-Za-z][-A-Za-z0-9_:.]*$/.test(e))return void DIALOGS["alert-dialog"].open(localString("Invalid identifier"),localString("ID must begin with a letter ([A-Za-z]) and may be followed by any number of letters."));if(activeApplication.activeDocument.shadowRoot.querySelector('*[id="'+e+'"]'))return void DIALOGS["alert-dialog"].open(localString("Existent ID"),localString("The document already contains an element with ID:")+e)}t.target.blur();const i=activeApplication.activeDocument.activePage;activeApplication.activeDocument.setAttributeElementList_undable([i],{id:e},!1)}onChange_name(t){const e=activeApplication.activeDocument.activePage;""===t.target.value?e.removeAttribute("data-name"):e.setAttribute("data-name",t.target.value)}onChange_title(t){const e=activeApplication.activeDocument.activePage;let i=e.parentElement.querySelector("svg.page.showed>title");""===t.target.value?i&&i.remove():(i||(i=document.createElementNS(SVGSVGElement.SVG_NS,"title"),e.insertBefore(i,e.firstChild)),i.innerHTML=XOS.stripHtml(t.target.value))}onChange_desc(t){const e=activeApplication.activeDocument.activePage;let i=e.parentElement.querySelector("svg.page.showed>desc");""===t.target.value?i&&i.remove():(i||(i=document.createElementNS(SVGSVGElement.SVG_NS,"desc"),e.insertBefore(i,e.firstChild)),i.innerHTML=XOS.stripHtml(t.target.value))}onChange_cssClass(t){const e=activeApplication.activeDocument.activePage,i=t.target.value;""===i?e.removeAttribute("data-css-class"):e.setAttribute("data-css-class",i)}}customElements.define("page-inspector",PageInspector_cmp);class GlobalColorPicker_cmp extends PopUpPanel{constructor(){super("C")}set(t,e,i,n,s){this.colorPicker=this.querySelector("color-picker"),this.colorPicker.setColor(t,e),this.colorPicker.setOnChangeEvents(i,n,s)}}customElements.define("global-color-picker",GlobalColorPicker_cmp);class BaseObjectInspector_cmp extends HTMLElement{constructor(){super(),this.objectController=null,this.objectProperties=null,this.elements=XOS.connectDomEvents(this.querySelectorAll("[data-event]"),this),console.log("this.elements",this.elements),this.createInputGetterSetter()}createInputGetterSetter(){for(const t in this.elements){const e=this.elements[t];"color"===e.dataset.propertyType&&(console.log("inputElement color",e),Object.defineProperty(e,"value",{set:function(t){console.log("set inputElement color",e),e.querySelector(".rgba").style.backgroundColor=t}}))}}onClickOnTabBar(t){XOS.selectElement(t.target),XOS.showElement(this.querySelector("."+t.target.dataset.sectionTarget))}update(t){let e;this.graphicElement=t,this.objectController=this.graphicElement.getObjectController(),this.objectProperties=this.objectController.getProperties();for(let t in this.elements)"color"===(e=this.elements[t]).dataset.propertyType?e.value=this.objectProperties[t]:"angle"===e.dataset.propertyType?e.value=activeApplication.activeDocument.valueToFixed(this.objectProperties[t])+" °":"dimension"===e.dataset.propertyType?e.value=activeApplication.activeDocument.valueToUnit(this.objectProperties[t]):"boolean"===e.dataset.propertyType?e.checked=this.objectProperties[t]:"string"===e.dataset.propertyType&&(e.value=this.objectProperties[t])}onChangeProperty(t){let e=t.target;const i=e.dataset.propertyType,n=e.getAttribute("name");let s;if("dimension"===i){if(s=Math.evalExpression(t.target.value),isNaN(s))return;s=activeApplication.activeDocument.unitToValue(s)}else if("angle"===i){if(s=Math.evalExpression(t.target.value),isNaN(s))return}else"boolean"===i?s=t.target.checked:"string"===i&&(s=t.target.value);const o={};o[n]=s,activeApplication.activeDocument.setPropertyObjectElementList_undable(activeApplication.activeDocument.activePage.selectionList,o)}chooseColor(t){const e=t.target,i=e.getAttribute("name"),n=PANELS["global-color-picker"];n.set(this.objectProperties[i],1,function(t){const e={};e[i]=t.hex,activeApplication.activeDocument.setPropertyObjectElementList_undable(activeApplication.activeDocument.activePage.selectionList,e)}),n.activateBy(e)}}class DrawRegularPolygonToolInfo_cmp extends HTMLElement{constructor(){super(),this.controlledElements=XOS.connectDomEvents(this.querySelectorAll("[data-event]"),this)}update(){this.controlledElements.numSides.value=TOOLS["draw-regular-polygon-tool"].numSides}onChange_numSides(t){let e=Math.evalExpression(t.target.value);isNaN(e)||(TOOLS["draw-regular-polygon-tool"].numSides=e)}}customElements.define("draw-regular-polygon-tool-info",DrawRegularPolygonToolInfo_cmp);class DrawFreehandToolInfo_cmp extends HTMLElement{constructor(){super(),this.controlledElements=XOS.connectDomEvents(this.querySelectorAll("[data-event]"),this)}update(){this.controlledElements.simplifyTolerance.value=TOOLS["draw-freehand-tool"].simplifyTolerance,this.controlledElements.joinTolerance.value=TOOLS["draw-freehand-tool"].joinTolerance}onChange_simplifyTolerance(t){let e=Math.evalExpression(t.target.value);isNaN(e)||(TOOLS["draw-freehand-tool"].simplifyTolerance=e)}onChange_joinTolerance(t){let e=Math.evalExpression(t.target.value);isNaN(e)||(TOOLS["draw-freehand-tool"].joinTolerance=e)}}customElements.define("draw-freehand-tool-info",DrawFreehandToolInfo_cmp);class RotateByPivotToolInfo_cmp extends HTMLElement{constructor(){super(),this.controlledElements=XOS.connectDomEvents(this.querySelectorAll("[data-event]"),this)}update(){this.controlledElements.rotation.value="0"}onChange_rotation(t){let e=Math.evalExpression(t.target.value);if(isNaN(e))return;const i=activeApplication.activeDocument,n=i.activePage,s=activeApplication.workspace.rotateByPivotInteraction.pivot.getCTM().getTranslation();if(n.selectionPointList.length>0){const t=new UndoRedoAction,o=new UndoRedoAction;n.history.addUndoRedoActions(t,o);const a=n.selectionList;t.createAttributeSnapshot(a,"d,x1,y1,x2,y2"),i.rotateTransformDataPointList(i.getSelectedTransformablePointData(),e,s,!0),o.createAttributeSnapshot(a,"d,x1,y1,x2,y2"),t.onExecuteEnd=function(){i.selectElementList(a);for(let t=0;t<a.length;t++)a[t].geometryPointList=null},o.onExecuteEnd=function(){i.selectElementList(a);for(let t=0;t<a.length;t++)a[t].geometryPointList=null},i.onChange(),activeApplication.workspace.snapInteraction2D.reset(),activeApplication.workspace.update()}else i.rotateElementList_undable(n.selectionList,e,s);this.controlledElements.rotation.select()}}customElements.define("rotate-by-pivot-tool-info",RotateByPivotToolInfo_cmp);class ScaleByPivotToolInfo_cmp extends HTMLElement{constructor(){super(),this.controlledElements=XOS.connectDomEvents(this.querySelectorAll("[data-event]"),this),this.mantainAspectRatio=!0}update(){this.controlledElements.scaleX.value="1",this.controlledElements.scaleY.value="1",!0===this.mantainAspectRatio?XOS.selectElement(this.controlledElements["mantain-aspect-ratio-button"]):XOS.deselectElement(this.controlledElements["mantain-aspect-ratio-button"])}onChange_scale(t){let e=Math.evalExpression(t.target.value);if(isNaN(e))return;let i=1,n=1;this.mantainAspectRatio?n=i=e:"scaleX"===t.target.name?i=e:"scaleY"===t.target.name&&(n=e),console.log("onChange_scale",t.target.name);const s=activeApplication.activeDocument,o=s.activePage,a=activeApplication.workspace.scaleByPivotInteraction.pivot.getCTM().getTranslation();if(o.selectionPointList.length>0){const t=new UndoRedoAction,e=new UndoRedoAction;o.history.addUndoRedoActions(t,e);const r=o.selectionList;t.createAttributeSnapshot(r,"d,x1,y1,x2,y2"),s.scaleTransformDataPointList(s.getSelectedTransformablePointData(),i,n,a,!0),e.createAttributeSnapshot(r,"d,x1,y1,x2,y2"),t.onExecuteEnd=function(){s.selectElementList(r);for(let t=0;t<r.length;t++)r[t].geometryPointList=null},e.onExecuteEnd=function(){s.selectElementList(r);for(let t=0;t<r.length;t++)r[t].geometryPointList=null},s.onChange(),activeApplication.workspace.snapInteraction2D.reset(),activeApplication.workspace.update()}else s.scaleElementList_undable(o.selectionList,i,n,a)}onClick_mantainAspectRatio(t){this.mantainAspectRatio=!0!==this.mantainAspectRatio,console.log("this.mantainAspectRatio",this.mantainAspectRatio),this.update()}}customElements.define("scale-by-pivot-tool-info",ScaleByPivotToolInfo_cmp);class OffsetToolInfo_cmp extends HTMLElement{constructor(){super(),this.controlledElements=XOS.connectDomEvents(this.querySelectorAll("[data-event]"),this),PANELS["offset-tool-info"]=this}update(){this.controlledElements.offset.value=TOOLS["offset-tool"].offset||""}setInputPropertyFocus(t,e){this.controlledElements[t].removeAttribute("disabled"),this.controlledElements[t].value=activeApplication.activeDocument.valueToUnit(e),this.controlledElements[t].select()}onChange_offset(t){let e=Math.evalExpression(t.target.value);if(isNaN(e))return;e=activeApplication.activeDocument.unitToValue(e),TOOLS["offset-tool"].updateDrawingInteraction({offsetValue:e}),TOOLS["offset-tool"].finalize(t),this.controlledElements.offset.blur(),this.controlledElements.offset.setAttribute("disabled","true")}}customElements.define("offset-tool-info",OffsetToolInfo_cmp);class RoundCornersToolInfo_cmp extends HTMLElement{constructor(){super(),this.controlledElements=XOS.connectDomEvents(this.querySelectorAll("[data-event]"),this),PANELS["round-corners-tool-info"]=this}update(){const t=activeApplication.activeDocument;this.controlledElements.radiusLimit.value=t.valueToUnit(TOOLS["round-corners-tool"].radiusLimit)}onChange_radiusLimit(t){let e=Math.evalExpression(t.target.value);if(isNaN(e))return;e=activeApplication.activeDocument.unitToValue(e),TOOLS["round-corners-tool"].radiusLimit=e}}customElements.define("round-corners-tool-info",RoundCornersToolInfo_cmp);class JoinFilletToolInfo_cmp extends HTMLElement{constructor(){super(),this.controlledElements=XOS.connectDomEvents(this.querySelectorAll("[data-event]"),this),PANELS["join-fillet-tool-info"]=this}update(){const t=TOOLS["join-fillet-tool"].filletRadius;this.controlledElements.filletRadius.value=activeApplication.activeDocument.valueToUnit(t)}onChange_filletRadius(t){let e=Math.evalExpression(t.target.value);isNaN(e)||(e=activeApplication.activeDocument.unitToValue(e),TOOLS["join-fillet-tool"].filletRadius=e)}}customElements.define("join-fillet-tool-info",JoinFilletToolInfo_cmp);class ToolsWindow extends WindowBase{constructor(){super(),this.buttonBar=this.querySelector(".button-bar"),XOS.connectDomEvents(this.querySelectorAll("[data-event]"),this)}addTool(t){const e=document.getElementById("TOOL-BUTTON").content.querySelector("div").cloneNode(!0);e.setAttribute("data-tool-name",t.name),e.querySelector("svg>use").setAttribute("xlink:href",t.iconUrl),this.buttonBar.appendChild(e)}addToolObject(t){const e=document.getElementById("TOOL-BUTTON").content.querySelector("div").cloneNode(!0);e.setAttribute("data-tool-name",t.name),TOOLS[t.name]=new DrawObject2D_tool(t.name,t.shortcut),TOOLS[t.name].objectId=t.objectId,e.querySelector("svg>use").setAttribute("xlink:href",t.iconUrl),this.buttonBar.appendChild(e)}onMouseDownOnToolButton(t){const e=t.target;if(e.dataset.toolName){const t=e.dataset.toolName;activeApplication.setActiveTool(t)}}}customElements.define("tools-window",ToolsWindow);class MainInspectorWindow extends WindowBase{constructor(){super(),XOS.connectDomEvents(this.querySelectorAll(".button-bar [data-event]"),this),XOS.connectDomEvents(this.querySelectorAll(".tab-bar[data-event]"),this),this.style.left=document.body.offsetWidth-180+"px"}onClickOnTabBar(t){XOS.selectElement(t.target),XOS.showElement(this.querySelector("."+t.target.dataset.sectionTarget)),this.update("tab-bar")}showMainSection(t){const e=this.querySelector('.main-tab-bar > [data-section-target="'+t+'"]');e.classList.contains("selected")||(XOS.selectElement(e),XOS.showElement(this.querySelector(".main-sections > ."+t)),this.update())}onExpand(){this.update()}update(t){if(this.classList.contains("collaped"))return;const e=activeApplication.activeDocument.activePage.focusedElement,i=this.querySelector(".main-tab-bar > .selected").dataset.sectionTarget;if("selection-section"===i)if(e){const t=this.querySelector(".main-sections > .selection-section");XOS.showElement(t);const e=t.querySelector(".tab-bar > .selected").dataset.sectionTarget,i=t.querySelector("."+e);XOS.showElement(i),i.classList.contains("graphic-section")?this.updateGraphicSection():i.firstElementChild.update()}else{const t=this.querySelector(".main-sections > .page-section");XOS.showElement(t),t.firstElementChild.update()}else if("tool-section"===i){const t=activeApplication.getAttribute("active-tool"),e=this.querySelector(".main-sections > .tool-section"),i=e.querySelector(t+"-info");i?(XOS.showElement(i),i.update&&i.update()):XOS.showElement(e.lastElementChild)}}updateGraphicSection(){const t=activeApplication.activeDocument.activePage,e=t.focusedElement;let i;if(1===t.selectionList.length)if("line"===e.nodeName)i=this.querySelector("line-transform-inspector");else if("path"===e.nodeName)t.focusedPathSegmentPoint?"L"===t.focusedPathSegmentPoint.type?i=this.querySelector("line-to-transform-inspector"):"A"===t.focusedPathSegmentPoint.type?i=this.querySelector("arc-to-transform-inspector"):"C"!==t.focusedPathSegmentPoint.type&&"Q"!==t.focusedPathSegmentPoint.type||(i=this.querySelector("curve-to-transform-inspector")):i=t.focusedPoint?this.querySelector("path-point-transform-inspector"):this.querySelector("rectangular-transform-inspector");else if(e.dataset.objectId){const t=OBJECTS[e.dataset.objectId];"linear-object"===t.type?i=this.querySelector("linear-transform-inspector"):"rectangular-object"===t.type?i=this.querySelector("rectangular-transform-inspector"):"radial-object"===t.type&&(i=this.querySelector("radial-transform-inspector"))}else i=this.querySelector("rectangular-transform-inspector");else i=t.focusedPoint?this.querySelector("path-point-transform-inspector"):this.querySelector("rectangular-transform-inspector");if(XOS.showElement(i),i.update(),e.dataset.type&&e.dataset.objectId){const t=OBJECTS[e.dataset.objectId];if(!t)return;const i=e.dataset.objectId+"-inspector",n=this.querySelector("#element-panels");let s=n.querySelector(":scope>"+i);if(!s){const e=document.createElement("div");e.innerHTML=t.createInspector(),s=n.appendChild(e.firstElementChild)}return XOS.showElement(s),void s.update(e)}let n=e.nodeName+"-inspector";if(e&&"g"===e.nodeName)n=e.hasAttribute("clip-path")?"clipped-content-inspector":e.hasAttribute("mask")?"masked-content-inspector":"group-inspector";else if(e&&"foreignObject"===e.nodeName&&(n="foreign-object-inspector",e.hasAttribute("data-type"))){"html-text"===e.getAttribute("data-type")&&(n="html-text-inspector")}const s=this.querySelector("#element-panels > "+n);s?(XOS.showElement(s),s.update()):XOS.hideElementChildren(this.querySelector("#element-panels"))}}customElements.define("main-inspector-window",MainInspectorWindow);class MainLibraryWindow extends WindowBase{constructor(){super(),this.controlledElements=XOS.connectDomEvents(this.querySelectorAll('[data-event="click:onClickOnTabBar"]'),this),this.style.left=document.body.offsetWidth-180+"px"}onClickOnTabBar(t){this.showSection(t.target.dataset.sectionTarget)}onOpen(){const t=this.querySelector(".content>.tab-bar>.selected").dataset.sectionTarget,e=this.querySelector("."+t);XOS.showElement(e),e.onShow()}showSection(t){const e=this.querySelector('.tab-bar > [data-section-target="'+t+'"]');if(XOS.selectElement(e),this.classList.contains("closed"))return void this.open(!0);const i=this.querySelector("."+t);XOS.showElement(i),i.onShow()}}customElements.define("main-library-window",MainLibraryWindow);class LayersWindow extends WindowBase{constructor(){super(),this.controlledElements=null,this.layerList=this.querySelector(".layer-list"),this.layerListItemTemplate=this.layerList.querySelector(".layer-list-item"),this.layerList.removeChildren(),this.controlledElements=XOS.connectDomEvents(this.querySelectorAll("[data-event]"),this)}onOpen(){this.update()}update(){activeApplication.activeDocument;this.drawLayerList()}updateLayerSelection(t){activeApplication.activeDocument;let e,i,n=this.layerList.children.length;for(i=0;i<n;i++)if((e=this.layerList.children[i]).layerRef===t)return void XOS.selectElement(e)}drawLayerList(){const t=activeApplication.activeDocument.activePage;this.layerList.removeChildren();const e=t.content.querySelector(".layers").children;let i,n,s;for(s=e.length-1;s>-1;s--)n=e[s],(i=this.layerListItemTemplate.cloneNode(!0)).layerRef=n,this.updateLayerListItem(i),this.layerList.appendChild(i)}updateLayerListItem(t){const e=t.layerRef;e.hasAttribute("hidden")&&t.classList.add("invisible"),e.hasAttribute("locked")&&t.classList.add("locked"),e.hasAttribute("active")&&t.classList.add("selected"),t.querySelector(".label").innerHTML=e.dataset.layerName,t.querySelector(".color-state").style.backgroundColor=e.dataset.layerColor}isMouseHold(){return(new Date).getTime()-this.lastMouseDownTime>250}onMouseDown_layerList(t){this.lastMouseDownTime=(new Date).getTime()}onClick_layerList(t){let e=t.target;if("UL"===e.nodeName)return;let i=e.closest("li");activeApplication.activeDocument.setActivePageLayer(i.layerRef),e.classList.contains("color-state")||(e.classList.contains("visibility-state")?this.onClick_hide(i):e.classList.contains("locked-state")?this.onClick_lock(i):e.classList.contains("label")&&(XOS.selectElement(i),this.isMouseHold()&&this.editLayerName(i)))}editLayerName(t){const e=t.querySelector(".label");let i=e.textContent;e.setAttribute("contenteditable","true"),e.focus(),document.execCommand("selectAll",!1,null);const n=this;function s(t){""===e.textContent&&(e.textContent="layer"),e.textContent!==i&&n.onEndEditLayerName(e),e.removeAttribute("contenteditable"),XOS.disconnectEvent("blur",e,s),XOS.disconnectEvent("keydown",e,o)}function o(t){if(13===t.keyCode)return s(),!1}XOS.connectEvent("blur",e,s),XOS.connectEvent("keydown",e,o),e.focus(),activeApplication.activeDocument.onChange()}onEndEditLayerName(t){t.parentElement.layerRef.dataset.layerName=t.textContent}onClick_hide(t){const e=activeApplication.activeDocument;e.activePage;t.classList.toggle("invisible"),t.classList.contains("invisible")?t.layerRef.setAttribute("hidden",""):t.layerRef.removeAttribute("hidden"),e.deselectAll(),activeApplication.workspace.update(),e.onChange()}onClick_lock(t){const e=activeApplication.activeDocument;t.classList.toggle("locked"),t.classList.contains("locked")?t.layerRef.setAttribute("locked",""):t.layerRef.removeAttribute("locked"),e.deselectAll(),activeApplication.workspace.update(),e.onChange()}onClick_newLayer(){const t=activeApplication.activeDocument,e=t.activePage,i=this.layerList.childNodes.length+1,n=t.getActivePageLayer(),s=t.createPageLayer("Layer "+i,ColorUtils.rainbow(12,i));t.addPageLayer(s);const o=new UndoRedoAction,a=new UndoRedoAction;e.history.addUndoRedoActions(o,a),a.createDomNodeSnapshot([s],"insert"),o.createDomNodeSnapshot([s],"delete");const r=this;o.onExecuteEnd=function(){t.deselectAll(),t.setActivePageLayer(n),r.drawLayerList()},a.onExecuteEnd=function(){t.deselectAll(),t.setActivePageLayer(s),r.drawLayerList()},t.onChange(),this.drawLayerList()}onClick_removeLayer(){if(1===this.layerList.children.length)return;const t=this.layerList.querySelector(".selected");if(!t)return;t.parentNode.removeChild(t);const e=activeApplication.activeDocument,i=e.activePage,n=t.layerRef,s=n.nextElementSibling||n.previousElementSibling,o=new UndoRedoAction,a=new UndoRedoAction;i.history.addUndoRedoActions(o,a),o.createDomNodeSnapshot([n],"insert"),a.createDomNodeSnapshot([n],"delete");e.getActivePageLayer();const r=this;o.onExecuteEnd=function(){e.deselectAll(),e.setActivePageLayer(n),r.drawLayerList()},a.onExecuteEnd=function(){e.deselectAll(),e.setActivePageLayer(s),r.drawLayerList()},n.parentNode.removeChild(n),e.setActivePageLayer(s),e.onChange(),this.drawLayerList()}onClick_bringLayerUp(){const t=this.layerList.querySelector(".selected");if(!t.previousElementSibling)return;t.sendDown();const e=t.layerRef,i=activeApplication.activeDocument,n=i.activePage,s=new UndoRedoAction,o=new UndoRedoAction;n.history.addUndoRedoActions(s,o),s.createDomNodeSnapshot([e],"insert");let a=null;e.nextElementSibling&&e.nextElementSibling.nextElementSibling&&(a=e.nextElementSibling.nextElementSibling),e.parentElement.insertBefore(e,a),o.createDomNodeSnapshot([e],"insert");const r=this;s.onExecuteEnd=o.onExecuteEnd=function(){r.drawLayerList()},i.onChange()}onClick_sendLayerDown(){const t=this.layerList.querySelector(".selected");if(!t.nextElementSibling)return;t.bringUp();const e=activeApplication.activeDocument,i=e.activePage,n=t.layerRef,s=new UndoRedoAction,o=new UndoRedoAction;i.history.addUndoRedoActions(s,o),s.createDomNodeSnapshot([n],"insert");let a=n.previousElementSibling;a&&(n.parentElement.insertBefore(n,a),o.createDomNodeSnapshot([n],"insert"));const r=this;s.onExecuteEnd=o.onExecuteEnd=function(){r.drawLayerList()},e.onChange()}onClick_placeSelectionInActiveLayer(){const t=this.layerList.querySelector(".selected").layerRef,e=window.activeApplication.activeDocument,i=e.activePage;if(0===i.selectionList.length)return null;const n=new UndoRedoAction,s=new UndoRedoAction;i.history.addUndoRedoActions(n,s);const o=e.sortElementListByLevel(i.selectionList),a=o.length;for(let e=0;e<a;e++)n.createDomNodeSnapshot([o[e]],"insert"),t.appendChild(o[e]),s.createDomNodeSnapshot([o[e]],"insert");n.snapshotDataList.reverse(),activeApplication.workspace.update(),e.onChange(),n.onExecuteEnd=s.onExecuteEnd=function(){e.selectElementList(o)}}}customElements.define("layers-window",LayersWindow);class KeyboardEventManager extends KeyboardManager{constructor(){super(),this.pressedCharKeyDisplay=document.querySelector("#pressed-keys .char-key .key-button")}onKeyDown(t){if(!t.keyCode)return;if(console.log("onKeyDown _e.keyCode",t.keyCode),126===t.keyCode)return void(activeApplication.showPressedKeys=!activeApplication.showPressedKeys);if(activeApplication.isTextEditing)return void("text"===activeApplication.currentEditableTextElement.nodeName&&activeApplication.currentEditableTextElement.onKeyDown(t));const e=document.activeElement;return"INPUT"===e.nodeName||"TEXTAREA"===e.nodeName||e.hasAttribute("contenteditable")?void 0:this.cmdKeyPressed?this.isCommandShortcut(t)?(t.preventDefault(),t.stopPropagation(),!1):void 0:this.spaceKeyPressed||this.shiftKeyPressed||this.altKeyPressed||!this.isToolShortcut(t)?TOOLS.activeTool.onKeyDown(t)?(t.preventDefault(),t.stopPropagation(),!1):void 0:(t.preventDefault(),t.stopPropagation(),!1)}onKeyUp(t){if(!t.keyCode)return;if(activeApplication.isTextEditing)return;const e=document.activeElement;"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName&&e.hasAttribute("contenteditable")}onPaste(t){if(activeApplication.isTextEditing)return void("text"===activeApplication.currentEditableTextElement.nodeName&&activeApplication.currentEditableTextElement.onPaste(t));const e=document.activeElement;"INPUT"===e.nodeName||"TEXTAREA"===e.nodeName||e.hasAttribute("contenteditable")||activeApplication.activeDocument.onPaste(t)}onCopy(t){if(activeApplication.isTextEditing)return void("text"===activeApplication.currentEditableTextElement.nodeName&&activeApplication.currentEditableTextElement.onCopy(t));const e=document.activeElement;"INPUT"===e.nodeName||"TEXTAREA"===e.nodeName||e.hasAttribute("contenteditable")||activeApplication.activeDocument.onCopy(t)}onCut(t){if(activeApplication.isTextEditing)return void("text"===activeApplication.currentEditableTextElement.nodeName&&activeApplication.currentEditableTextElement.onCut(t));const e=document.activeElement;"INPUT"===e.nodeName||"TEXTAREA"===e.nodeName||e.hasAttribute("contenteditable")||activeApplication.activeDocument.onCut(t)}isCommandShortcut(t){let e=[];if(this.cmdKeyPressed&&e.push("cmd-key"),this.shiftKeyPressed&&e.push("shift-key"),this.altKeyPressed&&e.push("alt-key"),91!==t.keyCode&&16!==t.keyCode&&17!==t.keyCode&&18!==t.keyCode){const i=this.KEY_CODE_TO_NAME[t.keyCode];if(i){e.push(i);const n=e.join(" "),s=Object.values(COMMANDS).find(t=>t.shortcut===n);if(s)return s.execute(t),!0}}return!1}isToolShortcut(t){const e=this.KEY_CODE_TO_NAME[t.keyCode];if(e){const t=Object.values(TOOLS).find(t=>t.shortcut===e);if(t)return activeApplication.setActiveTool(t.name),!0}return!1}isPanelShortcut(t){const e=this.KEY_CODE_TO_NAME[t.keyCode];if(e){const t=Object.values(PANELS).find(t=>t.shortcut===e);if(t&&!t.classList.contains("showed")){const e=activeApplication.workspace.bounding;return t.activateAt(e.left+e.width/2,e.top+30,"center"),!0}}return!1}updateKeysState(t){if(super.updateKeysState(t),activeApplication.showPressedKeys)if(document.documentElement.classList.add("show-pressed-keys"),this.charKeyPressed){const e=this.KEY_CODE_TO_NAME[t.keyCode];if(e)return document.documentElement.classList.add("char-key"),void(this.pressedCharKeyDisplay&&this.pressedCharKeyDisplay.setAttribute("data-char-key",e));document.documentElement.classList.remove("char-key"),this.pressedCharKeyDisplay&&this.pressedCharKeyDisplay.setAttribute("data-char-key","")}else document.documentElement.classList.remove("char-key"),this.pressedCharKeyDisplay&&this.pressedCharKeyDisplay.setAttribute("data-char-key","");else document.documentElement.classList.remove("show-pressed-keys")}}KEYBOARD_EVENT_MANAGER=new KeyboardEventManager;class DragAndDropManager{constructor(){}pointerEventToCoords(t){const e=activeApplication.activeDocument;e.pointerEventToCoords(t),e.elementFromPointerEvent(t,!0),e.applySnap(t),this.currentPointerEvent=t}reset(t){activeApplication.workspace.snapInteraction2D.reset(),activeApplication.workspace.update()}onDragOver(t){this.pointerEventToCoords(t)}onDropOver(t){this.reset();const e=XOS.getTransferData();if(e)return this.onDropTransferData(e),void XOS.setTransferData(null);const i=t.dataTransfer.getData("url");i?activeApplication.activeDocument.placeImage_undable(i):"text/html,text/uri-list,url"===t.dataTransfer.types||"text,text/plain"===t.dataTransfer.types||t.dataTransfer.files.length>0&&this.onDropFiles(t)}onDropTransferData(t){"svg-symbol"===t.type?this.onDropSymbol(t):"svg-symbol-as-shape"===t.type?this.onDropSymbolAsShape(t):"svg-symbol-as-widget"===t.type?this.onDropSymbolAsWidget(t):"svg-color"===t.type?this.onDropColor(t):"svg-gradient"===t.type?this.onDropGradient(t):"svg-pattern"===t.type?this.onDropPattern(t):"svg-filter"===t.type&&this.onDropFilter(t)}onDropFiles(t){const e=t.dataTransfer.files;if(e.length>0){let t;for(let i=0;i<e.length;i++){const n=(t=e[i]).name.split("."),s=n[n.length-1].toLowerCase();"svg"===s||"htm"===s||"html"===s?this.onDropFile_SVG(t):"jpg"===s||"jpeg"===s||"png"===s||"gif"===s?this.onDropFile_IMAGE(t):"dxf"===s||DIALOGS["alert-dialog"].open(localString("Unsupported file type:"+s),localString('You can drop only "svg", "jpg", "png" file types.'))}}}onDropFile_SVG(t){LOCAL_FILE_SYSTEM.readXMLFile(t,function(t){activeApplication.documentsManager.unserializeDocument(t,{import:!0,centerInView:!0})})}onDropFile_IMAGE(t){LOCAL_FILE_SYSTEM.readImageFileAsDataUrl(t,function(t){activeApplication.activeDocument.placeImage_undable(t)})}onDropColor(t){const e=activeApplication.activeDocument;e.activePage;if(e.getActivePageLayer().isLocked())return void DIALOGS["alert-dialog"].open(localString("The active layer is locked!"),localString("Unlock the active layer to draw in it."));if(!this.currentPointerEvent.elementAtPoint)return;let i;i=this.currentPointerEvent.segmentSnap?"stroke":"fill",e.fillAndStrokeManager.focusedGraphicSideName=i;const n={};n[i]=t.colorValue,e.setAttributeElementList_undable([this.currentPointerEvent.elementAtPoint],n)}onDropGradient(t){const e=activeApplication.activeDocument;e.activePage;if(e.getActivePageLayer().isLocked())return void DIALOGS["alert-dialog"].open(localString("The active layer is locked!"),localString("Unlock the active layer to draw in it."));if(!this.currentPointerEvent.elementAtPoint)return;let i;i=this.currentPointerEvent.segmentSnap?"stroke":"fill",e.fillAndStrokeManager.focusedGraphicSideName=i;const n=t.gradient.getAttribute("id");let s=activeApplication.activeDocument.resources.getResourceById(n);s||(s=t.gradient.cloneNode(!0),activeApplication.activeDocument.resources.addResource(s));const o={};o[i]="url(#"+n+")",o[i+"-opacity"]="1",e.setAttributeElementList_undable([this.currentPointerEvent.elementAtPoint],o)}onDropPattern(t){const e=activeApplication.activeDocument;e.activePage;if(e.getActivePageLayer().isLocked())return void DIALOGS["alert-dialog"].open(localString("The active layer is locked!"),localString("Unlock the active layer to draw in it."));if(!this.currentPointerEvent.elementAtPoint)return;let i;i=this.currentPointerEvent.segmentSnap?"stroke":"fill",e.fillAndStrokeManager.focusedGraphicSideName=i;const n=t.pattern.getAttribute("id");let s=activeApplication.activeDocument.resources.getResourceById(n);s||(s=t.pattern.cloneNode(!0),activeApplication.activeDocument.resources.addResource(s));const o=t.pattern.getAttribute("id");let a=activeApplication.activeDocument.resources.getResourceById(o);a||(a=t.pattern.cloneNode(!0),activeApplication.activeDocument.resources.addResource(a));const r={};r[i]="url(#"+o+")",r[i+"-opacity"]="1",e.setAttributeElementList_undable([this.currentPointerEvent.elementAtPoint],r)}onDropSymbol(t){const e=activeApplication.activeDocument,i=e.activePage;if(e.getActivePageLayer().isLocked())return void DIALOGS["alert-dialog"].open(localString("The active layer is locked!"),localString("Unlock the active layer to draw in it."));const n=t.symbol.getAttribute("id");let s=activeApplication.activeDocument.resources.getResourceById(n);s||(s=t.symbol.cloneNode(!0),activeApplication.activeDocument.resources.addResource(s));const o=SVGUtils.createUse(n);e.getActivePageLayer().appendChild(o),o.placeAt(this.currentPointerEvent.contentX,this.currentPointerEvent.contentY);const a=new UndoRedoAction,r=new UndoRedoAction;i.history.addUndoRedoActions(a,r),r.onExecuteEnd=function(){e.selectElementList([o])},r.createDomNodeSnapshot([o],"insert"),a.createDomNodeSnapshot([o],"delete"),e.onChange(),e.selectElementList([o]),activeApplication.workspace.update()}onDropSymbolAsShape(t){const e=activeApplication.activeDocument,i=e.activePage;if(e.getActivePageLayer().isLocked())return void DIALOGS["alert-dialog"].open(localString("The active layer is locked!"),localString("Unlock the active layer to draw in it."));let n;if(1===t.symbol.children.length)(n=t.symbol.children[0].cloneNode(!0)).getTransform().setMatrix(n.getTransform().matrix.translate(this.currentPointerEvent.contentX,this.currentPointerEvent.contentY));else{n=SVGUtils.createGroup(this.currentPointerEvent.contentX,this.currentPointerEvent.contentY);for(let e=0;e<t.symbol.children.length;e++)n.appendChild(t.symbol.children[e].cloneNode(!0))}e.getActivePageLayer().appendChild(n),n.resetOrigin();const s=new UndoRedoAction,o=new UndoRedoAction;i.history.addUndoRedoActions(s,o),o.onExecuteEnd=function(){e.selectElementList([n])},o.createDomNodeSnapshot([n],"insert"),s.createDomNodeSnapshot([n],"delete"),e.onChange(),e.selectElementList([n]),activeApplication.workspace.update()}onDropSymbolAsWidget(t){const e=activeApplication.activeDocument,i=e.activePage;if(e.getActivePageLayer().isLocked())return void DIALOGS["alert-dialog"].open(localString("The active layer is locked!"),localString("Unlock the active layer to draw in it."));const n=SVGUtils.createForeignObjectWidget(this.currentPointerEvent.contentX,this.currentPointerEvent.contentY,320,240,t.symbol.dataset.defaultUrl);e.getActivePageLayer().appendChild(n),n.resetOrigin();const s=new UndoRedoAction,o=new UndoRedoAction;i.history.addUndoRedoActions(s,o);o.onExecuteEnd=function(){e.selectElementList([n])},o.createDomNodeSnapshot([n],"insert"),s.createDomNodeSnapshot([n],"delete"),e.onChange(),e.selectElementList([n]),activeApplication.workspace.update()}onDropFilter(t){const e=activeApplication.activeDocument;e.activePage;if(e.getActivePageLayer().isLocked())return void DIALOGS["alert-dialog"].open(localString("The active layer is locked!"),localString("Unlock the active layer to draw in it."));if(!this.currentPointerEvent.elementAtPoint)return;const i=t.filter.getAttribute("id");let n=activeApplication.activeDocument.resources.getResourceById(i);n||(n=t.filter.cloneNode(!0),activeApplication.activeDocument.resources.addResource(n));const s={};s.filter="url(#"+i+")",e.setAttributeElementList_undable([this.currentPointerEvent.elementAtPoint],s),e.showSelectionProperties()}}DRAG_AND_DROP_MANAGER=new DragAndDropManager;class FillAndStrokeManager{constructor(t){this.reset(),this.applicationDef=document.querySelector("#APPLICATION_DEFS"),this.fillGradientDef=this.applicationDef.querySelector("#FILL_GRADIENT"),this.strokeGradientDef=this.applicationDef.querySelector("#STROKE_GRADIENT"),this.fillPatternDef=this.applicationDef.querySelector("#FILL_PATTERN"),this.strokePatternDef=this.applicationDef.querySelector("#STROKE_PATTERN"),this.focusedGraphicSideName="fill",this.fillFillingDisplayList=document.querySelectorAll(".fill-filling-display"),this.strokeFillingDisplayList=document.querySelectorAll(".stroke-filling-display")}reset(){this.fill="#FFFFFF",this.stroke="#000000",this.fillFillingType="color",this.strokeFillingType="color",this.nonScalingStroke=!1,this["fill-opacity"]="1",this["stroke-opacity"]="1",this["stroke-width"]="1",this["stroke-linecap"]="butt",this["stroke-linejoin"]="miter"}update_strokeDisplay(){let t=this.stroke;"radialGradient"===this.strokeFillingType||"linearGradient"===this.strokeFillingType?t="url(#STROKE_GRADIENT)":"pattern"===this.strokeFillingType&&(t="url(#STROKE_PATTERN)");const e=this.strokeFillingDisplayList.length;for(let i=0;i<e;i++)this.strokeFillingDisplayList[i].setAttribute("fill",t),"stroke"===this.focusedGraphicSideName&&XOS.selectElement(this.strokeFillingDisplayList[i].closest('[data-graphic-side="stroke"]'))}update_fillDisplay(){let t=this.fill;"radialGradient"===this.fillFillingType||"linearGradient"===this.fillFillingType?t="url(#FILL_GRADIENT)":"pattern"===this.fillFillingType&&(t="url(#FILL_PATTERN)");const e=this.fillFillingDisplayList.length;for(let i=0;i<e;i++)this.fillFillingDisplayList[i].setAttribute("fill",t),"fill"===this.focusedGraphicSideName&&XOS.selectElement(this.fillFillingDisplayList[i].closest('[data-graphic-side="fill"]'))}set_stroke(t){if(!t)return;const e=activeApplication.activeDocument;if(t instanceof SVGElement){if("image"===t.nodeName)return;this.stroke=t.getAttribute("stroke")||"#000000",this["stroke-opacity"]=t.getAttribute("stroke-opacity")||"1",this["stroke-width"]=t.getAttribute("stroke-width")||"1",this["stroke-linecap"]=t.getAttribute("stroke-linecap")||"butt",this["stroke-linejoin"]=t.getAttribute("stroke-linejoin")||"miter",this.nonScalingStroke="non-scaling-stroke"===t.getAttribute("vector-effect")}else this.stroke=t.stroke||this.stroke,this["stroke-opacity"]=t["stroke-opacity"]||this["stroke-opacity"],this["stroke-width"]=t["stroke-width"]||this["stroke-width"],this["stroke-linecap"]=t["stroke-linecap"]||this["stroke-linecap"],this["stroke-linejoin"]=t["stroke-linejoin"]||this["stroke-linejoin"];if("none"===this.stroke)this.strokeFillingType="none";else if(this.stroke.indexOf("url")>-1){const t=e.resources.getResourceByIRI(this.stroke);if("radialGradient"===t.nodeName||"linearGradient"===t.nodeName)this.strokeFillingType=t.nodeName,this.strokeGradient=t,this.strokeGradient.copyStopColorsTo(this.strokeGradientDef),this.strokeGradientDef.original=this.strokeGradient;else if("pattern"===t.nodeName){this.strokePatternDef=this.applicationDef.querySelector("#STROKE_PATTERN"),this.strokeFillingType=t.nodeName,this.strokePattern=t;const e=this.strokePattern.cloneNode(!0);this.strokePatternDef.parentElement.replaceChild(e,this.strokePatternDef),this.strokePatternDef=e,this.strokePatternDef.setAttribute("id","STROKE_PATTERN"),this.strokePatternDef.original=this.strokePattern}}else this.strokeFillingType="color";this.update_strokeDisplay()}set_fill(t){if(!t)return;const e=activeApplication.activeDocument;if(t instanceof SVGElement){if("image"===t.nodeName)return;this.fill=t.getAttribute("fill")||"#FFFFFF",this["fill-opacity"]=t.getAttribute("fill-opacity")||"1"}else this.fill=t.fill||this.fill,this["fill-opacity"]=t["fill-opacity"]||this["fill-opacity"];if("none"===this.fill)this.fillFillingType="none";else if(this.fill.indexOf("url")>-1){const t=e.resources.getResourceByIRI(this.fill);if(!t)return;if("radialGradient"===t.nodeName||"linearGradient"===t.nodeName)this.fillFillingType=t.nodeName,this.fillGradient=t,this.fillGradient.copyStopColorsTo(this.fillGradientDef),this.fillGradientDef.original=this.fillGradient;else if("pattern"===t.nodeName){this.fillPatternDef=this.applicationDef.querySelector("#FILL_PATTERN"),this.fillFillingType=t.nodeName,this.fillPattern=t;const e=this.fillPattern.cloneNode(!0);this.fillPatternDef.parentElement.replaceChild(e,this.fillPatternDef),this.fillPatternDef=e,this.fillPatternDef.setAttribute("id","FILL_PATTERN"),this.fillPatternDef.original=this.fillPattern}}else this.fillFillingType="color";this.update_fillDisplay()}apply_stroke(t){const e=activeApplication.activeDocument;e.activePage;t.setAttribute("stroke-width",this["stroke-width"]),this["stroke-opacity"]<1&&t.setAttribute("stroke-opacity",this["stroke-opacity"]),this.nonScalingStroke&&t.setAttribute("vector-effect","non-scaling-stroke"),"butt"!==this["stroke-linecap"]&&t.setAttribute("stroke-linecap",this["stroke-linecap"]),"miter"!==this["stroke-linejoin"]&&t.setAttribute("stroke-linejoin",this["stroke-linejoin"]);let i=this.stroke,n=null;if("radialGradient"===this.strokeFillingType||"linearGradient"===this.strokeFillingType?n=this.strokeGradient:"pattern"===this.strokeFillingType&&(n=this.strokePattern),n){const t=n.cloneNode(!0),s=e.resources.createResourceIdFromExistentId(t.getAttribute("id"));e.resources.addResource(t,s),i="url(#"+s+")"}t.setAttribute("stroke",i)}apply_fill(t){const e=activeApplication.activeDocument;e.activePage;let i=this.fill;this["fill-opacity"]<1&&t.setAttribute("fill-opacity",this["fill-opacity"]);let n=null;if("radialGradient"===this.fillFillingType||"linearGradient"===this.fillFillingType?n=this.fillGradient:"pattern"===this.fillFillingType&&(n=this.fillPattern),n){const t=n.cloneNode(!0),s=e.resources.createResourceIdFromExistentId(t.getAttribute("id"));e.resources.addResource(t,s),i="url(#"+s+")"}t.setAttribute("fill",i)}}class BaseCommand_cmd{constructor(t=""){this.shortcut=t}execute(t){this.onBeforeExecute(t),this.onExecute(t),this.onAfterExecute(t)}onBeforeExecute(t){}onExecute(t){}onAfterExecute(t){}}class ShowDialog_cmd extends BaseCommand_cmd{constructor(){super()}onExecute(t){const e=document.querySelector("#"+t.target.dataset.value);e&&XOS.showElement(e)}}COMMANDS.showDialog=new ShowDialog_cmd;class ActivatePopUpPanel_cmd extends BaseCommand_cmd{constructor(){super()}onExecute(t){const e=t.target,i=PANELS[e.dataset.panelTarget],n=e.dataset.horizontalPlacement,s=e.dataset.verticalPlacement;i.activateBy(e,void 0,void 0,n,s)}}COMMANDS.activePopUpPanel=new ActivatePopUpPanel_cmd;class OpenWindow_cmd extends BaseCommand_cmd{constructor(){super()}onExecute(t){const e=t.target;WINDOWS[e.dataset.windowTarget].open(!0)}}COMMANDS.openWindow=new OpenWindow_cmd;class Undo_cmd extends BaseCommand_cmd{constructor(t){super(t)}onExecute(t){const e=window.activeApplication.activeDocument;e.deselectAll(),e.activePage.history.undo(),activeApplication.workspace.update(),e.onChange()}}COMMANDS.undo=new Undo_cmd("cmd-key Z");class Redo_cmd extends BaseCommand_cmd{constructor(t){super(t)}onExecute(t){const e=window.activeApplication.activeDocument;e.deselectAll(),e.activePage.history.redo(),activeApplication.workspace.update(),e.onChange()}}COMMANDS.redo=new Redo_cmd("cmd-key shift-key Z");class Duplicate_cmd extends BaseCommand_cmd{constructor(t){super(t),this.lastTransformAction=null}onExecute(t){const e=window.activeApplication.activeDocument,i=e.activePage;if(0===i.selectionList.length)return null;const n=new UndoRedoAction("duplicate"),s=new UndoRedoAction("duplicate");i.history.addUndoRedoActions(n,s);const o=i.selectionList;e.deselectAll();const a=[],r=o.length;for(let t=0;t<r;t++){let e=o[t].cloneNode(!0);a.push(e),o[t].parentElement.insertBefore(e,o[t].nextElementSibling)}t&&this.applyTransformAction(a),s.createDomNodeSnapshot(a,"insert"),n.createDomNodeSnapshot(a,"delete"),n.onExecuteEnd=function(){e.selectElementList(o)},s.onExecuteEnd=function(){e.selectElementList(a)},e.selectElementList(a),activeApplication.workspace.update(),e.onChange()}applyTransformAction(t){this.lastTransformAction&&this.lastTransformAction(t)}}COMMANDS.duplicate=new Duplicate_cmd("cmd-key D");class BringToFront_cmd extends BaseCommand_cmd{constructor(t){super(t)}onExecute(t){const e=activeApplication.activeDocument,i=e.activePage;if(0===i.selectionList.length)return null;const n=new UndoRedoAction,s=new UndoRedoAction;i.history.addUndoRedoActions(n,s);const o=e.sortElementListByLevel(i.selectionList),a=o.length;for(let t=0;t<a;t++)n.createDomNodeSnapshot([o[t]],"insert"),o[t].parentElement.appendChild(o[t]),s.createDomNodeSnapshot([o[t]],"insert");n.snapshotDataList.reverse(),n.onExecuteEnd=s.onExecuteEnd=function(){e.selectElementList(o)},activeApplication.workspace.update(),e.onChange()}}COMMANDS.bringToFront=new BringToFront_cmd("cmd-key F");class BringUp_cmd extends BaseCommand_cmd{constructor(t){super(t)}onExecute(t){const e=activeApplication.activeDocument,i=e.activePage;if(0===i.selectionList.length)return null;const n=new UndoRedoAction,s=new UndoRedoAction;i.history.addUndoRedoActions(n,s);const o=e.sortElementListByLevel(i.selectionList).reverse(),a=o.length;let r=null;for(let t=0;t<a;t++)n.createDomNodeSnapshot([o[t]],"insert"),r=null,o[t].nextElementSibling&&o[t].nextElementSibling.nextElementSibling&&(r=o[t].nextElementSibling.nextElementSibling),o[t].parentElement.insertBefore(o[t],r),s.createDomNodeSnapshot([o[t]],"insert");n.snapshotDataList.reverse(),n.onExecuteEnd=s.onExecuteEnd=function(){e.selectElementList(o)},activeApplication.workspace.update(),e.onChange()}}COMMANDS.bringUp=new BringUp_cmd("cmd-key alt-key F");class SendDown_cmd extends BaseCommand_cmd{constructor(t){super(t)}onExecute(t){const e=activeApplication.activeDocument,i=e.activePage;if(0===i.selectionList.length)return null;const n=new UndoRedoAction,s=new UndoRedoAction;i.history.addUndoRedoActions(n,s);const o=e.sortElementListByLevel(i.selectionList),a=o.length;for(let t=0;t<a;t++){n.createDomNodeSnapshot([o[t]],"insert");let e=o[t].previousElementSibling;e&&(o[t].parentElement.insertBefore(o[t],e),s.createDomNodeSnapshot([o[t]],"insert"))}n.snapshotDataList.reverse(),n.onExecuteEnd=s.onExecuteEnd=function(){e.selectElementList(o)},activeApplication.workspace.update(),e.onChange()}}COMMANDS.sendDown=new SendDown_cmd("cmd-key alt-key B");class SendToBack_cmd extends BaseCommand_cmd{constructor(t){super(t)}onExecute(t){const e=activeApplication.activeDocument,i=e.activePage;if(0===i.selectionList.length)return null;const n=new UndoRedoAction,s=new UndoRedoAction;i.history.addUndoRedoActions(n,s);const o=e.sortElementListByLevel(i.selectionList);o.reverse();const a=o.length;for(let t=0;t<a;t++)n.createDomNodeSnapshot([o[t]],"insert"),o[t].parentElement.insertBefore(o[t],o[t].parentElement.firstElementChild),s.createDomNodeSnapshot([o[t]],"insert");n.snapshotDataList.reverse(),n.onExecuteEnd=s.onExecuteEnd=function(){e.selectElementList(o)},activeApplication.workspace.update(),e.onChange()}}COMMANDS.sendToBack=new SendToBack_cmd("cmd-key B");class Reflect_cmd extends BaseCommand_cmd{constructor(t){super(t)}onExecute(t){const e=activeApplication.activeDocument,i=e.activePage;if(0===i.selectionList.length)return null;const n=i.selectionList,s=GeometryUtils.getElementListGlobalBBox(n);let o=1,a=1;switch(t.target.dataset.value){case"horizontally":o=-1;break;case"vertically":a=-1}e.scaleElementList_undable(n,o,a,s.center,!1)}}COMMANDS.reflect=new Reflect_cmd,COMMANDS.reflectHorizontally={shortcut:"cmd-key alt-key H",execute:function(t){COMMANDS.reflect.execute({target:{dataset:{value:"horizontally"}}})}},COMMANDS.reflectVertically={shortcut:"cmd-key alt-key V",execute:function(t){COMMANDS.reflect.execute({target:{dataset:{value:"vertically"}}})}};class RotateByStep_cmd extends BaseCommand_cmd{constructor(t){super(t)}onExecute(t){const e=activeApplication.activeDocument,i=e.activePage;if(0===i.selectionList.length)return null;const n=i.selectionList,s=t.target.dataset.value||90,o=GeometryUtils.getBBoxPointByLocationName("center-center",GeometryUtils.getElementListGlobalBBox(n)),a=new UndoRedoAction,r=new UndoRedoAction;i.history.addUndoRedoActions(a,r),a.createAttributeSnapshot(n,"transform"),e.rotateElementList(n,s,o),r.createAttributeSnapshot(n,"transform"),a.onExecuteEnd=r.onExecuteEnd=function(){e.selectElementList(n)},activeApplication.workspace.update(),e.onChange()}}COMMANDS.rotateByStep=new RotateByStep_cmd,COMMANDS.rotate90={shortcut:"cmd-key alt-key R",execute:function(t){COMMANDS.rotateByStep.execute({target:{dataset:{value:90}}})}},COMMANDS.rotateMinus90={shortcut:"cmd-key shift-key alt-key R",execute:function(t){COMMANDS.rotateByStep.execute({target:{dataset:{value:-90}}})}};class Align_cmd extends BaseCommand_cmd{constructor(t){super(t)}onExecute(t){const e=activeApplication.activeDocument,i=e.activePage;let n;if(1===i.selectionList.length)n=activeApplication.workspace.pageBackground.getGlobalBBox();else{if(!(i.selectionList.length>1))return null;n=GeometryUtils.getElementListGlobalBBox(i.selectionList)}const s=i.selectionList,o=new UndoRedoAction,a=new UndoRedoAction;let r,l;i.history.addUndoRedoActions(o,a),o.createAttributeSnapshot(s,"transform");const c=s.length;for(let e=0;e<c;e++)switch(l=(r=s[e]).getGlobalBBox(),t.target.dataset.value){case"alignLeft":r.translateInGlobal(n.min.x-l.min.x,0);break;case"alignVCenter":r.translateInGlobal(n.center.x-l.center.x,0);break;case"alignRight":r.translateInGlobal(n.max.x-l.max.x,0);break;case"alignTop":r.translateInGlobal(0,n.min.y-l.min.y);break;case"alignHCenter":r.translateInGlobal(0,n.center.y-l.center.y);break;case"alignBottom":r.translateInGlobal(0,n.max.y-l.max.y)}a.createAttributeSnapshot(s,"transform"),o.onExecuteEnd=a.onExecuteEnd=function(){e.selectElementList(s)},activeApplication.workspace.update(),e.onChange()}}COMMANDS.align=new Align_cmd,COMMANDS.alignLeft={shortcut:"cmd-key alt-key ONE",execute:function(t){COMMANDS.align.execute({target:{dataset:{value:"alignLeft"}}})}},COMMANDS.alignVCenter={shortcut:"cmd-key alt-key TWO",execute:function(t){COMMANDS.align.execute({target:{dataset:{value:"alignVCenter"}}})}},COMMANDS.alignRight={shortcut:"cmd-key alt-key THREE",execute:function(t){COMMANDS.align.execute({target:{dataset:{value:"alignRight"}}})}},COMMANDS.alignTop={shortcut:"cmd-key alt-key FOUR",execute:function(t){COMMANDS.align.execute({target:{dataset:{value:"alignTop"}}})}},COMMANDS.alignHCenter={shortcut:"cmd-key alt-key FIVE",execute:function(t){COMMANDS.align.execute({target:{dataset:{value:"alignHCenter"}}})}},COMMANDS.alignBottom={shortcut:"cmd-key alt-key SIX",execute:function(t){COMMANDS.align.execute({target:{dataset:{value:"alignBottom"}}})}};class Distribuite_cmd extends BaseCommand_cmd{constructor(t){super(t)}onExecute(t){const e=activeApplication.activeDocument,i=e.activePage;if(i.selectionList.length<3)return;const n=GeometryUtils.getElementListGlobalBBox(i.selectionList),s=i.selectionList,o=new UndoRedoAction,a=new UndoRedoAction;i.history.addUndoRedoActions(o,a),o.createAttributeSnapshot(s,"transform");const r=s.length;let l,c,d,u,f,h,m,g;switch(t.target.dataset.value){case"distribuiteCenterX":s.sort(function(t,e){return t.getGlobalBBox().min.x-e.getGlobalBBox().min.x}),u=s[0].getGlobalBBox(),d=s[r-1].getGlobalBBox(),n.min.x=u.center.x,n.max.x=d.center.x,l=n.width/(r-1);break;case"distribuiteCenterY":s.sort(function(t,e){return t.getGlobalBBox().min.y-e.getGlobalBBox().min.y}),f=s[0].getGlobalBBox(),h=s[r-1].getGlobalBBox(),n.min.y=f.center.y,n.max.y=h.center.y,n.height=n.max.y-n.min.y,c=n.height/(r-1);break;case"distribuiteHSpace":s.sort(function(t,e){return t.getGlobalBBox().min.x-e.getGlobalBBox().min.x});let e=0;for(let t=0;t<r;t++)e+=s[t].getGlobalBBox().width;l=(n.width-e)/(r-1),u=s[0].getGlobalBBox(),d=s[r-1].getGlobalBBox(),n.min.x=u.max.x,n.max.x=d.min.x;break;case"distribuiteVSpace":s.sort(function(t,e){return t.getGlobalBBox().min.y-e.getGlobalBBox().min.y});let i=0;for(let t=0;t<r;t++)i+=s[t].getGlobalBBox().height;c=(n.height-i)/(r-1),f=s[0].getGlobalBBox(),h=s[r-1].getGlobalBBox(),n.min.y=f.max.y,n.max.y=h.min.y}for(let e=1;e<r-1;e++)switch(g=(m=s[e]).getGlobalBBox(),t.target.dataset.value){case"distribuiteCenterX":m.translateInGlobal(n.min.x+l-g.width/2-g.min.x,0),l+=l;break;case"distribuiteCenterY":m.translateInGlobal(0,n.min.y+c-g.height/2-g.min.y),c+=c;break;case"distribuiteHSpace":m.translateInGlobal(n.min.x+l-g.min.x,0),n.min.x=n.min.x+l+g.width;break;case"distribuiteVSpace":m.translateInGlobal(0,n.min.y+c-g.min.y),n.min.y=n.min.y+c+g.height}a.createAttributeSnapshot(s,"transform"),o.onExecuteEnd=a.onExecuteEnd=function(){e.selectElementList(s)},activeApplication.workspace.update(),e.onChange()}}COMMANDS.distribuite=new Distribuite_cmd,COMMANDS.distribuiteHSpace={shortcut:"cmd-key alt-key SEVEN",execute:function(t){COMMANDS.distribuite.execute({target:{dataset:{value:"distribuiteHSpace"}}})}},COMMANDS.distribuiteVSpace={shortcut:"cmd-key alt-key EIGHT",execute:function(t){COMMANDS.distribuite.execute({target:{dataset:{value:"distribuiteVSpace"}}})}},COMMANDS.distribuiteCenterX={shortcut:"",execute:function(t){COMMANDS.distribuite.execute({target:{dataset:{value:"distribuiteCenterX"}}})}},COMMANDS.distribuiteCenterY={shortcut:"",execute:function(t){COMMANDS.distribuite.execute({target:{dataset:{value:"distribuiteCenterY"}}})}};class Booleans_cmd extends BaseCommand_cmd{constructor(t){super(t)}booleanPathsOperation(t,e,i){const n={};paper.install(n),paper.setup([640,480]);const s=n.project.importSVG(t),o=n.project.importSVG(e);let a;switch(i){case"unite":a=s.unite(o);break;case"intersect":a=s.intersect(o);break;case"subtract":a=s.subtract(o);break;case"exclude":a=s.exclude(o);break;case"divide":a=s.divide(o)}const r=a.exportSVG();let l=[];return"g"===r.nodeName?l=r.querySelectorAll("path"):l.push(r),l}booleanPathsOperation_undable(t){const e=activeApplication.activeDocument,i=e.activePage;let n=XOS.getFilteredElementListByNodeName(i.selectionList,"path,rect,ellipse");n=e.sortElementListByLevel(n),e.deselectAll();const s=this;i.convertElementListToPath(n,function(i){let o,a;if(2===i.length)o=i[0],a=i[1];else{a=i.pop();const t=n[0].parentElement;for(let e=0;e<i.length;e++)t.appendChild(i[e]);o=i[0];const e=i.length;for(let t=1;t<e;t++)o.unifyPathSegments(i[t]);o.render();for(let e=0;e<i.length;e++)t.removeChild(i[e])}const r=s.booleanPathsOperation(o,a,t);e.fillAndStrokeManager.set_stroke(o),e.fillAndStrokeManager.set_fill(o);for(let t=0;t<r.length;t++)r[t].setPathData(r[t].getPathData({absolutize:!0}));e.replaceElementList_undable(n,r);for(let t=0;t<r.length;t++)r[t].resetOrigin(),e.fillAndStrokeManager.apply_stroke(r[t]),e.fillAndStrokeManager.apply_fill(r[t]);activeApplication.workspace.update()})}onExecute(t){window.activeApplication.activeDocument.activePage.selectionList.length<2||this.booleanPathsOperation_undable(t.target.dataset.value)}}COMMANDS.booleans=new Booleans_cmd;class Delete_cmd extends BaseCommand_cmd{constructor(t){super(t)}onExecute(t){const e=activeApplication.activeDocument,i=e.activePage;let n,s=i.selectionList.length;if(0===s)return null;const o=[];for(n=0;n<s;n++)i.selectionList[n].classList.contains("view-box")||o.push(i.selectionList[n]);if(0===(s=o.length))return null;const a=new UndoRedoAction,r=new UndoRedoAction;for(i.history.addUndoRedoActions(a,r),n=0;n<s;n++)a.createDomNodeSnapshot([o[n]],"insert"),r.createDomNodeSnapshot([o[n]],"delete"),o[n].remove();a.snapshotDataList.reverse(),a.onExecuteEnd=function(){e.selectElementList(o)},e.deselectAll(),activeApplication.workspace.update(),e.onChange()}}COMMANDS.delete=new Delete_cmd("DELETE"),COMMANDS.deleteBackspace=new Delete_cmd("BACKSPACE");class NewDocument_cmd extends BaseCommand_cmd{constructor(){super()}onExecute(t){activeApplication.documentsManager.newDocument()}}COMMANDS.newDocument=new NewDocument_cmd;class OpenDocument_cmd extends BaseCommand_cmd{constructor(){super()}onExecute(t){activeApplication.documentsManager.chooseDocument()}}COMMANDS.openDocument=new OpenDocument_cmd;class CloseDocument_cmd extends BaseCommand_cmd{constructor(){super()}onExecute(t){activeApplication.documentsManager.closeDocument()}}COMMANDS.closeDocument=new CloseDocument_cmd;class SaveDocument_cmd extends BaseCommand_cmd{constructor(){super("cmd-key S")}onExecute(t){activeApplication.checkLicense(function(){activeApplication.documentsManager.saveDocument()})}}COMMANDS.saveDocument=new SaveDocument_cmd;class SaveDocumentAs_cmd extends BaseCommand_cmd{constructor(){super()}onExecute(t){activeApplication.checkLicense(function(){activeApplication.documentsManager.saveDocumentAs()})}}COMMANDS.saveDocumentAs=new SaveDocumentAs_cmd;class saveDocumentAsDefault_cmd extends BaseCommand_cmd{constructor(){super()}onExecute(t){activeApplication.documentsManager.saveDocumentAsDefault()}}COMMANDS.saveDocumentAsDefault=new saveDocumentAsDefault_cmd;class RemoveDefaultDocument_cmd extends BaseCommand_cmd{constructor(){super()}onExecute(t){activeApplication.documentsManager.removeDefaultDocument()}}COMMANDS.removeDefaultDocument=new RemoveDefaultDocument_cmd;class ImportImage_cmd extends BaseCommand_cmd{constructor(){super()}onExecute(t){window.activeApplication.activeDocument.importLocalImageAsDataURL_undable()}}COMMANDS.importImage=new ImportImage_cmd;class ImportDXF_cmd extends BaseCommand_cmd{constructor(){super()}onExecute(t){const e=this;LOCAL_FILE_SYSTEM.chooseFile("application/dxf",function(t){LOCAL_FILE_SYSTEM.readTextFile(t.target.files[0],function(t){e.parse_DXF(t)})})}parse_DXF(t){(new DXF_importer).import(t,1)}}COMMANDS.importDXF=new ImportDXF_cmd;class ImportDocument_cmd extends BaseCommand_cmd{constructor(){super()}onExecute(t){window.activeApplication.documentsManager.chooseDocument({import:!0})}}COMMANDS.importDocument=new ImportDocument_cmd;class ExportAsImage_cmd extends BaseCommand_cmd{constructor(){super()}onExecute(t){const e=this;window.activeApplication.checkLicense(function(){e.doExport(t)})}doExport(t){const e=activeApplication.activeDocument,i=e.activePage;e.exitFrom_AllIsolateLayerEditing(),e.convertPageToBitmap(i,function(e){const i=LOCAL_FILE_SYSTEM.fileNameAndExtensionByMimeType(activeApplication.activeDocument.fileHandle.name,t.target.dataset.mimeType);LOCAL_FILE_SYSTEM.saveLocalFile(i,e,t.target.dataset.mimeType)},t.target.dataset.mimeType)}}COMMANDS.exportAsImage=new ExportAsImage_cmd;class PrintDocument_cmd extends BaseCommand_cmd{constructor(){super()}onExecute(t){window.print()}}COMMANDS.printDocument=new PrintDocument_cmd("cmd-key P");class CutByClick_cmd extends BaseCommand_cmd{constructor(){super()}onExecute(t){document.execCommand("cut")}}COMMANDS.cutByClick=new CutByClick_cmd("cmd-key X");class CopyByClick_cmd extends BaseCommand_cmd{constructor(){super()}onExecute(t){document.execCommand("copy")}}COMMANDS.copyByClick=new CopyByClick_cmd("cmd-key C");class PasteByClick_cmd extends BaseCommand_cmd{constructor(){super()}async onExecute(t){try{const e=await navigator.clipboard.read(),i=await e[0].getType("text/plain");let n=await new Response(i).text(),s=n.indexOf("<svg");if(-1===s)return;n=n.substring(s,n.lastIndexOf("</svg>")+6);const o=(new DOMParser).parseFromString(n,"image/svg+xml").querySelector("svg");let a=!1;t.target.dataset.importInPlace&&(a=!0),activeApplication.documentsManager.unserializeDocument(o,{import:!0,importInPlace:a})}catch(t){DIALOGS.alertDialog.open(localString("Tips"),localString("Try to paste using the keyboard [Cmd/Ctrl]+V"),null,null,"../XOS/icons/sys-dialog-icons.svg#message-dialog-icon"),document.execCommand("paste")}}}COMMANDS.pasteByClick=new PasteByClick_cmd("cmd-key V");class SelectAll_cmd extends BaseCommand_cmd{constructor(t){super(t)}onExecute(t){activeApplication.activeDocument.selectAll()}}COMMANDS.selectAll=new SelectAll_cmd("cmd-key A");class DeselectAll_cmd extends BaseCommand_cmd{constructor(t){super(t)}onExecute(t){activeApplication.activeDocument.deselectAll(),activeApplication.workspace.update()}}COMMANDS.deselectAll=new DeselectAll_cmd("cmd-key shift-key A");class ResetRotation_cmd extends BaseCommand_cmd{constructor(){super()}onExecute(t){if(window.activeApplication.activeDocument.activePage.selectionList.length<1)return null;window.activeApplication.activeDocument.resetRotationElementList_undable()}}COMMANDS.resetRotation=new ResetRotation_cmd;class ResetTransform_cmd extends BaseCommand_cmd{constructor(){super()}onExecute(t){if(activeApplication.activeDocument.activePage.selectionList.length<1)return null;activeApplication.activeDocument.resetTransformElementList_undable()}}COMMANDS.resetTransform=new ResetTransform_cmd;class BakeTransform_cmd extends BaseCommand_cmd{constructor(){super()}onExecute(t){if(window.activeApplication.activeDocument.activePage.selectionList.length<1)return null;window.activeApplication.activeDocument.bakeTransformElementList_undable()}}COMMANDS.bakeTransform=new BakeTransform_cmd;class ResetOrigin_cmd extends BaseCommand_cmd{constructor(){super()}onExecute(t){if(window.activeApplication.activeDocument.activePage.selectionList.length<1)return null;window.activeApplication.activeDocument.resetOriginElementList_undable()}}COMMANDS.resetOrigin=new ResetOrigin_cmd;class Group_cmd extends BaseCommand_cmd{constructor(t){super(t)}onExecute(t){const e=activeApplication.activeDocument;if(0===e.activePage.selectionList.length)return null;e.groupElementList_undable()}}COMMANDS.group=new Group_cmd("cmd-key G");class Ungroup_cmd extends BaseCommand_cmd{constructor(t){super(t)}onExecute(t){return 0===activeApplication.activeDocument.activePage.selectionList.length?null:activeApplication.activeDocument.ungroupElementList_undable()}}COMMANDS.ungroup=new Ungroup_cmd("cmd-key shift-key G");class ConvertToPath_cmd extends BaseCommand_cmd{constructor(){super()}onExecute(t){if(0===window.activeApplication.activeDocument.activePage.selectionList.length)return null;window.activeApplication.activeDocument.convertElementListToPath_undable(),TOOLS.activeTool!==TOOLS["selection-points-tool"]&&window.activeApplication.setActiveTool("selection-points-tool")}}COMMANDS.convertToPath=new ConvertToPath_cmd;class ConvertToBitmap_cmd extends BaseCommand_cmd{constructor(){super()}onExecute(t){const e=window.activeApplication.activeDocument.activePage;if(0===e.selectionList.length)return null;window.activeApplication.activeDocument.convertElementToBitmap_undable(e.selectionList[0])}}COMMANDS.convertToBitmap=new ConvertToBitmap_cmd;class Lock_cmd extends BaseCommand_cmd{constructor(t){super(t)}onExecute(t){const e=window.activeApplication.activeDocument,i=e.activePage;if(0===i.selectionList.length)return null;const n=i.selectionList,s=new UndoRedoAction,o=new UndoRedoAction;i.history.addUndoRedoActions(s,o),s.createAttributeSnapshot(n,"locked");const a=n.length;for(let t=0;t<a;t++)n[t].setAttribute("locked","");o.createAttributeSnapshot(n,"locked"),e.deselectAll(),activeApplication.workspace.update(),e.onChange()}}COMMANDS.lock=new Lock_cmd("cmd-key L");class UnlockAll_cmd extends BaseCommand_cmd{constructor(t){super(t)}onExecute(t){const e=window.activeApplication.activeDocument,i=e.activePage,n=i.content.querySelectorAll(".layers .layer[active] [locked]"),s=new UndoRedoAction,o=new UndoRedoAction;i.history.addUndoRedoActions(s,o),s.createAttributeSnapshot(n,"locked");const a=n.length;for(let t=0;t<a;t++)n[t].removeAttribute("locked");o.createAttributeSnapshot(n,"locked"),e.selectElementList(n),activeApplication.workspace.update(),e.onChange()}}COMMANDS.unlockAll=new UnlockAll_cmd("cmd-key shift-key L");class ViewPageAtScale_cmd extends BaseCommand_cmd{constructor(t){super(t),this.scale="fit"}onExecute(t){activeApplication.activeDocument.setActivePageScale(this.scale),activeApplication.workspace.update()}}COMMANDS.fitPageToView=new ViewPageAtScale_cmd("cmd-key ZERO"),COMMANDS.viewPageAt100=new ViewPageAtScale_cmd("cmd-key ONE"),COMMANDS.viewPageAt100.scale=1,COMMANDS.viewPageAt200=new ViewPageAtScale_cmd("cmd-key TWO"),COMMANDS.viewPageAt200.scale=2;class FitSelectionToView_cmd extends BaseCommand_cmd{constructor(t){super(t)}onExecute(t){const e=window.activeApplication.activeDocument,i=e.activePage;if(0===i.selectionList.length)return e.setActivePageScale(this.scale),void activeApplication.workspace.update();const n=GeometryUtils.getElementListGlobalBBox(i.selectionList);e.fitRectToView(n,100,100),activeApplication.workspace.update()}}COMMANDS.fitSelectionToView=new FitSelectionToView_cmd("cmd-key alt-key ZERO");class ShowAsWireframe_cmd extends BaseCommand_cmd{constructor(){super()}onExecute(t){const e=window.activeApplication.activeDocument.activePage;t.target.classList.contains("checked")?(e.classList.remove("show-as-wireframe"),t.target.classList.remove("checked")):(e.classList.add("show-as-wireframe"),t.target.classList.add("checked"))}}COMMANDS.showAsWireframe=new ShowAsWireframe_cmd;class DuplicatePage_cmd extends BaseCommand_cmd{constructor(){super()}onExecute(t){const e=activeApplication.activeDocument,i=e.activePage;e.deselectAll();const n=i.cloneNode(!0);i.parentElement.insertBefore(n,i.nextElementSibling),e.setActivePage(n),PANELS["page-list-inspector"].update()}}COMMANDS.duplicatePage=new DuplicatePage_cmd;class CopyPages_cmd extends BaseCommand_cmd{constructor(){super()}onExecute(t){activeApplication.activeDocument.copyAndCutListener=PANELS["page-list-inspector"],document.execCommand("copy")}}COMMANDS.copyPages=new CopyPages_cmd;class CutPages_cmd extends BaseCommand_cmd{constructor(){super()}onExecute(t){activeApplication.activeDocument.copyAndCutListener=PANELS["page-list-inspector"],document.execCommand("cut")}}COMMANDS.cutPages=new CutPages_cmd;class JoinPaths_cmd extends BaseCommand_cmd{constructor(t){super(t)}onExecute(t){const e=activeApplication.activeDocument;if(e.activePage.selectionList.length<2)return null;e.joinPaths_undable()}}COMMANDS.joinPaths=new JoinPaths_cmd("cmd-key J");class ClosePath_cmd extends BaseCommand_cmd{constructor(t){super(t)}onExecute(t){const e=window.activeApplication.activeDocument;if(e.activePage.selectionList.length<1)return null;e.closePath_undable()}}COMMANDS.closePath=new ClosePath_cmd;class UnifyPaths_cmd extends BaseCommand_cmd{constructor(t){super(t)}onExecute(t){const e=window.activeApplication.activeDocument;if(e.activePage.selectionList.length<2)return null;e.unifyPaths_undable()}}COMMANDS.unifyPaths=new UnifyPaths_cmd;class SeparateSubPaths_cmd extends BaseCommand_cmd{constructor(t){super(t)}onExecute(t){const e=window.activeApplication.activeDocument;if(0===e.activePage.selectionList.length)return null;e.separateSubPaths_undable()}}COMMANDS.separateSubPaths=new SeparateSubPaths_cmd;class ReversePath_cmd extends BaseCommand_cmd{constructor(t){super(t)}onExecute(t){const e=window.activeApplication.activeDocument;if(0===e.activePage.selectionList.length)return null;e.reversePath_undable()}}COMMANDS.reversePath=new ReversePath_cmd;class CreateMaskedContent_cmd extends BaseCommand_cmd{constructor(){super()}onExecute(t){const e=window.activeApplication.activeDocument;if(e.activePage.selectionList.length<2)return null;e.createMaskedContent_undable()}}COMMANDS.createMaskedContent=new CreateMaskedContent_cmd;class CreateClippedContent_cmd extends BaseCommand_cmd{constructor(){super()}onExecute(t){const e=window.activeApplication.activeDocument;if(e.activePage.selectionList.length<2)return null;e.createClippedContent_undable()}}COMMANDS.createClippedContent=new CreateClippedContent_cmd;class CreateSymbol_cmd extends BaseCommand_cmd{constructor(){super()}onExecute(t){const e=window.activeApplication.activeDocument,i=e.activePage;if(0===i.selectionList.length)return null;const n=DIALOGS.promptDialog,s=DIALOGS.alertDialog;n.open(localString("Symbol id"),localString("Give a custom symbol name."),function(){let t=n.getPromptValue();""===t&&(t=null),e.resources.getResourceById(t)?s.open(localString("Existent ID"),localString("The document already contains an element with ID:")+t):(e.createSymbol_undable(i.selectionList,t),this.close())},null,"resources/icons/janvas-app-icons.svg#symbolLibrary2D_icon"),n.setPromptValue("",localString("symbol name"))}}COMMANDS.createSymbol=new CreateSymbol_cmd;class CreatePattern_cmd extends BaseCommand_cmd{constructor(){super()}onExecute(t){const e=window.activeApplication.activeDocument;if(0===e.activePage.selectionList.length)return null;e.createPattern_undable()}}COMMANDS.createPattern=new CreatePattern_cmd;class CreateMarker_cmd extends BaseCommand_cmd{constructor(){super()}onExecute(t){const e=window.activeApplication.activeDocument;if(0===e.activePage.selectionList.length)return null;e.createMarker_undable()}}COMMANDS.createMarker=new CreateMarker_cmd;class CreateTextOnPath_cmd extends BaseCommand_cmd{constructor(){super()}onExecute(t){const e=window.activeApplication.activeDocument;if(e.activePage.selectionList.length<2)return null;e.createTextOnPath_undable()}}COMMANDS.createTextOnPath=new CreateTextOnPath_cmd;class IFrameServiceDialogAction_cmd extends BaseCommand_cmd{constructor(){super()}onExecute(t){const e=DIALOGS[t.target.dataset.dialogId];e&&e.doServiceAction(t.target.dataset.action)}}COMMANDS.iframeServiceDialogAction=new IFrameServiceDialogAction_cmd;class Base2D_tool{constructor(t,e=""){this.name=t,this.shortcut=e,TOOLS[this.name]=this}onActivate(){activeApplication.activeDocument&&(activeApplication.workspace.snapInteraction2D.reset(),activeApplication.workspace.update())}onDeactivate(){}onKeyDown(t){}onPointerDownOnInteractionPoint(t){}onPointerDoubleClick(){}onPointerDown(t){this.lastPointerDownEvent&&t.timeStamp-this.lastPointerDownEvent.timeStamp<250&&(t.isDoubleClick=!0),this.lastPointerDownEvent=t}onPointerUp(t){this.lastPointerUpEvent&&(t.timeStamp-this.lastPointerUpEvent.timeStamp<250&&(t.isDoubleClick=!0),t.timeStamp-this.lastPointerUpEvent.timeStamp>250&&(t.isMouseHold=!0)),this.lastPointerUpEvent=t}onPointerMove(t){}onDragStart(t){}onDrag(t){}onDragEnd(){}onWheelChangeStart(t){activeApplication.workspace.removeSelectionPreview(),activeApplication.workspace.removeInteractions(),activeApplication.activeDocument.preferences.optimizeZoom&&activeApplication.activeDocument.activePage.classList.add("optimize-zoom")}onWheelChangeEnd(t){activeApplication.isTextEditing||activeApplication.workspace.update(),activeApplication.activeDocument.preferences.optimizeZoom&&activeApplication.activeDocument.activePage.classList.remove("optimize-zoom")}onWheelChange(t){activeApplication.activeDocument.zoom(t.deltaSumY,t.pageX-activeApplication.workspace.bounding.left,t.pageY-activeApplication.workspace.bounding.top)}showInteraction(){}onDocumentViewChange(){}}class BaseDraw2D_tool extends Base2D_tool{constructor(t,e,i="linear-interaction"){super(t,e),this.pointA=null,this.pointB=null,this.pointC=null,this.currentPenEvent=null,this.createdElement=null,this.interactionMode=i}onDeactivate(){this.reset()}onKeyDown(t){activeApplication.activeDocument;switch(KEYBOARD_EVENT_MANAGER.KEY_CODE_TO_NAME[t.keyCode]){case"BACKSPACE":case"DELETE":COMMANDS.delete.execute(),t.preventDefault(),t.stopPropagation(),this.reset();break;case"TAB":"linear-interaction"===this.interactionMode?(this.pointA&&this.pointB&&this.finalize(t),WINDOWS.mainInspectorWindow.showMainSection("selection-section"),PANELS["linear-transform-inspector"].setInputPropertyFocus("lineLength")):"rectangular-interaction"===this.interactionMode?(this.pointA&&this.pointB&&this.finalize(t),WINDOWS.mainInspectorWindow.showMainSection("selection-section"),PANELS["rectangular-transform-inspector"].setInputPropertyFocus("sizeX")):"elliptical-interaction"===this.interactionMode?(this.pointA&&this.pointB&&this.finalize(t),WINDOWS.mainInspectorWindow.showMainSection("selection-section"),PANELS["rectangular-transform-inspector"].setInputPropertyFocus("sizeX")):"radial-interaction"===this.interactionMode&&(this.pointA&&this.pointB&&this.pointC&&this.finalize(t),WINDOWS.mainInspectorWindow.showMainSection("selection-section"),PANELS["radial-transform-inspector"].setInputPropertyFocus("radius")),t.preventDefault();break;case"ESC":this.reset(),t.preventDefault()}}onDocumentViewChange(t){this.pointA&&activeApplication.activeDocument.pageContentToWorkspaceCoords(this.pointA),this.pointB&&activeApplication.activeDocument.pageContentToWorkspaceCoords(this.pointB)}pointerEventToCoords(t){const e=activeApplication.activeDocument;e.pointerEventToCoords(t),e.elementFromPointerEvent(t,!0),this.pointA&&(t.startPenEvent=this.pointA),t.shiftKey&&t.startPenEvent&&activeApplication.workspace.snapInteraction2D.applySnapTo_angle(t),e.applySnap(t)}reset(t){this.pointA=null,this.pointB=null,this.pointC=null,this.createdElement=null,activeApplication.workspace.snapInteraction2D.reset(),activeApplication.workspace.update()}setPointA(t){this.reset(),this.pointA=this.currentPenEvent,activeApplication.workspace.snapInteraction2D.createVirtualOrigin(SVGUtils.createSVGPoint(this.pointA.contentX,this.pointA.contentY))}setPointB(t){this.pointB=this.currentPenEvent}setPointC(t){this.pointC=this.currentPenEvent}onReadyPoints_A_B(t){}onReadyPoints_A_B_C(t){}finalize(t){if(this.createElement(t),this.createdElement){this.createUndoRedoActions(this.createdElement);const t=activeApplication.activeDocument;t.onChange(),t.selectElementList([this.createdElement])}this.reset()}onPointerDown(t){if(super.onPointerDown(t),KEYBOARD_EVENT_MANAGER.spaceKeyPressed)return void TOOLS["pan-tool"].initDrag(this.currentPenEvent);activeApplication.activeDocument.getActivePageLayer().isLocked()?DIALOGS["alert-dialog"].open(localString("The active layer is locked!"),localString("Unlock the active layer to draw in it.")):(null===this.pointA?(this.setPointA(),this.setPointB()):null===this.pointC?(this.setPointC(),this.onReadyPoints_A_B(t)):this.pointC&&this.onReadyPoints_A_B_C(t),XOS.initDragFunctions(this,t))}onPointerMove(t){this.pointerEventToCoords(t),this.currentPenEvent=t,null!==this.pointA&&(null===this.pointC?this.setPointB():this.setPointC(),this.updateDrawingInteraction(t))}onDrag(t){this.onPointerMove(t)}onDragEnd(t){null!==this.pointA&&(null===this.pointC?(this.setPointC(),this.onReadyPoints_A_B(t)):this.pointC&&this.onReadyPoints_A_B_C(t))}updateDrawingInteraction(t){"linear-interaction"===this.interactionMode?this.updateDrawingInteraction_linear(t):"rectangular-interaction"===this.interactionMode?this.updateDrawingInteraction_rectangular(t):"elliptical-interaction"===this.interactionMode?this.updateDrawingInteraction_elliptical(t):"radial-interaction"===this.interactionMode&&this.updateDrawingInteraction_angular(t)}createElement(t){}createUndoRedoActions(t){t instanceof Array||(t=[t]);const e=activeApplication.activeDocument,i=e.activePage,n=new UndoRedoAction("remove element"),s=new UndoRedoAction("added element");return i.history.addUndoRedoActions(n,s),s.onExecuteEnd=function(){e.selectElementList(t)},s.createDomNodeSnapshot(t,"insert"),n.createDomNodeSnapshot(t,"delete"),{undoAction:n,redoAction:s}}updateDrawingInteraction_linear(t){if(this.pointC){let t=SVGUtils.createSVGPoint(this.pointA.contentX,this.pointA.contentY),e=SVGUtils.createSVGPoint(this.pointB.contentX,this.pointB.contentY),i=SVGUtils.createSVGPoint(this.pointC.contentX,this.pointC.contentY),n=GeometryUtils.getClosestPointToLine(t,e,i),s=i.getDistanceFromPoint(n.point);if(n.left){let i=this.pointB;this.pointB=this.pointA,this.pointA=i,t=SVGUtils.createSVGPoint(this.pointA.contentX,this.pointA.contentY),e=SVGUtils.createSVGPoint(this.pointB.contentX,this.pointB.contentY)}this.pointC.height=s;let o=GeometryUtils.getAngleBetweenPoints(e,t)/(Math.PI/180);const a=activeApplication.activeDocument.activePage.content.currentScale,r=activeApplication.workspace.interactiveRectangle,l=e.getDistanceFromPoint(t)*a;let c=s*a,d=r.getTransform().matrix;d.identity(),d=(d=d.translate(this.pointA.workspaceX,this.pointA.workspaceY)).rotate(o),r.getTransform().setMatrix(d),r.updateGeometry(0,0,l,c),r.classList.add("showed")}else if(this.pointB){const t=activeApplication.workspace.interactiveLine;t.updateGeometry(this.pointA.workspaceX,this.pointA.workspaceY,this.pointB.workspaceX,this.pointB.workspaceY),t.geometryPointList=null,t.classList.add("showed")}}updateDrawingInteraction_rectangular(t){let e=Math.min(this.pointA.workspaceX,this.pointB.workspaceX),i=Math.min(this.pointA.workspaceY,this.pointB.workspaceY),n=Math.abs(this.pointB.workspaceX-this.pointA.workspaceX),s=Math.abs(this.pointB.workspaceY-this.pointA.workspaceY);0===n&&(n=1),0===s&&(s=1),t.altKey&&(e-=n,i-=s,n+=n,s+=s);const o=activeApplication.workspace.interactiveRectangle;o.getTransform().matrix.identity(),o.updateGeometry(e,i,n,s),o.classList.add("showed")}updateDrawingInteraction_elliptical(t){let e=Math.min(this.pointA.workspaceX,this.pointB.workspaceX),i=Math.min(this.pointA.workspaceY,this.pointB.workspaceY),n=Math.abs(this.pointB.workspaceX-this.pointA.workspaceX),s=Math.abs(this.pointB.workspaceY-this.pointA.workspaceY);0===n&&(n=1),0===s&&(s=1),t.altKey&&(e-=n,i-=s,n+=n,s+=s);const o=n/2,a=s/2,r=e+o,l=i+a,c=activeApplication.workspace.interactiveEllipse;c.updateGeometry(r,l,o,a),c.classList.add("showed")}updateDrawingInteraction_angular(t){if(this.pointC){const e=SVGUtils.createSVGPoint(this.pointA.workspaceX,this.pointA.workspaceY),i=SVGUtils.createSVGPoint(this.pointB.workspaceX,this.pointB.workspaceY),n=SVGUtils.createSVGPoint(this.pointC.workspaceX,this.pointC.workspaceY),s=activeApplication.workspace.interactiveArc;let o=e.getAngleFromPoint(i,!0),a=e.getAngleFromPoint(n,!0);if(n.equals(i,10)&&(this.checkExit=!0),this.checkExit&&(n.equals(i,t.snapDistance)||(this.inversion=!this.inversion,this.checkExit=!1)),this.inversion){const t=o;o=a,a=t}a<o&&(a+=360);const r=s.querySelector(".arc").buildArc(e,i.getDistanceFromPoint(e),o,a);s.querySelector(".center").placeAt(e.x,e.y),s.querySelector(".angle-start").updateGeometry(e.x,e.y,i.x,i.y),s.querySelector(".angle-end").updateGeometry(e.x,e.y,r.endPt.x,r.endPt.y),s.geometryPointList=null,s.classList.add("showed"),activeApplication.workspace.interactiveLine.classList.remove("showed")}else if(this.pointB){const t=activeApplication.workspace.interactiveLine;t.updateGeometry(this.pointA.workspaceX,this.pointA.workspaceY,this.pointB.workspaceX,this.pointB.workspaceY),t.geometryPointList=null,t.classList.add("showed")}}}class Selection2D_tool extends Base2D_tool{constructor(t,e){super(t,e),this.clickedElement=null,this.currentPenEvent=null,this.selectMainNodes=!0}onActivate(){if(activeApplication.activeDocument){activeApplication.activeDocument.deselectAllPoints(),super.onActivate()}}onPointerDownOnInteractionPoint(t){const e=t.target.parentElement,i=e.getScreenCTM().getTranslation(),n={pageX:i.x,pageY:i.y},s=activeApplication.activeDocument;s.pointerEventToCoords(n),s.deselectAllPoints(),s.selectPoint(e.pointRef),s.activePage.focusedPoint=e.pointRef,t.target.classList.contains("resize")?TOOLS["translate-points-tool"].initDrag(n):t.target.classList.contains("translate")&&TOOLS["translate-tool"].initDrag(n)}onPointerDown(t){super.onPointerDown(t),this.clickedElement=null;const e=activeApplication.activeDocument;KEYBOARD_EVENT_MANAGER.spaceKeyPressed?TOOLS["pan-tool"].initDrag(this.currentPenEvent):(this.currentPenEvent||this.onPointerMove(t),this.clickedElement=this.currentPenEvent.elementAtPoint,this.clickedElement&&"svg"!==this.clickedElement.nodeName?(this.clickedElement=this.clickedElement.getMainElement(),e.preferences.selectMainNodes&&this.selectMainNodes&&(this.clickedElement=this.clickedElement.closest(".layer>*")),this.onPointerDownOnElement(t)):(this.clickedElement=null,this.onPointerDownOnPageBackground(t)))}onPointerDownOnElement(t){const e=activeApplication.activeDocument;t.shiftKey?e.selectElement(this.clickedElement,!0):(e.isElementSelected(this.clickedElement)||e.deselectAll(),e.selectElement(this.clickedElement)),activeApplication.workspace.update(),TOOLS["translate-tool"].initDrag(this.currentPenEvent)}onPointerDownOnPageBackground(t){TOOLS["selection-by-rect-area-tool"].initDrag(this.currentPenEvent)}onPointerDoubleClickOnWorkspace(){const t=activeApplication.activeDocument,e=t.activePage.content.querySelector(".layers").children;e[e.length-1].classList.contains("isolate-layer")?t.exitFrom_isolateLayerEditing():t.setActivePageScale("fit")}onPointerDoubleClickOnElement(){const t=activeApplication.activeDocument;if("text"===this.clickedElement.nodeName)t.deselectAll(),t.selectElement(this.clickedElement),activeApplication.workspace.update(),activeApplication.setActiveTool("draw-edit-text-tool"),TOOLS.activeTool.startTextEditing(this.clickedElement);else if("foreignObject"===this.clickedElement.nodeName&&"html-text"===this.clickedElement.dataset.type)t.deselectAll(),t.selectElement(this.clickedElement),activeApplication.workspace.update(),activeApplication.setActiveTool("draw-edit-text-tool"),TOOLS.activeTool.startTextEditing(this.clickedElement);else if("path"===this.clickedElement.nodeName&&"object"!==this.clickedElement.dataset.type)activeApplication.setActiveTool("selection-points-tool"),activeApplication.workspace.update();else if("g"===this.clickedElement.nodeName&&this.clickedElement.dataset.objectId||"ellipse"===this.clickedElement.nodeName||"rect"===this.clickedElement.nodeName||"line"===this.clickedElement.nodeName||"path"===this.clickedElement.nodeName&&"object"===this.clickedElement.dataset.type)t.convertElementListToPath_undable([this.clickedElement]),activeApplication.setActiveTool("selection-points-tool");else if("g"===this.clickedElement.nodeName&&"object"!==this.clickedElement.dataset.type)t.enterTo_isolateLayerEditing(this.clickedElement);else if("use"===this.clickedElement.nodeName){const e=t.resources.getResourceById(this.clickedElement.getAttribute("href").split("#")[1]);t.enterTo_isolateLayerEditing(e)}this.currentPenEvent=null}onPointerMove(t){const e=activeApplication.activeDocument;e.pointerEventToCoords(t),e.elementFromPointerEvent(t,!0),e.applySnap(t),t.elementAtPoint&&t.elementAtPoint.isLocked()&&(t.elementAtPoint=null),activeApplication.workspace.snapInteraction2D.lastEvent=null,this.currentPenEvent=t}onPointerUp(t){if(super.onPointerUp(t),t.isDoubleClick)return void(this.clickedElement?this.onPointerDoubleClickOnElement(t):this.onPointerDoubleClickOnWorkspace(t));const e=activeApplication.activeDocument;this.clickedElement||e.deselectAll(),activeApplication.workspace.update()}showInteraction(){const t=activeApplication.activeDocument,e=t.activePage.selectionList.length;if(e>0){if(1===e){const e=t.activePage.selectionList[0];if("object"===e.dataset.type){if(e.dataset.objectId){const t=OBJECTS[e.dataset.objectId];if(!t)return;t.showInteraction()}return}if("line"===e.nodeName){return void activeApplication.workspace.lineInteraction2D.show()}if("path"===e.nodeName){const i=e.getGeometryPointList();if(2===i.length&&"L"===i[1].type){return i[1].previousSegment=i[0],t.setFocusedPathSegmentPoint(i[1]),void activeApplication.workspace.pointsInteraction.show()}activeApplication.workspace.bboxInteraction2D.show()}else{activeApplication.workspace.bboxInteraction2D.show()}}else{activeApplication.workspace.bboxInteraction2D.show()}t.preferences.elementOriginVisibility&&activeApplication.workspace.elementOrigin2D.show()}}onKeyDown(t){const e=activeApplication.activeDocument,i=e.activePage,n=e.preferences.moveStep*i.content.currentScale;switch(KEYBOARD_EVENT_MANAGER.KEY_CODE_TO_NAME[t.keyCode]){case"BACKSPACE":case"DELETE":COMMANDS.delete.execute(),t.preventDefault(),t.stopPropagation();break;case"TAB":i.focusedElement&&("line"===i.focusedElement.nodeName?document.querySelector("line-inspector").setInputPropertyFocus("lineLength"):document.querySelector("rectangular-transform-inspector").setInputPropertyFocus("sizeX")),t.preventDefault();break;case"LEFT":if(t.altKey){const t=GeometryUtils.getBBoxPointByLocationName("center-center",GeometryUtils.getElementListGlobalBBox(i.selectionList));e.rotateElementList_undable(i.selectionList,-e.preferences.rotateStep,t)}else e.translateElementList_undable(i.selectionList,-n,0);break;case"UP":e.translateElementList_undable(i.selectionList,0,-n);break;case"RIGHT":if(t.altKey){const t=GeometryUtils.getBBoxPointByLocationName("center-center",GeometryUtils.getElementListGlobalBBox(i.selectionList));e.rotateElementList_undable(i.selectionList,e.preferences.rotateStep,t)}else e.translateElementList_undable(i.selectionList,n,0);break;case"DOWN":e.translateElementList_undable(i.selectionList,0,n)}}}new Selection2D_tool("selection-tool","V");class SelectionPoints2D_tool extends Selection2D_tool{constructor(t,e){super(t,e),this.selectMainNodes=!1}onDeactivate(){activeApplication.workspace.pointsInteraction.mode="translate-points",activeApplication.workspace.pointsInteraction.removeAllInteractionPoints(),activeApplication.activeDocument.setFocusedPathSegmentPoint(null)}showInteraction(){const t=activeApplication.activeDocument,e=t.activePage,i=e.selectionList.length;if(0!==i){if(1===i){if("path"!==e.focusedElement.nodeName)return void super.showInteraction();if("object"===e.focusedElement.dataset.type)return void super.showInteraction()}activeApplication.workspace.pointsInteraction.show(),t.preferences.elementOriginVisibility&&activeApplication.workspace.elementOrigin2D.show(),e.focusedPathSegmentPoint&&activeApplication.workspace.updateActiveEditableSegmentInteraction()}}onPointerDownOnInteractionPoint(t){const e=activeApplication.activeDocument,i=e.activePage;i.focusedPathSegmentPoint=null,activeApplication.workspace.updateActiveEditableSegmentInteraction();const n=t.target.parentElement,s=n.getScreenCTM().getTranslation(),o={pageX:s.x,pageY:s.y};if(e.pointerEventToCoords(o),n.classList.contains("control")){if(t.target.classList.contains("resize")){const i=n.pointRef.ownerPoint,s=i.ownerShapeElement;if(t.altKey&&"path"===s.nodeName){let t;return"C"===i.type?"CTRL2"===n.pointRef.type?(t=s.createGeometryPoint_CURVETO_QUADRATIC(i.controlPt1.x,i.controlPt1.y,i.x,i.y)).editable=!0:"CTRL1"===n.pointRef.type&&((t=s.createGeometryPoint_CURVETO_QUADRATIC(i.controlPt2.x,i.controlPt2.y,i.x,i.y)).editable=!0):(t=s.createGeometryPoint_LINETO(i.x,i.y)).editable=!0,void e.replacePathPoint_undable(t,i)}TOOLS["translate-control-points-tool"].setDraggableControlPointList(activeApplication.workspace.pointsInteraction.createDraggablePathControlPoint(n.pointRef)),TOOLS["translate-control-points-tool"].initDrag(o)}}else{if(KEYBOARD_EVENT_MANAGER.cmdKeyPressed&&t.shiftKey&&t.altKey){const t=n.pointRef.ownerShapeElement,s=t.splitPathAtPoint(n.pointRef);return s.length>0&&(t.geometryPointList=null,e.replaceElement_undable(t,s)),void(i.focusedPoint=null)}if(t.altKey&&t.shiftKey&&"path"===n.pointRef.ownerShapeElement.nodeName)return t.clickedHandle=n,void TOOLS["convert-point-tool"].onPointerDownOnInteractionPoint(t);if(t.altKey&&"path"===n.pointRef.ownerShapeElement.nodeName)return e.removePathPoints_undable([n.pointRef]),void(i.focusedPoint=null);n.pointRef.isSelected?t.shiftKey?(e.deselectPoint(n.pointRef),i.focusedPoint=null):(n.pointRef.editable=!0,i.focusedPoint=n.pointRef,e.showSelectionProperties()):(t.shiftKey||e.deselectAllPoints(),e.selectPoint(n.pointRef),n.pointRef.editable=!0,i.focusedPoint=n.pointRef,e.showSelectionProperties()),t.target.classList.contains("resize")?"round-corners"===this.mode?(o.segmentToConvert=n.pointRef,TOOLS["round-corners-tool"].initDrag(o)):TOOLS["translate-points-tool"].initDrag(o):t.target.classList.contains("translate")&&TOOLS["translate-tool"].initDrag(o)}}onPointerDownOnPageBackground(t){activeApplication.workspace.pointsInteraction.mode="translate-points",TOOLS["selection-points-by-rect-area-tool"].initDrag(this.currentPenEvent)}onPointerDownOnElement(t){const e=activeApplication.activeDocument,i=e.activePage;if(e.setFocusedPathSegmentPoint(null),"path"===this.clickedElement.nodeName&&this.currentPenEvent.segmentListAtPoint.length>0){e.isElementSelected(this.clickedElement)||(t.shiftKey?(i.selectionList.push(this.clickedElement),e.selectElementList(i.selectionList),activeApplication.workspace.update()):(e.selectElementList([this.clickedElement]),activeApplication.workspace.update()));const n=this.currentPenEvent.segmentListAtPoint[0];if(KEYBOARD_EVENT_MANAGER.cmdKeyPressed&&t.shiftKey&&t.altKey)return void e.splitPathAtLocation_undable(this.clickedElement,n);if(t.altKey)return e.addPathPointAtLocation_undable(this.clickedElement,n),void TOOLS["translate-points-tool"].initDrag(this.currentPenEvent);const s=n.pt2;if(s.previousSegment=n.pt1,this.clickedElement===s.ownerShapeElement){if(i.focusedPoint=null,e.setFocusedPathSegmentPoint(s),"C"===s.type)return void TOOLS["translate-segment-c-tool"].initDrag(this.currentPenEvent);if("L"===s.type)return void TOOLS["translate-segment-l-tool"].initDrag(this.currentPenEvent);if("A"===s.type)return void TOOLS["translate-segment-a-tool"].initDrag(this.currentPenEvent)}}super.onPointerDownOnElement(t)}onPointerDoubleClickOnElement(){"path"===this.clickedElement.nodeName&&"object"!==this.clickedElement.dataset.type?(activeApplication.setActiveTool("selection-tool"),activeApplication.workspace.update()):super.onPointerDoubleClickOnElement()}onKeyDown(t){const e=activeApplication.activeDocument,i=e.activePage,n=i.selectionPointList,s=n.length,o=e.preferences.moveStep*i.content.currentScale;switch(KEYBOARD_EVENT_MANAGER.KEY_CODE_TO_NAME[t.keyCode]){case"BACKSPACE":case"DELETE":if(0===s)return void super.onKeyDown(t);e.removePathPoints_undable(n);break;case"LEFT":if(0===s)return void super.onKeyDown(t);e.translateSelectedPointList_undable(-o,0,null,!0);break;case"UP":if(0===s)return void super.onKeyDown(t);e.translateSelectedPointList_undable(0,-o,null,!0);break;case"RIGHT":if(0===s)return void super.onKeyDown(t);e.translateSelectedPointList_undable(o,0,null,!0);break;case"DOWN":if(0===s)return void super.onKeyDown(t);e.translateSelectedPointList_undable(0,o,null,!0)}}}new SelectionPoints2D_tool("selection-points-tool","A");class SelectionByRectArea2D_tool extends Base2D_tool{constructor(t){super(t)}initDrag(t){this.pointA=t,XOS.initDragFunctions(this,t)}onDragStart(t){activeApplication.workspace.removeInteractions()}onDrag(t){activeApplication.activeDocument.pointerEventToCoords(t,!0),this.pointB=t,this.updateDrawingInteraction(t)}onDragEnd(t){this.doSelection(t)}updateDrawingInteraction(t){let e=Math.min(this.pointA.workspaceX,this.pointB.workspaceX),i=Math.min(this.pointA.workspaceY,this.pointB.workspaceY),n=Math.abs(this.pointB.workspaceX-this.pointA.workspaceX),s=Math.abs(this.pointB.workspaceY-this.pointA.workspaceY);0===n&&(n=1),0===s&&(s=1),t.altKey&&(e-=n,i-=s,n+=n,s+=s);const o=activeApplication.workspace.interactiveSelectionRectArea;o.updateGeometry(e,i,n,s),o.classList.add("showed")}doSelection(t){const e=activeApplication.activeDocument,i=e.activePage;this.hitRect=SVGUtils.createSVGRect();const n=activeApplication.workspace.interactiveSelectionRectArea;this.hitRect.x=n.x.baseVal.value,this.hitRect.y=n.y.baseVal.value,this.hitRect.width=n.width.baseVal.value,this.hitRect.height=n.height.baseVal.value,this.hitRect.left=this.hitRect.x,this.hitRect.top=this.hitRect.y,this.hitRect.right=this.hitRect.x+this.hitRect.width,this.hitRect.bottom=this.hitRect.y+this.hitRect.height,activeApplication.classList.add("selection-by-rect-area");const s=i.elementListFromIntersection(this.hitRect);if(activeApplication.classList.remove("selection-by-rect-area"),0===s.length)return t.shiftKey||e.deselectAll(),void activeApplication.workspace.update();const o=[];let a,r,l=s.length;for(r=0;r<l;r++)a=s[r].closest(".layer>*"),-1===o.indexOf(a)&&o.push(a);if(t.shiftKey)for(l=o.length,r=0;r<l;r++)a=o[r],e.selectElement(a,!0);else e.selectElementList(o);activeApplication.workspace.update()}}new SelectionByRectArea2D_tool("selection-by-rect-area-tool");class SelectionPointsByRectArea2D_tool extends SelectionByRectArea2D_tool{constructor(t){super(t)}doSelection(t){const e=activeApplication.activeDocument,i=e.activePage;this.hitRect=SVGUtils.createSVGRect();const n=activeApplication.workspace.interactiveSelectionRectArea;this.hitRect.x=n.x.baseVal.value,this.hitRect.y=n.y.baseVal.value,this.hitRect.width=n.width.baseVal.value,this.hitRect.height=n.height.baseVal.value,this.hitRect.left=this.hitRect.x,this.hitRect.top=this.hitRect.y,this.hitRect.right=this.hitRect.x+this.hitRect.width,this.hitRect.bottom=this.hitRect.y+this.hitRect.height,activeApplication.classList.add("selection-by-rect-area");const s=i.elementListFromIntersection(this.hitRect);if(activeApplication.classList.remove("selection-by-rect-area"),0===s.length)return t.shiftKey||e.deselectAll(),void activeApplication.workspace.update();if(t.shiftKey)for(let t=0;t<s.length;t++)e.selectElement(s[t]);else e.selectElementList(s);e.selectElementList(e.elementListAsMainElements(i.selectionList)),activeApplication.workspace.update(),activeApplication.classList.add("point-selection-by-rect-area");const o=n.parentElement.getIntersectionList(this.hitRect,null);let a,r;const l=o.length;for(r=0;r<l;r++)(a=o[r].parentElement).classList.contains("interaction-point")&&(a.pointRef.isSelected?(a.classList.remove("selected"),e.deselectPoint(a.pointRef)):(a.classList.add("selected"),e.selectPoint(a.pointRef)));activeApplication.classList.remove("point-selection-by-rect-area")}}new SelectionPointsByRectArea2D_tool("selection-points-by-rect-area-tool");class Pan2D_tool extends Base2D_tool{constructor(){super("pan-tool","H")}onPointerDown(t){activeApplication.activeDocument.pointerEventToCoords(t),this.initDrag(t)}initDrag(t){this.previousWorkspaceX=t.workspaceX,this.previousWorkspaceY=t.workspaceY,XOS.initDragFunctions(this,t)}onDragStart(t){activeApplication.workspace.removeSelectionPreview(),activeApplication.workspace.removeInteractions()}onDrag(t){const e=activeApplication.activeDocument;e.pointerEventToCoords(t,!0),e.pan(t.workspaceX-this.previousWorkspaceX,t.workspaceY-this.previousWorkspaceY),this.previousWorkspaceX=t.workspaceX,this.previousWorkspaceY=t.workspaceY}onDragEnd(){activeApplication.workspace.update(),activeApplication.workspace.updateOrigin()}}TOOLS["pan-tool"]=new Pan2D_tool;class Zoom2D_tool extends Base2D_tool{constructor(){super("zoom-tool","Z")}onPointerDown(t){activeApplication.activeDocument.pointerEventToCoords(t),this.startPointEvent=t,KEYBOARD_EVENT_MANAGER.spaceKeyPressed?TOOLS["pan-tool"].initDrag(this.startPointEvent):this.initDrag(t)}initDrag(t){this.previousWorkspaceX=t.workspaceX,this.previousWorkspaceY=t.workspaceY,XOS.initDragFunctions(this,t)}onDragStart(t){activeApplication.workspace.removeSelectionPreview(),activeApplication.workspace.removeInteractions()}onDrag(t){const e=activeApplication.activeDocument;e.pointerEventToCoords(t,!0);const i=Math.abs(1+.005*(t.workspaceY-this.previousWorkspaceY));e.zoom(i,this.startPointEvent.workspaceX,this.startPointEvent.workspaceY),this.previousWorkspaceY=t.workspaceY}onDragEnd(){activeApplication.workspace.update(),activeApplication.workspace.updateOrigin()}}TOOLS["zoom-tool"]=new Zoom2D_tool;class TranslateOrigin_tool extends Base2D_tool{constructor(t){super(t)}onDragStart(t){activeApplication.workspace.removeSelectionPreview(),activeApplication.workspace.removeInteractions()}onDrag(t){const e=activeApplication.activeDocument;e.pointerEventToCoords(t,!0),e.elementFromPointerEvent(t,!0),e.applySnap(t),Math.abs(t.contentX)<t.snapDistance&&(t.contentX=0),Math.abs(t.contentY)<t.snapDistance&&(t.contentY=0),e.setOrigin(t.contentX,t.contentY)}onDragEnd(){activeApplication.workspace.update()}}new TranslateOrigin_tool("translate-origin-tool");class Translate2D_tool extends Base2D_tool{constructor(){super("translate-tool")}initDrag(t,e){this.previousWorkspaceX=t.workspaceX,this.previousWorkspaceY=t.workspaceY,this.clickedElement=t.elementAtPoint||null,this.createUndoRedoActions=!0,XOS.initDragFunctions(this,t,e),this.startPenEvent=t}onDragStart(t){t.altKey&&(COMMANDS.duplicate.execute(),this.createUndoRedoActions=!1),activeApplication.workspace.removeInteractions(),activeApplication.workspace.snapInteraction2D.createVirtualOrigin(SVGUtils.createSVGPoint(this.startPenEvent.contentX,this.startPenEvent.contentY))}onDrag(t){const e=activeApplication.activeDocument;t.startPenEvent=this.startPenEvent,e.pointerEventToCoords(t,!0),e.elementFromPointerEvent(t,!0),t.shiftKey&&activeApplication.workspace.snapInteraction2D.applySnapTo_angle(t),e.applySnap(t),e.translateElementList(activeApplication.workspace.selectionPreviews.children,t.workspaceX-this.previousWorkspaceX,t.workspaceY-this.previousWorkspaceY,!1),this.previousWorkspaceX=t.workspaceX,this.previousWorkspaceY=t.workspaceY}onDragEnd(t){const e=activeApplication.activeDocument,i=e.activePage;function n(){const t=activeApplication.workspace.selectionPreviews.children,e=t.length;let i;for(let n=0;n<e;n++)(i=t[n].elementRef).getTransform().setMatrix(i.globalMatrixToLocalMatrix(t[n].getTransform().matrix))}if(this.createUndoRedoActions){const t=new UndoRedoAction("translate"),s=new UndoRedoAction("translate");i.history.addUndoRedoActions(t,s);const o=i.selectionList;t.createAttributeSnapshot(o,"transform"),n(),s.createAttributeSnapshot(o,"transform"),t.onExecuteEnd=s.onExecuteEnd=function(){e.selectElementList(o)}}else n();e.onChange(),activeApplication.workspace.update(),activeApplication.workspace.snapInteraction2D.reset();const s={contentX:this.startPenEvent.contentX,contentY:this.startPenEvent.contentY},o={contentX:activeApplication.workspace.snapInteraction2D.lastEvent.contentX,contentY:activeApplication.workspace.snapInteraction2D.lastEvent.contentY};COMMANDS.duplicate.lastTransformAction=function(t){e.pageContentToWorkspaceCoords(s),e.pageContentToWorkspaceCoords(o),e.translateElementList(t,o.workspaceX-s.workspaceX,o.workspaceY-s.workspaceY)}}}TOOLS["translate-tool"]=new Translate2D_tool;class Scale2D_tool extends Base2D_tool{constructor(){super("scale-tool"),this.scaleX=1,this.scaleY=1,this.scaleAxis=null,this.isLocalMode=null,this.centerOfScaling=SVGUtils.createSVGPoint(),this.alternateCenterOfScaling=SVGUtils.createSVGPoint(),this.useTransformPreviews=!0,this.mantainAspectRatio=!1}initDrag(t){this.pointerDownWorkspaceX=t.workspaceX,this.pointerDownWorkspaceY=t.workspaceY,this.centerOfScaling.x=t.centerOfScaling.x,this.centerOfScaling.y=t.centerOfScaling.y,this.alternateCenterOfScaling.x=t.alternateCenterOfScaling.x,this.alternateCenterOfScaling.y=t.alternateCenterOfScaling.y,this.scaleAxis=t.scaleAxis,this.isLocalMode=t.isLocalMode,this.mantainAspectRatio=!0===t.mantainAspectRatio,this.createUndoRedoActions=!0,this.startPenEvent=t,activeApplication.workspace.snapInteraction2D.createVirtualOrigin(SVGUtils.createSVGPoint(this.startPenEvent.contentX,this.startPenEvent.contentY)),XOS.initDragFunctions(this,t)}onDragStart(t){const e=activeApplication.activeDocument;if(t.altKey&&(COMMANDS.duplicate.execute(),this.createUndoRedoActions=!1),activeApplication.workspace.removeInteractions(),this.elementListToScale=activeApplication.workspace.selectionPreviews.children,!1===this.isLocalMode){const t=GeometryUtils.getElementListGlobalBBox(e.activePage.selectionList),i=SVGUtils.createRect(t.x,t.y,t.width,t.height);i.setAttribute("fill","none"),i.setAttribute("stroke","#0047FF"),i.setAttribute("vector-effect","non-scaling-stroke"),i.setAttribute("stroke-dasharray","2"),activeApplication.workspace.selectionPreviews.appendChild(i)}let i;const n=this.elementListToScale.length;for(let t=0;t<n;t++)(i=this.elementListToScale[t]).storedGlobalMatrix=i.getCTM()}onDrag(t){const e=activeApplication.activeDocument;t.startPenEvent=this.startPenEvent,e.pointerEventToCoords(t),e.elementFromPointerEvent(t,!0),e.applySnap(t),this.activeCenterOfScaling=this.centerOfScaling,t.altKey&&(this.activeCenterOfScaling=this.alternateCenterOfScaling);let i=this.mantainAspectRatio,n=this.activeCenterOfScaling;if(this.isLocalMode){const e=this.elementListToScale[0],s=e.storedGlobalMatrix.inverse(),o=SVGUtils.createSVGPoint(this.pointerDownWorkspaceX,this.pointerDownWorkspaceY).matrixTransform(s),a=SVGUtils.createSVGPoint(t.workspaceX,t.workspaceY).matrixTransform(s),r=this.activeCenterOfScaling.matrixTransform(s);this.scaleX=(a.x-r.x)/(o.x-r.x),this.scaleY=(a.y-r.y)/(o.y-r.y),i="true"===e.dataset.mantainAspectRatio,n=r}else this.scaleX=(t.workspaceX-this.activeCenterOfScaling.x)/(this.pointerDownWorkspaceX-this.activeCenterOfScaling.x),this.scaleY=(t.workspaceY-this.activeCenterOfScaling.y)/(this.pointerDownWorkspaceY-this.activeCenterOfScaling.y);"XY"===this.scaleAxis&&(i||t.shiftKey)?Math.abs(this.scaleX)>Math.abs(this.scaleY)?this.scaleY=this.scaleX:this.scaleX=this.scaleY:"X"===this.scaleAxis?i||t.shiftKey?this.scaleY=this.scaleX:this.scaleY=1:"Y"===this.scaleAxis&&(i||t.shiftKey?this.scaleX=this.scaleY:this.scaleX=1),(this.scaleX===1/0||this.scaleX===-1/0||isNaN(this.scaleX))&&(this.scaleX=1),(this.scaleY===1/0||this.scaleY===-1/0||isNaN(this.scaleY))&&(this.scaleY=1),e.scaleElementList(this.elementListToScale,this.scaleX,this.scaleY,n,this.isLocalMode)}onDragEnd(){const t=activeApplication.activeDocument,e=t.activePage.selectionList;if(this.createUndoRedoActions)t.scaleElementList_undable(e,this.scaleX,this.scaleY,SVGUtils.createSVGPoint(this.activeCenterOfScaling.x,this.activeCenterOfScaling.y),this.isLocalMode);else{t.scaleElementList(e,this.scaleX,this.scaleY,SVGUtils.createSVGPoint(this.activeCenterOfScaling.x,this.activeCenterOfScaling.y),this.isLocalMode);const i={};i.effectScale=Math.sqrt(this.scaleX*this.scaleX+this.scaleY*this.scaleY)/Math.sqrt(2),i.scaleStrokeAndEffects=t.preferences.scaleStrokeAndEffects,i.scaleText=t.preferences.scaleText,this.isLocalMode&&"text"===e[0].nodeName&&(i.scaleText=!1),t.normalizeScaleElementList(e,i),activeApplication.workspace.update(),t.onChange()}activeApplication.workspace.snapInteraction2D.reset();const i={workspaceX:this.activeCenterOfScaling.x,workspaceY:this.activeCenterOfScaling.y};t.workspaceToPageContentCoords(i);const n=this.scaleX,s=this.scaleY,o=this.isLocalMode;COMMANDS.duplicate.lastTransformAction=function(a){t.pageContentToWorkspaceCoords(i),t.scaleElementList(a,n,s,SVGUtils.createSVGPoint(i.workspaceX,i.workspaceY),!1);const r={};r.effectScale=Math.sqrt(n*n+s*s)/Math.sqrt(2),r.scaleStrokeAndEffects=t.preferences.scaleStrokeAndEffects,r.scaleText=t.preferences.scaleText,o&&"text"===e[0].nodeName&&(r.scaleText=!1),t.normalizeScaleElementList(a,r)}}}TOOLS["scale-tool"]=new Scale2D_tool;class Rotate2D_tool extends Base2D_tool{constructor(){super("rotate-tool")}initDrag(t){this.pointerDownWorkspaceX=t.workspaceX,this.pointerDownWorkspaceY=t.workspaceY,this.centerOfRotation=t.centerOfRotation,this.createUndoRedoActions=!0,XOS.initDragFunctions(this,t)}onDragStart(t){const e=activeApplication.activeDocument;let i;t.altKey&&(COMMANDS.duplicate.execute(),this.createUndoRedoActions=!1),activeApplication.workspace.removeInteractions(),this.elementListToRotate=activeApplication.workspace.selectionPreviews.children;const n=this.elementListToRotate.length;for(let t=0;t<n;t++)(i=this.elementListToRotate[t]).storedGlobalMatrix=i.getCTM();this.startAngle=GeometryUtils.getAngleBetweenPoints({x:this.pointerDownWorkspaceX,y:this.pointerDownWorkspaceY},this.centerOfRotation),activeApplication.workspace.snapInteraction2D.reset();const s=e.activePage.content.getTransform().matrix;this.centerOfRotationInContentSpace=SVGUtils.createSVGPoint((this.centerOfRotation.x-s.e)/e.activePage.content.currentScale,(this.centerOfRotation.y-s.f)/e.activePage.content.currentScale),activeApplication.workspace.snapInteraction2D.createVirtualOrigin(this.centerOfRotationInContentSpace)}onDrag(t){const e=activeApplication.activeDocument;e.pointerEventToCoords(t),e.elementFromPointerEvent(t,!0);const i=this.centerOfRotation;t.startPenEvent={workspaceX:i.x,workspaceY:i.y},e.applySnap(t);this.rotationValue=GeometryUtils.getAngleBetweenPoints({x:t.workspaceX,y:t.workspaceY},this.centerOfRotation,null,this.startAngle),e.rotateElementList(this.elementListToRotate,this.rotationValue/(Math.PI/180),this.centerOfRotation)}onDragEnd(){const t=activeApplication.activeDocument,e=t.activePage;function i(){const t=activeApplication.workspace.selectionPreviews.children,e=t.length;let i;for(let n=0;n<e;n++)(i=t[n].elementRef).getTransform().setMatrix(i.globalMatrixToLocalMatrix(t[n].getTransform().matrix))}if(this.createUndoRedoActions){const n=new UndoRedoAction("rotate"),s=new UndoRedoAction("rotate");e.history.addUndoRedoActions(n,s);const o=e.selectionList;n.createAttributeSnapshot(o,"transform"),i(),s.createAttributeSnapshot(o,"transform"),n.onExecuteEnd=s.onExecuteEnd=function(){t.selectElementList(o)}}else i();t.onChange(),activeApplication.workspace.update(),activeApplication.workspace.snapInteraction2D.reset();const n={contentX:this.centerOfRotationInContentSpace.x,contentY:this.centerOfRotationInContentSpace.y},s=this.rotationValue;COMMANDS.duplicate.lastTransformAction=function(e){t.pageContentToWorkspaceCoords(n),t.rotateElementList(e,s/(Math.PI/180),{x:n.workspaceX,y:n.workspaceY})}}}TOOLS["rotate-tool"]=new Rotate2D_tool;class RotateByPivot_tool extends Base2D_tool{constructor(t,e){super(t,e),this.delegateRotateTool=null}onActivate(){const t=activeApplication.activeDocument,e=t.activePage;if(0===e.selectionList.length)return;e.selectionPointList.length>0?(this.selectionMode="POINT_SELECTION",this.delegateRotateTool=TOOLS["rotate-points-tool"]):(this.selectionMode="ELEMENT_SELECTION",this.delegateRotateTool=TOOLS["rotate-tool"]);const i=GeometryUtils.getElementListGlobalBBox(e.selectionList),n={workspaceX:i.center.x,workspaceY:i.center.y};t.workspaceToPageContentCoords(n),activeApplication.workspace.rotateByPivotInteraction.centerOfRotationInContent=n,super.onActivate()}showInteraction(){"POINT_SELECTION"===this.selectionMode&&activeApplication.workspace.pointsInteraction.show(),activeApplication.workspace.rotateByPivotInteraction.show()}onPointerDown(t){super.onPointerDown(t),this.clickedElement=null,KEYBOARD_EVENT_MANAGER.spaceKeyPressed?TOOLS["pan-tool"].initDrag(this.currentPenEvent):(this.currentPenEvent.centerOfRotation=activeApplication.workspace.rotateByPivotInteraction.pivot.getCTM().getTranslation(),this.delegateRotateTool.initDrag(this.currentPenEvent))}onPointerMove(t){const e=activeApplication.activeDocument;e.pointerEventToCoords(t),e.elementFromPointerEvent(t,!0),e.applySnap(t),this.currentPenEvent=t}}new RotateByPivot_tool("rotate-by-pivot-tool","G");class ScaleByPivot_tool extends Base2D_tool{constructor(t,e){super(t,e),this.delegateScaleTool=null}onActivate(){const t=activeApplication.activeDocument,e=t.activePage;if(0===e.selectionList.length)return;e.selectionPointList.length>0?(this.selectionMode="POINT_SELECTION",this.delegateScaleTool=TOOLS["scale-points-tool"]):(this.selectionMode="ELEMENT_SELECTION",this.delegateScaleTool=TOOLS["scale-tool"]);const i=GeometryUtils.getElementListGlobalBBox(e.selectionList),n={workspaceX:i.center.x,workspaceY:i.center.y};t.workspaceToPageContentCoords(n),activeApplication.workspace.scaleByPivotInteraction.centerOfScaleInContent=n,super.onActivate()}showInteraction(){"POINT_SELECTION"===this.selectionMode&&activeApplication.workspace.pointsInteraction.show(),activeApplication.workspace.scaleByPivotInteraction.show()}onPointerDown(t){super.onPointerDown(t),this.clickedElement=null,KEYBOARD_EVENT_MANAGER.spaceKeyPressed?TOOLS["pan-tool"].initDrag(this.currentPenEvent):(this.currentPenEvent.centerOfScaling=activeApplication.workspace.scaleByPivotInteraction.pivot.getCTM().getTranslation(),this.currentPenEvent.alternateCenterOfScaling=this.currentPenEvent.centerOfScaling,this.currentPenEvent.scaleAxis="XY",this.currentPenEvent.isLocalMode=!1,this.currentPenEvent.mantainAspectRatio=!1,this.delegateScaleTool.initDrag(this.currentPenEvent))}onPointerMove(t){const e=activeApplication.activeDocument;e.pointerEventToCoords(t),e.elementFromPointerEvent(t,!0),e.applySnap(t),this.currentPenEvent=t}}new ScaleByPivot_tool("scale-by-pivot-tool","K");class PerspectiveDeform_tool extends Base2D_tool{constructor(t){super(t)}showInteraction(){const t=activeApplication.activeDocument.activePage;0!==XOS.getFilteredElementListByNodeName(t.selectionList,"path").length?activeApplication.workspace.perspectiveDeformInteraction.show():DIALOGS["alert-dialog"].open(localString("Path element required"),localString("Select paths elements or convert elements to path before use this tool."))}onWheelChange(t){}}new PerspectiveDeform_tool("perspective-deform-tool");class EditGradientPoints_tool extends Base2D_tool{constructor(t){super(t)}showInteraction(){const t=activeApplication.activeDocument;if(1===t.activePage.selectionList.length){const e=t.fillAndStrokeManager.focusedGraphicSideName;("fill"!==e||"linearGradient"!==t.fillAndStrokeManager.fillFillingType&&"radialGradient"!==t.fillAndStrokeManager.fillFillingType)&&("stroke"!==e||"linearGradient"!==t.fillAndStrokeManager.strokeFillingType&&"radialGradient"!==t.fillAndStrokeManager.strokeFillingType)||activeApplication.workspace.gradientInteraction.show()}}onPointerDown(t){if(super.onPointerDown(t),t.isDoubleClick)return;activeApplication.activeDocument.pointerEventToCoords(t),KEYBOARD_EVENT_MANAGER.spaceKeyPressed&&TOOLS["pan-tool"].initDrag(t)}onPointerUp(t){if(super.onPointerUp(t),t.isDoubleClick)return;const e=activeApplication.activeDocument;if(e.pointerEventToCoords(t),e.elementFromPointerEvent(t,!0),this.clickedElement=t.elementAtPoint,this.clickedElement&&"svg"!==this.clickedElement.nodeName){if(e.preferences.selectMainNodes&&(this.clickedElement=this.clickedElement.closest(".layer>*")),this.clickedElement&&this.clickedElement.isLocked())return;e.selectElementList([this.clickedElement]),activeApplication.workspace.update()}}}new EditGradientPoints_tool("edit-gradient-points-tool");class EyeDropper_tool extends Base2D_tool{constructor(t){super(t)}onPointerMove(t){const e=activeApplication.activeDocument;e.pointerEventToCoords(t),e.elementFromPointerEvent(t,!0),e.applySnap(t),activeApplication.workspace.snapInteraction2D.lastEvent=null,this.currentPenEvent=t}onPointerDown(t){if(super.onPointerDown(t),KEYBOARD_EVENT_MANAGER.spaceKeyPressed)return void TOOLS["pan-tool"].initDrag(this.currentPenEvent);if(t.isDoubleClick)return;const e=activeApplication.activeDocument,i=e.activePage;if(this.currentPenEvent.elementAtPoint){const t=this.currentPenEvent.elementAtPoint.getMainElement(),n={};this.currentPenEvent.segmentListAtPoint.length>0||this.currentPenEvent.vertexAtPoint?(n.stroke=t.getAttribute("stroke")||"none",n["stroke-width"]=t.getAttribute("stroke-width")||"0",n["stroke-dasharray"]=t.getAttribute("stroke-dasharray")||""):n.fill=t.getAttribute("fill")||"none",e.setAttributeElementList_undable(i.selectionList,n),e.showSelectionProperties()}}}new EyeDropper_tool("eye-dropper-tool");class Filling_tool extends Base2D_tool{constructor(t){super(t)}onPointerMove(t){const e=activeApplication.activeDocument;e.pointerEventToCoords(t),e.elementFromPointerEvent(t,!0),e.applySnap(t),activeApplication.workspace.snapInteraction2D.lastEvent=null,this.currentPenEvent=t}onPointerDown(t){if(super.onPointerDown(t),KEYBOARD_EVENT_MANAGER.spaceKeyPressed)return void TOOLS["pan-tool"].initDrag(this.currentPenEvent);if(t.isDoubleClick)return;const e=activeApplication.activeDocument;e.activePage;if(this.currentPenEvent.elementAtPoint){const t=this.currentPenEvent.elementAtPoint.getMainElement(),i={};this.currentPenEvent.segmentListAtPoint.length>0||this.currentPenEvent.vertexAtPoint?(i.stroke=e.fillAndStrokeManager.stroke,i["stroke-opacity"]=e.fillAndStrokeManager["stroke-opacity"],i["stroke-width"]=e.fillAndStrokeManager["stroke-width"],i["stroke-linecap"]=e.fillAndStrokeManager["stroke-linecap"],i["stroke-linejoin"]=e.fillAndStrokeManager["stroke-linejoin"]):i.fill=e.fillAndStrokeManager.fill,e.setAttributeElementList_undable([t],i,!1),e.showSelectionProperties()}}}new Filling_tool("filling-tool");class TranslatePoints_tool extends Base2D_tool{constructor(t){super(t)}initDrag(t){this.previousWorkspaceX=t.workspaceX,this.previousWorkspaceY=t.workspaceY,this.clickedElement=t.elementAtPoint||null,this.createUndoRedoActions=!0,XOS.initDragFunctions(this,t),this.startPenEvent=t}onDragStart(t){const e=activeApplication.activeDocument;activeApplication.workspace.removeInteractions(),activeApplication.workspace.snapInteraction2D.createVirtualOrigin(SVGUtils.createSVGPoint(this.startPenEvent.contentX,this.startPenEvent.contentY)),this.transformDataPointList=e.createTransformDataPointList()}onDrag(t){const e=activeApplication.activeDocument;t.startPenEvent=this.startPenEvent,e.pointerEventToCoords(t,!0),e.elementFromPointerEvent(t,!0),e.applySnap(t),e.translateTransformDataPointList(this.transformDataPointList,t.workspaceX-this.previousWorkspaceX,t.workspaceY-this.previousWorkspaceY),this.previousWorkspaceX=t.workspaceX,this.previousWorkspaceY=t.workspaceY}onDragEnd(t){const e=activeApplication.activeDocument,i=e.activePage,n=new UndoRedoAction,s=new UndoRedoAction;i.history.addUndoRedoActions(n,s);const o=i.selectionList;n.createAttributeSnapshot(o,"d,x1,y1,x2,y2"),this.swapTransformDataPointListFromInteractionElementToElement(),s.createAttributeSnapshot(o,"d,x1,y1,x2,y2"),n.onExecuteEnd=function(){e.selectElementList(o);for(let t=0;t<o.length;t++)o[t].geometryPointList=null},s.onExecuteEnd=function(){e.selectElementList(o);for(let t=0;t<o.length;t++)o[t].geometryPointList=null},e.onChange(),activeApplication.workspace.snapInteraction2D.reset(),activeApplication.workspace.update()}swapTransformDataPointListFromInteractionElementToElement(){let t,e;const i=this.transformDataPointList.length;for(let n=0;n<i;n++)(e=(t=this.transformDataPointList[n]).element).geometryPointList=e.selectionPreview.getGeometryPointList(),e.selectionPreview=null,e.render()}}new TranslatePoints_tool("translate-points-tool");class TranslateSegment_L_tool extends TranslatePoints_tool{constructor(t){super(t)}initDrag(t){this.previousWorkspaceX=t.workspaceX,this.previousWorkspaceY=t.workspaceY,XOS.initDragFunctions(this,t),this.startPenEvent=t}onDragStart(t){const e=activeApplication.activeDocument,i=e.activePage;e.selectPointList([i.focusedPathSegmentPoint.previousSegment,i.focusedPathSegmentPoint]),super.onDragStart(t)}onDragEnd(t){activeApplication.activeDocument.deselectAllPoints(),super.onDragEnd(t)}}new TranslateSegment_L_tool("translate-segment-l-tool");class TranslateSegment_C_tool extends TranslatePoints_tool{constructor(){super(),this.cubicCurveSegmentTarget=null,this.weight=0,this.t=0,this.startControlPoint1={x:0,y:0},this.startControlPoint2={x:0,y:0}}initDrag(t){this.previousWorkspaceX=t.workspaceX,this.previousWorkspaceY=t.workspaceY,XOS.initDragFunctions(this,t),this.startPenEvent=t}onDragStart(t){activeApplication.activeDocument;activeApplication.workspace.removeInteractions(),activeApplication.workspace.snapInteraction2D.createVirtualOrigin(SVGUtils.createSVGPoint(this.startPenEvent.contentX,this.startPenEvent.contentY)),this.initTransformDataPointList()}initTransformDataPointList(){const t=activeApplication.activeDocument.activePage;this.editablePath=t.focusedElement,this.cubicCurveSegmentTarget=t.focusedPathSegmentPoint,this.startControlPoint1.x=this.cubicCurveSegmentTarget.controlPt1.x,this.startControlPoint1.y=this.cubicCurveSegmentTarget.controlPt1.y,this.startControlPoint2.x=this.cubicCurveSegmentTarget.controlPt2.x,this.startControlPoint2.y=this.cubicCurveSegmentTarget.controlPt2.y,this.t=this.startPenEvent.segmentListAtPoint[0].pointOnSegment.t,1===this.t?this.t=.9:0===this.t&&(this.t=.1);let e,i=this.t;e=i<=1/6?0:i<=.5?Math.pow((6*i-1)/2,3)/2:i<=5/6?(1-Math.pow((6*(1-i)-1)/2,3))/2+.5:1,this.weight=e,1===this.weight?this.weight=.9:0===this.weight&&(this.weight=.1),this.ctrlPt1_offset=(1-this.weight)/(3*i*(1-i)*(1-i)),this.ctrlPt2_offset=this.weight/(3*i*i*(1-i)),this.startDragOriginInLocal=this.editablePath.globalToLocal(this.previousWorkspaceX,this.previousWorkspaceY),this.transformDataPointList=[];const n={element:this.editablePath,pointDataList:[{point:this.cubicCurveSegmentTarget.controlPt1,values:{x:this.cubicCurveSegmentTarget.controlPt1.x,y:this.cubicCurveSegmentTarget.controlPt1.y}},{point:this.cubicCurveSegmentTarget.controlPt2,values:{x:this.cubicCurveSegmentTarget.controlPt2.x,y:this.cubicCurveSegmentTarget.controlPt2.y}}]};this.transformDataPointList.push(n),this.editablePath.selectionPreview.geometryPointList=this.editablePath.getGeometryPointList(),this.editablePath.setGeometryPointList(this.editablePath.selectionPreview.cloneGeometryPointList())}onDrag(t){const e=activeApplication.activeDocument;if(t.startPenEvent=this.startPenEvent,e.pointerEventToCoords(t,!0),e.elementFromPointerEvent(t,!0),e.applySnap(t),!this.cubicCurveSegmentTarget)return;const i=this.editablePath.globalToLocal(t.workspaceX,t.workspaceY),n=i.x-this.startDragOriginInLocal.x,s=i.y-this.startDragOriginInLocal.y;this.cubicCurveSegmentTarget.controlPt1.x=this.startControlPoint1.x+n*this.ctrlPt1_offset,this.cubicCurveSegmentTarget.controlPt1.y=this.startControlPoint1.y+s*this.ctrlPt1_offset,this.cubicCurveSegmentTarget.controlPt2.x=this.startControlPoint2.x+n*this.ctrlPt2_offset,this.cubicCurveSegmentTarget.controlPt2.y=this.startControlPoint2.y+s*this.ctrlPt2_offset,this.editablePath.selectionPreview.renderRequest()}onDragEnd(t){activeApplication.activeDocument.deselectAllPoints(),super.onDragEnd(t)}}TOOLS["translate-segment-c-tool"]=new TranslateSegment_C_tool;class TranslateSegment_A_tool{constructor(){this.arcSegmentTarget=null}initDrag(t){this.previousWorkspaceX=t.workspaceX,this.previousWorkspaceY=t.workspaceY,XOS.initDragFunctions(this,t),this.startPenEvent=t,console.log("this.startPenEvent",this.startPenEvent);const e=activeApplication.activeDocument.activePage;this.arcSegmentTarget=e.focusedPathSegmentPoint,this.editablePath=this.startPenEvent.elementAtPoint,this.selectionPreview=this.editablePath.selectionPreview}onDragStart(t){this.selectionPreview.geometryPointList=this.editablePath.getGeometryPointList(),this.editablePath.setGeometryPointList(this.selectionPreview.cloneGeometryPointList()),activeApplication.workspace.removeInteractions(),activeApplication.workspace.snapInteraction2D.createVirtualOrigin(SVGUtils.createSVGPoint(this.startPenEvent.contentX,this.startPenEvent.contentY))}onDrag(t){const e=activeApplication.activeDocument;t.startPenEvent=this.startPenEvent,e.pointerEventToCoords(t,!0),e.elementFromPointerEvent(t,!0),e.applySnap(t);const i=this.editablePath.globalToLocal(t.workspaceX,t.workspaceY),n=this.startPenEvent.segmentListAtPoint[0].pt1,s=this.startPenEvent.segmentListAtPoint[0].pt2;this.selectionPreview.createGeometryPoint_ARCTO_by_3Points(n,s,i,this.arcSegmentTarget),this.selectionPreview.renderRequest()}onDragEnd(t){const e=activeApplication.activeDocument,i=e.activePage,n=new UndoRedoAction,s=new UndoRedoAction;i.history.addUndoRedoActions(n,s),n.createAttributeSnapshot([this.editablePath],"d"),this.editablePath.setGeometryPointList(this.selectionPreview.getGeometryPointList()),this.editablePath.render(),s.createAttributeSnapshot([this.editablePath],"d");const o=this.editablePath;n.onExecuteEnd=function(){e.selectElementList([o]),o.geometryPointList=null},s.onExecuteEnd=function(){e.selectElementList([o]),o.geometryPointList=null},e.onChange(),activeApplication.workspace.snapInteraction2D.reset(),activeApplication.workspace.update()}}TOOLS["translate-segment-a-tool"]=new TranslateSegment_A_tool;class TranslateControlPoints_tool extends Base2D_tool{constructor(t,e){super(t,e),this.draggableControlPointList=null}setDraggableControlPointList(t){this.draggableControlPointList=t}initTransformDataPointList(){this.transformDataPointList=[],this.editatedPath=this.draggableControlPointList[0].ownerPoint.ownerShapeElement;const t={element:this.editatedPath,pointDataList:[]};this.transformDataPointList.push(t);for(let e=0;e<this.draggableControlPointList.length;e++)t.pointDataList.push({point:this.draggableControlPointList[e],values:{x:this.draggableControlPointList[e].x,y:this.draggableControlPointList[e].y}});this.editatedPath.selectionPreview.geometryPointList=this.editatedPath.getGeometryPointList(),this.editatedPath.setGeometryPointList(this.editatedPath.selectionPreview.cloneGeometryPointList())}isSmoothedCurve(t,e,i){const n=e.x-t.x,s=e.y-t.y,o=i.x-t.x,a=i.y-t.y,r=s/n,l=a/o;return n===o||(s===a||Math.abs(r-l)<.1)}swapTransformDataPointListFromInteractionElementToElement(){let t,e;const i=this.transformDataPointList.length;for(let n=0;n<i;n++)(e=(t=this.transformDataPointList[n]).element).geometryPointList=e.selectionPreview.geometryPointList,e.selectionPreview=null,e.render()}initDrag(t,e){this.previousWorkspaceX=t.workspaceX,this.previousWorkspaceY=t.workspaceY,this.startPenEvent=t,XOS.initDragFunctions(this,t,e)}onDragStart(t){if(activeApplication.workspace.removeInteractions(),this.startPenEvent&&activeApplication.workspace.snapInteraction2D.createVirtualOrigin(SVGUtils.createSVGPoint(this.startPenEvent.contentX,this.startPenEvent.contentY)),this.initTransformDataPointList(),this.smoothCurve=!1,2===this.draggableControlPointList.length){const t=this.draggableControlPointList[0],e=this.draggableControlPointList[1];let i;i="CTRL1"===t.type?e.ownerPoint:t.ownerPoint,this.smoothCurve=this.isSmoothedCurve(i,t,e)}}onDrag(t){const e=activeApplication.activeDocument;t.startPenEvent=this.startPenEvent,e.pointerEventToCoords(t,!0),e.elementFromPointerEvent(t,!0),t.dontUseSnapToAngle=!0,e.applySnap(t);const i=this.draggableControlPointList[0],n=i.ownerPoint.ownerShapeElement.selectionPreview.globalToLocal(t.workspaceX,t.workspaceY);if(i.x=n.x,i.y=n.y,2===this.draggableControlPointList.length){let e=this.smoothCurve;if(t.shiftKey&&!this.reflectOppositeControlPoint&&(e=!1),e){const e=this.draggableControlPointList[1];let n;n="CTRL1"===i.type?e.ownerPoint:i.ownerPoint;const s=SVGUtils.createSVGPoint(n.x-i.x,n.y-i.y),o=s.normalize(),a=SVGUtils.createSVGPoint(e.x,e.y);if(console.log("reflectOppositeControlPoint",this.reflectOppositeControlPoint),t.altKey||this.reflectOppositeControlPoint)e.x=n.x+s.x,e.y=n.y+s.y;else{const t=a.getDistanceFromPoint(n);e.x=n.x+o.x*t,e.y=n.y+o.y*t}}}this.editatedPath.selectionPreview.renderRequest()}onDragEnd(t){const e=activeApplication.activeDocument,i=e.activePage,n=this.editatedPath,s=new UndoRedoAction,o=new UndoRedoAction;i.history.addUndoRedoActions(s,o),s.onExecuteEnd=o.onExecuteEnd=function(){e.selectElementList([n]),n.geometryPointList=null},s.createAttributeSnapshot([n],"d"),this.swapTransformDataPointListFromInteractionElementToElement(),"Q"===this.draggableControlPointList[0].ownerPoint.type&&(n.convertQuandraticCurveToCubicCurve(),n.render()),o.createAttributeSnapshot([n],"d"),e.onChange(),activeApplication.workspace.snapInteraction2D.reset(),activeApplication.workspace.update(),this.reflectOppositeControlPoint=!1}}new TranslateControlPoints_tool("translate-control-points-tool");class RotatePoints_tool extends TranslatePoints_tool{constructor(t){super(t)}initDrag(t){this.pointerDownWorkspaceX=t.workspaceX,this.pointerDownWorkspaceY=t.workspaceY,this.centerOfRotation=t.centerOfRotation,XOS.initDragFunctions(this,t)}onDragStart(t){const e=activeApplication.activeDocument;activeApplication.workspace.removeInteractions(),this.startAngle=GeometryUtils.getAngleBetweenPoints({x:this.pointerDownWorkspaceX,y:this.pointerDownWorkspaceY},this.centerOfRotation),activeApplication.workspace.snapInteraction2D.reset();const i=e.activePage.content.getTransform().matrix,n=SVGUtils.createSVGPoint((this.centerOfRotation.x-i.e)/e.activePage.content.currentScale,(this.centerOfRotation.y-i.f)/e.activePage.content.currentScale);activeApplication.workspace.snapInteraction2D.createVirtualOrigin(n),this.transformDataPointList=e.createTransformDataPointList(),this.previousRotation=0}onDrag(t){const e=activeApplication.activeDocument;e.pointerEventToCoords(t),e.elementFromPointerEvent(t,!0);const i=this.centerOfRotation;t.startPenEvent={workspaceX:i.x,workspaceY:i.y},e.applySnap(t);const n=GeometryUtils.getAngleBetweenPoints({x:t.workspaceX,y:t.workspaceY},this.centerOfRotation,null,this.startAngle);e.rotateTransformDataPointList(this.transformDataPointList,(n-this.previousRotation)/(Math.PI/180),this.centerOfRotation),this.previousRotation=n}}new RotatePoints_tool("rotate-points-tool");class ScalePoints_tool extends TranslatePoints_tool{constructor(t){super(t),this.scaleX=1,this.scaleY=1,this.scaleAxis=null,this.centerOfScaling=SVGUtils.createSVGPoint(),this.alternateCenterOfScaling=SVGUtils.createSVGPoint(),this.mantainAspectRatio=!1}initDrag(t){this.pointerDownWorkspaceX=t.workspaceX,this.pointerDownWorkspaceY=t.workspaceY,this.centerOfScaling.x=t.centerOfScaling.x,this.centerOfScaling.y=t.centerOfScaling.y,this.alternateCenterOfScaling.x=t.alternateCenterOfScaling.x,this.alternateCenterOfScaling.y=t.alternateCenterOfScaling.y,this.scaleAxis=t.scaleAxis,this.isLocalMode=t.isLocalMode,this.mantainAspectRatio=!0===t.mantainAspectRatio,this.createUndoRedoActions=!0,this.startPenEvent=t,activeApplication.workspace.snapInteraction2D.createVirtualOrigin(SVGUtils.createSVGPoint(this.startPenEvent.contentX,this.startPenEvent.contentY)),XOS.initDragFunctions(this,t)}onDrag(t){const e=activeApplication.activeDocument;t.startPenEvent=this.startPenEvent,e.pointerEventToCoords(t),e.elementFromPointerEvent(t,!0),e.applySnap(t);let i=this.mantainAspectRatio;this.scaleX=(t.workspaceX-this.centerOfScaling.x)/(this.pointerDownWorkspaceX-this.centerOfScaling.x),this.scaleY=(t.workspaceY-this.centerOfScaling.y)/(this.pointerDownWorkspaceY-this.centerOfScaling.y),"XY"===this.scaleAxis&&(i||t.shiftKey)&&(Math.abs(this.scaleX)>Math.abs(this.scaleY)?this.scaleY=this.scaleX:this.scaleX=this.scaleY),(this.scaleX===1/0||this.scaleX===-1/0||isNaN(this.scaleX))&&(this.scaleX=1),(this.scaleY===1/0||this.scaleY===-1/0||isNaN(this.scaleY))&&(this.scaleY=1),e.scaleTransformDataPointList(this.transformDataPointList,this.scaleX,this.scaleY,this.centerOfScaling)}}new ScalePoints_tool("scale-points-tool");class ConvertPoint_tool extends Base2D_tool{constructor(t,e){super(t,e)}showInteraction(){0!==activeApplication.activeDocument.activePage.selectionList.length&&activeApplication.workspace.pointsInteraction.show()}onPointerDown(t){if(super.onPointerDown(t),this.clickedElement=null,KEYBOARD_EVENT_MANAGER.spaceKeyPressed)return void TOOLS["pan-tool"].initDrag(this.currentPenEvent);const e=activeApplication.activeDocument;this.clickedElement=this.currentPenEvent.elementAtPoint,"path"===this.clickedElement.nodeName&&(e.isElementSelected(this.clickedElement)||(e.selectElementList([this.clickedElement]),activeApplication.workspace.update()))}onPointerMove(t){const e=activeApplication.activeDocument;e.pointerEventToCoords(t),e.elementFromPointerEvent(t,!0),e.applySnap(t),t.elementAtPoint&&t.elementAtPoint.isLocked()&&(t.elementAtPoint=null),this.currentPenEvent=t}onPointerDownOnInteractionPoint(t){let e=t.target.parentElement.pointRef;const i=e.ownerShapeElement;const n=i.getGeometryPointList().indexOf(e);if(-1===n)return null;activeApplication.activeDocument.convertPathSegmentToCorner_undable(e),activeApplication.workspace.update(),e=i.getGeometryPointList()[n],TOOLS["translate-control-points-tool"].initDrag(t,function(){const t=activeApplication.activeDocument.convertPathSegmentToCurve_undable(e);t&&(TOOLS["translate-control-points-tool"].setDraggableControlPointList(t),TOOLS["translate-control-points-tool"].reflectOppositeControlPoint=!0,TOOLS["translate-control-points-tool"].startPenEvent=null)})}}new ConvertPoint_tool("convert-point-tool","D");class SplitPath_tool extends Base2D_tool{constructor(t,e){super(t,e)}showInteraction(){0!==activeApplication.activeDocument.activePage.selectionList.length&&(activeApplication.workspace.snapInteraction2D.reset(),activeApplication.workspace.pointsInteraction.show())}onPointerDownOnInteractionPoint(t){const e=activeApplication.activeDocument,i=e.activePage,n=e.activePage.focusedElement,s=t.target.parentElement,o=n.splitPathAtPoint(s.pointRef);o.length>0&&(n.geometryPointList=null,e.replaceElement_undable(n,o)),i.focusedPoint=null}onPointerDown(t){if(super.onPointerDown(t),this.clickedElement=null,KEYBOARD_EVENT_MANAGER.spaceKeyPressed)return void TOOLS["pan-tool"].initDrag(this.currentPenEvent);const e=activeApplication.activeDocument;this.clickedElement=this.currentPenEvent.elementAtPoint,this.currentPenEvent.segmentListAtPoint.length>0&&"path"===this.clickedElement.nodeName&&"object"!==this.clickedElement.dataset.type&&e.splitPathAtLocation_undable(this.clickedElement,this.currentPenEvent.segmentListAtPoint[0])}onPointerMove(t){const e=activeApplication.activeDocument;e.pointerEventToCoords(t),e.elementFromPointerEvent(t,!0),e.applySnap(t),t.elementAtPoint&&t.elementAtPoint.isLocked()&&(t.elementAtPoint=null),this.currentPenEvent=t}}new SplitPath_tool("split-path-tool","C");class AddRemovePoint_tool extends Base2D_tool{constructor(t,e){super(t,e)}showInteraction(){0!==activeApplication.activeDocument.activePage.selectionList.length&&activeApplication.workspace.pointsInteraction.show()}onPointerDownOnInteractionPoint(t){const e=activeApplication.activeDocument,i=e.activePage,n=t.target.parentElement;e.removePathPoints_undable([n.pointRef]),i.focusedPoint=null}onPointerDown(t){if(super.onPointerDown(t),this.clickedElement=null,KEYBOARD_EVENT_MANAGER.spaceKeyPressed)return void TOOLS["pan-tool"].initDrag(this.currentPenEvent);const e=activeApplication.activeDocument;e.activePage;this.clickedElement=this.currentPenEvent.elementAtPoint,this.currentPenEvent.segmentListAtPoint.length>0&&"path"===this.clickedElement.nodeName&&"object"!==this.clickedElement.dataset.type&&(e.addPathPointAtLocation_undable(this.clickedElement,this.currentPenEvent.segmentListAtPoint[0]),TOOLS["translate-points-tool"].initDrag(this.currentPenEvent))}onPointerMove(t){const e=activeApplication.activeDocument;e.pointerEventToCoords(t),e.elementFromPointerEvent(t,!0),e.applySnap(t),t.elementAtPoint&&t.elementAtPoint.isLocked()&&(t.elementAtPoint=null),this.currentPenEvent=t}}new AddRemovePoint_tool("add-remove-point-tool","X");class RoundCorners_tool extends Base2D_tool{constructor(t,e){super(t,e),this.radiusLimit=100}showInteraction(){0!==activeApplication.activeDocument.activePage.selectionList.length&&activeApplication.workspace.pointsInteraction.showRoundableCornerPoints()}onPointerDown(t){if(super.onPointerDown(t),this.clickedElement=null,KEYBOARD_EVENT_MANAGER.spaceKeyPressed)return void TOOLS["pan-tool"].initDrag(this.currentPenEvent);const e=activeApplication.activeDocument;this.clickedElement=this.currentPenEvent.elementAtPoint,"path"===this.clickedElement.nodeName&&(e.isElementSelected(this.clickedElement)||(e.selectElementList([this.clickedElement]),activeApplication.workspace.update()))}onPointerMove(t){const e=activeApplication.activeDocument;e.pointerEventToCoords(t),e.elementFromPointerEvent(t,!0),e.applySnap(t),t.elementAtPoint&&t.elementAtPoint.isLocked()&&(t.elementAtPoint=null),this.currentPenEvent=t}onPointerDownOnInteractionPoint(t){const e=activeApplication.activeDocument,i=t.target.parentElement.getScreenCTM().getTranslation(),n={pageX:i.x,pageY:i.y};e.pointerEventToCoords(n);const s=t.target.parentElement;n.segmentToConvert=s.pointRef,this.initDrag(n)}initDrag(t){this.previousWorkspaceX=t.workspaceX,this.previousWorkspaceY=t.workspaceY,this.createUndoRedoActions=!0,XOS.initDragFunctions(this,t),this.startPenEvent=t,this.segmentToConvert=t.segmentToConvert}onDragStart(t){this.cornerDataList=[],this.editablePath=this.segmentToConvert.ownerShapeElement,this.interactivePath=this.editablePath.selectionPreview,this.segmentToConvert=this.interactivePath.getGeometryPointList()[this.segmentToConvert.id],this.roundAllCorners=!1;let e,i,n=[];if(t.altKey){this.roundAllCorners=!0;const t=this.interactivePath.getGeometryPointList();for(i=t.length-1,e=0;e<i;e++)"L"===t[e].type&&("L"===t[e+1].type?n.push(t[e]):"Z"===t[e+1].type&&n.push(t[e]))}else n=[this.segmentToConvert];for(i=n.length,e=0;e<i;e++){const t=this.initCornerData(n[e]);t&&this.cornerDataList.push(t)}}onDrag(t){const e=activeApplication.activeDocument;t.startPenEvent=this.startPenEvent,e.pointerEventToCoords(t,!0),e.elementFromPointerEvent(t,!0),e.applySnap(t);const i=this.interactivePath.globalToLocal(this.previousWorkspaceX,this.previousWorkspaceY),n=this.interactivePath.globalToLocal(t.workspaceX,t.workspaceY),s=i.getDistanceFromPoint(n);for(let t=0;t<this.cornerDataList.length;t++)this.updateRoundedCorner(this.cornerDataList[t],s)}updateRoundedCorner(t,e){const i=this.interactivePath;e>this.radiusLimit&&(e=this.radiusLimit);const n=GeometryUtils.fillet(t.previousSegment,t.cornerPoint,t.endSegment,e);let s=0;n.area<0&&(s=1),i.createGeometryPoint_ARCTO_by_startEndAngles(n.center,n.radius,n.startAngle,n.endAngle,t.arcSegmentPoint,s),t.startSegment.x=t.arcSegmentPoint.startPt.x,t.startSegment.y=t.arcSegmentPoint.startPt.y,t.moveToSegment&&(t.moveToSegment.x=t.startSegment.x,t.moveToSegment.y=t.startSegment.y),i.render()}initCornerData(t){const e=this.interactivePath,i=e.getGeometryPointList(),n=i.indexOf(t);if(-1===n)return null;let s=null;const o=SVGUtils.createSVGPoint(t.x,t.y);let a,r,l,c=i[n-1],d=n+1,u=i[d];if(u&&"Z"===u.type){const n=e.getSubPathMoveToSegmentId(t);if(-1===n)return;if("L"!==(u=i[d=n+1]).type)return null;(s=e.createGeometryPoint_MOVETO(o.y,o.x)).ownerShapeElement=this.interactivePath,i.replaceAt(s,n)}a=t,r=u,l=e.createGeometryPoint_ARCTO(),i.addAt(l,d),l.ownerShapeElement=this.interactivePath;const f=t.getDistanceFromPoint(c),h=u.getDistanceFromPoint(t);let m=Math.min(f,h);return console.log("distanceLimit",m),this.roundAllCorners&&(m/=2),{cornerPoint:o,distanceLimit:m,previousSegment:c,startSegment:a,endSegment:r,moveToSegment:s,arcSegmentPoint:l}}onDragEnd(t){this.cornerDataList[0];const e=activeApplication.activeDocument,i=e.activePage,n=new UndoRedoAction,s=new UndoRedoAction;i.history.addUndoRedoActions(n,s);const o=this.editablePath;n.onExecuteEnd=s.onExecuteEnd=function(){e.selectElementList([o]),o.geometryPointList=null},n.createAttributeSnapshot([o],"d");const a=this.interactivePath.getGeometryPointList();let r=a.length-1;for(let t=0;t<r;t++)"L"===a[t].type&&a[t].getDistanceFromPoint(a[t-1])<.001&&(a.removeAt(t),t--,r--);this.interactivePath.geometryPointList=null;const l=this.interactivePath.getGeometryPointList();this.editablePath.setGeometryPointList(l),this.editablePath.render(),s.createAttributeSnapshot([o],"d"),activeApplication.workspace.snapInteraction2D.reset(),activeApplication.workspace.update(),e.onChange()}}new RoundCorners_tool("round-corners-tool","B");class DrawLine2D_tool extends BaseDraw2D_tool{constructor(t,e){super(t,e,"linear-interaction")}onKeyDown(t){switch(KEYBOARD_EVENT_MANAGER.KEY_CODE_TO_NAME[t.keyCode]){case"BACKSPACE":case"DELETE":COMMANDS.delete.execute(),t.preventDefault(),t.stopPropagation(),this.reset();break;case"TAB":this.pointA&&this.pointB&&this.finalize(t),WINDOWS.mainInspectorWindow.showMainSection("selection-section"),PANELS["line-transform-inspector"].setInputPropertyFocus("lineLength"),t.preventDefault();break;case"ESC":this.reset(),t.preventDefault()}}onReadyPoints_A_B(t){this.finalize(t)}createElement(){const t=activeApplication.activeDocument;this.pointA.contentX===this.pointB.contentX&&this.pointA.contentY===this.pointB.contentY||(this.createdElement=SVGUtils.createLine(this.pointA.contentX,this.pointA.contentY,this.pointB.contentX,this.pointB.contentY),"none"===t.fillAndStrokeManager.stroke&&(t.fillAndStrokeManager.stroke="#000000"),"0"===t.fillAndStrokeManager["stroke-opacity"]&&(t.fillAndStrokeManager["stroke-opacity"]="1"),"0"===t.fillAndStrokeManager["stroke-width"]&&(t.fillAndStrokeManager["stroke-width"]="1"),t.fillAndStrokeManager.apply_stroke(this.createdElement),t.getActivePageLayer().appendChild(this.createdElement),this.createdElement.resetOrigin())}}new DrawLine2D_tool("draw-line-tool","L");class DrawRect2D_tool extends BaseDraw2D_tool{constructor(t,e){super(t,e,"rectangular-interaction")}onReadyPoints_A_B(t){this.finalize(t)}createElement(t){const e=activeApplication.activeDocument;if(this.pointA.contentX===this.pointB.contentX&&this.pointA.contentY===this.pointB.contentY)return;let i=Math.min(this.pointA.contentX,this.pointB.contentX),n=Math.min(this.pointA.contentY,this.pointB.contentY),s=Math.abs(this.pointB.contentX-this.pointA.contentX),o=Math.abs(this.pointB.contentY-this.pointA.contentY);0===s&&(s=1),0===o&&(o=1),t.altKey&&(i-=s,n-=o,s+=s,o+=o),this.createdElement=SVGUtils.createRect(i,n,s,o),e.fillAndStrokeManager.apply_stroke(this.createdElement),e.fillAndStrokeManager.apply_fill(this.createdElement),e.getActivePageLayer().appendChild(this.createdElement),this.createdElement.resetOrigin()}}new DrawRect2D_tool("draw-rect-tool","R");class DrawEditText2D_tool extends BaseDraw2D_tool{constructor(t,e){super(t,e,"rectangular-interaction")}onDeactivate(){activeApplication.isTextEditing&&this.endTextEditing()}onKeyDown(t){switch(KEYBOARD_EVENT_MANAGER.KEY_CODE_TO_NAME[t.keyCode]){case"TAB":this.pointA&&this.pointB&&this.finalize(t),t.preventDefault();break;case"ESC":this.reset(),t.preventDefault()}}onPointerDown(t){if(activeApplication.isTextEditing){if(XOS.hideElement(activeApplication.workspace.TEXT_CURSOR),t.elementAtPoint=activeApplication.activeDocument.shadowRoot.elementFromPoint(t.pageX,t.pageY),t.elementAtPoint){let e=null;(e="text"===activeApplication.currentEditableTextElement.nodeName?t.elementAtPoint.getMainElement():t.elementAtPoint.closest("foreignObject"))!==activeApplication.currentEditableTextElement&&this.endTextEditing()}}else{if(this.currentPenEvent.elementAtPoint){const t=this.currentPenEvent.elementAtPoint.getMainElement();if(t&&"text"===t.nodeName)return activeApplication.activeDocument.selectElementList([t]),void this.startTextEditing(t);if("foreignObject"===t.nodeName&&"html-text"===t.dataset.type)return activeApplication.activeDocument.selectElementList([t]),void this.startTextEditing(t)}super.onPointerDown(t)}}onPointerMove(t){activeApplication.isTextEditing||super.onPointerMove(t)}onPointerUp(t){activeApplication.isTextEditing&&"text"===activeApplication.currentEditableTextElement.nodeName&&activeApplication.currentEditableTextElement.updateSelectionState()}onReadyPoints_A_B(t){this.finalize(t)}createElement(t){const e=activeApplication.activeDocument;if(this.pointA.contentX===this.pointB.contentX&&this.pointA.contentY===this.pointB.contentY)return;let i=Math.min(this.pointA.contentX,this.pointB.contentX),n=Math.min(this.pointA.contentY,this.pointB.contentY),s=Math.abs(this.pointB.contentX-this.pointA.contentX),o=Math.abs(this.pointB.contentY-this.pointA.contentY);if(0===s&&(s=1),0===o&&(o=1),t.altKey&&(i-=s,n-=o,s+=s,o+=o),t.ctrlKey)this.createdElement=SVGUtils.createForeignObjectHtmlText(i,n,s,o,"Enter your text here"),this.startTextEditing(this.createdElement);else{this.createdElement=SVGUtils.createTextBox(i,n,s,o,localString("Enter your text here"),"Roboto","normal","400",20),this.createdElement.setAttribute("tabindex","1");const t=this,e=this.createdElement;setTimeout(function(){t.startTextEditing(e),e.selectAll()},100)}e.getActivePageLayer().appendChild(this.createdElement)}startTextEditing(t){if(activeApplication.workspace.removeSelectionPreview(),activeApplication.workspace.removeInteractions(),activeApplication.workspace.snapInteraction2D.reset(),activeApplication.isTextEditing=!0,activeApplication.currentEditableTextElement=t,"text"===t.nodeName)t.enterToTextEditing();else if("foreignObject"===t.nodeName&&"html-text"===t.dataset.type){const e=t.querySelector("div");e.setAttribute("contenteditable","true"),e.focus()}}endTextEditing(){if("text"===activeApplication.currentEditableTextElement.nodeName)activeApplication.currentEditableTextElement.exitFromTextEditing();else{const t=activeApplication.currentEditableTextElement.querySelector("div");t.removeAttribute("contenteditable"),t.blur(),activeApplication.isTextEditing=!1,activeApplication.currentEditableTextElement=null}}}new DrawEditText2D_tool("draw-edit-text-tool","T");class DrawEllipse2D_tool extends BaseDraw2D_tool{constructor(t,e){super(t,e,"elliptical-interaction")}onReadyPoints_A_B(t){this.finalize(t)}createElement(t){const e=activeApplication.activeDocument;if(this.pointA.contentX===this.pointB.contentX&&this.pointA.contentY===this.pointB.contentY)return;let i=Math.min(this.pointA.contentX,this.pointB.contentX),n=Math.min(this.pointA.contentY,this.pointB.contentY),s=Math.abs(this.pointB.contentX-this.pointA.contentX),o=Math.abs(this.pointB.contentY-this.pointA.contentY);0===s&&(s=1),0===o&&(o=1),t.altKey&&(i-=s,n-=o,s+=s,o+=o);const a=s/2,r=o/2,l=i+a,c=n+r;this.createdElement=SVGUtils.createEllipse(l,c,a,r),e.fillAndStrokeManager.apply_stroke(this.createdElement),e.fillAndStrokeManager.apply_fill(this.createdElement),e.getActivePageLayer().appendChild(this.createdElement),this.createdElement.resetOrigin()}}new DrawEllipse2D_tool("draw-ellipse-tool","E");class DrawRegularPolygon2D_tool extends BaseDraw2D_tool{constructor(t,e){super(t,e),this.numSides=5}onReadyPoints_A_B(t){this.finalize(t)}updateDrawingInteraction(t){const e=SVGUtils.createSVGPoint(this.pointA.workspaceX,this.pointA.workspaceY),i=SVGUtils.createSVGPoint(this.pointB.workspaceX,this.pointB.workspaceY).getDistanceFromPoint(e),n=activeApplication.workspace.interactiveRegularPolygon;n.buildRegularPolygon(e.x,e.y,this.numSides,i),n.classList.add("showed")}createElement(t){const e=activeApplication.activeDocument;if(this.pointA.contentX===this.pointB.contentX&&this.pointA.contentY===this.pointB.contentY)return;const i=SVGUtils.createSVGPoint(this.pointA.contentX,this.pointA.contentY),n=SVGUtils.createSVGPoint(this.pointB.contentX,this.pointB.contentY).getDistanceFromPoint(i);this.createdElement=SVGUtils.createPath(),this.createdElement.buildRegularPolygon(i.x,i.y,this.numSides,n),e.fillAndStrokeManager.apply_stroke(this.createdElement),e.fillAndStrokeManager.apply_fill(this.createdElement),e.getActivePageLayer().appendChild(this.createdElement),this.createdElement.resetOrigin()}}new DrawRegularPolygon2D_tool("draw-regular-polygon-tool","W");class DrawFreehand2D_tool extends Base2D_tool{constructor(t,e){super(t,e),this.selectionMode="POINT_SELECTION",this.booleanElementTarget=null,this.booleanAction="unite",this.simplifyTolerance=2.5,this.joinTolerance=5}onKeyDown(t){switch(KEYBOARD_EVENT_MANAGER.KEY_CODE_TO_NAME[t.keyCode]){case"BACKSPACE":case"DELETE":COMMANDS.delete.execute(),t.preventDefault(),t.stopPropagation()}}doBooleanAction(){const t=activeApplication.activeDocument,e=t.activePage,i=t.getActivePageLayer();this.interactiveElement.transformGeometryPointList(this.interactiveElement.getTransformToElement(i)),this.interactiveElement.render();const n={};paper.install(n),paper.setup([640,480]);let s=n.project.importSVG(this.interactiveElement);s.simplify(this.simplifyTolerance/e.content.currentScale),s.join(null,this.joinTolerance/e.content.currentScale),s=s.exportSVG();const o=COMMANDS.booleans.booleanPathsOperation(this.booleanElementTarget,s,this.booleanAction);for(let t=0;t<o.length;t++)this.booleanElementTarget.parentElement.insertBefore(o[t],this.booleanElementTarget.nextElementSibling),o[t].setGraphicAttributesByElement(this.booleanElementTarget);t.replaceElement_undable(this.booleanElementTarget,o),t.selectElementList(o),activeApplication.workspace.update()}createElement(){const t=activeApplication.activeDocument,e=t.activePage,i=t.getActivePageLayer();this.interactiveElement.transformGeometryPointList(this.interactiveElement.getTransformToElement(i)),this.interactiveElement.render();const n={};paper.install(n),paper.setup([640,480]);const s=n.project.importSVG(this.interactiveElement);s.simplify(this.simplifyTolerance/e.content.currentScale),s.join(null,this.joinTolerance/e.content.currentScale);const o=s.exportSVG();o.setPathData(o.getPathData({absolutize:!0,normalize:!0})),t.fillAndStrokeManager.apply_stroke(o),t.fillAndStrokeManager.apply_fill(o),i.appendChild(o),o.resetOrigin();const a=new UndoRedoAction,r=new UndoRedoAction;e.history.addUndoRedoActions(a,r),r.onExecuteEnd=function(){t.selectElementList([o])},r.createDomNodeSnapshot([o],"insert"),a.createDomNodeSnapshot([o],"delete"),t.onChange(),t.selectElementList([o]),activeApplication.workspace.update()}onPointerDown(t){if(super.onPointerDown(t),t.isDoubleClick)return;const e=activeApplication.activeDocument,i=e.activePage;e.pointerEventToCoords(t),KEYBOARD_EVENT_MANAGER.spaceKeyPressed?TOOLS["pan-tool"].initDrag(t):e.getActivePageLayer().isLocked()?DIALOGS["alert-dialog"].open(localString("The active layer is locked!"),localString("Unlock the active layer to draw in it.")):(this.booleanElementTarget=null,t.altKey&&1===i.selectionList.length&&"path"===i.selectionList[0].nodeName&&(this.booleanElementTarget=i.selectionList[0],t.shiftKey?this.booleanAction="subtract":this.booleanAction="unite"),e.deselectAll(),activeApplication.workspace.removeInteractions(),activeApplication.workspace.removeSelectionPreview(),this.interactiveElement=SVGUtils.createPath(),this.interactiveElement.setAttribute("d","M"+t.workspaceX+" "+t.workspaceY),activeApplication.workspace.selectionPreviews.appendChild(this.interactiveElement))}onPointerMove(t){activeApplication.activeDocument.pointerEventToCoords(t),this.interactiveElement&&(this.interactiveElement.getGeometryPointList().push(this.interactiveElement.createGeometryPoint_LINETO(t.workspaceX,t.workspaceY)),this.interactiveElement.renderRequest())}onPointerUp(t){super.onPointerUp(t),this.booleanElementTarget?this.doBooleanAction():this.interactiveElement&&this.createElement(),this.interactiveElement=null}}new DrawFreehand2D_tool("draw-freehand-tool","N");class DrawPath2D_tool extends BaseDraw2D_tool{constructor(t,e){super(t,e),this.selectionMode="POINT_SELECTION",this.currentPath=null}onDeactivate(){this.finalize()}showInteraction(){const t=activeApplication.activeDocument.activePage;if(0!==t.selectionList.length&&t.focusedPathSegmentPoint&&("L"===t.focusedPathSegmentPoint.type&&activeApplication.workspace.segmentInteraction_L.show(),this.currentPath)){let e=this.currentPath.getGeometryPointList();const i=e[e.length-1].matrixTransform(this.currentPath.getTransformToElement(t.content));activeApplication.workspace.snapInteraction2D.createVirtualOrigin(SVGUtils.createSVGPoint(i.x,i.y))}}onKeyDown(t){const e=activeApplication.activeDocument;switch(KEYBOARD_EVENT_MANAGER.KEY_CODE_TO_NAME[t.keyCode]){case"BACKSPACE":case"DELETE":if(this.currentPath)return;COMMANDS.delete.execute(),t.preventDefault(),t.stopPropagation(),this.reset();break;case"TAB":const i=this.addSegmentToCurrentPath();"L"===i.type&&(e.selectElementList([this.currentPath]),e.setFocusedPathSegmentPoint(i),activeApplication.workspace.update(),this.setPointA(),PANELS["line-to-transform-inspector"].setInputPropertyFocus("lineLength")),t.preventDefault();break;case"ESC":this.finalize(),t.preventDefault();break;case"Y":this.createInteractiveSegment("INTERACTIVE_PATH_SEGMENT_L"),t.preventDefault();break;case"U":this.createInteractiveSegment("INTERACTIVE_PATH_SEGMENT_C"),t.preventDefault();break;case"W":this.createInteractiveSegment(),t.preventDefault()}}reset(t){super.reset(),this.currentPath=null}finalize(t){const e=activeApplication.activeDocument;this.currentPath&&(e.fillAndStrokeManager.apply_stroke(this.currentPath),e.fillAndStrokeManager.apply_fill(this.currentPath),e.selectElementList([this.currentPath])),this.reset()}createElement(t){const e=activeApplication.activeDocument;this.currentPath=SVGUtils.createPath(),this.currentPath.setAttribute("d","M"+this.pointA.contentX+" "+this.pointA.contentY),this.currentPath.setAttribute("fill","none"),"none"===e.fillAndStrokeManager.stroke?e.fillAndStrokeManager.setAttribute("stroke","#c41298"):e.fillAndStrokeManager.apply_stroke(this.currentPath),e.getActivePageLayer().appendChild(this.currentPath),e.onChange(),this.createUndoRedoActions(this.currentPath)}closePath(){const t=this.currentPath.getGeometryPointList();t[t.length-1].x=t[0].x,t[t.length-1].y=t[0].y;const e=this.currentPath.createGeometryPoint_CLOSEPATH();t.push(e),this.currentPath.render()}isClickedToClosePath(){const t=this.currentPath.getGeometryPointList();return t.length>2&&t[0].equals(t[t.length-1],this.currentPenEvent.snapDistance)}isClickedToStopCurveContinuity(){return Math.abs(this.pointA.workspaceX-this.pointB.workspaceX)<10&&Math.abs(this.pointA.workspaceY-this.pointB.workspaceY)<this.currentPenEvent.snapDistance}addSegmentToCurrentPath(){const t=activeApplication.activeDocument,e=t.activePage,i=this.interactiveSegment.getAttribute("id"),n=this.interactiveSegment.getGeometryPointList();let s;"INTERACTIVE_PATH_SEGMENT_Q"===i?s=this.currentPath.quadraticCurveToCubicCurve(n[0],n[1]):"INTERACTIVE_PATH_SEGMENT_C"===i?s=n[1].controlPt2.x===n[1].x&&n[1].controlPt2.y===n[1].y?this.currentPath.quadraticCurveToCubicCurve(n[0],n[1]):this.currentPath.createGeometryPoint_CURVETO_CUBIC(n[1].controlPt1.x,n[1].controlPt1.y,n[1].controlPt2.x,n[1].controlPt2.y,n[1].x,n[1].y):"INTERACTIVE_PATH_SEGMENT_L"===i?s=this.currentPath.createGeometryPoint_LINETO(n[1].x,n[1].y):"INTERACTIVE_PATH_SEGMENT_A"===i&&(s=this.currentPath.createGeometryPoint_ARCTO(n[1].rx,n[1].ry,n[1].angle,n[1].largeArcFlag,n[1].sweepFlag,n[1].x,n[1].y)),this.interactiveSegment.transformGeometryPointList(this.interactiveSegment.getTransformToElement(this.currentPath),[s]),s.ownerShapeElement=this.currentPath;const o=this.currentPath.getGeometryPointList();o.push(s),s.id=o.length-1;const a=new UndoRedoAction,r=new UndoRedoAction;e.history.addUndoRedoActions(a,r);const l=this.currentPath;return a.onExecuteEnd=r.onExecuteEnd=function(){t.selectElementList([l]),l.geometryPointList=null},a.createAttributeSnapshot([l],"d"),this.currentPath.render(),r.createAttributeSnapshot([l],"d"),s}changeInteractiveSegment(){switch(this.interactiveSegment.classList.remove("showed"),this.interactiveSegment.getGeometryPointList()[1].type){case"M":case"L":this.interactiveSegment=document.querySelector("#INTERACTIVE_PATH_SEGMENT_Q");break;case"Q":case"C":this.interactiveSegment=document.querySelector("#INTERACTIVE_PATH_SEGMENT_C")}this.updateDrawingInteraction()}createInteractiveSegment(t){if(this.interactiveSegment&&this.interactiveSegment.classList.remove("showed"),t)this.interactiveSegment=document.querySelector("#"+t);else{const t=this.currentPath.getGeometryPointList();switch(t[t.length-1].type){case"M":case"L":this.interactiveSegment=document.querySelector("#INTERACTIVE_PATH_SEGMENT_L");break;case"C":case"Q":this.interactiveSegment=document.querySelector("#INTERACTIVE_PATH_SEGMENT_C")}}this.updateDrawingInteraction()}updateDrawingInteraction(t){let e=this.currentPath.getGeometryPointList();const i=e[e.length-1],n=this.currentPath.localToGlobal(i.x,i.y),s=this.interactiveSegment.getGeometryPointList();if(s[0].x=n.x,s[0].y=n.y,s[1].x=this.pointB.workspaceX,s[1].y=this.pointB.workspaceY,"INTERACTIVE_PATH_SEGMENT_L"===this.interactiveSegment.getAttribute("id"));else{if("INTERACTIVE_PATH_SEGMENT_A"===this.interactiveSegment.getAttribute("id")){const t=e[e.length-2];let i=this.currentPath.localToGlobal(t.x,t.y),o=n,a=i.getAngleFromPoint(o,!0);i.getAngleFromPoint(o);const r=a+90;let l=SVGUtils.createSVGPointPolar(100,r*Math.PI/180).add(n),c=o.getAngleFromPoint(s[1],!0);o.getAngleFromPoint(s[1]);const d=c+90;let u=n.add(SVGUtils.createSVGPoint((this.pointB.workspaceX-n.x)/2,(this.pointB.workspaceY-n.y)/2)),f=SVGUtils.createSVGPointPolar(100,d*Math.PI/180).add(u);const h=GeometryUtils.getLineLineIntersection(n,l,u,f);if(h){let t=h.getDistanceFromPoint(n);let e=d;e>360&&(e-=360);const i=e<=180?"0":"1",o=c-a>=180?"0":"1";this.interactiveSegment.setAttribute("d","M "+n.x+" "+n.y+" A "+t+" "+t+" 0 "+i+" "+o+" "+s[1].x+" "+s[1].y);const r=document.querySelector("#CURRENT_PEN_LOCATION");r.placeAt(h.x,h.y),r.classList.add("showed"),this.interactiveSegment.classList.add("showed")}return}if(i.controlPt1){let t,e,n;i.controlPt2?t=this.currentPath.localToGlobal(i.controlPt2.x,i.controlPt2.y):i.controlPt1&&(t=this.currentPath.localToGlobal(i.controlPt1.x,i.controlPt1.y)),e=s[0].x-(t.x-s[0].x),n=s[0].y-(t.y-s[0].y);const o=s[0],a={x:e,y:n};let r,l,c;Math.abs(a.x-o.x)>Math.abs(a.y-o.y)?(l=this.currentPenEvent.workspaceX,r=(this.currentPenEvent.workspaceX-o.x)/(a.x-o.x),c=o.y+(a.y-o.y)*r):(c=this.currentPenEvent.workspaceY,r=(this.currentPenEvent.workspaceY-o.y)/(a.y-o.y),l=o.x+(a.x-o.x)*r),e=l,n=c,s[1].controlPt1.x=e,s[1].controlPt1.y=n,s[1].controlPt2&&(s[1].controlPt2.x=s[1].x,s[1].controlPt2.y=s[1].y)}}this.interactiveSegment.render(),this.interactiveSegment.classList.add("showed")}editSegmentCtrlPoint(){const t=this.interactiveSegment.getGeometryPointList(),e=t[1].x-(this.pointC.workspaceX-t[1].x),i=t[1].y-(this.pointC.workspaceY-t[1].y);t[1].controlPt2?(t[1].controlPt2.x=e,t[1].controlPt2.y=i):(t[1].controlPt1.x=e,t[1].controlPt1.y=i),this.interactiveSegment.render()}setPointA(t){this.pointA=this.currentPenEvent,this.pointB=this.currentPenEvent,this.pointC=null,this.currentPath||this.createElement(t),activeApplication.workspace.snapInteraction2D.createVirtualOrigin(SVGUtils.createSVGPoint(this.pointA.contentX,this.pointA.contentY)),this.createInteractiveSegment()}setPointB(t){this.pointB=this.currentPenEvent,this.updateDrawingInteraction(t)}setPointC(t){this.pointC=this.currentPenEvent,this.editSegmentCtrlPoint()}onPointerDown(t){if(KEYBOARD_EVENT_MANAGER.spaceKeyPressed)return void TOOLS["pan-tool"].initDrag(this.currentPenEvent);activeApplication.activeDocument.getActivePageLayer().isLocked()?DIALOGS["alert-dialog"].open(localString("The active layer is locked!"),localString("Unlock the active layer to draw in it.")):null!==this.pointA?(this.setPointB(),XOS.initDragFunctions(this,t)):this.setPointA()}onPointerUp(t){if(this.pointA&&this.pointB){if(this.isClickedToStopCurveContinuity())return void this.createInteractiveSegment("INTERACTIVE_PATH_SEGMENT_L");this.addSegmentToCurrentPath(),this.isClickedToClosePath()?(this.closePath(),this.finalize(t)):(this.currentPenEvent=this.pointB,this.setPointA(t))}}onPointerMove(t){this.pointerEventToCoords(t),this.currentPenEvent=t,null!==this.pointA&&this.setPointB()}onDragStart(t){this.pointA&&this.pointB&&("INTERACTIVE_PATH_SEGMENT_L"===this.interactiveSegment.getAttribute("id")&&this.changeInteractiveSegment(),this.setPointC(t))}onDrag(t){this.pointA&&this.pointB&&this.pointC&&(this.pointerEventToCoords(t),this.currentPenEvent=t,this.setPointC(t))}onDragEnd(t){this.pointA&&this.pointB&&this.pointC&&(this.addSegmentToCurrentPath(),this.isClickedToClosePath()?(this.closePath(),this.finalize(t)):(this.currentPenEvent=this.pointB,this.setPointA(t)))}}new DrawPath2D_tool("draw-path-tool","P");class Offset2D_tool extends BaseDraw2D_tool{constructor(t,e){super(t,e,"linear-interaction"),this.offset=null}reset(t){super.reset(t),this.offset=null,this.cachedPath=null}onKeyDown(t){activeApplication.activeDocument;switch(KEYBOARD_EVENT_MANAGER.KEY_CODE_TO_NAME[t.keyCode]){case"BACKSPACE":case"DELETE":if(this.cachedPath)return;COMMANDS.delete.execute(),t.preventDefault(),t.stopPropagation(),this.reset();break;case"TAB":WINDOWS.mainInspectorWindow.showMainSection("tool-section"),this.offset&&PANELS["offset-tool-info"].setInputPropertyFocus("offset",this.offset),t.preventDefault();break;case"ESC":this.reset(),t.preventDefault()}}setPointA(t){this.offset=null,this.currentPenEvent.elementAtPoint&&(this.currentPenEvent.elementAtPoint=this.currentPenEvent.elementAtPoint.getMainElement(),this.reset(),activeApplication.activeDocument.selectElementList([this.currentPenEvent.elementAtPoint]),activeApplication.workspace.update(),this.pointA=this.currentPenEvent)}updateDrawingInteraction(t){if("line"===this.pointA.elementAtPoint.nodeName){const e=this.pointA.elementAtPoint;if(t.offsetValue)this.offset=t.offsetValue;else{const t=e.globalToLocal(this.pointB.workspaceX,this.pointB.workspaceY),i=GeometryUtils.getClosestPointToLine(e.getPt1(),e.getPt2(),t),n=SVGUtils.createSVGPoint(i.point.x,i.point.y);this.offset=t.getDistanceFromPoint(n),i.left&&(this.offset=0-this.offset)}const i=GeometryUtils.lineOffset(e.getPt1(),e.getPt2(),this.offset);e.selectionPreview.updateGeometry(i.pt1.x,i.pt1.y,i.pt2.x,i.pt2.y)}else if("rect"===this.pointA.elementAtPoint.nodeName){const e=this.pointA.elementAtPoint,i=parseFloat(e.getAttribute("x")),n=parseFloat(e.getAttribute("y")),s=parseFloat(e.getAttribute("width")),o=parseFloat(e.getAttribute("height"));if(t.offsetValue)this.offset=t.offsetValue;else{const t=e.globalToLocal(this.pointB.workspaceX,this.pointB.workspaceY),a=i+s/2,r=n+o/2,l=Math.abs(t.x-a),c=Math.abs(t.y-r);this.offset=l-s/2>c-o/2?l-s/2:c-o/2}e.selectionPreview.updateGeometry(i-this.offset,n-this.offset,s+2*this.offset,o+2*this.offset)}else if("ellipse"===this.pointA.elementAtPoint.nodeName){const e=this.pointA.elementAtPoint,i=parseFloat(e.getAttribute("cx")),n=parseFloat(e.getAttribute("cy")),s=parseFloat(e.getAttribute("rx")),o=parseFloat(e.getAttribute("ry"));if(t.offsetValue)this.offset=t.offsetValue;else{const t=e.globalToLocal(this.pointB.workspaceX,this.pointB.workspaceY),a=Math.abs(t.x-i),r=Math.abs(t.y-n);this.offset=a-s>r-o?a-s:r-o}e.selectionPreview.updateGeometry(i,n,s+this.offset,o+this.offset)}else if("arc-object"===this.pointA.elementAtPoint.dataset.objectId){const e=this.pointA.elementAtPoint,i=e.selectionPreview.querySelector("path");let n;if(e.objectController||(e.objectController=e.getObjectController()),t.offsetValue)this.offset=t.offsetValue,n=e.objectController.properties.radius+this.offset;else{n=e.globalToLocal(this.pointB.workspaceX,this.pointB.workspaceY).getDistanceFromPoint(SVGUtils.createSVGPoint()),this.offset=n-e.objectController.properties.radius}this.newRadius=n,i.buildArc({x:0,y:0},n,e.objectController.properties.startAngle,e.objectController.properties.endAngle)}else if("path"===this.pointA.elementAtPoint.nodeName){const e=this.pointA.elementAtPoint;if(this.cachedPath||(this.cachedPath=e.cloneNode(),this.cachedPath.setGeometryPointList(this.cachedPath.reduceCurves()),this.cachedPath.polygonVertices=e.cloneNode().toPolygonVertices()),t.offsetValue)this.offset=t.offsetValue;else{const t=e.globalToLocal(this.pointB.workspaceX,this.pointB.workspaceY);let i=2e4;const n=this.cachedPath.polygonVertices,s=n.length;let o=!0;for(let e=0;e<s-1;e++){let s=GeometryUtils.getClosestPointToLine(n[e],n[e+1],t,!0),a=t.getDistanceFromPoint(s.point);a<i&&(i=a,o=s.left)}o&&(i=0-i),this.offset=i}e.selectionPreview.setAttribute("d",this.cachedPath.getOffsetPath(this.offset))}}onReadyPoints_A_B(t){this.finalize(t)}createElement(t){if("line"===this.pointA.elementAtPoint.nodeName){const t=this.pointA.elementAtPoint;this.createdElement=t.cloneNode(!0),this.createdElement.updateGeometry(t.selectionPreview.getPt1().x,t.selectionPreview.getPt1().y,t.selectionPreview.getPt2().x,t.selectionPreview.getPt2().y)}else if("rect"===this.pointA.elementAtPoint.nodeName){const t=this.pointA.elementAtPoint;this.createdElement=t.cloneNode(!0),this.createdElement.updateGeometry(t.selectionPreview.getAttribute("x"),t.selectionPreview.getAttribute("y"),t.selectionPreview.getAttribute("width"),t.selectionPreview.getAttribute("height"))}else if("ellipse"===this.pointA.elementAtPoint.nodeName){const t=this.pointA.elementAtPoint;this.createdElement=t.cloneNode(!0),this.createdElement.updateGeometry(t.selectionPreview.getAttribute("cx"),t.selectionPreview.getAttribute("cy"),t.selectionPreview.getAttribute("rx"),t.selectionPreview.getAttribute("ry"))}else if("arc-object"===this.pointA.elementAtPoint.dataset.objectId){const t=this.pointA.elementAtPoint;this.createdElement=t.cloneNode(!0),this.createdElement.getObjectController().setProperties({radius:this.newRadius})}else if("path"===this.pointA.elementAtPoint.nodeName){const t=this.pointA.elementAtPoint;this.createdElement=t.cloneNode(!0),this.createdElement.setAttribute("d",t.selectionPreview.getAttribute("d"))}activeApplication.activeDocument.getActivePageLayer().appendChild(this.createdElement)}}new Offset2D_tool("offset-tool","O");class JoinFillet2D_tool extends BaseDraw2D_tool{constructor(t,e){super(t,e,"linear-interaction"),this.filletRadius=20}pointerEventToCoords(t){const e=activeApplication.activeDocument;e.pointerEventToCoords(t),e.elementFromPointerEvent(t,!0),e.applySnap(t)}onReadyPoints_A_B(t){this.pointA.elementAtPoint&&"line"===this.pointA.elementAtPoint.nodeName&&this.pointB.elementAtPoint&&"line"===this.pointB.elementAtPoint.nodeName&&this.finalize(t),this.reset()}createElement(){const t=this.pointA.elementAtPoint,e=this.pointB.elementAtPoint,i=t.getPt1(),n=t.getPt2(),s=e.getPt1(),o=e.getPt2();this.line1OriginalPoints=t.getGeometryPointList(),this.line2OriginalPoints=e.getGeometryPointList(),t.geometryPointList=null,e.geometryPointList=null;const a=e.getTransformToElement(t).transformPointList([s,o]);let r=GeometryUtils.getLineLineIntersection(i,n,a[0],a[1]);if(r){const a=t.getTransformToElement(activeApplication.activeDocument.activePage.content),l=e.getTransformToElement(activeApplication.activeDocument.activePage.content),c=a.transformPointList([r])[0];let d,u;let f,h;i.getDistanceFromPoint(r)<n.getDistanceFromPoint(r)?(t.updateGeometry(r.x,r.y,n.x,n.y),d=a.transformPointList([n])[0],f=0):(t.updateGeometry(i.x,i.y,r.x,r.y),d=a.transformPointList([i])[0],f=1);const m=t.getTransformToElement(e).transformPointList([r])[0];s.getDistanceFromPoint(m)<o.getDistanceFromPoint(m)?(e.updateGeometry(m.x,m.y,o.x,o.y),u=l.transformPointList([o])[0],h=0):(e.updateGeometry(s.x,s.y,m.x,m.y),u=l.transformPointList([s])[0],h=1);let g=GeometryUtils.getSegmentAngle(c,d),p=GeometryUtils.getSegmentAngle(c,u);const v=GeometryUtils.getPolygonArea([d,c,u]);v<0&&(g=GeometryUtils.getSegmentAngle(c,u),p=GeometryUtils.getSegmentAngle(c,d));let y=p-g,b=p-y/2;y>0&&(b+=Math.PI);let A=Math.abs(this.filletRadius/Math.sin(y/2));const x=c.add(SVGUtils.createSVGPoint(Math.cos(b)*A,Math.sin(b)*A));let S=OBJECTS["arc-object"];const w=SVGUtils.createSVG();w.innerHTML=S.create();const P=w.firstElementChild;S=P.getObjectController(),P.setAttribute("stroke",t.getAttribute("stroke")),P.setAttribute("stroke-width",t.getAttribute("stroke-width")),P.setAttribute("fill","none"),activeApplication.activeDocument.getActivePageLayer().appendChild(P);let E=g/(Math.PI/180)+90,k=p/(Math.PI/180)-90;S.setProperties({startAngle:E,endAngle:k,radius:this.filletRadius}),P.getTransform().setMatrix(P.getTransform().matrix.translate(x.x,x.y));const L=P.getTransformToElement(t).transformPointList([S.arcResult.startPt,S.arcResult.endPt]),D=P.getTransformToElement(e).transformPointList([S.arcResult.startPt,S.arcResult.endPt]);if(v<0){let t=L[0];L[0]=L[1],L[1]=t,t=D[0],D[0]=D[1],D[1]=t}0===f?t.updateGeometry(L[0].x,L[0].y,n.x,n.y):t.updateGeometry(i.x,i.y,L[0].x,L[0].y),0===h?e.updateGeometry(D[1].x,D[1].y,o.x,o.y):e.updateGeometry(s.x,s.y,D[1].x,D[1].y),this.createdElement=P}}createUndoRedoActions(t){t instanceof Array||(t=[t]);const e=super.createUndoRedoActions(t),i=activeApplication.activeDocument,n=this.pointA.elementAtPoint,s=this.pointB.elementAtPoint,o=this.line1OriginalPoints,a=this.line2OriginalPoints,r=n.getGeometryPointList(),l=s.getGeometryPointList();e.redoAction.onExecuteEnd=function(){i.selectElementList(t),n.setGeometryPointList(r),s.setGeometryPointList(l),n.render(),s.render()},e.undoAction.onExecuteEnd=function(){n.setGeometryPointList(o),s.setGeometryPointList(a),n.render(),s.render()}}}new JoinFillet2D_tool("join-fillet-tool","J");class DrawObject2D_tool extends BaseDraw2D_tool{constructor(t,e,i){super(t,e,i),this.objectId=null,this.objectController=null}onActivate(){super.onActivate(),this.objectController=OBJECTS[this.objectId],"linear-object"===this.objectController.type?this.interactionMode="linear-interaction":"rectangular-object"===this.objectController.type?this.interactionMode="rectangular-interaction":"radial-object"===this.objectController.type&&(this.interactionMode="radial-interaction")}onReadyPoints_A_B(t){"radial-object"===this.objectController.type?this.objectController.drawByDiameter&&(this.pointA.workspaceX=this.pointA.workspaceX+(this.pointB.workspaceX-this.pointA.workspaceX)/2,this.pointA.workspaceY=this.pointA.workspaceY+(this.pointB.workspaceY-this.pointA.workspaceY)/2,activeApplication.activeDocument.workspaceToPageContentCoords(this.pointA),activeApplication.workspace.snapInteraction2D.createVirtualOrigin(SVGUtils.createSVGPoint(this.pointA.contentX,this.pointA.contentY))):"linear-object"===this.objectController.type&&this.objectController.createBy3Points?activeApplication.workspace.snapInteraction2D.createVirtualOrigin(SVGUtils.createSVGPoint(this.pointB.contentX,this.pointB.contentY)):this.finalize(t)}onReadyPoints_A_B_C(t){this.finalize(t)}createElement(t){if(this.pointA.contentX!==this.pointB.contentX||this.pointA.contentY!==this.pointB.contentY)if("rectangular-interaction"===this.interactionMode){let e=Math.min(this.pointA.contentX,this.pointB.contentX),i=Math.min(this.pointA.contentY,this.pointB.contentY),n=Math.abs(this.pointB.contentX-this.pointA.contentX),s=Math.abs(this.pointB.contentY-this.pointA.contentY);0===n&&(n=1),0===s&&(s=1),t.altKey&&(e-=n,i-=s,n+=n,s+=s),this.createRectangularObject(e,i,n,s)}else"linear-interaction"===this.interactionMode?this.createLinearObject():"radial-interaction"===this.interactionMode&&this.createRadialObject()}createRectangularObject(t,e,i,n){const s=activeApplication.activeDocument,o=SVGUtils.createSVG();o.innerHTML=this.objectController.create(),this.createdElement=o.firstElementChild,this.createdElement.setAttribute("transform","matrix(1,0,0,1,"+t+","+e+")"),this.objectController=this.createdElement.getObjectController(),activeApplication.activeDocument.getActivePageLayer().appendChild(this.createdElement),this.objectController.setProperties({width:i,height:n}),this.createdElement.hasAttribute("stroke")||s.fillAndStrokeManager.apply_stroke(this.createdElement),this.createdElement.hasAttribute("fill")||s.fillAndStrokeManager.apply_fill(this.createdElement)}createLinearObject(){const t=activeApplication.activeDocument,e=SVGUtils.createSVG();e.innerHTML=this.objectController.create(),this.createdElement=e.firstElementChild,this.objectController=this.createdElement.getObjectController(),this.pointC&&this.pointC.height&&(this.objectController.properties.height=this.pointC.height),activeApplication.activeDocument.getActivePageLayer().appendChild(this.createdElement),this.objectController.setLinearObjectPoints(SVGUtils.createSVGPoint(this.pointA.contentX,this.pointA.contentY),SVGUtils.createSVGPoint(this.pointB.contentX,this.pointB.contentY)),this.createdElement.hasAttribute("stroke")||t.fillAndStrokeManager.apply_stroke(this.createdElement),this.createdElement.hasAttribute("fill")||t.fillAndStrokeManager.apply_fill(this.createdElement)}createRadialObject(){const t=activeApplication.activeDocument,e=SVGUtils.createSVG();e.innerHTML=this.objectController.create(),this.createdElement=e.firstElementChild,this.createdElement.setAttribute("transform","matrix(1,0,0,1,"+this.pointA.contentX+","+this.pointA.contentY+")");const i=SVGUtils.createSVGPoint(this.pointA.contentX,this.pointA.contentY),n=SVGUtils.createSVGPoint(this.pointB.contentX,this.pointB.contentY),s=SVGUtils.createSVGPoint(this.pointC.contentX,this.pointC.contentY);this.objectController=this.createdElement.getObjectController();let o=0,a=0;if(o=i.getAngleFromPoint(n,!0),a=i.getAngleFromPoint(s,!0),this.inversion){const t=o;o=a,a=t}a<o&&(a+=360);const r=n.getDistanceFromPoint(i);t.getActivePageLayer().appendChild(this.createdElement),this.objectController.setProperties({radius:r,startAngle:o,endAngle:a}),this.createdElement.hasAttribute("stroke")||t.fillAndStrokeManager.apply_stroke(this.createdElement),this.createdElement.hasAttribute("fill")||t.fillAndStrokeManager.apply_fill(this.createdElement)}}new DrawObject2D_tool("draw-object-tool");class BaseObject2D_object{constructor(t,e="rectangular-object",i,n){this.type=e,OBJECTS[t]=this,this.properties={},this.graphicElement=null,this.elements=null,this.isInitialized=!1,i&&(TOOLS[i]=new DrawObject2D_tool(i,n),TOOLS[i].objectId=t)}init(t){this.graphicElement=t,this.properties=t.getStoredJsonData("jvs-object-properties")||this.properties;const e=t.querySelectorAll("[data-name]");this.elements={};for(let t=0;t<e.length;t++)this.elements[e[t].dataset.name]=e[t]}getProperties(){return this.properties}setProperties(t){for(let e in t)this.properties[e]=t[e];this.update()}update(){this.graphicElement.storeJsonData("jvs-object-properties",this.properties)}createResources(t){const e=SVGUtils.createSVG();for(e.innerHTML=t;e.firstElementChild;)activeApplication.activeDocument.resources.addResource(e.firstElementChild)}setLinearObjectPoints(t,e){let i=GeometryUtils.getAngleBetweenPoints(e,t)/(Math.PI/180),n=e.getDistanceFromPoint(t),s=this.graphicElement.getTransform().matrix;s.identity(),s=(s=s.translate(t.x,t.y)).rotate(i),this.graphicElement.getTransform().setMatrix(s),this.setProperties({width:n})}normalizeScale(t,e,i){if("linear-object"===this.type||"rectangular-object"===this.type)this.setProperties({width:this.properties.width*t,height:this.properties.height*e});else if("radial-object"===this.type){const t=this.properties.radius*i;this.setProperties({radius:t})}}createInspector(){return""}showInteraction(){if("linear-object"===this.type){activeApplication.workspace.linearObjectInteraction2D.show()}else if("radial-object"===this.type){activeApplication.workspace.radialObjectInteraction2D.show()}else{activeApplication.workspace.bboxInteraction2D.show()}}create(){return""}convertToPath(){return null}}class Arc2D_object extends BaseObject2D_object{constructor(){super("arc-object","radial-object","draw-arc-tool","U"),this.properties.startAngle=0,this.properties.endAngle=90,this.properties.radius=100}convertToPath(t){const e=t.querySelector('[data-name="arc-stroke"]').cloneNode();return e.getTransform().setMatrix(t.getTransform().matrix.clone()),e.setGraphicAttributesByElement(t),e}update(){this.arcResult=this.elements["arc-stroke"].buildArc({x:0,y:0},this.properties.radius,this.properties.startAngle,this.properties.endAngle),this.elements["arc-fill"].setAttribute("d",this.elements["arc-stroke"].getAttribute("d")+"L0 0 Z"),this.elements["arc-stroke"].geometryPointList=this.elements["arc-fill"].geometryPointList=null,super.update()}create(){return'<g data-type="object" data-object-id="arc-object" stroke="#000000" fill="none" stroke-width="1" >\n                    <path  data-name="arc-fill" d="M 0 0" stroke="none" ></path>\n                    <path data-name="arc-stroke" fill="none" ></path>\n                </g>'}createInspector(){return'\n                <arc-object-inspector>\n                    <div class="property-container">\n\n                        <div class="header">\n                            <div class="title">Arc</div>\n                        </div>\n\n                        <div class="content">\n\n\x3c!--                            <div class="input-property">--\x3e\n\x3c!--                                <div class="label">Radius</div>--\x3e\n\x3c!--                                <input name="radius" type="text" data-property-type="dimension" data-event="change:onChangeProperty"/>--\x3e\n\x3c!--                            </div>--\x3e\n\x3c!--                            --\x3e\n\x3c!--                            <div class="input-property">--\x3e\n\x3c!--                                <div class="label">Start angle</div>--\x3e\n\x3c!--                                <input name="startAngle" type="text" data-property-type="angle" data-event="change:onChangeProperty"/>--\x3e\n\x3c!--                            </div>--\x3e\n\x3c!--                            --\x3e\n\x3c!--                            <div class="input-property">--\x3e\n\x3c!--                                <div class="label">End angle</div>--\x3e\n\x3c!--                                <input name="endAngle" type="text" data-property-type="angle" data-event="change:onChangeProperty"/>--\x3e\n\x3c!--                            </div>--\x3e\n                            \n                             <div class="input-property">\n                                    <button  data-event="click:executeCommand" data-event-manager-path="activeApplication" data-cmd="convertToPath" data-translate >Convert to path</button>\n                                </div>\n\n                        </div>\n\n                    </div>\n                </arc-object-inspector>\n             '}}new Arc2D_object;class ArcObject_inspector extends BaseObjectInspector_cmp{constructor(){super()}}customElements.define("arc-object-inspector",ArcObject_inspector);class GroupEditing_layer{constructor(t,e){this.graphicLayer=t,this.editableElementRef=e}onAdded(){this.editableElementRef.classList.add("hidden"),activeApplication.activeDocument.classList.add("isolate-layer-editing");const t=activeApplication.activeDocument;t.activePage;t.setActivePageLayer(this.graphicLayer),t.deselectAll(),activeApplication.workspace.isolateLayerBar.update()}onRemoved(){this.editableElementRef.classList.remove("hidden");const t=activeApplication.activeDocument,e=t.activePage.content.querySelector(".layers");e.lastElementChild.classList.contains("isolate-layer")||activeApplication.activeDocument.classList.remove("isolate-layer-editing"),t.setActivePageLayer(e.lastElementChild),t.deselectAll(),activeApplication.workspace.update(),activeApplication.workspace.isolateLayerBar.update()}enterToEditing(){this.onAdded(),this.cloneAndAppendElementListInPlace(this.editableElementRef.children,this.graphicLayer)}exitFromEditing(){this.editableElementRef.classList.remove("hidden");const t=activeApplication.activeDocument;t.activePage;if(0===this.graphicLayer.children.length)return t.removeElementList_undable([this.editableElementRef]),null;const e=this.editableElementRef.cloneNode();this.cloneAndAppendElementListInPlace(this.graphicLayer.children,e,this.editableElementRef.getScreenCTM()),this.createUndoRedoEditingAction(e),t.removePageLayer(this.graphicLayer),this.onRemoved()}createUndoRedoEditingAction(t){const e=activeApplication.activeDocument,i=e.activePage;if(t){const n=new UndoRedoAction("undo replace edited element in editable layer"),s=new UndoRedoAction("redo replace edited element in editable layer");i.history.addUndoRedoActions(n,s);const o=this.editableElementRef.parentElement,a=this.editableElementRef.nextElementSibling;n.createDomNodeSnapshot([this.editableElementRef],"insert"),s.createDomNodeSnapshot([this.editableElementRef],"delete"),XOS.removeElementList([this.editableElementRef]),o.insertBefore(t,a),n.createDomNodeSnapshot([t],"delete"),s.createDomNodeSnapshot([t],"insert");const r=this.graphicLayer;n.onExecuteEnd=function(){e.addPageLayer(r),r.controller.onAdded(),activeApplication.workspace.update()},s.onExecuteEnd=function(){e.removePageLayer(r),r.controller.onRemoved(),activeApplication.workspace.update()}}else e.removeElementList_undable([this.editableElementRef])}cloneAndAppendElementListInPlace(t,e,i){const n=(i=i||e.getScreenCTM()).inverse(),s=[];let o,a,r,l=t.length;for(r=0;r<l;r++)(o=t[r]).getScreenCTM?(a=n.multiply(o.getScreenCTM()),(o=o.cloneNode(!0)).getTransform().setMatrix(a),e.appendChild(o)):(o=o.cloneNode(!0),e.appendChild(o)),s.push(o);return s}}class SymbolEditing_layer extends GroupEditing_layer{constructor(t,e){super(t,e),this.savedContentViewMatrix=null,this.savedViewMatrix=null}onAdded(){const t=activeApplication.activeDocument;this.savedViewMatrix&&t.setActivePageViewMatrix(this.savedViewMatrix),super.onAdded()}onRemoved(){const t=activeApplication.activeDocument,e=t.activePage;this.savedViewMatrix=e.content.getTransform().matrix.clone(),t.setActivePageViewMatrix(this.savedContentViewMatrix),super.onRemoved()}enterToEditing(){this.onAdded();const t=activeApplication.activeDocument,e=t.activePage;this.savedContentViewMatrix=e.content.getTransform().matrix.clone(),this.cloneAndAppendElementList(this.editableElementRef.children,this.graphicLayer);const i=this.graphicLayer.getGlobalBBox(),n=t.workspaceBounding.width,s=t.workspaceBounding.height;t.fitRectToView(i,n/3,s/3)}exitFromEditing(){this.editableElementRef.classList.remove("hidden");const t=activeApplication.activeDocument;if(0===this.graphicLayer.children.length)return;const e=this.editableElementRef.cloneNode();this.cloneAndAppendElementList(this.graphicLayer.children,e),this.createUndoRedoEditingAction(e),t.removePageLayer(this.graphicLayer),this.onRemoved()}cloneAndAppendElementList(t,e){let i,n,s=t.length;for(n=0;n<s;n++)(i=t[n]).classList.contains("view-box")||(i=i.cloneNode(!0),e.appendChild(i))}}class MarkerEditing_layer extends SymbolEditing_layer{constructor(t,e){super(t,e)}}class PatternEditing_layer extends SymbolEditing_layer{constructor(t,e){super(t,e)}onEnterCalculateViewBox(){const t=this.graphicLayer.getLocalBBox(),e=2*t.center.x,i=2*t.center.y;return SVGUtils.createRect(0,0,e,i)}onExitSetViewBox(t,e,i,n,s){if(void 0===e){const t=this.getBBox();e=0,i=0,n=t.width,s=t.height}t.setAttribute("viewBox",e+" "+i+" "+n+" "+s),t.setAttribute("x",e),t.setAttribute("y",i),t.setAttribute("width",n),t.setAttribute("height",s)}enterToEditing(){this.onAdded();const t=activeApplication.activeDocument,e=t.activePage;if(this.savedContentViewMatrix=e.content.getTransform().matrix.clone(),this.cloneAndAppendElementList(this.editableElementRef.children,this.graphicLayer),this.editableElementRef.hasAttribute("viewBox")){const t=this.editableElementRef.getAttribute("viewBox").split(" "),e=parseFloat(t[0]),i=parseFloat(t[1]),n=parseFloat(t[2]),s=parseFloat(t[3]);this.elementViewBox=SVGUtils.createRect(e,i,n,s)}else this.elementViewBox=this.onEnterCalculateViewBox();this.elementViewBox.classList.add("view-box"),this.graphicLayer.appendChild(this.elementViewBox);const i=this.graphicLayer.getGlobalBBox(),n=t.workspaceBounding.width,s=t.workspaceBounding.height;t.fitRectToView(i,n/3,s/3)}exitFromEditing(){this.editableElementRef.classList.remove("hidden");const t=activeApplication.activeDocument;if(0===this.graphicLayer.children.length)return;const e=this.editableElementRef.cloneNode();if(this.elementViewBox=this.graphicLayer.querySelector(".view-box"),this.elementViewBox.parentElement){const t=this.elementViewBox.getBBox(),i=GeometryUtils.getBBoxPointByLocationName("left-top",t).matrixTransform(this.elementViewBox.getTransformToElement(this.elementViewBox.parentElement));this.onExitSetViewBox(e,i.x,i.y,t.width,t.height)}else this.onExitSetViewBox(e);this.cloneAndAppendElementList(this.graphicLayer.children,e),this.createUndoRedoEditingAction(e),t.removePageLayer(this.graphicLayer),this.onRemoved()}}class MaskEditing_layer extends GroupEditing_layer{constructor(t,e){super(t,e)}enterToEditing(){this.onAdded(),this.maskRef=null;const t=[];let e,i,n=this.editableElementRef.children.length;for(i=0;i<n;i++)"mask"===(e=this.editableElementRef.children[i]).nodeName?this.maskRef=e:t.push(e);this.cloneAndAppendElementListInPlace(t,this.graphicLayer),this.maskRef&&this.cloneAndAppendElementListInPlace(this.maskRef.children,this.graphicLayer)}exitFromEditing(){this.editableElementRef.classList.remove("hidden");const t=activeApplication.activeDocument;t.activePage;if(this.graphicLayer.children.length<2)return t.removeElementList_undable([this.editableElementRef]),t.removePageLayer(this.graphicLayer),void this.onRemoved();const e=t.createMaskedContent(this.graphicLayer.children,this.maskRef.getAttribute("id"));e&&this.createUndoRedoEditingAction(e),t.removePageLayer(this.graphicLayer),this.onRemoved()}}class ClipEditing_layer extends GroupEditing_layer{constructor(t,e){super(t,e)}enterToEditing(){this.onAdded(),this.clipPathRef=null;const t=[];let e,i,n=this.editableElementRef.children.length;for(i=0;i<n;i++)"clipPath"===(e=this.editableElementRef.children[i]).nodeName?this.clipPathRef=e:t.push(e);this.cloneAndAppendElementListInPlace(t,this.graphicLayer),this.clipPathRef&&this.cloneAndAppendElementListInPlace(this.clipPathRef.children,this.graphicLayer)}exitFromEditing(){this.editableElementRef.classList.remove("hidden");const t=activeApplication.activeDocument;t.activePage;if(this.graphicLayer.children.length<2)return t.removeElementList_undable([this.editableElementRef]),t.removePageLayer(this.graphicLayer),void this.onRemoved();const e=t.createClippedContent(this.graphicLayer.children,this.clipPathRef.getAttribute("id"));e&&this.createUndoRedoEditingAction(e),t.removePageLayer(this.graphicLayer),this.onRemoved()}}class BBoxInteraction_cmp{constructor(){this.graphicElement=document.querySelector('[data-custom-element="BBoxInteraction_cmp"]'),this.selectionSizeX=0,this.selectionSizeY=0,this.isLocalMode=!1,this.boundsPoints=[];for(let t=0;t<4;t++)this.boundsPoints[t]=SVGUtils.createSVGPoint(0,0);this.nw=this.graphicElement.querySelector("#nw"),this.n=this.graphicElement.querySelector("#n"),this.ne=this.graphicElement.querySelector("#ne"),this.e=this.graphicElement.querySelector("#e"),this.se=this.graphicElement.querySelector("#se"),this.s=this.graphicElement.querySelector("#s"),this.sw=this.graphicElement.querySelector("#sw"),this.w=this.graphicElement.querySelector("#w"),this.top_line=this.graphicElement.querySelector("#top_line"),this.right_line=this.graphicElement.querySelector("#right_line"),this.bottom_line=this.graphicElement.querySelector("#bottom_line"),this.left_line=this.graphicElement.querySelector("#left_line"),this.rotation=this.graphicElement.querySelector("#rotation"),this.bboxCenterElement=this.graphicElement.querySelector("#center"),this.labelSizeX=this.graphicElement.querySelector("#LABEL_SIZE_X"),this.labelSizeY=this.graphicElement.querySelector("#LABEL_SIZE_Y"),XOS.connectDomEvents(this.graphicElement.querySelectorAll("[data-event]"),this)}onClick_labelSizeX(){document.querySelector("rectangular-transform-inspector").setInputPropertyFocus("sizeX")}onClick_labelSizeY(){document.querySelector("rectangular-transform-inspector").setInputPropertyFocus("sizeY")}onMouseDown_handles(t){let e;this.scaleAxis="XY";const i=t.target,n=i.parentElement.getScreenCTM().getTranslation(),s={pageX:n.x,pageY:n.y};switch(activeApplication.activeDocument.pointerEventToCoords(s),i.parentElement.getAttribute("id")){case"nw":e=this.boundsPoints[2];break;case"n":e=this.getCenterBottom(),this.scaleAxis="Y";break;case"ne":e=this.boundsPoints[3];break;case"e":e=this.getCenterLeft(),this.scaleAxis="X";break;case"se":e=this.boundsPoints[0];break;case"s":e=this.getCenterTop(),this.scaleAxis="Y";break;case"sw":e=this.boundsPoints[1];break;case"w":e=this.getCenterRight(),this.scaleAxis="X"}i.classList.contains("resize")?(s.centerOfScaling=e,s.alternateCenterOfScaling=this.getCenter(),s.scaleAxis=this.scaleAxis,s.isLocalMode=this.isLocalMode,s.mantainAspectRatio=activeApplication.activeDocument.preferences.mantainAspectRatio,TOOLS["scale-tool"].initDrag(s)):i.classList.contains("translate")?t.shiftKey?(s.centerOfRotation=e,TOOLS["rotate-tool"].initDrag(s)):TOOLS["translate-tool"].initDrag(s):i.classList.contains("rotate")&&(s.centerOfRotation=this.getCenter(),TOOLS["rotate-tool"].initDrag(s))}show(){const t=activeApplication.activeDocument.activePage,e=t.selectionList;if(this.selectionBBox=null,1===e.length){this.isLocalMode=!0;let t=e[0];this.selectionBBox=t.getLocalBBox(),this.initBoundPoints(),t.getCTM().transformPointList(this.boundsPoints),this.selectionSizeX=this.selectionBBox.width,this.selectionSizeY=this.selectionBBox.height}else{this.isLocalMode=!1,this.selectionBBox=GeometryUtils.getElementListGlobalBBox(e),this.initBoundPoints();let i=t.content.getCTM().inverse(),n=SVGUtils.createSVGPoint(this.selectionBBox.min.x,this.selectionBBox.min.y).matrixTransform(i),s=SVGUtils.createSVGPoint(this.selectionBBox.max.x,this.selectionBBox.max.y).matrixTransform(i);this.selectionSizeX=s.x-n.x,this.selectionSizeY=s.y-n.y}this.update(),this.graphicElement.classList.add("showed")}initBoundPoints(){this.boundsPoints[0].set(this.selectionBBox.min.x,this.selectionBBox.min.y),this.boundsPoints[1].set(this.selectionBBox.max.x,this.selectionBBox.min.y),this.boundsPoints[2].set(this.selectionBBox.max.x,this.selectionBBox.max.y),this.boundsPoints[3].set(this.selectionBBox.min.x,this.selectionBBox.max.y)}update(){let t,e,i,n,s,o,a,r;t=this.boundsPoints[0].x,e=this.boundsPoints[0].y,i=this.boundsPoints[1].x,n=this.boundsPoints[1].y,s=this.boundsPoints[2].x,o=this.boundsPoints[2].y,a=this.boundsPoints[3].x,r=this.boundsPoints[3].y,this.top_line.updateGeometry(t,e,i,n),this.right_line.updateGeometry(i,n,s,o),this.bottom_line.updateGeometry(s,o,a,r),this.left_line.updateGeometry(a,r,t,e);let l=this.getCenter();this.bboxCenterElement.placeAt(l.x,l.y),this.nw.placeAt(t,e),this.ne.placeAt(i,n),this.se.placeAt(s,o),this.sw.placeAt(a,r);let c=this.getCenterTop();this.n.placeAt(c.x,c.y);let d=this.getCenterRight();this.e.placeAt(d.x,d.y);let u=this.getCenterBottom();this.s.placeAt(u.x,u.y);let f=this.getCenterLeft();this.w.placeAt(f.x,f.y);const h=c.getDistanceFromPoint(u)<30;function m(t){return 45*Math.round(GeometryUtils.getAngleBetweenPoints(t,l)/(Math.PI/180*45))}function g(t){return Math.round(GeometryUtils.getAngleBetweenPoints(t,l)/(Math.PI/180))}this.labelSizeX.style.display=this.labelSizeY.style.display=this.bboxCenterElement.style.display=this.nw.style.display=this.ne.style.display=this.se.style.display=this.sw.style.display=h?"none":"inline";let p={0:"ew-resize",45:"nwse-resize",90:"ns-resize",135:"nesw-resize",180:"ew-resize",225:"nwse-resize",270:"ns-resize",315:"nesw-resize"};if(this.e.querySelector(".resize").style.cursor=p[String(m(d))],this.se.querySelector(".resize").style.cursor=p[String(m(this.boundsPoints[2]))],this.s.querySelector(".resize").style.cursor=p[String(m(u))],this.sw.querySelector(".resize").style.cursor=p[String(m(this.boundsPoints[3]))],this.w.querySelector(".resize").style.cursor=p[String(m(f))],this.nw.querySelector(".resize").style.cursor=p[String(m(this.boundsPoints[0]))],this.n.querySelector(".resize").style.cursor=p[String(m(c))],this.ne.querySelector(".resize").style.cursor=p[String(m(this.boundsPoints[1]))],this.rotation.setAttribute("transform","translate("+u.x+" "+u.y+") rotate("+(g(u)+90+180)+" 0 0)"),activeApplication.activeDocument.preferences.interactionLabelVisibility){this.labelSizeX.setAttribute("y","-27"),this.labelSizeY.setAttribute("y","27");let t=g(d);t>90&&t<270&&(t+=180,this.labelSizeX.setAttribute("y","27")),this.labelSizeX.setAttribute("transform","translate("+c.x+" "+c.y+") rotate("+t+" 0 0)"),(t=g(c))>90&&t<270&&(t+=180,this.labelSizeY.setAttribute("y","-27")),this.labelSizeY.setAttribute("transform","translate("+d.x+" "+d.y+") rotate("+t+" 0 0)"),this.labelSizeX.textContent=activeApplication.activeDocument.valueToUnit(this.selectionSizeX),this.labelSizeY.textContent=activeApplication.activeDocument.valueToUnit(this.selectionSizeY)}else this.labelSizeX.style.display=this.labelSizeY.style.display="none"}getCenter(){return SVGUtils.createSVGPoint(this.boundsPoints[0].x+(this.boundsPoints[2].x-this.boundsPoints[0].x)/2,this.boundsPoints[0].y+(this.boundsPoints[2].y-this.boundsPoints[0].y)/2)}getCenterTop(){return SVGUtils.createSVGPoint(this.boundsPoints[0].x+(this.boundsPoints[1].x-this.boundsPoints[0].x)/2,this.boundsPoints[0].y+(this.boundsPoints[1].y-this.boundsPoints[0].y)/2)}getCenterLeft(){return SVGUtils.createSVGPoint(this.boundsPoints[0].x+(this.boundsPoints[3].x-this.boundsPoints[0].x)/2,this.boundsPoints[0].y+(this.boundsPoints[3].y-this.boundsPoints[0].y)/2)}getCenterRight(){return SVGUtils.createSVGPoint(this.boundsPoints[1].x+(this.boundsPoints[2].x-this.boundsPoints[1].x)/2,this.boundsPoints[1].y+(this.boundsPoints[2].y-this.boundsPoints[1].y)/2)}getCenterBottom(){return SVGUtils.createSVGPoint(this.boundsPoints[2].x+(this.boundsPoints[3].x-this.boundsPoints[2].x)/2,this.boundsPoints[2].y+(this.boundsPoints[3].y-this.boundsPoints[2].y)/2)}}class LineInteraction_cmp{constructor(){this.graphicElement=document.querySelector('[data-custom-element="LineInteraction_cmp"]'),this.line=this.graphicElement.querySelector("line"),this.pt1=this.graphicElement.querySelector(".pt1"),this.pt2=this.graphicElement.querySelector(".pt2"),this.label=this.graphicElement.querySelector(".label"),XOS.connectDomEvents(this.graphicElement.querySelectorAll("[data-event]"),this)}show(){let t=activeApplication.activeDocument.activePage.selectionList[0];const e=t.getEditableGeometryPointList(),i=e[1].getDistanceFromPoint(e[0]);let n;n=t.getCTM().transformPointList(e,!0),this.line.setGeometryPointList(n),this.line.render(),this.pt1.placeAt(n[0].x,n[0].y),this.pt2.placeAt(n[1].x,n[1].y),activeApplication.activeDocument.preferences.interactionLabelVisibility?this.showLabel(activeApplication.activeDocument.valueToUnit(i)):this.label.style.display="none",this.graphicElement.classList.add("showed")}showLabel(t){const e=this.line.getGeometryPointList(),i=e[0],n=e[1],s=i.x+(n.x-i.x)/2,o=i.y+(n.y-i.y)/2;let a=GeometryUtils.getAngleBetweenPoints(n,i)/(Math.PI/180);a>=90&&a<270?(a+=180,this.label.setAttribute("y","27")):this.label.setAttribute("y","-27"),this.label.setAttribute("transform","translate("+s+" "+o+") rotate("+a+" 0 0)"),this.label.textContent=t,this.label.style.display="inline"}onClickOn_label(){document.querySelector("line-transform-inspector").setInputPropertyFocus("lineLength")}onMouseDown_handle(t){const e=t.target,i=e.parentElement.getScreenCTM().getTranslation(),n={pageX:i.x,pageY:i.y};if(activeApplication.activeDocument.pointerEventToCoords(n),e.classList.contains("resize")){const t=this.line.getGeometryPointList();let i;e.parentElement.classList.contains("pt1")?(this.pointToDrag=t[0],i=t[1]):e.parentElement.classList.contains("pt2")&&(this.pointToDrag=t[1],i=t[0]),this.startPenEvent={workspaceX:i.x,workspaceY:i.y},activeApplication.activeDocument.workspaceToPageContentCoords(this.startPenEvent),this.initDrag(n)}else e.classList.contains("translate")&&TOOLS["translate-tool"].initDrag(n)}initDrag(t){this.previousWorkspaceX=t.workspaceX,this.previousWorkspaceY=t.workspaceY,XOS.initDragFunctions(this,t)}onDragStart(t){activeApplication.workspace.removeInteractions(),activeApplication.workspace.snapInteraction2D.createVirtualOrigin(SVGUtils.createSVGPoint(this.startPenEvent.contentX,this.startPenEvent.contentY))}onDrag(t){const e=activeApplication.activeDocument,i=e.activePage.focusedElement;t.startPenEvent=this.startPenEvent,e.pointerEventToCoords(t),e.elementFromPointerEvent(t,!0),e.applySnap(t),this.pointToDrag.x+=t.workspaceX-this.previousWorkspaceX,this.pointToDrag.y+=t.workspaceY-this.previousWorkspaceY,this.previousWorkspaceX=t.workspaceX,this.previousWorkspaceY=t.workspaceY,this.line.render();const n=this.line.getGeometryPointList(),s=this.line.getTransformToElement(i.selectionPreview).transformPointList(n,!0);i.selectionPreview.setGeometryPointList(s),i.selectionPreview.render()}onDragEnd(t){const e=activeApplication.activeDocument,i=e.activePage.focusedElement;let n,s;const o=i.globalToLocal(this.pointToDrag.x,this.pointToDrag.y);s=0===this.pointToDrag.id?{x1:o.x,y1:o.y}:{x2:o.x,y2:o.y},(n=e.setAttributeElementList_undable([i],s,!1)).undoAction.onExecuteEnd=n.redoAction.onExecuteEnd=function(){i.geometryPointList=null,e.selectElementList([i])},i.geometryPointList=null,e.onChange(),activeApplication.workspace.snapInteraction2D.reset(),activeApplication.workspace.update()}}class LinearObjectInteraction_cmp{constructor(){this.graphicElement=document.querySelector('[data-custom-element="LinearObjectInteraction_cmp"]'),this.line=this.graphicElement.querySelector("line"),this.pt1=this.graphicElement.querySelector(".pt1"),this.pt2=this.graphicElement.querySelector(".pt2"),this.pt3=this.graphicElement.querySelector(".pt3"),this.label=this.graphicElement.querySelector(".label"),XOS.connectDomEvents(this.graphicElement.querySelectorAll("[data-event]"),this)}show(){let t=activeApplication.activeDocument.activePage.selectionList[0];const e=t.getEditableGeometryPointList(),i=e[1].getDistanceFromPoint(e[0]),n=t.parentElement.getCTM().transformPointList(e,!0);this.line.setGeometryPointList(n),this.line.render(),this.pt1.placeAt(n[0].x,n[0].y),this.pt2.placeAt(n[1].x,n[1].y),OBJECTS[t.dataset.objectId].createBy3Points?(this.pt3.style.display="inline",this.pt3.placeAt(n[2].x,n[2].y)):this.pt3.style.display="none",activeApplication.activeDocument.preferences.interactionLabelVisibility?this.showLabel(activeApplication.activeDocument.valueToUnit(i)):this.label.style.display="none",this.graphicElement.classList.add("showed")}showLabel(t){const e=this.line.getGeometryPointList(),i=e[0],n=e[1],s=i.x+(n.x-i.x)/2,o=i.y+(n.y-i.y)/2;let a=GeometryUtils.getAngleBetweenPoints(n,i)/(Math.PI/180);a>=90&&a<270?(a+=180,this.label.setAttribute("y","27")):this.label.setAttribute("y","-27"),this.label.setAttribute("transform","translate("+s+" "+o+") rotate("+a+" 0 0)"),this.label.textContent=t}onClickOn_label(){document.querySelector("linear-transform-inspector").setInputPropertyFocus("lineLength")}onMouseDown_handle(t){const e=t.target,i=e.parentElement.getScreenCTM().getTranslation(),n={pageX:i.x,pageY:i.y};if(activeApplication.activeDocument.pointerEventToCoords(n),e.classList.contains("resize")){const t=this.line.getGeometryPointList();this.dragAction="dragPoint",e.parentElement.classList.contains("pt1")?(this.pointToDrag=t[0],this.pivotPoint=t[1]):e.parentElement.classList.contains("pt2")?(this.pointToDrag=t[1],this.pivotPoint=t[0]):e.parentElement.classList.contains("pt3")&&(this.pivotPoint=t[0].add(t[1].subtract(t[0]).divide(2)),this.dragAction="dragHeight"),this.startPenEvent={workspaceX:this.pivotPoint.x,workspaceY:this.pivotPoint.y},activeApplication.activeDocument.workspaceToPageContentCoords(this.startPenEvent),this.initDrag(n)}else e.classList.contains("translate")&&TOOLS["translate-tool"].initDrag(n)}initDrag(t){this.previousWorkspaceX=t.workspaceX,this.previousWorkspaceY=t.workspaceY,XOS.initDragFunctions(this,t)}onDragStart(t){activeApplication.workspace.removeInteractions(),activeApplication.workspace.snapInteraction2D.createVirtualOrigin(SVGUtils.createSVGPoint(this.startPenEvent.contentX,this.startPenEvent.contentY));const e=activeApplication.activeDocument,i=e.activePage.focusedElement,n=i.getObjectController();this.storedObjectHeight=n.properties.height,"dragHeight"===this.dragAction?(i.selectionPreview.storedGlobalMatrix=i.selectionPreview.getCTM(),this.pivotPoint=i.selectionPreview.globalToLocal(this.pivotPoint.x,this.pivotPoint.y)):e.scaleAndRotateByLine(i.selectionPreview,this.line)}onDrag(t){const e=activeApplication.activeDocument,i=e.activePage.focusedElement;if(t.startPenEvent=this.startPenEvent,e.pointerEventToCoords(t),e.elementFromPointerEvent(t,!0),e.applySnap(t),"dragHeight"===this.dragAction){const n=i.globalToLocal(t.workspaceX,t.workspaceY);this.scaleY=n.y/this.storedObjectHeight,e.scaleElementList([i.selectionPreview],1,this.scaleY,this.pivotPoint,!0)}else this.pointToDrag.x+=t.workspaceX-this.previousWorkspaceX,this.pointToDrag.y+=t.workspaceY-this.previousWorkspaceY,this.previousWorkspaceX=t.workspaceX,this.previousWorkspaceY=t.workspaceY,e.scaleAndRotateByLine(i.selectionPreview,this.line)}onDragEnd(t){const e=activeApplication.activeDocument,i=e.activePage.focusedElement;if("dragHeight"===this.dragAction)activeApplication.activeDocument.setPropertyObjectElementList_undable([i],{height:this.storedObjectHeight*this.scaleY});else{const t=this.line.getGeometryPointList(),e=this.line.getTransformToElement(i.parentElement).transformPointList(t,!0),n=e[1].getDistanceFromPoint(e[0]),s=i.getAttribute("transform"),o=activeApplication.activeDocument.setPropertyObjectElementList_undable([i],{width:n});i.getObjectController().setLinearObjectPoints(e[0],e[1]);const a=i.getAttribute("transform");o.undoAction.onExecuteEnd=function(){i.setAttribute("transform",s)},o.redoAction.onExecuteEnd=function(){i.setAttribute("transform",a)}}e.onChange(),activeApplication.workspace.snapInteraction2D.reset(),activeApplication.workspace.update()}}class RadialObjectInteraction_cmp{constructor(){this.graphicElement=document.querySelector('[data-custom-element="RadialObjectInteraction_cmp"]'),this.arc=this.graphicElement.querySelector(".arc"),this.center=this.graphicElement.querySelector(".center"),this.angleStart=this.graphicElement.querySelector(".angle-start"),this.angleEnd=this.graphicElement.querySelector(".angle-end"),this.pt0=this.graphicElement.querySelector(".pt0"),this.pt1=this.graphicElement.querySelector(".pt1"),this.pt2=this.graphicElement.querySelector(".pt2"),this.pt3=this.graphicElement.querySelector(".pt3"),this.label=this.graphicElement.querySelector(".label"),XOS.connectDomEvents(this.graphicElement.querySelectorAll("[data-event]"),this)}show(){let t=activeApplication.activeDocument.activePage.focusedElement;const e=t.localToGlobal(0,0);this.objectProperties=t.getStoredJsonData("jvs-object-properties"),this.graphicElement.placeAt(e.x,e.y);const i=t.getCTM().getRotation(),n=SVGUtils.createSVGPointPolar(this.objectProperties.radius,this.objectProperties.startAngle*(Math.PI/180)),s=t.localToGlobal(n.x,n.y).getDistanceFromPoint(e),o=this.arc.buildArc({x:0,y:0},s,this.objectProperties.startAngle+i,this.objectProperties.endAngle+i);this.angleStart.updateGeometry(0,0,o.startPt.x,o.startPt.y),this.angleEnd.updateGeometry(0,0,o.endPt.x,o.endPt.y),this.pt1.placeAt(o.startPt.x,o.startPt.y),this.pt2.placeAt(o.endPt.x,o.endPt.y);let a=(this.objectProperties.endAngle-this.objectProperties.startAngle)/2;a<0&&(a+=180);const r=SVGUtils.createSVGPointPolar(s,(i+this.objectProperties.startAngle+a)*(Math.PI/180));this.pt3.placeAt(r.x,r.y),this.graphicElement.classList.add("showed")}onMouseDown_handle(t){const e=t.target;let i=activeApplication.activeDocument.activePage.focusedElement;if(e.classList.contains("resize")){const t=i.localToScreen(0,0),n={pageX:t.x,pageY:t.y};activeApplication.activeDocument.pointerEventToCoords(n),e.parentElement.classList.contains("pt1")?this.dragAction="dragStartAngle":e.parentElement.classList.contains("pt2")?this.dragAction="dragEndAngle":e.parentElement.classList.contains("pt3")&&(this.dragAction="dragRadius"),this.initDrag(n)}else if(e.classList.contains("translate")){const t=e.parentElement.getScreenCTM().getTranslation(),i={pageX:t.x,pageY:t.y};activeApplication.activeDocument.pointerEventToCoords(i),TOOLS["translate-tool"].initDrag(i)}}initDrag(t){this.startPenEvent=t,this.previousWorkspaceX=t.workspaceX,this.previousWorkspaceY=t.workspaceY,XOS.initDragFunctions(this,t)}onDragStart(t){activeApplication.workspace.removeInteractions(),activeApplication.workspace.snapInteraction2D.createVirtualOrigin(SVGUtils.createSVGPoint(this.startPenEvent.contentX,this.startPenEvent.contentY))}onDrag(t){const e=activeApplication.activeDocument,i=e.activePage.focusedElement;if(t.startPenEvent=this.startPenEvent,e.pointerEventToCoords(t),e.elementFromPointerEvent(t,!0),e.applySnap(t),"dragStartAngle"===this.dragAction){let e;this.newStartAngle=SVGUtils.createSVGPoint(0,0).getAngleFromPoint(i.selectionPreview.globalToLocal(t.workspaceX,t.workspaceY),!0),this.newRadius=this.objectProperties.radius,t.altKey&&(this.newRadius=i.selectionPreview.globalToLocal(t.workspaceX,t.workspaceY).getDistanceFromPoint(SVGUtils.createSVGPoint(0,0))),(e="path"===i.selectionPreview.nodeName?i.selectionPreview:i.selectionPreview.querySelector("path")).buildArc({x:0,y:0},this.newRadius,this.newStartAngle,this.objectProperties.endAngle)}else if("dragEndAngle"===this.dragAction){let e;this.newEndAngle=SVGUtils.createSVGPoint(0,0).getAngleFromPoint(i.selectionPreview.globalToLocal(t.workspaceX,t.workspaceY),!0),this.newRadius=this.objectProperties.radius,t.altKey&&(this.newRadius=i.selectionPreview.globalToLocal(t.workspaceX,t.workspaceY).getDistanceFromPoint(SVGUtils.createSVGPoint(0,0))),(e="path"===i.selectionPreview.nodeName?i.selectionPreview:i.selectionPreview.querySelector("path")).buildArc({x:0,y:0},this.newRadius,this.objectProperties.startAngle,this.newEndAngle)}else if("dragRadius"===this.dragAction){let e;this.newRadius=i.selectionPreview.globalToLocal(t.workspaceX,t.workspaceY).getDistanceFromPoint(SVGUtils.createSVGPoint(0,0)),(e="path"===i.selectionPreview.nodeName?i.selectionPreview:i.selectionPreview.querySelector("path")).buildArc({x:0,y:0},this.newRadius,this.objectProperties.startAngle,this.objectProperties.endAngle)}}onDragEnd(t){const e=activeApplication.activeDocument,i=e.activePage.focusedElement;"dragStartAngle"===this.dragAction?activeApplication.activeDocument.setPropertyObjectElementList_undable([i],{startAngle:this.newStartAngle,radius:this.newRadius}):"dragEndAngle"===this.dragAction?activeApplication.activeDocument.setPropertyObjectElementList_undable([i],{endAngle:this.newEndAngle,radius:this.newRadius}):"dragRadius"===this.dragAction&&activeApplication.activeDocument.setPropertyObjectElementList_undable([i],{radius:this.newRadius}),e.onChange(),activeApplication.workspace.snapInteraction2D.reset(),activeApplication.workspace.update()}}class PointsInteraction_cmp{constructor(){this.graphicElement=document.querySelector('[data-custom-element="PointsInteraction_cmp"]'),this.interactionPointTemplate=document.querySelector("#INTERACTION_POINT_TEMPLATE"),this.interactionControlPointTemplate=document.querySelector("#INTERACTION_CONTROL_POINT_TEMPLATE"),this.interactionPointTemplate.removeAttribute("id"),this.interactionControlPointTemplate.removeAttribute("id"),XOS.connectEvent("mousedown",this.graphicElement,this.onMouseDown_pointHandle,this),XOS.connectEvent("mouseup",this.graphicElement,this.onMouseUp,this),this.mode="translate-points"}onMouseDown_pointHandle(t){TOOLS.activeTool.onPointerDownOnInteractionPoint(t)}onMouseUp(t){this.show()}show(){this.removeAllInteractionPoints();const t=activeApplication.activeDocument.activePage.selectionList,e=t.length;for(let i=0;i<e;i++)"object"!==t[i].dataset.type&&("path"===t[i].nodeName?"round-corners"===this.mode?this.showRoundableCornerPoints():this.createPathInteractionPoints(t[i]):this.createElementInteractionPoints(t[i]));this.graphicElement.classList.add("showed")}showRoundableCornerPoints(){this.removeAllInteractionPoints();const t=activeApplication.activeDocument.activePage.selectionList,e=t.length;for(let i=0;i<e;i++)"path"===t[i].nodeName&&this.createRoundablePathInteractionPoints(t[i]);this.graphicElement.classList.add("showed")}createRoundablePathInteractionPoints(t){const e=SVGUtils.createGroup(0,0,"path-interaction");let i,n,s;const o=t.getCTM();let a;a=t.getSubPathList();const r=this;function l(t){n=i.appendChild(r.interactionPointTemplate.cloneNode(!0)),s=t.matrixTransform(o),n.placeAt(s.x,s.y),n.pointRef=t,t.interactionPointRef=n}let c,d=a.length;for(c=0;c<d;c++){let t=a[c].geometryPointList;i=e.appendChild(SVGUtils.createGroup(0,0,"point-list")),e.appendChild(SVGUtils.createGroup(0,0,"control-point-list"));let n,s=t.length-1;for(n=0;n<s;n++)"L"===t[n].type?"L"===t[n+1].type?l(t[n]):"Z"===t[n+1].type&&"L"===t[1].type&&l(t[n]):t[n].type}this.graphicElement.appendChild(e)}removeAllInteractionPoints(){const t=this.graphicElement.querySelectorAll(".interaction-point");let e,i=t.length;for(e=0;e<i;e++)delete t[e].pointRef.interactionPointRef,delete t[e].pointRef;this.graphicElement.removeChildren()}createElementInteractionPoints(t){const e=this.graphicElement.appendChild(SVGUtils.createGroup(0,0,t.nodeName+"-interaction"));let i,n,s,o,a=t.getCTM();const r=t.getGeometryPointList();i=e.appendChild(SVGUtils.createGroup(0,0,"point-list"));let l,c=r.length;for(l=0;l<c;l++)o=r[l],n=i.appendChild(this.interactionPointTemplate.cloneNode(!0)),s=o.matrixTransform(a),n.placeAt(s.x,s.y),o.isSelected&&n.classList.add("selected"),o.isFocused&&n.classList.add("focused"),n.pointRef=o,o.interactionPointRef=n}createPathInteractionPoints(t){const e=SVGUtils.createGroup(0,0);let i,n,s,o;e.classList.add("path-interaction");let a,r,l,c=t.getCTM(),d=(r=t.getSubPathList()).length;for(l=0;l<d;l++){let t=r[l].geometryPointList;(i=SVGUtils.createGroup(0,0)).classList.add("point-list"),e.appendChild(i),(n=SVGUtils.createGroup(0,0)).classList.add("control-point-list"),e.appendChild(n);let d,u,f=t.length;for(d=0;d<f;d++)"Z"===(a=t[d]).type?s=i.appendChild(SVGUtils.createGroup()):(s=i.appendChild(this.interactionPointTemplate.cloneNode(!0)),o=a.matrixTransform(c),s.placeAt(o.x,o.y),a.isSelected&&s.classList.add("selected"),a.isFocused&&s.classList.add("focused")),s.pointRef=a,a.interactionPointRef=s;let h=[];for(d=0;d<f;d++)(a=t[d]).editable&&("Q"!==a.type&&"C"!==a.type||h.push(a),d<f-1&&("Z"===(u=t[d+1]).type&&(u=t[1]),"Q"!==u.type&&"C"!==u.type||h.push(u)));for(d=0,f=h.length,d=0;d<f;d++)this.createPathInteractionControlPoints(h[d])}this.graphicElement.appendChild(e)}createPathInteractionControlPoints(t){let e,i,n,s,o;e=t.ownerShapeElement.getCTM();let a=t.interactionPointRef.parentElement.nextElementSibling;"Q"===t.type?(i=t.interactionPointRef.getTransform().matrix.getTranslation(),(n=a.appendChild(this.interactionControlPointTemplate.cloneNode(!0))).pointRef=t.controlPt1,s=t.controlPt1.matrixTransform(e),n.placeAt(s.x,s.y),o=SVGUtils.createLine(i.x,i.y,s.x,s.y),a.parentNode.insertBefore(o,a.parentNode.firstChild)):"C"===t.type&&(i=t.interactionPointRef.previousElementSibling.getTransform().matrix.getTranslation(),(n=a.appendChild(this.interactionControlPointTemplate.cloneNode(!0))).pointRef=t.controlPt1,s=t.controlPt1.matrixTransform(e),n.placeAt(s.x,s.y),o=SVGUtils.createLine(i.x,i.y,s.x,s.y),a.parentNode.insertBefore(o,a.parentNode.firstChild),i=t.interactionPointRef.getTransform().matrix.getTranslation(),(n=a.appendChild(this.interactionControlPointTemplate.cloneNode(!0))).pointRef=t.controlPt2,s=t.controlPt2.matrixTransform(e),n.placeAt(s.x,s.y),o=SVGUtils.createLine(i.x,i.y,s.x,s.y),a.parentNode.insertBefore(o,a.parentNode.firstChild))}createDraggablePathControlPoint(t){const e=[t];if("CTRL2"===t.type){let n=t.ownerPoint.interactionPointRef.nextElementSibling;if(n){var i=n.pointRef;"Z"===i.type&&(i=(n=n.parentElement.firstChild.nextElementSibling).pointRef),"Q"!==i.type&&"C"!==i.type||e.push(i.controlPt1)}}else if("CTRL1"===t.type){let i=t.ownerPoint.interactionPointRef.previousElementSibling;if(i){var n=i.pointRef;if("M"===n.type){if("Z"!==(n=(i=i.parentElement.lastChild).pointRef).type)return e;n=(i=i.previousElementSibling).pointRef}"C"===n.type&&e.push(n.controlPt2)}}return e}}class SnapInteraction_cmp{constructor(){this.guideA_graphicLine=document.querySelector("#GUIDE_A"),this.guideB_graphicLine=document.querySelector("#GUIDE_B"),this.parallelGuide_graphicLine=document.querySelector("#GUIDE_PARALLEL"),this.perpendiculaGuide_graphicLine=document.querySelector("#GUIDE_PERPEDICULAR"),this.smartPointA_graphicPoint=document.querySelector("#SMART_POINT_A"),this.smartPointB_graphicPoint=document.querySelector("#SMART_POINT_B"),this.smartGuideA_graphicLine=document.querySelector("#SMART_GUIDE_A"),this.smartGuideB_graphicLine=document.querySelector("#SMART_GUIDE_B"),this.angularGuide_color="#0047FF",this.smartGuideA_color="#ff00aa",this.smartGuideB_color="#ff7700",this.reset()}showSmartPointA(t){const e=t.element.localToGlobal(t.point.x,t.point.y);this.smartPointA_graphicPoint.updateGeometry(e.x,e.y),XOS.showElement(this.smartPointA_graphicPoint,"add")}showSmartPointB(t){const e=t.element.localToGlobal(t.point.x,t.point.y);this.smartPointB_graphicPoint.updateGeometry(e.x,e.y),XOS.showElement(this.smartPointB_graphicPoint,"add")}showSmartGuideA(t){this.showGuide(this.smartGuideA_graphicLine,t)}showSmartGuideB(t){this.showGuide(this.smartGuideB_graphicLine,t)}showPerpendicularGuide(t){this.showGuide(this.perpendiculaGuide_graphicLine,t)}showVirtualGuideA(t){this.showGuide(this.guideA_graphicLine,t)}showVirtualGuideB(t){this.showGuide(this.guideB_graphicLine,t)}hideAll(){this.hideSmartPoints(),this.hideSmartGuides(),this.hideVirtualGuides(),this.hidePerpendicularGuide(),this.hideParallelGuide()}hidePerpendicularGuide(){XOS.hideElement(this.perpendiculaGuide_graphicLine)}hideParallelGuide(){XOS.hideElement(this.parallelGuide_graphicLine)}hideSmartPoints(){XOS.hideElement(this.smartPointA_graphicPoint),XOS.hideElement(this.smartPointB_graphicPoint)}hideSmartGuides(){XOS.hideElement(this.smartGuideA_graphicLine),XOS.hideElement(this.smartGuideB_graphicLine)}hideVirtualGuides(){XOS.hideElement(this.guideA_graphicLine),XOS.hideElement(this.guideB_graphicLine)}showGuide(t,e){const i=e.element.localToGlobal(e.pt1.x,e.pt1.y),n=e.element.localToGlobal(e.pt2.x,e.pt2.y),s=activeApplication.workspace.bounding.width,o=activeApplication.workspace.bounding.height;let a,r;Math.abs(i.x-n.x)<1?(r={x:i.x,y:0},a={x:i.x,y:o}):Math.abs(i.y-n.y)<1?(r={x:0,y:i.y},a={x:s,y:i.y}):(r=GeometryUtils.getLineLineIntersection(i,n,{x:0,y:0},{x:s,y:0}),a=GeometryUtils.getLineLineIntersection(i,n,{x:0,y:o},{x:s,y:o})),r&&(t.setAttribute("x1",r.x),t.setAttribute("y1",r.y)),a&&(t.setAttribute("x2",a.x),t.setAttribute("y2",a.y)),t.setAttribute("stroke",e.color||this.angularGuide_color),XOS.showElement(t,"add")}reset(){this.virtualOrigin=null,this.smartPointA=null,this.smartPointB=null,this.smartGuideA=null,this.smartGuideB=null,clearTimeout(this.holdTimeout),this.hideAll()}resetSmartPoints(){this.smartPointA=null,this.smartPointB=null,this.hideSmartPoints()}resetSmartGuides(){this.smartGuideA=null,this.smartGuideB=null,this.hideSmartGuides(),this.virtualOrigin&&this.createVirtualOrigin(this.virtualOrigin)}snapToWorkspaceCoords(t,e){t.localX=e.point.x,t.localY=e.point.y;const i=e.element.localToGlobal(t.localX,t.localY);t.workspaceX=i.x,t.workspaceY=i.y}createVirtualOrigin(t,e,i){e=e||activeApplication.activeDocument.preferences.snap.snapAngleList,this.virtualOrigin=t,this.virtualOrigin.snapGuideList=this.createAngularGuideList(t,e,i,null,!0)}isSmartPointDefined(t){if(this.smartPointA){const e=this.smartPointA.element.globalToLocal(t.workspaceX,t.workspaceY);if(GeometryUtils.isPointSnappedTo(e,this.smartPointA.point,t.snapDistance))return!0}if(this.smartPointB){const e=this.smartPointB.element.globalToLocal(t.workspaceX,t.workspaceY);if(GeometryUtils.isPointSnappedTo(e,this.smartPointB.point,t.snapDistance))return!0}return!1}isSmartGuideDefined(t){return!(!this.smartGuideA||this.smartGuideA.element!==t.segmentListAtPoint[0].element||this.smartGuideA.idSegment!==t.segmentListAtPoint[0].idSegment)||!(!this.smartGuideB||this.smartGuideB.element!==t.segmentListAtPoint[0].element||this.smartGuideB.idSegment!==t.segmentListAtPoint[0].idSegment)}createAngularGuideList(t,e,i=null,n,s=!1,o=0){if(!t)return;const a=[];n=n||this.angularGuide_color,t=SVGUtils.createSVGPoint(t.x,t.y);const r=activeApplication.activeDocument.activePage.content;s&&(a.push({element:r,pt1:t,pt2:SVGUtils.createSVGPoint(t.x+3e3,t.y),name:"horizontal",type:"linear"}),a.push({element:r,pt1:t,pt2:SVGUtils.createSVGPoint(t.x,t.y+3e3),name:"vertical",type:"linear"}));const l=e.length;let c,d,u,f;for(let s=0;s<l;s++)if(f=o+(c=e[s]),i)u=f*(Math.PI/180),d=t.add(SVGUtils.createSVGPointPolar(3e3,u)),a.push({element:r,pt1:t,pt2:d,name:i[s],color:n,type:"linear"});else for(;f<180+o;)u=f*(Math.PI/180),d=t.add(SVGUtils.createSVGPointPolar(3e3,u)),a.push({element:r,pt1:t,pt2:d,name:"angle: "+f+"°",color:n,type:"linear"}),f+=c;return a}createSmartPoint(t,e){let i=SVGUtils.createSVGPoint(t.point.x,t.point.y);const n=activeApplication.activeDocument.activePage.content,s=t.element.getTransformToElement(n);let o=[];t={element:n,point:i=i.matrixTransform(s)},this.smartPointA?(this.smartPointB&&(this.smartPointA=this.smartPointB),this.smartPointB=t,this.smartPointB.snapGuideList=this.createAngularGuideList(t.point,o,null,null,!0),this.smartPointB.timeStamp=e):(this.smartPointA=t,this.smartPointA.snapGuideList=this.createAngularGuideList(t.point,o,null,null,!0),this.smartPointA.timeStamp=e),this.hideSmartPoints(),this.smartPointA&&this.showSmartPointA(this.smartPointA),this.smartPointB&&this.showSmartPointB(this.smartPointB)}createSmartGuide(t,e){const i=activeApplication.activeDocument.activePage.content,n=t.element.getTransformToElement(i),s=t.pt1.matrixTransform(n),o=t.pt2.matrixTransform(n);let a=s.getAngleFromPoint(o,!0),r=a+90;const l=SVGUtils.createSVGPointPolar(activeApplication.activeDocument.preferences.snap.offsetDistance,r*Math.PI/180),c=this;function d(i,n){const d=c.createAngularGuideList(s,[a],["coincident"],n),u=c.createAngularGuideList(s,[r],["start"],n),f=c.createAngularGuideList(o,[r],["end"],n),h=c.createAngularGuideList(s.add(l),[a],["offset"],n),m=c.createAngularGuideList(s.subtract(l),[a],["offset"],n),g=t;return g.color=n,g.timeStamp=e,g.snapGuideList=d.concat(u,f,h,m),g.angleParallel=a,g.anglePerpendicular=r,g}if(this.smartGuideA){if(this.smartGuideB&&(this.smartGuideA=this.smartGuideB),this.smartGuideA.color===this.smartGuideB_color){const t=this.smartGuideA_color;this.smartGuideA_color=this.smartGuideB_color,this.smartGuideB_color=t}if(this.smartGuideB=d(0,this.smartGuideB_color),this.virtualOrigin){let t=this.createAngularGuideList(this.virtualOrigin,[this.smartGuideA.angleParallel,this.smartGuideA.anglePerpendicular,0,90],["parallel","perpendicular","horizontal","vertical"],this.smartGuideA_color);this.virtualOrigin.snapGuideList=t.concat(this.createAngularGuideList(this.virtualOrigin,[this.smartGuideB.angleParallel,this.smartGuideB.anglePerpendicular],["parallel","perpendicular"],this.smartGuideB_color))}}else this.smartGuideA=d(0,this.smartGuideA_color),this.virtualOrigin&&(this.virtualOrigin.snapGuideList=this.createAngularGuideList(this.virtualOrigin,[this.smartGuideA.angleParallel,this.smartGuideA.anglePerpendicular,0,90],["parallel","perpendicular","horizontal","vertical"],this.smartGuideA_color));this.hideSmartGuides(),this.smartGuideA&&this.showSmartGuideA(this.smartGuideA),this.smartGuideB&&this.showSmartGuideB(this.smartGuideB)}snapToVirtualSegmentList(t,e,i=!0){const n=e.length,s=[];let o;for(let a=0;a<n;a++){const n=(o=e[a]).element.globalToLocal(t.workspaceX,t.workspaceY),r=GeometryUtils.isPointOnLine(o.pt1,o.pt2,n,t.snapDistance);if(r&&(s.push({element:o.element,point:r,pointOnSegment:r,pt1:o.pt1,pt2:o.pt2,name:o.name,color:o.color,type:"linear"}),i))break}return s.length>0?(this.snapToWorkspaceAndContentCoords(t,s[0],s[0].name||"guide"),this.showVirtualGuideA(s[0]),s):null}isIntersection(t,e,i,n=!0){const s=i.element.getTransformToElement(e.element).transformPointList([i.pt1,i.pt2]),o=GeometryUtils.getLineLineIntersection(e.pt1,e.pt2,s[0],s[1]);if(o){if(n){const i=e.element.globalToLocal(t.workspaceX,t.workspaceY);if(!GeometryUtils.isPointSnappedTo(o,i,t.snapDistance))return!1}return this.snapToWorkspaceAndContentCoords(t,{element:e.element,point:o},"intersection: "+e.name+" - "+i.name),t.intersectionAtPoint=o,this.showVirtualGuideA(e),this.showVirtualGuideB(i),!0}return!1}isSegmentSegmentIntersection(t,e,i){if("linear"===e.type&&"linear"===i.type){const n=i.element.getTransformToElement(e.element).transformPointList([i.pt1,i.pt2]),s=GeometryUtils.getLineLineIntersection(e.pt1,e.pt2,n[0],n[1]);if(s&&GeometryUtils.isPointSnappedTo(e.pointOnSegment,s,t.snapDistance))return t.intersectionAtPoint=s,this.snapToWorkspaceAndContentCoords(t,{element:e.element,point:s},"intersection: linear / linear"),!0}else if("radial"===e.type&&"linear"===i.type||"radial"===i.type&&"linear"===e.type){let n,s;"radial"===e.type?(n=e,s=i):(n=i,s=e);const o=n.pt2.center,a=n.pt2.radius,r=s.element.getTransformToElement(n.element).transformPointList([s.pt1,s.pt2]),l=GeometryUtils.getLineCircleIntersection(r[0],r[1],o,a);if(l.points){let e=SVGUtils.createSVGPoint(l.points.intersection1.coords[0],l.points.intersection1.coords[1]);if(GeometryUtils.isPointSnappedTo(n.pointOnSegment,e,t.snapDistance))return t.intersectionAtPoint=e,this.snapToWorkspaceAndContentCoords(t,{element:n.element,point:e},"intersection: linear / radial"),!0;if(e=SVGUtils.createSVGPoint(l.points.intersection2.coords[0],l.points.intersection2.coords[1]),GeometryUtils.isPointSnappedTo(n.pointOnSegment,e,t.snapDistance))return t.intersectionAtPoint=e,this.snapToWorkspaceAndContentCoords(t,{element:n.element,point:e},"intersection: linear / radial"),!0}}else if("radial"===e.type&&"radial"===i.type){const n=e.pt2.center,s=e.pt2.radius,o=i.pt2.center,a=i.pt2.radius,r=i.element.getTransformToElement(e.element).transformPointList([o])[0],l=GeometryUtils.getCircleCircleIntersection(r.x,r.y,a,n.x,n.y,s);if(l){let i=SVGUtils.createSVGPoint(l.intersection1.x,l.intersection1.y);if(GeometryUtils.isPointSnappedTo(e.pointOnSegment,i,t.snapDistance));else if(i=SVGUtils.createSVGPoint(l.intersection2.x,l.intersection2.y),!GeometryUtils.isPointSnappedTo(e.pointOnSegment,i,t.snapDistance))return!1;return t.intersectionAtPoint=i,this.snapToWorkspaceAndContentCoords(t,{element:e.element,point:i},"intersection: radial / radial"),!0}}else if("curve"===e.type&&"linear"===i.type||"curve"===i.type&&"linear"===e.type){let n,s;"curve"===e.type?(n=e,s=i):(n=i,s=e);const o=s.element.getTransformToElement(n.element).transformPointList([s.pt1,s.pt2]);let a;"C"===n.pt2.type?a=new Bezier(n.pt1.x,n.pt1.y,n.pt2.controlPt1.x,n.pt2.controlPt1.y,n.pt2.controlPt2.x,n.pt2.controlPt2.y,n.pt2.x,n.pt2.y):"Q"===n.pt2.type&&(a=new Bezier(n.pt1.x,n.pt1.y,n.pt2.controlPt1.x,n.pt2.controlPt1.y,n.pt2.x,n.pt2.y));const r={p1:{x:o[0].x,y:o[0].y},p2:{x:o[1].x,y:o[1].y}},l=a.intersects(r);for(let e=0;e<l.length;e++){const i=a.get(l[e]);if(GeometryUtils.isPointSnappedTo(n.pointOnSegment,i,t.snapDistance))return t.intersectionAtPoint=i,this.snapToWorkspaceAndContentCoords(t,{element:n.element,point:i},"intersection: linear / curve"),!0}}else if("curve"===e.type&&"curve"===i.type){let n,s,o;"C"===e.pt2.type?n=new Bezier(e.pt1.x,e.pt1.y,e.pt2.controlPt1.x,e.pt2.controlPt1.y,e.pt2.controlPt2.x,e.pt2.controlPt2.y,e.pt2.x,e.pt2.y):"Q"===e.pt2.type&&(n=new Bezier(e.pt1.x,e.pt1.y,e.pt2.controlPt1.x,e.pt2.controlPt1.y,e.pt2.x,e.pt2.y)),"C"===i.pt2.type?(o=i.element.getTransformToElement(e.element).transformPointList([i.pt1,i.pt2.controlPt1,i.pt2.controlPt2,i.pt2]),s=new Bezier(o[0].x,o[0].y,o[1].x,o[1].y,o[2].x,o[2].y,o[3].x,o[3].y)):"Q"===i.pt2.type&&(o=i.element.getTransformToElement(e.element).transformPointList([i.pt1,i.pt2.controlPt1,i.pt2]),s=new Bezier(o[0].x,o[0].y,o[1].x,o[1].y,o[2].x,o[2].y));const a=n.intersects(s);for(let i=0;i<a.length;i++){const s=n.get(parseFloat(a[i].split("/")[0]));if(GeometryUtils.isPointSnappedTo(e.pointOnSegment,s,t.snapDistance))return t.intersectionAtPoint=s,this.snapToWorkspaceAndContentCoords(t,{element:e.element,point:s},"intersection curve / curve"),!0}}return!1}snapToLinearSegmentPerpendicular(t,e){const i=e.element.globalToLocal(t.startPenEvent.workspaceX,t.startPenEvent.workspaceY),n=GeometryUtils.getClosestPointToLine(e.pt1,e.pt2,i);if(GeometryUtils.isPointSnappedTo(e.point,n.point,t.snapDistance)){this.snapToWorkspaceAndContentCoords(t,{element:e.element,point:n.point},"perpendicular to "+e.name),t.perpendicularAtPoint=n.point;const s={element:e.element,point:null,pt1:i,pt2:n.point,name:"perpendicular",color:e.color,type:"linear"};return this.showVirtualGuideA(e),this.showPerpendicularGuide(s),!0}return!1}applySnapTo_angle(t,e){const i=activeApplication.activeDocument.preferences,n=Math.abs(t.workspaceX-t.startPenEvent.workspaceX),s=Math.abs(t.workspaceY-t.startPenEvent.workspaceY),o=i.snap.offsetDistance;if(n<o||s<o)return n<o&&(t.workspaceX=t.startPenEvent.workspaceX),void(s<o&&(t.workspaceY=t.startPenEvent.workspaceY));e=e||Math.PI/180*45;let a={x:t.workspaceX-t.startPenEvent.workspaceX,y:t.workspaceY-t.startPenEvent.workspaceY};const r=Math.sqrt(a.x*a.x+a.y*a.y),l=Math.atan2(a.y,a.x),c=Math.round(l/e);a=SVGUtils.createSVGPointPolar(r,c*e),t.workspaceX=t.startPenEvent.workspaceX+a.x,t.workspaceY=t.startPenEvent.workspaceY+a.y,activeApplication.activeDocument.workspaceToPageContentCoords(t)}updatePointer(t){t.elementAtPoint&&"svg"!==t.elementAtPoint.nodeName?(activeApplication.classList.add("over-element"),t.vertexAtPoint?activeApplication.classList.add("over-vertex"):activeApplication.classList.remove("over-vertex"),t.segmentListAtPoint.length>0?activeApplication.classList.add("over-segment"):activeApplication.classList.remove("over-segment")):activeApplication.classList.remove("over-element","over-vertex","over-segment"),activeApplication.workspace.showPointerTip(t)}vertexAtPointToSmartPoint(t){const e=this;clearTimeout(this.holdTimeout),this.holdTimeout=setTimeout(function(){if(t===e.lastEvent){if(e.isSmartPointDefined(t))return void e.resetSmartPoints();e.createSmartPoint(t.vertexAtPoint,t.timeStamp)}},500)}segmentAtPointToSmartGuide(t){const e=this;clearTimeout(this.holdTimeout),this.holdTimeout=setTimeout(function(){if(t===e.lastEvent){if(e.isSmartGuideDefined(t))return void e.resetSmartGuides();e.createSmartGuide(t.segmentListAtPoint[0],t.timeStamp)}},500)}applySnap(t,e){this.lastEvent=t;const i=activeApplication.activeDocument;if(t.snapOptions=e||i.preferences.snap,t.snapDistance=t.snapOptions.distance/i.activePage.content.currentScale,t.pointerDescription="",this.hideAll(),t.elementListAtPoint){if(this.hitTest(t,e),this.updatePointer(t),t.vertexAtPoint&&t.snapOptions.useSmartPoints)return void this.vertexAtPointToSmartPoint(t);if(t.intersectionAtPoint)return;if(t.perpendicularAtPoint)return;if(t.tangentAtPoint)return}this.applySnapToVirtualGuides(t,e),this.updatePointer(t)}applySnapToVirtualGuides(t,e){const i=activeApplication.activeDocument;let n=null,s=null,o=null,a=null;if(t.snapOptions.useSmartPoints&&(this.smartPointA&&(this.showSmartPointA(this.smartPointA),n=this.snapToVirtualSegmentList(t,this.smartPointA.snapGuideList)),this.smartPointB&&(this.showSmartPointB(this.smartPointB),s=this.snapToVirtualSegmentList(t,this.smartPointB.snapGuideList)),t.snapOptions.snapToIntersection&&n&&s&&this.isIntersection(t,n[0],s[0])))return;if(t.snapOptions.useSmartGuides){if(this.smartGuideA&&(this.showSmartGuideA(this.smartGuideA),(o=this.snapToVirtualSegmentList(t,this.smartGuideA.snapGuideList,!1))&&o.length>1&&this.isIntersection(t,o[0],o[1])))return;if(this.smartGuideB&&(this.showSmartGuideB(this.smartGuideB),(a=this.snapToVirtualSegmentList(t,this.smartGuideB.snapGuideList,!1))&&a.length>1&&this.isIntersection(t,a[0],a[1])))return;t.segmentListAtPoint&&t.segmentListAtPoint.length>0&&"linear"===t.segmentListAtPoint[0].type&&this.segmentAtPointToSmartGuide(t)}if(t.snapOptions.snapToIntersection){if(o){if(a&&this.isIntersection(t,o[0],a[0]))return;if(n&&this.isIntersection(t,o[0],n[0]))return;if(s&&this.isIntersection(t,o[0],s[0]))return}if(a){if(n&&this.isIntersection(t,a[0],n[0]))return;if(s&&this.isIntersection(t,a[0],s[0]))return}}if(t.startPenEvent&&t.snapOptions.snapToPerpendicular){if(o&&this.snapToLinearSegmentPerpendicular(t,o[0]))return;if(a&&this.snapToLinearSegmentPerpendicular(t,a[0]))return}let r=null;if(!(t.snapOptions.snapToAngles&&null!==this.virtualOrigin&&(r=this.snapToVirtualSegmentList(t,this.virtualOrigin.snapGuideList))&&t.snapOptions.snapToIntersection&&t.segmentListAtPoint&&t.segmentListAtPoint.length>0&&this.isSegmentSegmentIntersection(t,r[0],t.segmentListAtPoint[0]))){if(t.snapOptions.snapToIntersection&&r){if(n&&this.isIntersection(t,r[0],n[0]))return;if(s&&this.isIntersection(t,r[0],s[0]))return;if(o&&this.isIntersection(t,r[0],o[0]))return;if(a&&this.isIntersection(t,r[0],a[0]))return}return r&&"horizontal"===r[0].name&&t.snapOptions.snapToGrid?(t.contentX=i.preferences.origin.x+i.preferences.gridStep*Math.round((t.contentX-i.preferences.origin.x)/i.preferences.gridStep),void i.pageContentToWorkspaceCoords(t)):r&&"vertical"===r[0].name&&t.snapOptions.snapToGrid?(t.contentY=i.preferences.origin.y+i.preferences.gridStep*Math.round((t.contentY-i.preferences.origin.y)/i.preferences.gridStep),void i.pageContentToWorkspaceCoords(t)):void(t.segmentListAtPoint||n||s||o||a||t.snapOptions.snapToGrid&&(t.contentX=i.preferences.origin.x+i.preferences.gridStep*Math.round((t.contentX-i.preferences.origin.x)/i.preferences.gridStep),t.contentY=i.preferences.origin.y+i.preferences.gridStep*Math.round((t.contentY-i.preferences.origin.y)/i.preferences.gridStep),i.pageContentToWorkspaceCoords(t)))}t.pointerDescription="intersection: "+r[0].name}hitTest(t,e){if(t.segmentListAtPoint=[],t.vertexAtPoint=null,t.elementAtPoint&&(t.pointerDescription=t.elementAtPoint.nodeName),t.elementListAtPoint){const e=t.elementListAtPoint,i=e.length;let n;for(let s=0;s<i;s++){if("line"===(n=e[s]).nodeName&&this.snapToLine(t,n))return;if("path"===n.nodeName&&this.snapToPath(t,n))return;if(("rect"===n.nodeName||"image"===n.nodeName)&&this.snapToRectangularElement(t,n))return;if("ellipse"===n.nodeName&&this.snapToEllipse(t,n))return}}if(t.segmentListAtPoint.length>0){if(t.snapOptions.snapToIntersection&&t.segmentListAtPoint.length>1&&this.isSegmentSegmentIntersection(t,t.segmentListAtPoint[0],t.segmentListAtPoint[1]))return;if(t.startPenEvent){const e=t.segmentListAtPoint[0],i=e.element.globalToLocal(t.startPenEvent.workspaceX,t.startPenEvent.workspaceY);if(t.snapOptions.snapToPerpendicular)if("linear"===e.type){const n=GeometryUtils.getClosestPointToLine(e.pt1,e.pt2,i);if(GeometryUtils.isPointSnappedTo(e.pointOnSegment,n.point,t.snapDistance))return t.perpendicularAtPoint=n.point,void this.snapToWorkspaceAndContentCoords(t,{element:e.element,point:n.point},"perpendicular")}else if("radial"===e.type){const n=e.pt2.center,s=e.pt2.radius,o=n.getAngleFromPoint(i),a=SVGUtils.createSVGPointPolar(s,o);if(a.x+=n.x,a.y+=n.y,GeometryUtils.isPointSnappedTo(e.pointOnSegment,a,t.snapDistance))return t.perpendicularAtPoint=a,void this.snapToWorkspaceAndContentCoords(t,{element:e.element,point:a},"perpendicular")}if(t.snapOptions.snapToTangent&&"radial"===e.type){let n=null;const s=e.pt2.center,o=e.pt2.radius,a=GeometryUtils.getCircleTangentPoints(i,s,o);if(GeometryUtils.isPointSnappedTo(e.pointOnSegment,a.t1,t.snapDistance)&&(n=a.t1),GeometryUtils.isPointSnappedTo(e.pointOnSegment,a.t2,t.snapDistance)&&(n=a.t2),n)return t.tangentAtPoint=n,void this.snapToWorkspaceAndContentCoords(t,{element:e.element,point:n},"tangent")}}}}snapToRectangularElement(t,e){const i=e.globalToLocal(t.workspaceX,t.workspaceY),n=e.getBBox(),s={},o={},a={};let r;if(s.x=n.x,s.y=n.y,o.x=n.x+n.width,o.y=n.y+n.height,a.x=s.x+n.width/2,a.y=s.y+n.height/2,t.snapOptions.snapToCenter){if(r={point:{x:a.x,y:s.y},element:e},GeometryUtils.isPointSnappedTo(i,r.point,t.snapDistance))return t.vertexAtPoint=r,this.snapToWorkspaceAndContentCoords(t,r,"top-center"),!0;if(r={point:{x:o.x,y:a.y},element:e},GeometryUtils.isPointSnappedTo(i,r.point,t.snapDistance))return t.vertexAtPoint=r,this.snapToWorkspaceAndContentCoords(t,r,"right-center"),!0;if(r={point:{x:a.x,y:o.y},element:e},GeometryUtils.isPointSnappedTo(i,r.point,t.snapDistance))return t.vertexAtPoint=r,this.snapToWorkspaceAndContentCoords(t,r,"bottom-center"),!0;if(r={point:{x:s.x,y:a.y},element:e},GeometryUtils.isPointSnappedTo(i,r.point,t.snapDistance))return t.vertexAtPoint=r,this.snapToWorkspaceAndContentCoords(t,r,"left-center"),!0;if(r={point:{x:a.x,y:a.y},element:e},GeometryUtils.isPointSnappedTo(i,r.point,t.snapDistance))return t.vertexAtPoint=r,this.snapToWorkspaceAndContentCoords(t,r,"center"),!0}if(t.snapOptions.snapToPoints){if(r={point:{x:s.x,y:s.y},element:e},GeometryUtils.isPointSnappedTo(i,r.point,t.snapDistance))return t.vertexAtPoint=r,this.snapToWorkspaceAndContentCoords(t,r,"top-left"),!0;if(r={point:{x:o.x,y:s.y},element:e},GeometryUtils.isPointSnappedTo(i,r.point,t.snapDistance))return t.vertexAtPoint=r,this.snapToWorkspaceAndContentCoords(t,r,"top-right"),!0;if(r={point:{x:o.x,y:o.y},element:e},GeometryUtils.isPointSnappedTo(i,r.point,t.snapDistance))return t.vertexAtPoint=r,this.snapToWorkspaceAndContentCoords(t,r,"bottom-right"),!0;if(r={point:{x:s.x,y:o.y},element:e},GeometryUtils.isPointSnappedTo(i,r.point,t.snapDistance))return t.vertexAtPoint=r,this.snapToWorkspaceAndContentCoords(t,r,"bottom-left"),!0;if(r={point:{x:0,y:0},element:e},GeometryUtils.isPointSnappedTo(i,r.point,t.snapDistance))return t.vertexAtPoint=r,this.snapToWorkspaceAndContentCoords(t,r,"origin"),!0}if(t.snapOptions.snapToContour){let n;if(n=GeometryUtils.isPointOnLine({x:s.x,y:s.y},{x:o.x,y:s.y},i,t.snapDistance))return t.segmentListAtPoint.push({element:e,type:"linear",pointOnSegment:n,idSegment:0,pt1:SVGUtils.createSVGPoint(s.x,s.y),pt2:SVGUtils.createSVGPoint(o.x,s.y),name:e.nodeName+" top"}),void this.snapToWorkspaceAndContentCoords(t,{element:e,point:n},e.nodeName+" top");if(n=GeometryUtils.isPointOnLine({x:o.x,y:s.y},{x:o.x,y:o.y},i,t.snapDistance))return t.segmentListAtPoint.push({element:e,type:"linear",pointOnSegment:n,idSegment:1,pt1:SVGUtils.createSVGPoint(o.x,s.y),pt2:SVGUtils.createSVGPoint(o.x,o.y),name:e.nodeName+" right"}),void this.snapToWorkspaceAndContentCoords(t,{element:e,point:n},e.nodeName+" right");if(n=GeometryUtils.isPointOnLine({x:o.x,y:o.y},{x:s.x,y:o.y},i,t.snapDistance))return t.segmentListAtPoint.push({element:e,type:"linear",pointOnSegment:n,idSegment:2,pt1:SVGUtils.createSVGPoint(o.x,o.y),pt2:SVGUtils.createSVGPoint(s.x,o.y),name:e.nodeName+" bottom"}),void this.snapToWorkspaceAndContentCoords(t,{element:e,point:n},e.nodeName+" bottom");if(n=GeometryUtils.isPointOnLine({x:s.x,y:o.y},{x:s.x,y:s.y},i,t.snapDistance))return t.segmentListAtPoint.push({element:e,type:"linear",pointOnSegment:n,idSegment:3,pt1:SVGUtils.createSVGPoint(s.x,o.y),pt2:SVGUtils.createSVGPoint(s.x,s.y),name:e.nodeName+" left"}),void this.snapToWorkspaceAndContentCoords(t,{element:e,point:n},e.nodeName+" left")}}snapToLine(t,e){const i=e.globalToLocal(t.workspaceX,t.workspaceY),n=e.getGeometryPointList();if(t.snapOptions.snapToPoints){if(GeometryUtils.isPointSnappedTo(i,n[0],t.snapDistance))return t.vertexAtPoint={element:e,point:n[0]},this.snapToWorkspaceAndContentCoords(t,t.vertexAtPoint,"start"),!0;if(GeometryUtils.isPointSnappedTo(i,n[1],t.snapDistance))return t.vertexAtPoint={element:e,point:n[1]},this.snapToWorkspaceAndContentCoords(t,t.vertexAtPoint,"end"),!0}if(t.snapOptions.snapToCenter){const s=SVGUtils.createSVGPoint(n[0].x+(n[1].x-n[0].x)/2,n[0].y+(n[1].y-n[0].y)/2);if(GeometryUtils.isPointSnappedTo(i,s,t.snapDistance))return t.vertexAtPoint={element:e,point:s},this.snapToWorkspaceAndContentCoords(t,t.vertexAtPoint,"midpoint"),!0}if(t.snapOptions.snapToContour){const s=GeometryUtils.isPointOverSegment(n[0],n[1],i,t.snapDistance);s&&(t.segmentListAtPoint.push({element:e,type:"linear",pointOnSegment:s,idSegment:1,pt1:n[0],pt2:n[1],name:"line"}),this.snapToWorkspaceAndContentCoords(t,{element:e,point:s},"line"))}}snapToPath(t,e){const i=e.globalToLocal(t.workspaceX,t.workspaceY);if(t.snapOptions.snapToPoints){const n=SVGUtils.createSVGPoint();if(GeometryUtils.isPointSnappedTo(i,n,t.snapDistance))return t.vertexAtPoint={element:e,point:n},this.snapToWorkspaceAndContentCoords(t,t.vertexAtPoint,"origin"),!0}const n=e.getGeometryPointList();let s,o={};const a=[],r=[];for(let l=0;l<n.length;l++){if(s=n[l],t.snapOptions.snapToPoints&&GeometryUtils.isPointSnappedTo(i,s,t.snapDistance))return t.vertexAtPoint={element:e,point:s},this.snapToWorkspaceAndContentCoords(t,t.vertexAtPoint,"vertex"),!0;if("L"===s.type){if(t.snapOptions.snapToCenter){const n=SVGUtils.createSVGPoint(o.x+(s.x-o.x)/2,o.y+(s.y-o.y)/2);if(GeometryUtils.isPointSnappedTo(i,n,t.snapDistance))return t.vertexAtPoint={element:e,point:n},this.snapToWorkspaceAndContentCoords(t,t.vertexAtPoint,"midpoint"),t.segmentListAtPoint.push({element:e,type:"linear",pointOnSegment:n,idSegment:s.id,pt1:o,pt2:s,name:"line-to"}),!0}a.push({element:e,pt1:o,pt2:s})}else if("C"===s.type||"Q"===s.type)r.push({element:e,pt1:o,pt2:s});else if("A"===s.type){const n={element:e,pt1:o,pt2:s};if(n.pt2.center=GeometryUtils.getArcCenter(n.pt1.x,n.pt1.y,n.pt2.x,n.pt2.y,n.pt2.rx,n.pt2.ry,n.pt2.angle,n.pt2.largeArcFlag,n.pt2.sweepFlag),t.snapOptions.snapToCenter&&GeometryUtils.isPointSnappedTo(i,n.pt2.center,t.snapDistance))return t.vertexAtPoint={element:e,point:n.pt2.center},this.snapToWorkspaceAndContentCoords(t,t.vertexAtPoint,"arc center"),!0;r.push(n)}o=s}if(t.snapOptions.snapToContour){let n,s;for(let s=0;s<a.length;s++){n=a[s];const o=GeometryUtils.isPointOverSegment(n.pt1,n.pt2,i,t.snapDistance);if(o)return t.segmentListAtPoint.push({element:e,type:"linear",pointOnSegment:o,idSegment:n.pt2.id,pt1:n.pt1,pt2:n.pt2,name:"line-to"}),void this.snapToWorkspaceAndContentCoords(t,{element:e,point:o},"line-to")}for(let n=0;n<r.length;n++)if("C"===(s=r[n]).pt2.type){const n=new Bezier(s.pt1.x,s.pt1.y,s.pt2.controlPt1.x,s.pt2.controlPt1.y,s.pt2.controlPt2.x,s.pt2.controlPt2.y,s.pt2.x,s.pt2.y),o=n.bbox();if(i.x>o.x.min&&i.x<o.x.max&&i.y>o.y.min&&i.y<o.y.max){const o=n.project(i);if(GeometryUtils.isPointSnappedTo(i,o,t.snapDistance))return t.segmentListAtPoint.push({element:e,type:"curve",pointOnSegment:o,idSegment:s.pt2.id,pt1:s.pt1,pt2:s.pt2,name:"curve-to"}),void this.snapToWorkspaceAndContentCoords(t,{element:e,point:o},"curve-to")}}else if("Q"===s.pt2.type){const n=new Bezier(s.pt1.x,s.pt1.y,s.pt2.controlPt1.x,s.pt2.controlPt1.y,s.pt2.x,s.pt2.y),o=n.bbox();if(i.x>o.x.min&&i.x<o.x.max&&i.y>o.y.min&&i.y<o.y.max){const o=n.project(i);if(GeometryUtils.isPointSnappedTo(i,o,t.snapDistance))return t.segmentListAtPoint.push({element:e,type:"curve",pointOnSegment:o,idSegment:s.pt2.id,pt1:s.pt1,pt2:s.pt2,name:"curve-to"}),void this.snapToWorkspaceAndContentCoords(t,{element:e,point:o},"curve-to")}}else if("A"===s.pt2.type){const n=s.pt2.center||GeometryUtils.getArcCenter(s.pt1.x,s.pt1.y,s.pt2.x,s.pt2.y,s.pt2.rx,s.pt2.ry,s.pt2.angle,s.pt2.largeArcFlag,s.pt2.sweepFlag),o=s.pt2.rx,a=s.pt2.ry;if(Math.abs(o-a)<.01){const o=i.getDistanceFromPoint(n),a=s.pt2.getDistanceFromPoint(n);if(Math.abs(o-a)<t.snapDistance){const o=GeometryUtils.getClosestPointToCircle(i,n,a),r=GeometryUtils.getPolygonArea([s.pt1,o,s.pt2])>0;if(r&&1===s.pt2.sweepFlag||!r&&0===s.pt2.sweepFlag)return s.pt2.radius=a,s.pt2.center=n,t.segmentListAtPoint.push({element:e,type:"radial",pointOnSegment:o,idSegment:s.pt2.id,pt1:s.pt1,pt2:s.pt2,name:"arc-to"}),void this.snapToWorkspaceAndContentCoords(t,{element:e,point:o},"arc-to")}}else{const r=SVGUtils.createSVGPoint(i.x-n.x,i.y-n.y),l=GeometryUtils.getClosestPointToEllipse(r,o,a);if(GeometryUtils.isPointSnappedTo(r,l,t.snapDistance)){const a=GeometryUtils.getPolygonArea([s.pt1,i,s.pt2])>0;if(a&&1===s.pt2.sweepFlag||!a&&0===s.pt2.sweepFlag)return l.x+=n.x,l.y+=n.y,s.pt2.radius=o,s.pt2.center=n,t.segmentListAtPoint.push({element:e,type:"radial",pointOnSegment:l,idSegment:s.pt2.id,pt1:s.pt1,pt2:s.pt2,name:"arc-to"}),void this.snapToWorkspaceAndContentCoords(t,{element:e,point:SVGUtils.createSVGPoint(l.x,l.y)},"arc-to")}}}}}snapToEllipse(t,e){let i;const n=e.globalToLocal(t.workspaceX,t.workspaceY),s=SVGUtils.createSVGPoint(parseFloat(e.getAttribute("cx")),parseFloat(e.getAttribute("cy"))),o=parseFloat(e.getAttribute("rx")),a=parseFloat(e.getAttribute("ry")),r={x:s.x-o,y:s.y-a},l={x:s.x+o,y:s.y+a};if(t.snapOptions.snapToCenter){let i={point:{x:s.x,y:r.y},element:e};if(GeometryUtils.isPointSnappedTo(n,i.point,t.snapDistance))return t.vertexAtPoint=i,this.snapToWorkspaceAndContentCoords(t,i,"top-center"),!0;if(i={point:{x:l.x,y:s.y},element:e},GeometryUtils.isPointSnappedTo(n,i.point,t.snapDistance))return t.vertexAtPoint=i,this.snapToWorkspaceAndContentCoords(t,i,"right-center"),!0;if(i={point:{x:s.x,y:l.y},element:e},GeometryUtils.isPointSnappedTo(n,i.point,t.snapDistance))return t.vertexAtPoint=i,this.snapToWorkspaceAndContentCoords(t,i,"bottom-center"),!0;if(i={point:{x:r.x,y:s.y},element:e},GeometryUtils.isPointSnappedTo(n,i.point,t.snapDistance))return t.vertexAtPoint=i,this.snapToWorkspaceAndContentCoords(t,i,"left-center"),!0;if(i={point:{x:s.x,y:s.y},element:e},GeometryUtils.isPointSnappedTo(n,i.point,t.snapDistance))return t.vertexAtPoint=i,this.snapToWorkspaceAndContentCoords(t,i,"center"),!0}if(t.snapOptions.snapToContour)if(Math.abs(o-a)<.01){i=o;const a=n.getDistanceFromPoint(s);if(Math.abs(a-i)<t.snapDistance){const o=GeometryUtils.getClosestPointToCircle(n,s,i),a=SVGUtils.createSVGPoint(s.x,s.y);a.center=s,a.radius=i,t.segmentListAtPoint.push({element:e,type:"radial",pointOnSegment:o,idSegment:0,pt1:null,pt2:a,name:"ellipse"}),this.snapToWorkspaceAndContentCoords(t,{element:e,point:SVGUtils.createSVGPoint(o.x,o.y)},"contour")}}else{const i=GeometryUtils.getClosestPointToEllipse(n,o,a);GeometryUtils.isPointSnappedTo(n,i,t.snapDistance)&&this.snapToWorkspaceAndContentCoords(t,{element:e,point:SVGUtils.createSVGPoint(i.x,i.y)},"contour")}}snapToWorkspaceAndContentCoords(t,e,i=""){t.localX=e.point.x,t.localY=e.point.y;const n=e.element.localToGlobal(t.localX,t.localY);t.workspaceX=n.x,t.workspaceY=n.y,activeApplication.activeDocument.workspaceToPageContentCoords(t),t.pointerDescription=i}}class ElementOrigin_cmp{constructor(){this.graphicElement=document.querySelector('[data-custom-element="ElementOrigin_cmp"]'),this.showTranslateButton=!1,this.translateOriginHandle=this.graphicElement.querySelector("#translateOriginHandle"),XOS.connectDomEvents(this.graphicElement.querySelectorAll("[data-event]"),this)}show(t){const e=activeApplication.activeDocument.activePage.focusedElement;this.showTranslateButton=t;let i=e.getCTM(),n=this.graphicElement.getTransform().matrix.identity();this.graphicElement.getTransform().setMatrix(n.rotate(i.getRotation())),n.e=i.e,n.f=i.f,this.graphicElement.classList.add("showed")}onMouseDown_translateOrigin(t){this.createUndoRedoActions=!0,XOS.initDragFunctions(this,t),this.startPenEvent=t}onDragStart(t){activeApplication.workspace.removeInteractions(),activeApplication.workspace.snapInteraction2D.createVirtualOrigin(SVGUtils.createSVGPoint(this.startPenEvent.contentX,this.startPenEvent.contentY)),this.show()}onDrag(t){const e=activeApplication.activeDocument;t.startPenEvent=this.startPenEvent,e.pointerEventToCoords(t,!0),e.elementFromPointerEvent(t,!0),e.applySnap(t),this.graphicElement.placeAt(t.workspaceX,t.workspaceY)}onDragEnd(t){const e=activeApplication.activeDocument.activePage,i=this.graphicElement.getTransform().matrix;this.setElementOrigin_undable([e.focusedElement],i.e,i.f)}setElementOrigin_undable(t,e,i){const n=activeApplication.activeDocument,s=n.activePage;t=t||s.selectionList;const o=new UndoRedoAction,a=new UndoRedoAction;s.history.addUndoRedoActions(o,a);let r=[].concat(t);for(let e=0;e<t.length;e++)"g"===t[e].nodeName&&(r=r.concat(t[e].getTransformableChildren()));o.createAttributeSnapshot(r,"d,x,y,cx,cy,x1,y1,x2,y2,transform");for(let n=0;n<t.length;n++)t[n].setOrigin(e,i);a.createAttributeSnapshot(r,"d,x,y,cx,cy,x1,y1,x2,y2,transform"),o.onExecuteEnd=a.onExecuteEnd=function(){n.selectElementList(t);for(let e=0;e<t.length;e++)"path"===t[e].nodeName&&(t[e].geometryPointList=null)},n.onChange(),activeApplication.workspace.update(),activeApplication.workspace.snapInteraction2D.reset()}}class SegmentInteraction_A_cmp{constructor(){this.graphicElement=document.querySelector("#INTERACTIVE_PATH_SEGMENT_A")}show(){const t=activeApplication.activeDocument.activePage;if(!t.focusedPathSegmentPoint)return;this.graphicElement.classList.add("showed");const e=t.focusedPathSegmentPoint.ownerShapeElement,i=t.focusedPathSegmentPoint.previousSegment,n=t.focusedPathSegmentPoint,s=this.graphicElement.getGeometryPointList();s[0].x=i.x,s[0].y=i.y,s[1].x=n.x,s[1].y=n.y,s[1].rx=n.rx,s[1].ry=n.ry,s[1].angle=n.angle,s[1].largeArcFlag=n.largeArcFlag,s[1].sweepFlag=n.sweepFlag,this.graphicElement.render(),this.graphicElement.getTransform().setMatrix(e.getCTM())}}class SegmentInteraction_C_cmp{constructor(){this.graphicElement=document.querySelector("#INTERACTIVE_PATH_SEGMENT_C")}show(){const t=activeApplication.activeDocument.activePage;if(!t.focusedPathSegmentPoint)return;this.graphicElement.classList.add("showed");const e=t.focusedPathSegmentPoint.ownerShapeElement,i=t.focusedPathSegmentPoint.previousSegment,n=t.focusedPathSegmentPoint,s=this.graphicElement.getGeometryPointList();s[0].x=i.x,s[0].y=i.y,s[1].x=n.x,s[1].y=n.y,s[1].controlPt1.x=n.controlPt1.x,s[1].controlPt1.y=n.controlPt1.y,s[1].controlPt2.x=n.controlPt2.x,s[1].controlPt2.y=n.controlPt2.y,this.graphicElement.transformGeometryPointList(e.getCTM()),this.graphicElement.render()}}class SegmentInteraction_L_cmp{constructor(){this.graphicElement=document.querySelector("#PATH_SEGMENT_L"),this.path=this.graphicElement.querySelector("path"),this.label=this.graphicElement.querySelector(".label"),XOS.connectDomEvents(this.graphicElement.querySelectorAll("[data-event]"),this)}showLabel(t,e){const i=this.path.getGeometryPointList(),n=i[0],s=i[1],o=n.x+(s.x-n.x)/2,a=n.y+(s.y-n.y)/2;let r=GeometryUtils.getAngleBetweenPoints(s,n)/(Math.PI/180);r>=90&&r<270?(r+=180,this.label.setAttribute("y","27")):this.label.setAttribute("y","-27"),this.label.setAttribute("transform","translate("+o+" "+a+") rotate("+r+" 0 0)"),this.label.textContent=t,this.onChangeCallback=e,this.label.style.display="inline"}show(){const t=activeApplication.activeDocument,e=t.activePage;if(!e.focusedPathSegmentPoint)return;const i=e.focusedPathSegmentPoint,n=i.ownerShapeElement;if(!i.previousSegment){const t=n.getGeometryPointList();i.previousSegment=t[t.indexOf(i)-1]}const s=i.previousSegment,o=i,a=this.path.getGeometryPointList();if(a[0].x=s.x,a[0].y=s.y,a[1].x=o.x,a[1].y=o.y,this.path.transformGeometryPointList(n.getTransformToElement(n.ownerSVGElement)),this.path.render(),t.preferences.interactionLabelVisibility){const e=o.getDistanceFromPoint(s);this.showLabel(t.valueToUnit(e),null)}else this.label.style.display="none";this.graphicElement.classList.add("showed")}onClickOn_label(t){document.querySelector("line-to-transform-inspector").setInputPropertyFocus("lineLength")}}class SegmentInteraction_Q_cmp{constructor(){this.graphicElement=document.querySelector("#INTERACTIVE_PATH_SEGMENT_Q")}show(){const t=activeApplication.activeDocument.activePage;if(!t.focusedPathSegmentPoint)return;this.graphicElement.classList.add("showed");const e=t.focusedPathSegmentPoint.ownerShapeElement,i=t.focusedPathSegmentPoint.previousSegment,n=t.focusedPathSegmentPoint,s=this.graphicElement.getGeometryPointList();s[0].x=i.x,s[0].y=i.y,s[1].x=n.x,s[1].y=n.y,s[1].controlPt1.x=n.controlPt1.x,s[1].controlPt1.y=n.controlPt1.y,this.graphicElement.transformGeometryPointList(e.getTransformToElement(t)),this.graphicElement.render()}}class RotateByPivotInteraction_cmp{constructor(){this.graphicElement=document.querySelector('[data-custom-element="RotateInteraction_cmp"]'),this.goniometro=this.graphicElement.querySelector(".goniometer"),this.pivot=this.graphicElement.querySelector("#pivot"),this.centerOfRotationInContent=null,XOS.connectDomEvents(this.graphicElement.querySelectorAll("[data-event]"),this)}onMouseDown_pivot(t){XOS.initDragFunctions(this,t)}show(){this.graphicElement.classList.add("showed"),this.update()}update(){const t={contentX:this.centerOfRotationInContent.contentX,contentY:this.centerOfRotationInContent.contentY};activeApplication.activeDocument.pageContentToWorkspaceCoords(t),this.pivot.placeAt(t.workspaceX,t.workspaceY)}onDragStart(t){this.graphicElement.classList.add("showed"),this.startPenEvent=this.centerOfRotationInContent}onDrag(t){const e=activeApplication.activeDocument;t.startPenEvent=this.startPenEvent,e.pointerEventToCoords(t,!0),e.elementFromPointerEvent(t,!0),e.applySnap(t),this.centerOfRotationInContent=t,this.update()}onDragEnd(t){activeApplication.workspace.snapInteraction2D.reset(),activeApplication.workspace.update()}}class ScaleByPivotInteraction_cmp{constructor(){this.graphicElement=document.querySelector('[data-custom-element="ScaleInteraction_cmp"]'),this.pivot=this.graphicElement.querySelector("#pivot"),this.centerOfScaleInContent=null,XOS.connectDomEvents(this.graphicElement.querySelectorAll("[data-event]"),this)}onMouseDown_pivot(t){XOS.initDragFunctions(this,t)}show(){this.graphicElement.classList.add("showed"),this.update()}update(){const t={contentX:this.centerOfScaleInContent.contentX,contentY:this.centerOfScaleInContent.contentY};activeApplication.activeDocument.pageContentToWorkspaceCoords(t),this.pivot.placeAt(t.workspaceX,t.workspaceY)}onDragStart(t){this.graphicElement.classList.add("showed"),this.startPenEvent=this.centerOfScaleInContent}onDrag(t){const e=activeApplication.activeDocument;t.startPenEvent=this.startPenEvent,e.pointerEventToCoords(t,!0),e.elementFromPointerEvent(t,!0),e.applySnap(t),this.centerOfScaleInContent=t,this.update()}onDragEnd(t){activeApplication.workspace.snapInteraction2D.reset(),activeApplication.workspace.update()}}class PerspectiveDeformInteraction_cmp{constructor(){this.graphicElement=document.querySelector('[data-custom-element="PerspectiveDeformInteraction_cmp"]'),this.boundsPoints=[],this.originalBoundsPoints=[];for(let t=0;t<4;t++)this.boundsPoints[t]=SVGUtils.createSVGPoint(0,0),this.originalBoundsPoints[t]=SVGUtils.createSVGPoint(0,0);this.nw=this.graphicElement.querySelector("#nw"),this.ne=this.graphicElement.querySelector("#ne"),this.se=this.graphicElement.querySelector("#se"),this.sw=this.graphicElement.querySelector("#sw"),this.top_line=this.graphicElement.querySelector("#top_line"),this.right_line=this.graphicElement.querySelector("#right_line"),this.bottom_line=this.graphicElement.querySelector("#bottom_line"),this.left_line=this.graphicElement.querySelector("#left_line"),XOS.connectDomEvents(this.graphicElement.querySelectorAll("[data-event]"),this)}onMouseDown_handles(t){const e=t.target,i=e.parentElement.getScreenCTM().getTranslation(),n={pageX:i.x,pageY:i.y};if(activeApplication.activeDocument.pointerEventToCoords(n),e.classList.contains("resize")){switch(e.parentElement.getAttribute("id")){case"nw":this.idActiveHandle=0;break;case"ne":this.idActiveHandle=1;break;case"se":this.idActiveHandle=2;break;case"sw":this.idActiveHandle=3}}XOS.initDragFunctions(this,t)}show(){const t=activeApplication.activeDocument.activePage;0!==t.selectionList.length&&(this.selectionBBox=GeometryUtils.getElementListGlobalBBox(t.selectionList),this.boundsPoints[0].set(this.selectionBBox.min.x,this.selectionBBox.min.y),this.boundsPoints[1].set(this.selectionBBox.max.x,this.selectionBBox.min.y),this.boundsPoints[2].set(this.selectionBBox.max.x,this.selectionBBox.max.y),this.boundsPoints[3].set(this.selectionBBox.min.x,this.selectionBBox.max.y),this.originalBoundsPoints[0].set(this.selectionBBox.min.x,this.selectionBBox.min.y),this.originalBoundsPoints[1].set(this.selectionBBox.max.x,this.selectionBBox.min.y),this.originalBoundsPoints[2].set(this.selectionBBox.max.x,this.selectionBBox.max.y),this.originalBoundsPoints[3].set(this.selectionBBox.min.x,this.selectionBBox.max.y),this.initTransform(),this.graphicElement.classList.add("showed"),this.update())}initTransform(){this.transformableInteractivePathList=[];const t=activeApplication.workspace.selectionPreviews.querySelectorAll("g,path,line");let e,i,n;const s=t.length;for(let o=0;o<s;o++)!(e=t[o]).elementRef||"path"!==e.elementRef.nodeName&&"line"!==e.elementRef.nodeName||(n=(i=e.elementRef).cloneGeometryPointList(),i.transformGeometryPointList(i.getCTM(),n),e.originalGlobalPointList=n,this.transformableInteractivePathList.push(e)),e.getTransform().matrix.identity();this.deformInteractivePathList()}update(){let t,e,i,n,s,o,a,r;t=this.boundsPoints[0].x,e=this.boundsPoints[0].y,i=this.boundsPoints[1].x,n=this.boundsPoints[1].y,s=this.boundsPoints[2].x,o=this.boundsPoints[2].y,a=this.boundsPoints[3].x,r=this.boundsPoints[3].y,this.top_line.updateGeometry(t,e,i,n),this.right_line.updateGeometry(i,n,s,o),this.bottom_line.updateGeometry(s,o,a,r),this.left_line.updateGeometry(a,r,t,e),this.nw.placeAt(t,e),this.ne.placeAt(i,n),this.se.placeAt(s,o),this.sw.placeAt(a,r)}onDrag(t){const e=activeApplication.activeDocument;t.startPenEvent=this.startPenEvent,e.pointerEventToCoords(t,!0),e.elementFromPointerEvent(t,!0),e.applySnap(t),this.boundsPoints[this.idActiveHandle].x=t.workspaceX,this.boundsPoints[this.idActiveHandle].y=t.workspaceY,this.update(),this.canBeDeformed()&&this.deformInteractivePathList()}onDragEnd(t){const e=activeApplication.activeDocument,i=e.activePage,n=new UndoRedoAction,s=new UndoRedoAction;i.history.addUndoRedoActions(n,s);const o=i.selectionList;n.createAttributeSnapshot(o,"d,x1,y1,x2,y2"),this.swapInteractivePathPointListToElementPointList(),s.createAttributeSnapshot(o,"d,x1,y1,x2,y2"),n.onExecuteEnd=function(){e.selectElementList(o);for(let t=0;t<o.length;t++)o[t].geometryPointList=null},s.onExecuteEnd=function(){e.selectElementList(o);for(let t=0;t<o.length;t++)o[t].geometryPointList=null},e.onChange(),activeApplication.workspace.snapInteraction2D.reset()}swapInteractivePathPointListToElementPointList(){for(var t,e,i,n,s,o,a,r,l,c=0;c<this.transformableInteractivePathList.length;c++){for(l=(s=(o=this.transformableInteractivePathList[c]).elementRef).getCTM().inverse().multiply(o.getCTM()),o.transformGeometryPointList(l),a=o.getGeometryPointList(),r=s.getGeometryPointList(),e=a.length,t=0;t<e;t++)n=a[t],i=r[t],"Z"!==n.type&&(i.x=n.x,i.y=n.y),"Q"===i.type?(i.controlPt1.x=n.controlPt1.x,i.controlPt1.y=n.controlPt1.y):"C"===i.type&&(i.controlPt1.x=n.controlPt1.x,i.controlPt1.y=n.controlPt1.y,i.controlPt2.x=n.controlPt2.x,i.controlPt2.y=n.controlPt2.y);s.render()}this.deformInteractivePathList()}deformInteractivePathList(){for(var t=0;t<this.transformableInteractivePathList.length;t++)this.deformInteractivePath(this.transformableInteractivePathList[t])}canBeDeformed(t){function e(t,e,i){var n=e.x-i.x,s=e.y-i.y,o=e.x-t.x,a=e.y-t.y,r=n*o+s*a,l=n*a-s*o;return 180*Math.atan2(l,r)/Math.PI}var i=this.boundsPoints[0],n=this.boundsPoints[1],s=this.boundsPoints[2],o=this.boundsPoints[3],a=e(o,i,n),r=e(i,n,s),l=e(n,s,o),c=e(s,o,i);return a>0&&a<180&&r>0&&r<180&&l>0&&l<180&&c>0&&c<180}deformInteractivePath(t){for(var e,i,n,s=t.getGeometryPointList(),o=t.originalGlobalPointList,a=0;a<s.length;a++)e=s[a],i=o[a],"Z"!==e.type&&(n=this.deformPoint(i.x,i.y,this.originalBoundsPoints,this.boundsPoints),e.x=n.x,e.y=n.y),"Q"===e.type?(n=this.deformPoint(i.controlPt1.x,i.controlPt1.y,this.originalBoundsPoints,this.boundsPoints),e.controlPt1.x=n.x,e.controlPt1.y=n.y):"C"===e.type&&(n=this.deformPoint(i.controlPt1.x,i.controlPt1.y,this.originalBoundsPoints,this.boundsPoints),e.controlPt1.x=n.x,e.controlPt1.y=n.y,n=this.deformPoint(i.controlPt2.x,i.controlPt2.y,this.originalBoundsPoints,this.boundsPoints),e.controlPt2.x=n.x,e.controlPt2.y=n.y);t.renderRequest()}deformPoint(t,e,i,n){var s=i[0].x,o=i[0].y,a=i[2].x,r=i[2].y,l=n[0].x,c=n[0].y,d=n[1].x,u=n[1].y,f=n[2].x,h=n[2].y,m=n[3].x,g=n[3].y;d===f&&(f+=.001),l===m&&(m+=.001),l===d&&(d+=.001),m===f&&(f+=.001);var p=(u-h)/(d-f),v=(c-g)/(l-m),y=(c-u)/(l-d),b=(g-h)/(m-f);p===v&&(v+=.001);var A=(p*d-v*l+c-u)/(p-v),x=p*(A-d)+u;y===b&&(b+=.001);var S=(y*d-b*f+h-u)/(y-b),w=y*(S-d)+u;A===S&&(S+=.001);var P=(x-w)/(A-S);P===y&&(y+=.001);var E=(P*m-y*l+c-g)/(P-y);P===p&&(p+=.001);var k=(P*m-p*d+u-g)/(P-p),L=(r-e)/(r-o),D=(t-s)/(a-s),C=(E-m)*L+m,T=(P*(E-m)+g-g)*L+g,M=(k-m)*D+m;S===C&&(C+=.001),A===M&&(M+=.001);var _=(w-T)/(S-C),G=(x-((P*(k-m)+g-g)*D+g))/(A-M);_===G&&(G+=.001);var O=(_*S-G*A+x-w)/(_-G);return{x:O,y:_*(O-C)+T}}}class GradientInteraction_cmp{constructor(){this.graphicElement=document.querySelector('[data-custom-element="GradientInteraction_cmp"]'),this.editableGradient=null,this.stopColorsContainer=this.graphicElement.querySelector(".stop-colors"),this.stopColorPointTemplate=this.stopColorsContainer.querySelector("#STOP_COLOR_POINT_TEMPLATE"),this.stopColorPointTemplate.removeAttribute("id"),this.stopColorPointTemplate.remove(),this.setGradientPointLocationTool=new SetGradientPointLocation2D_tool,this.setGradientStopColorLocationTool=new SetGradientStopColorLocation2D_tool,XOS.connectEvent("mousedown",this.graphicElement,this.onMouseDown,this),XOS.connectEvent("mouseup",this.graphicElement,this.onMouseUp,this)}show(){this.graphicElement.classList.add("showed"),this.update()}update(){if(!this.graphicElement.classList.contains("showed"))return;const t=activeApplication.activeDocument,e=t.activePage,i=t.fillAndStrokeManager.focusedGraphicSideName;this.editableGradient="fill"===i?t.fillAndStrokeManager.fillGradient:t.fillAndStrokeManager.strokeGradient;const n=this.editableGradient.nodeName;let s,o,a,r,l,c=this.editableGradient.getAttribute("gradientUnits")||"objectBoundingBox";this.globalPointA=null,this.globalPointB=null,this.globalPointC=null;const d=e.selectionList[0];if("linearGradient"===n?this.editableGradient.hasAttribute("x1")||(this.editableGradient.initDefaultPoints(),c="objectBoundingBox"):this.editableGradient.hasAttribute("cx")||(this.editableGradient.initDefaultPoints(),c="objectBoundingBox"),"objectBoundingBox"===c){const t=d.getBBox();"linearGradient"===n?(o=parseFloat(this.editableGradient.getAttribute("x1")),a=parseFloat(this.editableGradient.getAttribute("y1")),r=parseFloat(this.editableGradient.getAttribute("x2")),l=parseFloat(this.editableGradient.getAttribute("y2")),o=t.x+o*t.width,a=t.y+a*t.height,r=t.x+r*t.width,l=t.y+l*t.height):(o=parseFloat(this.editableGradient.getAttribute("cx")),a=parseFloat(this.editableGradient.getAttribute("cy")),s=parseFloat(this.editableGradient.getAttribute("r")),o=t.x+o*t.width,a=t.y+a*t.height,r=o+(s*=t.width),l=a)}else"linearGradient"===n?(o=parseFloat(this.editableGradient.getAttribute("x1")),a=parseFloat(this.editableGradient.getAttribute("y1")),r=parseFloat(this.editableGradient.getAttribute("x2")),l=parseFloat(this.editableGradient.getAttribute("y2"))):(o=parseFloat(this.editableGradient.getAttribute("cx")),a=parseFloat(this.editableGradient.getAttribute("cy")),r=o+(s=parseFloat(this.editableGradient.getAttribute("r"))),l=a);const u=this.editableGradient.getTransform().matrix;let f=SVGUtils.createSVGPoint(o,a).matrixTransform(u),h=SVGUtils.createSVGPoint(r,l).matrixTransform(u);this.globalPointA=d.localToGlobal(f.x,f.y),this.globalPointB=d.localToGlobal(h.x,h.y);const m=this.graphicElement.querySelectorAll("line");m[0].updateGeometry(this.globalPointA.x,this.globalPointA.y,this.globalPointB.x,this.globalPointB.y),m[1].updateGeometry(this.globalPointA.x,this.globalPointA.y,this.globalPointB.x,this.globalPointB.y),this.createEditableStopColorViews()}createEditableStopColorViews(){let t,e,i,n;this.editableGradient.sortStopColors(),this.stopColorsContainer.removeChildren();const s=this.editableGradient.children.length;for(let o=0;o<s;o++)(i=this.editableGradient.children[o]).stylePropertiesToAttributes(),(n=this.stopColorPointTemplate.cloneNode(!0)).stopColorRef=i,n.setAttribute("fill",i.getAttribute("stop-color")),this.stopColorsContainer.appendChild(n),t=this.globalPointA.x+(this.globalPointB.x-this.globalPointA.x)*i.offset.baseVal,e=this.globalPointA.y+(this.globalPointB.y-this.globalPointA.y)*i.offset.baseVal,n.setAttribute("cx",t),n.setAttribute("cy",e)}editGradientColor(t){const e=t.stopColorRef,i=(Array.from(e.parentElement.children).indexOf(e),e.getAttribute("stop-color")),n=e.getAttribute("stop-opacity")||1,s=PANELS["global-color-picker"];s.set(i,n,function(t){c.createAttributeSnapshot([e],"stop-color,stop-opacity"),r.update();const i=a.selectionList;l.onExecuteEnd=c.onExecuteEnd=function(){o.selectElementList(i)},l=c=null},function(t){const i=t.hex;o.setAttributeElementList([e],{"stop-color":i,"stop-opacity":t.alpha}),o.setAttributeElementList([e],{"stop-color":i,"stop-opacity":t.alpha})},function(t){l=new UndoRedoAction,c=new UndoRedoAction,a.history.addUndoRedoActions(l,c),l.createAttributeSnapshot([e],"stop-color,stop-opacity")}),s.activateBy(t,"add");const o=activeApplication.activeDocument,a=o.activePage,r=this;let l,c}onMouseDown(t){t.target.parentElement.classList.contains("stop-colors")?t.target.stopColorRef.nextElementSibling?t.target.stopColorRef.previousElementSibling?(this.setGradientStopColorLocationTool.setEditableStopColor(t.target.stopColorRef),XOS.initDragFunctions(this.setGradientStopColorLocationTool,t)):(this.setGradientPointLocationTool.setEditablePointName("pointA"),XOS.initDragFunctions(this.setGradientPointLocationTool,t)):(this.setGradientPointLocationTool.setEditablePointName("pointB"),XOS.initDragFunctions(this.setGradientPointLocationTool,t)):(this.setGradientPointLocationTool.setEditablePointName(t.target.getAttribute("id")),XOS.initDragFunctions(this.setGradientPointLocationTool,t))}onMouseUp(t){if(t.target.parentElement.classList.contains("stop-colors"))this.editGradientColor(t.target);else if("line"===t.target.nodeName){const e=activeApplication.activeDocument,i=e.activePage;let n;e.pointerEventToCoords(t);const s={x:t.workspaceX,y:t.workspaceY};n=Math.abs(this.globalPointB.x-this.globalPointA.x)>Math.abs(this.globalPointB.y-this.globalPointA.y)?(s.x-this.globalPointA.x)/(this.globalPointB.x-this.globalPointA.x):(s.y-this.globalPointA.y)/(this.globalPointB.y-this.globalPointA.y);const o=this.editableGradient.insertNewStopColor(n),a=new UndoRedoAction,r=new UndoRedoAction;i.history.addUndoRedoActions(a,r),r.createDomNodeSnapshot([o],"insert"),a.createDomNodeSnapshot([o],"delete");const l=i.selectionList;a.onExecuteEnd=r.onExecuteEnd=function(){e.selectElementList(l)},e.onChange(),this.update()}}}class SetGradientPointLocation2D_tool{constructor(){}setEditablePointName(t){this.editablePointName=t}onDragStart(t){const e=activeApplication.workspace.gradientInteraction.editableGradient;"linearGradient"===e.nodeName?(this.stored_x1=e.getAttribute("x1"),this.stored_y1=e.getAttribute("y1"),this.stored_x2=e.getAttribute("x2"),this.stored_y2=e.getAttribute("y2")):(this.stored_cx=e.getAttribute("cx"),this.stored_cy=e.getAttribute("cy"),this.stored_r=e.getAttribute("r"))}onDrag(t){const e=activeApplication.activeDocument,i=e.activePage.selectionList[0],n=activeApplication.workspace.gradientInteraction.editableGradient;e.pointerEventToCoords(t);let s=i.globalToLocal(t.workspaceX,t.workspaceY);const o=n.getTransform().matrix.inverse();if(s=s.matrixTransform(o),"objectBoundingBox"===(n.getAttribute("gradientUnits")||"objectBoundingBox")){const t=i.getBBox();s.x=(s.x-t.x)/t.width,s.y=(s.y-t.y)/t.height}if("linearGradient"===n.nodeName)"pointA"===this.editablePointName?(n.setAttribute("x1",s.x),n.setAttribute("y1",s.y)):"pointB"===this.editablePointName&&(n.setAttribute("x2",s.x),n.setAttribute("y2",s.y));else if("pointA"===this.editablePointName)n.setAttribute("cx",s.x),n.setAttribute("cy",s.y);else if("pointB"===this.editablePointName){const t=parseFloat(n.getAttribute("cx")),e=s.x-t;e>0&&n.setAttribute("r",e)}activeApplication.workspace.gradientInteraction.update()}onDragEnd(t){const e=activeApplication.activeDocument,i=e.activePage,n=activeApplication.workspace.gradientInteraction.editableGradient;let s=null;if("linearGradient"===n.nodeName){if("pointA"===this.editablePointName){const t=n.getAttribute("x1"),i=n.getAttribute("y1");n.setAttribute("x1",this.stored_x1),n.setAttribute("y1",this.stored_y1),s=e.setAttributeElementList_undable([n],{x1:t,y1:i},!1)}else if("pointB"===this.editablePointName){const t=n.getAttribute("x2"),i=n.getAttribute("y2");n.setAttribute("x2",this.stored_x2),n.setAttribute("y2",this.stored_y2),s=e.setAttributeElementList_undable([n],{x2:t,y2:i},!1)}}else if("pointA"===this.editablePointName){const t=n.getAttribute("cx"),i=n.getAttribute("cy");n.setAttribute("cx",this.stored_cx),n.setAttribute("cy",this.stored_cy),s=e.setAttributeElementList_undable([n],{cx:t,cy:i},!1)}else if("pointB"===this.editablePointName){const t=n.getAttribute("r");n.setAttribute("r",this.stored_r),s=e.setAttributeElementList_undable([n],{r:t},!1)}if(s){const t=i.selectionList;s.undoAction.onExecuteEnd=s.redoAction.onExecuteEnd=function(){e.selectElementList(t)}}e.showSelectionProperties(),e.onChange()}}class SetGradientStopColorLocation2D_tool{constructor(){}setEditableStopColor(t){this.editableStopColor=t}onDragStart(t){this.storedOffsetValue=this.editableStopColor.getAttribute("offset")}onDrag(t){const e=activeApplication.activeDocument,i=(e.activePage,activeApplication.workspace.gradientInteraction.editableGradient),n=activeApplication.workspace.gradientInteraction.globalPointA,s=activeApplication.workspace.gradientInteraction.globalPointB;e.pointerEventToCoords(t);const o={x:t.workspaceX,y:t.workspaceY};let a,r,l,c,d,u,f;l=Math.min(s.x,n.x),d=Math.max(s.x,n.x),c=Math.min(s.y,n.y),u=Math.max(s.y,n.y),o.x<l?o.x=l:o.x>d&&(o.x=d),o.y<c?o.y=c:o.y>u&&(o.y=u),Math.abs(s.x-n.x)>Math.abs(s.y-n.y)?(a=o.x,f=(o.x-n.x)/(s.x-n.x),r=n.y+(s.y-n.y)*f):(r=o.y,f=(o.y-n.y)/(s.y-n.y),a=n.x+(s.x-n.x)*f),this.editableStopColor.setAttribute("offset",String(f)),i.sortStopColors(),activeApplication.workspace.gradientInteraction.update()}onDragEnd(t){const e=activeApplication.activeDocument;e.showSelectionProperties(),e.onChange()}}class EditingView_cmp extends HTMLElement{constructor(){super(),this.horizontalRuler=this.querySelector("page-ruler.horizontal"),this.verticalRuler=this.querySelector("page-ruler.vertical"),this.gridPattern=this.querySelector("#grid-pattern"),this.gridPattern.gridImage=this.gridPattern.querySelector("image"),this.canvasUtils=document.createElement("canvas")}onResize(){this.horizontalRuler.onResize(),this.verticalRuler.onResize()}update(){activeApplication.activeDocument.preferences.rulersVisibility?this.classList.remove("hide-ruler"):this.classList.add("hide-ruler"),activeApplication.activeDocument.preferences.gridVisibility?this.classList.remove("hide-grid"):this.classList.add("hide-grid"),activeApplication.workspace.updateWorkspaceBounding(),this.onResize(),this.redrawRulersAndGrid()}redrawRulersAndGrid(){if(activeApplication.workspace.updateOrigin(),!activeApplication.activeDocument.preferences.rulersVisibility)return;const t=this.redrawRulers();activeApplication.activeDocument.preferences.gridVisibility&&this.redrawGrid(t.horizontalRulerInfo.markersDistance,t.verticalRulerInfo.markersDistance,t.horizontalRulerInfo.origin,t.verticalRulerInfo.origin,t.horizontalRulerInfo.divisors)}redrawRulers(){const t=activeApplication.activeDocument,e=t.preferences,i=t.activePage,n=e.unitValue,s=e.origin.x,o=e.origin.y,a=e.fixedDecimals,r=i.content.getTransform().matrix;let l=i.content.currentScale||1;const c=r.e+s*l,d=r.f+o*l;return l*=1/e.drawingScale,{horizontalRulerInfo:this.horizontalRuler.drawRuler(c,1/n,l,a,e.gridStep),verticalRulerInfo:this.verticalRuler.drawRuler(d,1/n,l,a,e.gridStep)}}redrawGrid(t,e,i,n,s){for(console.log("redrawGrid");t>400;)t/=s;e=t;const o=this.canvasUtils;o.width=t,o.height=e;const a=o.getContext("2d");a.lineWidth=.5,a.strokeStyle="#d4d4d4",a.beginPath(),a.rect(.5,.5,~~t-.5,~~e-.5),a.stroke();const r=t/s,l=e/s;let c;for(let i=1;i<s;i++)c=.5+~~(r*i),a.moveTo(c,1),a.lineTo(c,e-1),c=.5+~~(l*i),a.moveTo(1,c),a.lineTo(t-1,c);a.stroke(),this.gridPattern.setAttribute("width",t),this.gridPattern.setAttribute("height",e),this.gridPattern.gridImage.setAttribute("width",t),this.gridPattern.gridImage.setAttribute("height",e),this.gridPattern.gridImage.setAttributeNS(SVGElement.XLINK_NS,"href",o.toDataURL("image/png")),this.gridPattern.setAttribute("patternTransform","matrix(1 0 0 1 "+i+" "+n+")")}}customElements.define("editing-view",EditingView_cmp);class WorkSpace_cmp extends HTMLElement{constructor(){super(),this.pageBackground=this.querySelector(".page-background"),this.bounding={},this.updateWorkspaceBounding();const t=this;this.addEventListener("wheel",function(e){t.onMouseWheel(e)},{passive:!0}),XOS.connectEvent("dragstart",this,this.onDragStart,this),XOS.connectEvent("dragover",this,this.onDragOver,this),XOS.connectEvent("drop",this,this.onDropOver,this)}onDomReady(){this.interactionContainer=this.querySelector("#INTERACTION"),this.originXY=this.interactionContainer.querySelector("#ORIGIN_XY"),this.pointerTip=this.interactionContainer.querySelector("#POINTER_TIP"),this.selectionPreviews=this.querySelector("#SELECTION_PREVIEWS"),this.bboxInteraction2D=new BBoxInteraction_cmp,this.lineInteraction2D=new LineInteraction_cmp,this.linearObjectInteraction2D=new LinearObjectInteraction_cmp,this.radialObjectInteraction2D=new RadialObjectInteraction_cmp,this.pointsInteraction=new PointsInteraction_cmp,this.segmentInteraction_L=new SegmentInteraction_L_cmp,this.segmentInteraction_A=new SegmentInteraction_A_cmp,this.segmentInteraction_C=new SegmentInteraction_C_cmp,this.segmentInteraction_Q=new SegmentInteraction_Q_cmp,this.rotateByPivotInteraction=new RotateByPivotInteraction_cmp,this.scaleByPivotInteraction=new ScaleByPivotInteraction_cmp,this.perspectiveDeformInteraction=new PerspectiveDeformInteraction_cmp,this.gradientInteraction=new GradientInteraction_cmp,this.snapInteraction2D=new SnapInteraction_cmp,this.elementOrigin2D=new ElementOrigin_cmp,this.interactiveLine=this.interactionContainer.querySelector("#INTERACTIVE_LINE"),this.interactiveRectangle=this.interactionContainer.querySelector("#INTERACTIVE_RECTANGLE"),this.interactiveEllipse=this.interactionContainer.querySelector("#INTERACTIVE_ELLIPSE"),this.interactiveSelectionRectArea=this.interactionContainer.querySelector("#INTERACTIVE_SELECTION_RECT_AREA"),this.interactiveArc=this.interactionContainer.querySelector("#INTERACTIVE_ARC"),this.interactiveRegularPolygon=this.interactionContainer.querySelector("#INTERACTIVE_REGULAR_POLYGON"),this.TEXT_CURSOR=document.querySelector("#TEXT_CURSOR"),this.isolateLayerBar=document.querySelector("isolate-layer-bar")}updatePageBackground(){this.pageBackground.setAttribute("width",activeApplication.activeDocument.activePage.dataset.pageWidth),this.pageBackground.setAttribute("height",activeApplication.activeDocument.activePage.dataset.pageHeight),this.pageBackground.getTransform().setMatrix(activeApplication.activeDocument.activePage.content.getTransform().matrix)}updateOrigin(){const t=activeApplication.activeDocument.preferences,e=activeApplication.activeDocument.activePage.content.localToGlobal(t.origin.x,t.origin.y);this.originXY.firstElementChild.updateGeometry(0,e.y,this.bounding.width,e.y),this.originXY.firstElementChild.nextElementSibling.updateGeometry(e.x,0,e.x,this.bounding.height),Math.abs(t.origin.x-t.origin.y)<.001?this.originXY.style.display="none":this.originXY.style.display="inline"}onResize(){this.updateWorkspaceBounding()}updateWorkspaceBounding(){const t=this.getBoundingClientRect();this.bounding.bottom=t.bottom,this.bounding.height=t.height,this.bounding.left=t.left,this.bounding.right=t.right,this.bounding.centerX=t.left+(t.right-t.left)/2,this.bounding.centerY=t.top+(t.bottom-t.top)/2,this.bounding.top=t.top,this.bounding.width=t.width,this.bounding.x=t.x,this.bounding.y=t.y}onMouseWheel(t){window.DRAGGING_PROCESS||this.onWheelChange(t)}onWheelChange(t){if(!TOOLS.activeTool)return;if(0===t.deltaY)return;this.lastMouseWheelEvent||(this.lastMouseWheelEvent=t,this.onWheelStart()),this.lastMouseWheelEvent=t,this.wheelScaleY=1+-.01*t.deltaY,this.wheelScaleY=Math.min(Math.max(.125,this.wheelScaleY),4),t.deltaSumY=this.wheelScaleY,TOOLS.activeTool.onWheelChange(t);const e=this;setTimeout(function(){e.lastMouseWheelEvent.timeStamp===t.timeStamp&&(e.onWheelEnd(),e.lastMouseWheelEvent=null)},100)}onWheelStart(){this.isWheeling=!0,TOOLS.activeTool.onWheelChangeStart()}onWheelEnd(){this.isWheeling=!1,TOOLS.activeTool.onWheelChangeEnd()}onDropOver(t){DRAG_AND_DROP_MANAGER.onDropOver(t),t.preventDefault()}onDragOver(t){DRAG_AND_DROP_MANAGER.onDragOver(t),t.preventDefault()}onDragStart(t){t.preventDefault()}removeSelectionPreview(){this.selectionPreviews.removeChildren()}removeInteractions(){const t=this.interactionContainer.querySelectorAll(".showed"),e=t.length;for(let i=0;i<e;i++)t[i].classList.remove("showed")}showPointerTip(t){this.pointerTip.innerHTML=t.pointerDescription,this.pointerTip.setAttribute("x",t.workspaceX),this.pointerTip.setAttribute("y",t.workspaceY-16),XOS.showElement(this.pointerTip,"add"),activeApplication.editingView.horizontalRuler.updatePointerLocation(t.workspaceX),activeApplication.editingView.verticalRuler.updatePointerLocation(t.workspaceY)}update(){this.removeSelectionPreview(),this.createSelectionPreview(null,activeApplication.activeDocument.activePage.selectionList),this.removeInteractions(),activeApplication.workspace.bboxInteraction2D.selectionBBox=null,TOOLS.activeTool.showInteraction(),activeApplication.activeDocument.showSelectionProperties(),this.snapInteraction2D.smartPointA&&this.snapInteraction2D.showSmartPointA(this.snapInteraction2D.smartPointA),this.snapInteraction2D.smartPointB&&this.snapInteraction2D.showSmartPointB(this.snapInteraction2D.smartPointB),this.snapInteraction2D.smartGuideA&&this.snapInteraction2D.showSmartGuideA(this.snapInteraction2D.smartGuideA),this.snapInteraction2D.smartGuideB&&this.snapInteraction2D.showSmartGuideB(this.snapInteraction2D.smartGuideB)}createSelectionPreview(t,e,i){let n,s,o,a,r=!1;t||(t=this.selectionPreviews,r=!0);const l=e.length;for(let c=0;c<l;c++)if((n=e[c]).createSelectionPreview)if(a=r?n.getCTM():n.getTransform().matrix.clone(),o=i||n.getLayerOwner().dataset.layerColor,n instanceof SVGGElement){const e=SVGUtils.createGroup();e.getTransform().setMatrix(a),t.appendChild(e),e.elementRef=n,n.selectionPreview=e,this.createSelectionPreview(e,n.childNodes,o)}else(s=n.createSelectionPreview(a))&&(s.style.stroke=o,t.appendChild(s))}updateActiveEditableSegmentInteraction(){const t=activeApplication.activeDocument.activePage;t.focusedPathSegmentPoint?("L"===t.focusedPathSegmentPoint.type?this.focusedPathSegmentPointInteraction=this.segmentInteraction_L:"C"===t.focusedPathSegmentPoint.type?this.focusedPathSegmentPointInteraction=this.segmentInteraction_C:"Q"===t.focusedPathSegmentPoint.type?this.focusedPathSegmentPointInteraction=this.segmentInteraction_Q:"A"===t.focusedPathSegmentPoint.type&&(this.focusedPathSegmentPointInteraction=this.segmentInteraction_A),this.focusedPathSegmentPointInteraction.show()):this.focusedPathSegmentPointInteraction&&(this.focusedPathSegmentPointInteraction.graphicElement.classList.remove("showed"),this.focusedPathSegmentPointInteraction=null)}}customElements.define("work-space",WorkSpace_cmp);class PageRuler_cmp extends HTMLElement{constructor(){super(),this.selectionLimints=this.querySelector(".selection-range"),this.pointerPosition=this.querySelector(".pointer-location"),this.canvas=this.querySelector("canvas"),this.isVertical=!1,this.classList.contains("vertical")&&(this.isVertical=!0),this.onResize(),this.drawRuler(0,1,1),XOS.connectEvent("mousedown",this,this.onMouseDownOnRuler,this)}onResize(){this.isVertical?this.canvas.height=this.offsetHeight:this.canvas.width=this.offsetWidth}onMouseDownOnRuler(t){}updatePointerLocation(t){this.isVertical?this.pointerPosition.style.top=t+"px":this.pointerPosition.style.left=t+"px"}updateSelectionRange(t,e){this.isVertical?(this.selectionLimints.style.top=t+"px",this.selectionLimints.style.height=e-t+"px"):(this.selectionLimints.style.left=t+"px",this.selectionLimints.style.width=e-t+"px")}drawRuler(t,e,i,n,s){n=n||2;let o=e*(i=i||1),a=1,r=10;const l=Math.round,c=Math.floor;if(o<30){a=(c(30/o/r)+1)*r;let t=c((o=e*i*a)/30);t>1&&(o=e*i*(a=(l(30/o/(r=t>5?2:5))+1)*r))}let d=this.canvas.getContext("2d");d.setTransform(1,0,0,1,0,0),d.clearRect(0,0,this.canvas.width,this.canvas.height),d.lineWidth=1,d.strokeStyle="#afafaf",d.fillStyle="#000",d.font="8px arial";const u=t-Math.ceil(t/o)*o;let f,h,m,g,p=u,v=o/r;if(d.beginPath(),this.isVertical)for(g=this.canvas.height,d.translate(16,0),d.rotate(.5*Math.PI);p<g;){for(f=.5+~~p,d.moveTo(f,0),d.lineTo(f,13),d.fillText(l((p-t)/o*a),f+4,12),m=1;m<r;m++)h=~~p+v*m+.5,d.moveTo(h,0),m%2?d.lineTo(h,4):d.lineTo(h,6),v>30&&d.fillText(((p-t+v*m)/o*a).toFixed(n),h+4,9);p+=o}else for(g=this.canvas.width;p<g;){for(f=.5+~~p,d.moveTo(f,16),d.lineTo(f,3),d.fillText(l((p-t)/o*a),f+4,9),m=1;m<r;m++)h=~~p+v*m+.5,d.moveTo(h,16),m%2?d.lineTo(h,12):d.lineTo(h,10),v>30&&d.fillText(((p-t+v*m)/o*a).toFixed(n),h+4,9);p+=o}return d.stroke(),{origin:u,markersDistance:o,divisors:r}}}customElements.define("page-ruler",PageRuler_cmp);class MeasuringRuler_cmp extends HTMLElement{constructor(){super(),this.selectionLimints=this.querySelector(".selection-range"),this.pointerPosition=this.querySelector(".pointer-location"),this.canvas=this.querySelector("canvas"),this.isVertical=!1,this.classList.contains("vertical")&&(this.isVertical=!0),this.origin=0,this.unitValue=1,this.stepUnitValue=1,this.stepUnitDivisor=4,this.scale=1,this.fixedDecimals=2}connectedCallback(){this.update()}update(){this.isVertical?this.canvas.height=this.offsetHeight:this.canvas.width=this.offsetWidth,this.unitValue=this.canvas.offsetWidth/8,this.stepUnitValue=this.unitValue,this.draw(this.origin,this.unitValue,this.scale,this.fixedDecimals,this.stepUnitValue,this.stepUnitDivisor)}updatePointerLocation(t){this.isVertical?this.pointerPosition.style.top=t+"px":this.pointerPosition.style.left=t+"px"}updateSelectionRange(t,e){this.isVertical?(this.selectionLimints.style.top=t+"px",this.selectionLimints.style.height=e-t+"px"):(this.selectionLimints.style.left=t+"px",this.selectionLimints.style.width=e-t+"px")}draw(t,e,i,n,s,o){n=n||2;let a=e*(i=i||1),r=1,l=o||10;const c=Math.round,d=Math.floor;if(a<30){r=(d(30/a/l)+1)*l;let t=d((a=e*i*r)/30);t>1&&(a=e*i*(r=(c(30/a/(l=t>5?2:5))+1)*l))}let u=this.canvas.getContext("2d");u.setTransform(1,0,0,1,0,0),u.clearRect(0,0,this.canvas.width,this.canvas.height),u.lineWidth=1,u.strokeStyle="#afafaf",u.fillStyle="#000",u.font="8px arial";const f=t-Math.ceil(t/a)*a;let h,m,g,p,v=f,y=a/l;if(u.beginPath(),this.isVertical)for(p=this.canvas.height,u.translate(16,0),u.rotate(.5*Math.PI);v<p;){for(h=.5+~~v,u.moveTo(h,0),u.lineTo(h,13),u.fillText(c((v-t)/a*r),h+4,12),g=1;g<l;g++)m=~~v+y*g+.5,u.moveTo(m,0),g%2?u.lineTo(m,4):u.lineTo(m,6),y>30&&u.fillText(((v-t+y*g)/a*r).toFixed(n),m+4,9);v+=a}else for(p=this.canvas.width;v<p;){for(h=.5+~~v,u.moveTo(h,16),u.lineTo(h,3),u.fillText(c((v-t)/a*r),h+4,9),g=1;g<l;g++)m=~~v+y*g+.5,u.moveTo(m,16),g%2?u.lineTo(m,12):u.lineTo(m,10),y>30&&u.fillText(((v-t+y*g)/a*r).toFixed(n),m+4,9);v+=a}return u.stroke(),{origin:f,markersDistance:a,divisors:l}}drawGridImage(t,e,i,n,s,o){for(;t>400;)t/=s;e=t;const a=this.canvasUtils;a.width=t,a.height=e;const r=a.getContext("2d");r.lineWidth=.5,r.strokeStyle="#d4d4d4",r.beginPath(),r.rect(.5,.5,~~t-.5,~~e-.5),r.stroke();const l=t/s,c=e/s;let d;for(let i=1;i<s;i++)d=.5+~~(l*i),r.moveTo(d,1),r.lineTo(d,e-1),d=.5+~~(c*i),r.moveTo(1,d),r.lineTo(t-1,d);return r.stroke(),a.toDataURL("image/png")}}customElements.define("measuring-ruler",MeasuringRuler_cmp);class PageOrigin_cmp extends HTMLElement{constructor(){super(),XOS.connectEvent("mousedown",this,this.onMouseDown,this)}onMouseDown(t){XOS.initDragFunctions(TOOLS["translate-origin-tool"],t)}}customElements.define("page-origin",PageOrigin_cmp);class IsolateLayerBar_cmp extends HTMLElement{constructor(){super(),this.controlledElements=XOS.connectDomEvents(this.querySelectorAll("[data-event]"),this)}update(){const t=activeApplication.activeDocument.activePage.content.querySelector(".layers").children,e=t[t.length-1];if(!e.classList.contains("isolate-layer"))return void this.classList.add("hidden");this.classList.remove("hidden");let i="",n=e;for(;n.classList.contains("isolate-layer");)i=n.dataset.layerName+" / "+i,n=n.previousElementSibling;this.querySelector(".label").innerHTML=i}onClick_exitFromEditingLayer(){activeApplication.activeDocument.exitFrom_isolateLayerEditing()}}customElements.define("isolate-layer-bar",IsolateLayerBar_cmp);class Document2D_cmp extends HTMLElement{constructor(){super();const t=document.getElementById("DOCUMENT-2D").content.cloneNode(!0);this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(t),this.workspaceBounding=activeApplication.workspace.bounding,this.clipPathHitTestRect=this.shadowRoot.querySelector("#clip-path-hit-test rect"),this.resources=this.shadowRoot.querySelector(".resources"),this.pageList=this.shadowRoot.querySelector(".page-list"),this.preferences={},this.preferences.unitKey="PIXEL",this.preferences.unitValue=1,this.preferences.drawingScale=1,this.preferences.findAllElementAtPoint=1,this.preferences.optimizeZoom=!1,this.preferences.mantainAspectRatio=!0,this.preferences.interactionLabelVisibility=!1,this.preferences.svgAlignmentPreserveAspectRatio="unset",this.preferences.snap={},this.preferences.snap.distance=10,this.preferences.snap.offsetDistance=50,this.preferences.snap.snapToPoints=!0,this.preferences.snap.snapToContour=!0,this.preferences.snap.snapToPerpendicular=!0,this.preferences.snap.snapToTangent=!0,this.preferences.snap.snapToIntersection=!0,this.preferences.snap.snapToCenter=!0,this.preferences.snap.snapToGrid=!0,this.preferences.snap.snapToOffset=!0,this.preferences.snap.snapToAngles=!0,this.preferences.snap.snapAngleList=[45],this.preferences.snap.useSmartPoints=!0,this.preferences.snap.useSmartGuides=!0,this.preferences.fixedDecimals=0,this.preferences.rulersVisibility=!0,this.preferences.gridVisibility=!1,this.preferences.elementOriginVisibility=!1,this.preferences.gridStep=1,this.preferences.origin={},this.preferences.origin.x=0,this.preferences.origin.y=0,this.preferences.selectMainNodes=!0,this.preferences.scaleStrokeAndEffects=!0,this.preferences.scaleText=!0,this.preferences.moveStep=1,this.preferences.rotateStep=45,this.fillAndStrokeManager=new FillAndStrokeManager,this.fillAndStrokeManager.update_strokeDisplay(),this.fillAndStrokeManager.update_fillDisplay(),XOS.connectEvent("mousedown",window,this.onPointerDown,this),XOS.connectEvent("mousemove",this,this.onPointerMove,this),XOS.connectEvent("mouseup",this,this.onPointerUp,this)}onPointerDown(t){this.canPointerUpBeProcessed=!1,t.target===this&&(this.canPointerUpBeProcessed=!0,3!==t.which?TOOLS.activeTool.onPointerDown(t):MENUS["context-menu"].activateAt(t.pageX,t.pageY))}onPointerUp(t){KEYBOARD_EVENT_MANAGER.onMouseUp(t),!0===this.canPointerUpBeProcessed&&TOOLS.activeTool.onPointerUp(t)}onPointerMove(t){activeApplication.workspace.isWheeling||TOOLS.activeTool.onPointerMove(t)}onResize(t){activeApplication.editingView.redrawRulersAndGrid()}onChange(){this.isChanged=!0,this.activePage.preview=null,this.tabItemRef.classList.add("changed")}setOrigin(t,e){this.preferences.origin.x=t,this.preferences.origin.y=e,activeApplication.editingView.redrawRulersAndGrid()}createNewPage(t,e){const i=document.getElementById("PAGE-2D").content.querySelector(".page").cloneNode(!0);if(t&&e)i.dataset.pageWidth=t,i.dataset.pageHeight=e;else{const t=this.pageList.lastElementChild;t&&(i.dataset.pageWidth=t.dataset.pageWidth,i.dataset.pageHeight=t.dataset.pageHeight)}return this.pageList.appendChild(i),i}setActivePage(t){this.activePage&&this.exitFrom_AllIsolateLayerEditing(),this.activePage=t,this.activePage.content=this.activePage.querySelector(":scope>.content"),this.activePage.content.currentScale=this.activePage.content.currentScale||1,this.activePage.selectionList=this.activePage.selectionList||[],this.activePage.selectionPointList=this.activePage.selectionPointList||[],this.activePage.focusedElement=this.activePage.focusedElement||null,this.activePage.focusedPoint=this.activePage.focusedPoint||null,this.activePage.history=this.activePage.history||new UndoRedoHistory(this),XOS.showElement(this.activePage),this.setActivePageScale("fit"),activeApplication.workspace.updatePageBackground(),activeApplication.workspace.update(),WINDOWS.layersWindow.update()}setActivePageSize(t,e,i){if(i){const i=this.pageList.children.length;let n;for(let s=0;s<i;s++)(n=this.pageList.children[s]).dataset.pageWidth=t,n.dataset.pageHeight=e,n.preview=null}else this.activePage.dataset.pageWidth=t,this.activePage.dataset.pageHeight=e,this.activePage.preview=null;activeApplication.workspace.updatePageBackground()}setActivePageViewMatrix(t){this.activePage.content.getTransform().setMatrix(t),activeApplication.workspace.pageBackground.getTransform().setMatrix(t),this.activePage.content.currentScale=t.getScale().x,activeApplication.editingView.redrawRulersAndGrid()}setActivePageScale(t){const e=this.workspaceBounding.width,i=this.workspaceBounding.height,n=this.activePage.dataset.pageWidth,s=this.activePage.dataset.pageHeight;if("fit"===t){const o=(e-20)/n,a=(i-20)/s;t=Math.min(o,a)}let o=this.activePage.content.getTransform().matrix.identity();const a=e/2-n*t/2,r=i/2-s*t/2;o=(o=o.translate(a,r)).scale(t),this.activePage.content.getTransform().setMatrix(o),activeApplication.workspace.pageBackground.getTransform().setMatrix(o),this.activePage.content.currentScale=t,activeApplication.editingView.redrawRulersAndGrid()}fitRectToView(t,e,i){e=e||20,i=i||20;const n=this.workspaceBounding.width,s=this.workspaceBounding.height,o=t.width,a=t.height,r=(n-e)/o,l=(s-i)/a,c=Math.min(r,l);let d=this.activePage.content.getTransform().matrix;d.e-=t.x+o/2,d.f-=t.y+a/2,d.e+=n/2,d.f+=s/2,this.zoom(c,this.workspaceBounding.width/2,this.workspaceBounding.height/2)}createPageLayer(t,e){t=t||"Layer",e=e||"#fb0094";const i=SVGUtils.createGroup();return i.dataset.layerName=t,i.dataset.layerColor=e,i.classList.add("layer"),i}addPageLayer(t){return this.activePage.content.querySelector(".layers").appendChild(t),this.setActivePageLayer(t),t}removePageLayer(t){const e=t.previousElementSibling||t.nextElementSibling;t.parentElement.removeChild(t),this.setActivePageLayer(e)}setActivePageLayer(t){const e=this.activePage.content.querySelectorAll(".layers>.layer[active]");for(let t=0;t<e.length;t++)e[t].removeAttribute("active");t&&(t.setAttribute("active",""),WINDOWS.layersWindow.updateLayerSelection(t))}getActivePageLayer(){let t=this.activePage.content.querySelector(".layers>.layer[active]");return t||(t=this.activePage.content.querySelector(".layers>.layer"),this.setActivePageLayer(t)),t}initActivePageTimelines(){this.activePage.timelines={},this.activePage.timelines["page-entrance-timeline"]={timelineName:"Page Entrance",animateCategory:"Entrance animations",timelineItems:[{elementId:"#background",animations:[{delay:0,duration:.5,animationName:"fadeIn"}]}]},this.activePage.timelines["page-exit-timeline"]={timelineName:"Page Exit",animateCategory:"Exit animations",timelineItems:[{elementId:"#background",animations:[{delay:0,duration:.5,animationName:"fadeOut"}]}]}}setUnits(t){this.preferences.unitKey=t;const e=GeometryUtils.unitProperty[this.preferences.unitKey];this.preferences.unitValue=e.unitValue,this.preferences.gridStep=e.gridStep,this.preferences.fixedDecimals=e.fixedDecimals,this.setDrawingScale(e.drawingScale)}setDrawingScale(t){const e=this.activePage,i=this.preferences.drawingScale/t;this.preferences.drawingScale=t,this.setActivePageScale("fit");const n=parseFloat(this.activePage.dataset.pageWidth),s=parseFloat(this.activePage.dataset.pageHeight),o=this.activePage.content.localToGlobal(n/2,s/2),a={scaleStrokeAndEffects:!1,scaleText:!0};a.effectScale=Math.sqrt(i*i+i*i)/Math.sqrt(2);for(let t=0;t<this.pageList.children.length;t++){this.setActivePage(this.pageList.children[t]);const e=this.activePage.querySelectorAll(".layer>*");this.scaleElementList(e,i,i,o),this.normalizeScaleElementList(e,a)}this.setActivePage(e),activeApplication.workspace.update(),this.onChange()}unitToValue(t){return t/this.preferences.unitValue/this.preferences.drawingScale}valueToUnit(t){return parseFloat((t*this.preferences.unitValue*this.preferences.drawingScale).toFixed(this.preferences.fixedDecimals))+" "+GeometryUtils.unitProperty[this.preferences.unitKey].unitName}valueToFixed(t){return parseFloat(Number(t).toFixed(this.preferences.fixedDecimals))}pageContentToWorkspaceCoords(t){const e=this.activePage.content.getTransform().matrix;t.workspaceX=t.contentX*this.activePage.content.currentScale+e.e,t.workspaceY=t.contentY*this.activePage.content.currentScale+e.f}workspaceToPageContentCoords(t){const e=this.activePage.content.getTransform().matrix;t.contentX=(t.workspaceX-e.e)/this.activePage.content.currentScale,t.contentY=(t.workspaceY-e.f)/this.activePage.content.currentScale}workspaceToWindowCoords(t){t.windowX=this.workspaceBounding.x+t.workspaceX,t.windowY=this.workspaceBounding.y+t.workspaceY}windowToWorkspaceCoords(t){t.workspaceX=t.windowX-this.workspaceBounding.x,t.workspaceY=t.windowY-this.workspaceBounding.y}pointerEventToCoords(t,e=!1){t.windowX=t.pageX,t.windowY=t.pageY,e&&this.pointerEventManageScrolling(t),t.workspaceX=t.windowX-this.workspaceBounding.x,t.workspaceY=t.windowY-this.workspaceBounding.y;const i=this.activePage.content.getTransform().matrix;t.contentX=(t.workspaceX-i.e)/this.activePage.content.currentScale,t.contentY=(t.workspaceY-i.f)/this.activePage.content.currentScale}pointerEventManageScrolling(t){t.scrollX=0,t.scrollY=0,t.windowX<this.workspaceBounding.left+10&&(t.scrollX=10),t.windowX>this.workspaceBounding.right-10&&(t.scrollX=-10),t.windowY<this.workspaceBounding.top+10&&(t.scrollY=10),t.windowY>this.workspaceBounding.bottom-10&&(t.scrollY=-10),0===t.scrollX&&0===t.scrollY||this.pan(t.scrollX,t.scrollY)}elementListAsMainElements(t){const e=[],i=t.length;let n,s;for(n=0;n<i;n++)s=t[n].getMainElement(),-1===e.indexOf(s)&&e.push(s);return e}elementFromPointerEvent(t,e){if(t.elementListAtPoint=t.elementAtPoint=null,t.pageX>this.workspaceBounding.left&&t.pageX<this.workspaceBounding.right&&t.pageY>this.workspaceBounding.top&&t.pageY<this.workspaceBounding.bottom){const i=SVGUtils.hitTestRect,n=this.preferences.snap.distance;i.x=t.workspaceX-n,i.y=t.workspaceY-n,i.height=i.width=2*n;const s=this.activePage.getIntersectionList(i,null);if(s.length>0){const i=s.length;let n;for(n=0;n<i;n++)s[n].classList.add("precise-hit-test-element");if(e){const e=this.shadowRoot.elementsFromPoint(t.pageX,t.pageY),o=[];for(n=0;n<e.length&&"svg"!==e[n].nodeName;n++)o.push(e[n]);for(o.length>0&&(t.elementAtPoint=e[0]),n=0;n<i;n++)-1===e.indexOf(s[n])&&o.push(s[n]);t.elementListAtPoint=o}else t.elementAtPoint=this.shadowRoot.elementFromPoint(t.pageX,t.pageY),t.elementListAtPoint=[t.elementAtPoint];for(n=0;n<i;n++)s[n].classList.remove("precise-hit-test-element")}else t.path&&"foreignObject"===t.path[0].nodeName&&(t.elementAtPoint=t.path[0],t.elementListAtPoint=[t.elementAtPoint])}}applySnap(t,e){activeApplication.workspace.snapInteraction2D.applySnap(t,e)}deselectAll(){this.activePage.selectionList=[],this.activePage.focusedElement=null,this.deselectAllPoints()}selectAll(){let t;t=this.getActivePageLayer().classList.contains("isolate-layer")?this.activePage.content.querySelectorAll(".layers>.layer[active]>*:not([locked])"):this.activePage.content.querySelectorAll(".layers>.layer:not([locked]):not([hidden])>*:not([locked]):not([hidden])"),t=XOS.getFilteredElementListByNodeName(t,"line,rect,ellipse,path,g,text,use,image,foreignObject"),this.selectElementList(t),activeApplication.workspace.update()}deselectElement(t){this.isElementSelected(t)&&(this.activePage.selectionList.splice(this.activePage.selectionList.indexOf(t),1),this.activePage.focusedElement=null,this.activePage.selectionList.length>0&&(this.activePage.focusedElement=this.activePage.selectionList[this.activePage.selectionList.length-1]))}selectElement(t,e){this.isElementSelected(t)?e?(this.deselectElement(t),this.activePage.focusedElement=null,this.activePage.selectionList.length>0&&(this.activePage.focusedElement=this.activePage.selectionList[this.activePage.selectionList.length-1])):this.activePage.focusedElement=t:(this.activePage.focusedElement=t,this.activePage.selectionList.push(t))}selectElementList(t){this.deselectAll();for(let e=0;e<t.length;e++)this.activePage.selectionList.push(t[e]);this.activePage.selectionList.length>0&&(this.activePage.focusedElement=this.activePage.selectionList[this.activePage.selectionList.length-1]),this.setFocusedPathSegmentPoint(null)}isElementSelected(t){return this.activePage.selectionList.indexOf(t)>-1}deselectAllPoints(){const t=this.activePage.selectionPointList.length;for(let e=0;e<t;e++)this.activePage.selectionPointList[e].isSelected=!1,delete this.activePage.selectionPointList[e].editable;this.activePage.selectionPointList=[],this.activePage.focusedPoint=null}deselectPoint(t){t.isSelected=!1,delete t.editable,this.activePage.selectionPointList.remove(t)}selectPointList(t){this.deselectAllPoints();const e=t.length;for(let i=0;i<e;i++)this.selectPoint(t[i])}selectPoint(t){!0!==t.isSelected&&(this.activePage.selectionPointList.push(t),t.isSelected=!0)}setFocusedPathSegmentPoint(t){t&&this.deselectAllPoints(),this.activePage.focusedPathSegmentPoint=t}showSelectionProperties(){if(activeApplication.setAttribute("data-selected-items",String(this.activePage.selectionList.length)),this.activePage.focusedElement){if(this.fillAndStrokeManager.set_stroke(this.activePage.focusedElement),this.fillAndStrokeManager.set_fill(this.activePage.focusedElement),this.activePage.focusedElement.hasAttribute("data-type")){const t=this.activePage.focusedElement.getAttribute("data-type");activeApplication.setAttribute("data-focused-item-type",t)}else activeApplication.setAttribute("data-focused-item-type",String(this.activePage.focusedElement.nodeName));const t=this.activePage.focusedElement.getLayerOwner();t.parentElement.classList.contains("layers")&&!t.hasAttribute("active")&&this.setActivePageLayer(t)}else activeApplication.removeAttribute("data-focused-item-type");WINDOWS.mainInspectorWindow.update()}translateElementList(t,e,i,n){const s=this.activePage.createSVGMatrix().translate(e,i);let o;const a=t.length;for(let e=0;e<a;e++)(o=t[e]).transform&&(n?o.getTransform().setMatrix(s.multiply(o.getTransform().matrix)):o.getTransform().setMatrix(o.globalMatrixToLocalMatrix(s.multiply(o.getCTM()))))}setAttributeElementList(t,e){for(let i=0;i<t.length;i++)for(let n in e)t[i].setAttribute(n,e[n])}setAttributeElementList_undable(t,e,i=!0,n=null){if(0===t.length)return;const s=new UndoRedoAction,o=new UndoRedoAction;this.activePage.history.addUndoRedoActions(s,o);const a=this;i&&(s.onExecuteEnd=o.onExecuteEnd=function(){a.selectElementList(t)});const r=Object.keys(e).join(",");s.createAttributeSnapshot(t,r);for(let i=0;i<t.length;i++)for(let n in e)t[i].setAttribute(n,e[n]);return o.createAttributeSnapshot(t,r),activeApplication.workspace.snapInteraction2D.reset(),n?setTimeout(function(){activeApplication.workspace.update()},n):activeApplication.workspace.update(),this.onChange(),{undoAction:s,redoAction:o}}setPropertyElementList_undable(t,e,i=!0){const n=new UndoRedoAction,s=new UndoRedoAction;if(this.activePage.history.addUndoRedoActions(n,s),i){const e=this;n.onExecuteEnd=s.onExecuteEnd=function(){e.selectElementList(t)}}const o=Object.keys(e).join(",");n.createPropertySnapshot(t,o);for(let i=0;i<t.length;i++)for(let n in e)t[i][n]=e[n];return s.createPropertySnapshot(t,o),activeApplication.workspace.update(),this.onChange(),{undoAction:n,redoAction:s}}setPropertyObjectElementList_undable(t,e){const i=this.activePage.focusedElement.dataset.objectId,n=[];let s=t.length;for(let e=0;e<s;e++)t[e].dataset.objectId===i&&n.push(t[e]);if(0===n.length)return;const o=[],a=[];s=n.length;for(let t=0;t<s;t++){const i=n[t],s=i.getObjectController(),r={};Object.assign(r,s.getProperties()),s.setProperties(e);const l={};Object.assign(l,s.getProperties()),o.push({graphicElement:i,properties:r}),a.push({graphicElement:i,properties:l})}const r=this.activePage,l=this,c={execute:function(){const t=[];let e;const i=o.length;for(let n=0;n<i;n++){(e=o[n]).graphicElement.getObjectController().setProperties(e.properties),t.push(e.graphicElement)}this.onExecuteEnd&&this.onExecuteEnd(),l.selectElementList(t)}},d={execute:function(){const t=[];let e;const i=a.length;for(let n=0;n<i;n++){(e=a[n]).graphicElement.getObjectController().setProperties(e.properties),t.push(e.graphicElement)}this.onExecuteEnd&&this.onExecuteEnd(),l.selectElementList(t)}};return r.history.addUndoRedoActions(c,d),activeApplication.workspace.update(),this.onChange(),{undoAction:c,redoAction:d}}translateElementList_undable(t,e,i,n){const s=new UndoRedoAction("translate"),o=new UndoRedoAction("translate");this.activePage.history.addUndoRedoActions(s,o);const a=this;s.onExecuteEnd=o.onExecuteEnd=function(){a.selectElementList(t)},s.createAttributeSnapshot(t,"transform"),this.translateElementList(t,e,i,n),o.createAttributeSnapshot(t,"transform"),activeApplication.workspace.update(),this.onChange()}rotateElementList_undable(t,e,i){const n=new UndoRedoAction("rotate"),s=new UndoRedoAction("rotate");this.activePage.history.addUndoRedoActions(n,s);const o=this;n.onExecuteEnd=s.onExecuteEnd=function(){o.selectElementList(t)},n.createAttributeSnapshot(t,"transform"),this.rotateElementList(t,e,i),s.createAttributeSnapshot(t,"transform"),activeApplication.workspace.update(),this.onChange()}scaleElementList(t,e,i,n,s){let o;const a=t.length;let r,l=SVGUtils.createSVGMatrix();for(let c=0;c<a;c++)(o=t[c]).storedGlobalMatrix?r=o.storedGlobalMatrix.clone():(r=o.getCTM(),s&&(n=o.globalToLocal(n.x,n.y))),s?r=(r=(r=r.translate(n.x,n.y)).scaleNonUniform(e,i)).translate(-n.x,-n.y):(r=(l=l.identity().translate(-n.x,-n.y)).multiply(r),r=(l=l.identity().scaleNonUniform(e,i)).multiply(r),r=(l=l.identity().translate(n.x,n.y)).multiply(r)),o.getTransform().setMatrix(o.globalMatrixToLocalMatrix(r))}scaleElementList_undable(t,e,i,n,s){const o=t,a=new UndoRedoAction("scale"),r=new UndoRedoAction("scale");this.activePage.history.addUndoRedoActions(a,r);const l={};l.effectScale=Math.sqrt(e*e+i*i)/Math.sqrt(2),l.scaleStrokeAndEffects=this.preferences.scaleStrokeAndEffects,l.scaleText=this.preferences.scaleText,s&&"text"===o[0].nodeName&&(l.scaleText=!1);const c={};c.effectScale=1/Math.sqrt(e*e+i*i)*Math.sqrt(2),c.scaleStrokeAndEffects=this.preferences.scaleStrokeAndEffects,c.scaleText=this.preferences.scaleText,s&&"text"===o[0].nodeName&&(c.scaleText=!1),this.scaleElementList(o,e,i,n,s),this.normalizeScaleElementList(o,l);const d=this.activePage.content.getTransform().matrix.clone(),u=this,f=this.activePage;a.onExecuteEnd=function(){const t=f.content.getTransform().matrix.clone();f.content.getTransform().setMatrix(d),u.scaleElementList(o,1/e,1/i,n,s),u.normalizeScaleElementList(o,c),f.content.getTransform().setMatrix(t),u.selectElementList(o)},r.onExecuteEnd=function(){const t=f.content.getTransform().matrix.clone();f.content.getTransform().setMatrix(d),u.scaleElementList(o,e,i,n,s),u.normalizeScaleElementList(o,l),f.content.getTransform().setMatrix(t),u.selectElementList(o)},activeApplication.workspace.update(),this.onChange()}rotateElementList(t,e,i){let n,s,o=SVGUtils.createSVGMatrix();const a=t.length;for(let r=0;r<a;r++)n=(s=t[r]).storedGlobalMatrix?s.storedGlobalMatrix:s.getCTM(),n=(o=o.identity().translate(-i.x,-i.y)).multiply(n),n=(o=o.identity().rotate(e)).multiply(n),n=(o=o.identity().translate(i.x,i.y)).multiply(n),s.getTransform().setMatrix(s.globalMatrixToLocalMatrix(n))}resetRotationElementList_undable(t){t=t||this.activePage.selectionList;const e=new UndoRedoAction,i=new UndoRedoAction;let n,s,o;this.activePage.history.addUndoRedoActions(e,i),e.createAttributeSnapshot(t,"transform");for(let e=0;e<t.length;e++)o=(s=(n=t[e]).getTransform().matrix).getRotation(),n.getTransform().setMatrix(s.rotate(0-o));i.createAttributeSnapshot(t,"transform");const a=this;e.onExecuteEnd=i.onExecuteEnd=function(){a.selectElementList(t)},activeApplication.workspace.update(),this.onChange()}resetTransformElementList_undable(t){t=t||this.activePage.selectionList;const e=new UndoRedoAction,i=new UndoRedoAction;let n,s,o,a;this.activePage.history.addUndoRedoActions(e,i),e.createAttributeSnapshot(t,"transform");for(let e=0;e<t.length;e++)o=(s=(n=t[e]).getTransform().matrix).e,a=s.f,n.getTransform().setMatrix(s.identity().translate(o,a));i.createAttributeSnapshot(t,"transform");const r=this;e.onExecuteEnd=i.onExecuteEnd=function(){r.selectElementList(t)},activeApplication.workspace.update(),this.onChange()}getSelectedTransformablePointData(){const t=[];let e,i,n,s,o,a;const r=activeApplication.activeDocument.activePage.selectionList;let l,c=r.length;for(l=0;l<c;l++){for(i=(e=r[l]).getSelectedTransformablePointList(),s={element:e,pointDataList:[]},a=i.length,o=0;o<a;o++)n=i[o],s.pointDataList.push({point:n,values:{x:n.x,y:n.y}});i.length>0&&t.push(s)}return t}createTransformDataPointList(){const t=this.getSelectedTransformablePointData();let e,i;const n=t.length;for(let s=0;s<n;s++)(i=(e=t[s]).element).selectionPreview.geometryPointList=i.getGeometryPointList(),i.setGeometryPointList(i.selectionPreview.cloneGeometryPointList());return t}translateTransformDataPointList(t,e,i,n,s){let o,a,r,l,c,d,u,f,h,m=t.length;for(let g=0;g<m;g++){for(u=(d=t[g]).element,n?l=SVGUtils.createSVGPoint(e,i):(r=u.getScreenCTM().inverse(),l=SVGUtils.createSVGPoint(e,i).matrixTransform(r).subtract(SVGUtils.createSVGPoint().matrixTransform(r))),h=(c=d.pointDataList).length,f=0;f<h;f++)(a=(o=c[f]).point).x+=l.x,a.y+=l.y;s?u.render():u.selectionPreview.renderRequest()}}translateSelectedPointList_undable(t,e,i,n){const s=this,o=this.activePage,a=new UndoRedoAction,r=new UndoRedoAction;o.history.addUndoRedoActions(a,r);const l=o.selectionList;a.createAttributeSnapshot(l,"d,x1,y1,x2,y2");const c=this.getSelectedTransformablePointData();this.translateTransformDataPointList(c,t,e,i,n),r.createAttributeSnapshot(l,"d,x1,y1,x2,y2"),a.onExecuteEnd=function(){s.selectElementList(l);for(let t=0;t<l.length;t++)l[t].geometryPointList=null},r.onExecuteEnd=function(){s.selectElementList(l);for(let t=0;t<l.length;t++)l[t].geometryPointList=null},activeApplication.workspace.update(),this.onChange()}removePathPoints_undable(t){const e=this,i=this.activePage,n=[];let s,o,a;for(s=0;s<t.length;s++)(o=t[s]).removable=!0,"path"===(a=o.ownerShapeElement).nodeName&&-1===n.indexOf(a)&&n.push(a);const r=new UndoRedoAction,l=new UndoRedoAction;let c,d,u,f;for(i.history.addUndoRedoActions(r,l),r.onExecuteEnd=l.onExecuteEnd=function(){e.selectElementList(n);for(let t=0;t<n.length;t++)n[t].geometryPointList=null},r.createAttributeSnapshot(n,"d"),s=0;s<n.length;s++){f=[],d=(a=n[s]).getSubPathList();for(let t=0;t<d.length;t++){u=(c=d[t]).geometryPointList;for(let t=0;t<u.length;t++){if((o=u[t]).removable){if("M"===o.type&&u.length>1){const e=u[t+1];e&&(o.x=e.x,o.y=e.y,f.push(o),e.removable=!0)}}else f.push(o);delete o.removable}}0===f.length&&alert("non ci sono più puntiu"),a.setGeometryPointList(f),a.render()}l.createAttributeSnapshot(n,"d"),activeApplication.workspace.update(),this.onChange()}addPathPointAtLocation_undable(t,e,i){const n=t.addPathPointAtLocation(e,i),s=new UndoRedoAction,o=new UndoRedoAction;this.activePage.history.addUndoRedoActions(s,o);const a=this;s.onExecuteEnd=o.onExecuteEnd=function(){a.selectElementList([t]),t.geometryPointList=null},s.createAttributeSnapshot([t],"d"),t.render(),o.createAttributeSnapshot([t],"d"),this.selectElementList([t]),this.selectPointList([n]),n.editable=!0,activeApplication.workspace.update(),this.onChange()}splitPathAtLocation_undable(t,e,i){const n=t.cloneNode();n.setGeometryPointList(t.cloneGeometryPointList());const s=n.addPathPointAtLocation(e,i),o=n.splitPathAtPoint(s);o.length>0&&this.replaceElement_undable(t,o)}convertPathSegmentToCurve_undable(t){let e,i;const n=t.ownerShapeElement,s=n.getGeometryPointList(),o=s.indexOf(t);if(-1===o)return null;let a=o+1,r=s[a];if(!r)return null;if(r&&"Z"===r.type){let e=n.getSubPathMoveToSegmentId(t);if(-1===e)return null;r=s[a=e+1]}const l=this,c=this.activePage,d=new UndoRedoAction,u=new UndoRedoAction;c.history.addUndoRedoActions(d,u),d.onExecuteEnd=u.onExecuteEnd=function(){l.selectElementList([n]),n.geometryPointList=null},d.createAttributeSnapshot([n],"d"),e="L"===t.type?n.createGeometryPoint_CURVETO_QUADRATIC(t.x,t.y,t.x,t.y):n.cloneSegment(t),i="L"===r.type?n.createGeometryPoint_CURVETO_QUADRATIC(r.x,r.y,r.x,r.y):n.cloneSegment(r);var f=[];return"C"===e.type?(e.controlPt2.x=t.x,e.controlPt2.y=t.y,f.push(e.controlPt2)):(e.controlPt1.x=t.x,e.controlPt1.y=t.y,f.push(e.controlPt1)),i.controlPt1.x=t.x,i.controlPt1.y=t.y,e.ownerShapeElement=i.ownerShapeElement=n,f.push(i.controlPt1),f.reverse(),s.replaceAt(e,o),s.replaceAt(i,a),n.render(),u.createAttributeSnapshot([n],"d"),f}convertPathSegmentToCorner_undable(t){let e,i;const n=t.ownerShapeElement,s=n.getGeometryPointList(),o=s.indexOf(t);if(-1===o)return!1;if("M"===t.type)return!1;let a=o+1,r=s[a];if(!r)return!1;if(r&&"Z"===r.type){let e=n.getSubPathMoveToSegmentId(t);if(-1===e)return!1;r=s[a=e+1]}const l=this,c=this.activePage,d=new UndoRedoAction,u=new UndoRedoAction;return c.history.addUndoRedoActions(d,u),d.onExecuteEnd=u.onExecuteEnd=function(){l.selectElementList([n]),n.geometryPointList=null},d.createAttributeSnapshot([n],"d"),e="L"!==t.type?n.createGeometryPoint_LINETO(t.x,t.y):n.cloneSegment(t),i="L"!==r.type?n.createGeometryPoint_LINETO(r.x,r.y):n.cloneSegment(r),e.ownerShapeElement=i.ownerShapeElement=n,s.replaceAt(e,o),s.replaceAt(i,a),n.render(),u.createAttributeSnapshot([n],"d"),this.onChange(),!0}replacePathPoint_undable(t,e){const i=this,n=this.activePage,s=e.ownerShapeElement,o=s.getGeometryPointList(),a=o.indexOf(e);t.ownerShapeElement=s;const r=new UndoRedoAction,l=new UndoRedoAction;n.history.addUndoRedoActions(r,l),r.onExecuteEnd=l.onExecuteEnd=function(){i.selectElementList([s]),s.geometryPointList=null},r.createAttributeSnapshot([s],"d"),o.replaceAt(t,a),s.render(),l.createAttributeSnapshot([s],"d"),activeApplication.workspace.update(),this.onChange()}rotateTransformDataPointList(t,e,i,n){let s,o,a,r,l,c,d,u,f,h,m=SVGUtils.createSVGMatrix();const g=t.length;for(let p=0;p<g;p++){for(c=(u=(d=t[p]).element).getCTM(),c=(m=m.identity().translate(-i.x,-i.y)).multiply(c),c=(m=m.identity().rotate(e)).multiply(c),c=(m=m.identity().translate(i.x,i.y)).multiply(c),l=u.getCTM().inverse().multiply(c),h=(o=d.pointDataList).length,f=0;f<h;f++)r=(s=(a=o[f]).point).matrixTransform(l),s.x=r.x,s.y=r.y;n?u.render():u.selectionPreview.renderRequest()}}scaleTransformDataPointList(t,e,i,n,s){for(var o,a,r,l,c,d,u,f=SVGUtils.createSVGPoint(),h=SVGUtils.createSVGMatrix(),m=t.length,g=0;g<m;g++){c=(u=(d=t[g]).element).getCTM(),c=(h=h.identity().translate(-n.x,-n.y)).multiply(c),c=(h=h.identity().scaleNonUniform(e,i)).multiply(c),c=(h=h.identity().translate(n.x,n.y)).multiply(c),l=u.getCTM().inverse().multiply(c);for(var p=d.pointDataList,v=p.length,y=0;y<v;y++)a=(o=p[y]).point,f.set(o.values.x,o.values.y),r=f.matrixTransform(l),a.x=r.x,a.y=r.y;s?u.render():u.selectionPreview.renderRequest()}}joinPaths_undable(t,e=3){const i=this.activePage;t=t||i.selectionList,this.deselectAll();const n=[];let s;for(let e=0;e<t.length;e++)if("path"===(s=t[e]).nodeName){const t=s.cloneNode();s.parentElement.insertBefore(t,s.nextElementSibling),n.push(t)}else if("line"===s.nodeName||"g"===s.nodeName&&s.dataset.objectId){function o(t){if(t.length>0){const e=t[0];s.parentElement.insertBefore(e,s.nextElementSibling),n.push(e)}}this.activePage.convertElementListToPath([s],o)}else t.removeAt(e);if(n.length<2)return;const a=[];for(let t=0;t<n.length;t++)a.push(n[t]);const r=a[0];a.shift(),function t(){for(let i=0;i<a.length;i++)r.joinPath(a[i],e)&&(a.splice(i,1),t())}(),r.render(),r.hasAttribute("fill")||r.setAttribute("fill","#FFFFFF");const l=r.getGeometryPointList(),c=l[0],d=l[l.length-1];Math.abs(c.x-d.x)<e&&Math.abs(c.y-d.y)<e&&("L"===d.type&&l.pop(),l.add(r.createGeometryPoint_CLOSEPATH()),r.render(),r.geometryPointList=null),XOS.removeElementList(n),this.replaceElementList_undable(t,[r])}closePath_undable(){const t=this,e=this.activePage;if(e.focusedElement&&"path"===e.focusedElement.nodeName){const i=e.focusedElement,n=new UndoRedoAction,s=new UndoRedoAction;e.history.addUndoRedoActions(n,s),n.onExecuteEnd=s.onExecuteEnd=function(){t.selectElementList([i]),i.geometryPointList=null},n.createAttributeSnapshot([i],"d"),e.focusedPathSegmentPoint?i.closePath(e.focusedPathSegmentPoint.subPathId):i.closePath(),s.createAttributeSnapshot([i],"d"),activeApplication.workspace.update()}}unifyPaths_undable(t){const e=this,i=this.activePage;t=t||i.selectionList;let n=XOS.getFilteredElementListByNodeName(t,"path");if(n.length<2)return;const s=(n=this.sortElementListByLevel(n))[n.length-1].parentElement,o=n[n.length-1].nextElementSibling;this.deselectAll();const a=new UndoRedoAction,r=new UndoRedoAction;i.history.addUndoRedoActions(a,r),a.onExecuteEnd=function(){e.selectElementList(n)},a.createDomNodeSnapshot(n,"insert"),r.createDomNodeSnapshot(n,"delete");const l=n[0].cloneNode();s.insertBefore(l,o);for(let t=1;t<n.length;t++)l.unifyPathSegments(n[t]);l.render(),XOS.removeElementList(n),a.createDomNodeSnapshot([l],"delete"),a.snapshotDataList.reverse(),r.createDomNodeSnapshot([l],"insert"),r.onExecuteEnd=function(){e.selectElementList([l])},this.selectElementList([l]),activeApplication.workspace.update()}separateSubPaths_undable(t){const e=this,i=this.activePage;t=t||i.selectionList;let n=XOS.getFilteredElementListByNodeName(t,"path");if(0===n.length)return;n=this.sortElementListByLevel(n),this.deselectAll();const s=n[0];let o=null;i.focusedPathSegmentPoint&&(o=s.getSubPathIdBySegment(i.focusedPathSegmentPoint));const a=new UndoRedoAction,r=new UndoRedoAction;i.history.addUndoRedoActions(a,r),a.onExecuteEnd=function(){e.selectElementList(n)},a.createDomNodeSnapshot([s],"insert"),r.createDomNodeSnapshot([s],"delete");const l=s.parentElement;s.nextElementSibling;let c,d=[];const u=s.getSubPathList();if(l.removeChild(s),o)(c=s.cloneNode()).removeSubPath(o),l.appendChild(c),c.render(),d.push(c),(c=s.cloneNode()).setGeometryPointList(c.clonePointList(u[o].geometryPointList)),l.appendChild(c),c.render(),d.push(c);else for(let t=0;t<u.length;t++)(c=s.cloneNode()).setGeometryPointList(c.clonePointList(u[t].geometryPointList)),l.appendChild(c),c.render(),d.push(c);d.reverse(),a.createDomNodeSnapshot(d,"delete"),a.snapshotDataList.reverse(),r.createDomNodeSnapshot(d,"insert"),r.onExecuteEnd=function(){e.selectElementList(d)},this.selectElementList(d),activeApplication.workspace.update()}reversePath_undable(){const t=this,e=this.activePage,i=e.focusedElement;if(i&&"path"===i.nodeName){const n=i,s=new UndoRedoAction,o=new UndoRedoAction;if(e.history.addUndoRedoActions(s,o),s.onExecuteEnd=o.onExecuteEnd=function(){t.selectElementList([n]),n.geometryPointList=null},s.createAttributeSnapshot([n],"d"),e.focusedPathSegmentPoint){let t=n.getSubPathIdBySegment(e.focusedPathSegmentPoint);t&&(n.reverseSegments(t),e.focusedPathSegmentPoint=null)}else n.reverseSegments();o.createAttributeSnapshot([n],"d"),activeApplication.workspace.update()}}bakeTransformElementList_undable(t){t=t||this.activePage.selectionList;const e=this,i=this.activePage;this.deselectAll();let n,s=[],o=[];for(let e=0;e<t.length;e++)"ellipse"===(n=t[e]).nodeName||"rect"===n.nodeName?o.push(n):s.push(n);function a(){const n=new UndoRedoAction,o=new UndoRedoAction;i.history.addUndoRedoActions(n,o);let a=[].concat(s);for(let e=0;e<s.length;e++)"g"===s[e].nodeName&&(a=a.concat(t[e].getTransformableChildren()));n.createAttributeSnapshot(a,"d,transform");for(let t=0;t<s.length;t++)s[t].bakeTransform(),s[t].bakeTransform();o.createAttributeSnapshot(a,"d,transform"),n.onExecuteEnd=o.onExecuteEnd=function(){e.selectElementList(s);for(let t=0;t<s.length;t++)"path"===s[t].nodeName&&(s[t].geometryPointList=null)},e.selectElementList(s),activeApplication.workspace.update()}if(o.length>0){o=this.sortElementListByLevel(o),this.activePage.convertElementListToPath(o,function(t){e.replaceElementList_undable(o,t),s=s.concat(t)}),a()}else a()}resetOriginElementList_undable(t){const e=this,i=this.activePage;t=t||i.selectionList;const n=new UndoRedoAction,s=new UndoRedoAction;i.history.addUndoRedoActions(n,s);let o=[].concat(t);for(let e=0;e<t.length;e++)"g"===t[e].nodeName&&(o=o.concat(t[e].getTransformableChildren()));n.createAttributeSnapshot(o,"d,x,y,cx,cy,x1,y1,x2,y2,transform");for(let e=0;e<t.length;e++)t[e].resetOrigin();s.createAttributeSnapshot(o,"d,x,y,cx,cy,x1,y1,x2,y2,transform"),n.onExecuteEnd=s.onExecuteEnd=function(){e.selectElementList(t);for(let e=0;e<t.length;e++)"path"===t[e].nodeName&&(t[e].geometryPointList=null)},activeApplication.workspace.update(),this.onChange()}groupElementList_undable(t){const e=this,i=e.activePage;if(0===i.selectionList.length)return null;if(!0!==GeometryUtils.areElementsInEqualParent(i.selectionList))return DIALOGS.alertDialog.open(localString("Invalid operation"),localString("To make a group the elements must be inside the same level or group!")),null;const n=new UndoRedoAction,s=new UndoRedoAction;i.history.addUndoRedoActions(n,s);const o=e.sortElementListByLevel(i.selectionList);e.deselectAll(),n.createDomNodeSnapshot(o,"insert"),s.createDomNodeSnapshot(o,"delete");const a=o[0].parentElement,r=o[o.length-1].nextElementSibling,l=GeometryUtils.getElementListGlobalBBox(o),c=a.globalToLocal(l.center.x,l.center.y);XOS.removeElementList(o);const d=SVGUtils.createGroup(c.x,c.y),u=SVGUtils.createSVGMatrix().translate(-c.x,-c.y);let f,h,m=o.length;for(h=0;h<m;h++)(f=o[h].cloneNode(!0)).getTransform().setMatrix(u.multiply(f.getTransform().matrix)),d.appendChild(f);a.insertBefore(d,r),n.createDomNodeSnapshot([d],"delete"),n.snapshotDataList.reverse(),s.createDomNodeSnapshot([d],"insert"),s.onExecuteEnd=function(){e.selectElementList([d])},n.onExecuteEnd=function(){e.selectElementList(o)},e.selectElementList([d]),activeApplication.workspace.update(),e.onChange()}ungroupElementList_undable(t){const e=this,i=this.activePage;if(0===(t=t||i.selectionList).length)return null;const n=this.sortElementListByLevel(XOS.getFilteredElementListByNodeName(t,"g"));if(0===n.length)return null;const s=new UndoRedoAction,o=new UndoRedoAction;let a,r,l,c,d,u,f,h,m,g,p;i.history.addUndoRedoActions(s,o),s.createDomNodeSnapshot(n,"insert"),o.createDomNodeSnapshot(n,"delete");const v=[];for(r=n.length,a=0;a<r;a++){function y(t){for(h=t.length,f=0;f<h;f++)if((m=t[f])instanceof SVGGraphicsElement){if("clipPath"===m.nodeName||"mask"===m.nodeName)continue;g=m.getTransform().matrix,p=m.cloneNode(!0),d.insertBefore(p,u),p.getTransform().setMatrix(c.multiply(g)),v.push(p)}}if(l=n[a],d=l.parentElement,u=l.nextElementSibling,c=l.getTransform().matrix,y(l.children),l.hasAttribute("clip-path")){y(l.querySelector("clipPath").cloneNode(!0).children)}else if(l.hasAttribute("mask")){y(l.querySelector("mask").cloneNode(!0).children)}l.remove()}return o.createDomNodeSnapshot(v,"insert"),o.snapshotDataList.reverse(),s.createDomNodeSnapshot(v,"delete"),s.snapshotDataList.reverse(),o.onExecuteEnd=function(){e.selectElementList(v)},s.onExecuteEnd=function(){e.selectElementList(n)},e.selectElementList(v),activeApplication.workspace.update(),this.onChange(),v}expandUseElementList_undable(t){const e=this,i=e.activePage;if(0===(t=t||i.selectionList).length)return null;const n=this.sortElementListByLevel(XOS.getFilteredElementListByNodeName(t,"use"));if(0===n.length)return null;const s=new UndoRedoAction,o=new UndoRedoAction;let a,r,l,c,d,u,f,h,m,g,p;i.history.addUndoRedoActions(s,o),s.createDomNodeSnapshot(n,"insert"),o.createDomNodeSnapshot(n,"delete");const v=[];for(r=n.length,a=0;a<r;a++){const t=((l=n[a]).getAttribute("href")||l.getAttribute("xlink:href")).split("#")[1],i=e.resources.getResourceById(t);function y(t){for(h=t.length,f=0;f<h;f++)m=t[f],g=m.getTransform().matrix,p=m.cloneNode(!0),d.insertBefore(p,u),p.getTransform().setMatrix(c.multiply(g)),v.push(p)}d=l.parentElement,u=l.nextElementSibling,c=l.getTransform().matrix,y(i.children),l.remove()}return o.createDomNodeSnapshot(v,"insert"),o.snapshotDataList.reverse(),s.createDomNodeSnapshot(v,"delete"),s.snapshotDataList.reverse(),e.selectElementList(v),activeApplication.workspace.update(),this.onChange(),v}convertElementListToPath_undable(t){const e=this,i=this.activePage;t=t||i.selectionList;const n=this.sortElementListByLevel(XOS.getFilteredElementListByNodeName(t,"ellipse,rect,line,text,path,g"));0!==n.length&&i.convertElementListToPath(n,function(t){if(0===t.length)return;const s=new UndoRedoAction,o=new UndoRedoAction;i.history.addUndoRedoActions(s,o),s.createDomNodeSnapshot(n,"insert"),o.createDomNodeSnapshot(n,"delete");const a=n.length;for(let e=0;e<a;e++)n[e].parentElement.replaceChild(t[e],n[e]);s.createDomNodeSnapshot(t,"delete"),s.snapshotDataList.reverse(),o.createDomNodeSnapshot(t.reverse(),"insert"),s.onExecuteEnd=function(){e.selectElementList(n)},o.onExecuteEnd=function(){e.selectElementList(t)},e.selectElementList(t),activeApplication.workspace.update(),e.onChange()})}convertElementToBitmap(t,e,i,n){i||(i=t.hasAttribute("stroke-width")?parseFloat(t.getAttribute("stroke-width"))/2:t.hasAttribute("clip-path")?0:"image"===t.nodeName?0:20),n=n||1;const s=this,o=s.activePage;let a=[];const r=o.content.getTransform().matrix.clone();o.content.getTransform().matrix.identity();const l=t.getGlobalBBox(),c=l.width+2*i,d=l.height+2*i,u=-l.x+i,f=-l.y+i,h=SVGUtils.createSVGMatrix().translate(u,f).multiply(t.getTransformToElement(o));function m(t){const n=document.createElementNS(SVGSVGElement.SVG_NS,"image");n.setAttributeNS(SVGSVGElement.XLINK_NS,"href",t);const s=SVGUtils.createSVGMatrix().translate(l.x-i,l.y-i);n.getTransform().setMatrix(s),e(n)}function g(t){const e=o.createSVG(Math.round(c),Math.round(d));e.appendChild(s.resources.querySelector("defs").cloneNode(!0)),t.getTransform().setMatrix(h),e.appendChild(t),e.getAsBitmap(m)}if(o.content.getTransform().setMatrix(r),"text"===t.nodeName)this.convertElementListToPath([t],function(t){g(t[0])});else if((a=t.querySelectorAll("text")).length>0){this.convertElementListToPath(a,function(e){for(let t=0;t<a.length;t++)a[t].parentElement.replaceChild(e[t],a[t]);g(t.cloneNode(!0));for(let t=0;t<e.length;t++)e[t].parentElement.replaceChild(a[t],e[t])})}else g(t.cloneNode(!0))}convertElementToBitmap_undable(t){const e=this,i=e.activePage;this.deselectAll(),this.convertElementToBitmap(t,function(n){const s=new UndoRedoAction,o=new UndoRedoAction;s.createDomNodeSnapshot([t],"insert"),o.createDomNodeSnapshot([t],"delete"),i.history.addUndoRedoActions(s,o),t.parentNode.insertBefore(n,t),n.getTransform().setMatrix(n.getTransformToElement(t.parentNode)),t.parentNode.removeChild(t),s.createDomNodeSnapshot([n],"delete"),s.snapshotDataList.reverse(),o.createDomNodeSnapshot([n],"insert"),setTimeout(function(){e.selectElementList([n]),activeApplication.workspace.update()},100)})}centerElementListAtGlobalPoint(t,e,i){if(t.length>0){const n=GeometryUtils.getElementListGlobalBBox(t),s=e-n.center.x,o=i-n.center.y;this.translateElementList(t,s,o),activeApplication.workspace.update(),this.onChange()}}scaleAndRotateByLine(t,e){const i=e.getGeometryPointList(),n=e.getTransformToElement(t.parentElement).transformPointList(i,!0),s=n[1].getDistanceFromPoint(n[0]);if(!t.startWidth)return void(t.startWidth=s);const o=GeometryUtils.getAngleBetweenPoints(n[1],n[0])/(Math.PI/180);let a=t.getTransform().matrix.identity().translate(n[0].x,n[0].y).rotate(o);a=a.scaleNonUniform(s/t.startWidth*this.activePage.content.currentScale,1*this.activePage.content.currentScale),t.getTransform().setMatrix(a)}normalizeScaleElementList(t,e){e||((e={}).scaleStrokeAndEffects=this.preferences.scaleStrokeAndEffects,e.scaleText=this.preferences.scaleText);const i=t.length;let n;for(n=0;n<i;n++)t[n].prepareToNormalizeScale(e);for(n=0;n<i;n++)t[n].normalizeScale(e);for(n=0;n<i;n++)t[n].normalizationData&&delete t[n].normalizationData}pan(t,e){const i=this.activePage.content.getTransform().matrix;if(i.e+=t,i.f+=e,activeApplication.workspace.pageBackground.getTransform().setMatrix(i),activeApplication.activeDocument.preferences.rulersVisibility){const t=activeApplication.editingView.redrawRulers();activeApplication.editingView.gridPattern.setAttribute("patternTransform","matrix(1 0 0 1 "+t.horizontalRulerInfo.origin+" "+t.verticalRulerInfo.origin+")")}TOOLS.activeTool.onDocumentViewChange()}zoom(t,e,i){const n=this.activePage.content.currentScale*t;if(n>250||n<.01)return;this.activePage.content.currentScale=n;const s=this.activePage.content.getTransform().matrix;s.a*=t,s.b*=t,s.c*=t,s.d*=t,s.e*=t,s.f*=t,s.e+=(1-t)*e,s.f+=(1-t)*i,activeApplication.workspace.pageBackground.getTransform().setMatrix(s),activeApplication.editingView.redrawRulersAndGrid(),TOOLS.activeTool.onDocumentViewChange()}hideElementsNotInViewport(){if(this.activePage.classList.remove("only-viewport"),this.activePage.classList.add("check-viewport"),this.elementListInViewport)for(let t=0;t<this.elementListInViewport.length;t++)this.elementListInViewport[t].classList.remove("in-viewport");this.elementListInViewport=this.activePage.getIntersectionList(this.workspaceBounding,null);for(let t=0;t<this.elementListInViewport.length;t++)this.elementListInViewport[t].classList.add("in-viewport");this.activePage.classList.add("only-viewport"),this.activePage.classList.remove("check-viewport")}getPagePreview(t,e,i){if((t=t||this.activePage).preview)return t.preview;e=e||80,i=i||80;const n=t.dataset.pageWidth,s=t.dataset.pageHeight,o=Math.min(e/n,i/s),a=t.cloneNode(!0),r=a.querySelectorAll('image[*|href^="http"]');for(let t=0;t<r.length;t++)r[t].setAttributeNS(SVGSVGElement.XLINK_NS,"href","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABXklEQVRYR+2Uvy5FQRCHv1vqbq/w5wloRCN4AvEEKHQKpY7CA9CJhjfgDe7N7UQiXkCotDRyO5Ffsldknd0Z2XPcZqc5ydndmW/mNzM9YMwUrRcAZqbEMK4AtQK1Al1W4AA4Aj6BU+CyYdQ7G8NF4CkKOAu8Rv86A1gDRlGwFeC+BKAPbAC3zq35ACyHu3fAaqkEh8BxcPrigBDwfuiBC+CjFEBB54BHYBN4d0BYV9w9sAtc/fB2DexZ3h3nboAhsB45FIBASswFoMYbNESRBJJCksQm/T0SuQDU9VuJNJv64QzYARYcECbAPPBs1FiA24CyvgmjqieT/7nnJoA0VjaWKWtJtRRdFFhub2QBlNGbFdk41+hqGaX6IQtwEhZPIQPngJZYkyUBlL2017cN07RolGNLAsSLpxQiJUUWQBPQpqkZ451hTkGbAH/qga4DT/zXCtQKfFfgv5ruV5wvelhvAbHhJ0UAAAAASUVORK5CYII="),r[t].setAttribute("preserveAspectRatio","none");a.setAttribute("width",Math.round(n*o)),a.setAttribute("height",Math.round(s*o));const l=a.querySelector(".content").getTransform();l.setMatrix(l.matrix.identity().scale(o)),a.appendChild(this.resources.querySelector("defs").cloneNode(!0));const c=(new XMLSerializer).serializeToString(a).normalize("NFD").replace(/[\u00A0-\u2666]/g,function(t){return"&#"+t.charCodeAt(0)+";"});return t.preview=new Image,t.preview.src="data:image/svg+xml;base64,"+btoa(c),t.preview}convertPageToBitmap(t,e,i,n){function s(t){e(t)}function o(){const e=t.createSVG(t.dataset.pageWidth,t.dataset.pageHeight);e.appendChild(activeApplication.activeDocument.resources.querySelector("defs").cloneNode(!0)),e.appendChild(t.querySelector(".layers").cloneNode(!0)),e.getAsBitmap(s,i,1,n)}let a=(t=t||this.activePage).querySelectorAll("text");if(a.length>0){t.convertElementListToPath(a,function(t){for(let e=0;e<a.length;e++)a[e].parentElement.replaceChild(t[e],a[e]);o();for(let e=0;e<t.length;e++)t[e].parentElement.replaceChild(a[e],t[e])})}else o()}refactorElementID(t,e,i){i=i||this.shadowRoot;const n=t.getAttribute("id");let s;switch(t.setAttribute("id",e),t.nodeName){case"symbol":s=i.querySelectorAll('use[href="#'+n+'"]'),this.setAttributeElementList(s,{href:"#"+e});break;case"filter":s=i.querySelectorAll('*[filter*="#'+n+'"]'),this.setAttributeElementList(s,{filter:"url(#"+e+")"});break;case"marker":s=i.querySelectorAll('*[marker-start*="url(#'+n+')"]'),this.setAttributeElementList(s,{"marker-start":"url(#"+e+")"}),s=i.querySelectorAll('*[marker-mid*="url(#'+n+')"]'),this.setAttributeElementList(s,{"marker-mid":"url(#"+e+")"}),s=i.querySelectorAll('*[marker-end*="url(#'+n+')"]'),this.setAttributeElementList(s,{"marker-end":"url(#"+e+")"});break;case"linearGradient":case"radialGradient":case"pattern":s=i.querySelectorAll('*[fill*="url(#'+n+')"]'),this.setAttributeElementList(s,{fill:"url(#"+e+")"}),s=i.querySelectorAll('*[stroke*="url(#'+n+')"]'),this.setAttributeElementList(s,{stroke:"url(#"+e+")"});break;default:s=i.querySelectorAll('*[clip-path*="url(#'+n+')"]'),this.setAttributeElementList(s,{"clip-path":"url(#"+e+")"}),s=i.querySelectorAll('*[mask*="url(#'+n+')"]'),this.setAttributeElementList(s,{mask:"url(#"+e+")"}),s=i.querySelectorAll('*[*|href="#'+n+'"]'),this.setAttributeElementList(s,{href:"#"+e})}return s}removeElementList_undable(t){if(0===t.length)return null;this.deselectAll();const e=new UndoRedoAction,i=new UndoRedoAction;this.activePage.history.addUndoRedoActions(e,i);const n=t.length;for(let s=0;s<n;s++)e.createDomNodeSnapshot([t[s]],"insert"),i.createDomNodeSnapshot([t[s]],"delete"),t[s].remove();e.snapshotDataList.reverse();const s=this;e.onExecuteEnd=function(){s.selectElementList(t)},activeApplication.workspace.update(),this.onChange()}replaceElementList_undable(t,e,i=!0){t=this.sortElementListByLevel(t);const n=new UndoRedoAction("undo replace element list"),s=new UndoRedoAction("redo replace element list");this.activePage.history.addUndoRedoActions(n,s),n.createDomNodeSnapshot(t,"insert"),s.createDomNodeSnapshot(t,"delete");let o=t.length;const a=t[o-1].parentElement,r=t[o-1].nextElementSibling;for(let e=0;e<o;e++)t[e].parentElement.removeChild(t[e]);o=e.length;for(let t=0;t<o;t++)a.insertBefore(e[t],r);n.createDomNodeSnapshot(e,"delete"),s.createDomNodeSnapshot(e,"insert"),s.snapshotDataList.reverse(),n.snapshotDataList.reverse();const l=this;return i&&(n.onExecuteEnd=function(){l.selectElementList(t)},s.onExecuteEnd=function(){l.selectElementList(e)}),this.selectElementList(e),activeApplication.workspace.update(),l.onChange(),{undoAction:n,redoAction:s}}replaceElement_undable(t,e,i=!0){const n=new UndoRedoAction("undo replace element"),s=new UndoRedoAction("redo replace element");this.activePage.history.addUndoRedoActions(n,s);const o=t.parentElement,a=t.nextElementSibling;n.createDomNodeSnapshot([t],"insert"),s.createDomNodeSnapshot([t],"delete"),XOS.removeElementList([t]);const r=e.length;for(let t=0;t<r;t++)o.insertBefore(e[t],a);n.createDomNodeSnapshot(e,"delete"),s.createDomNodeSnapshot(e,"insert"),s.snapshotDataList.reverse();const l=this;return i&&(n.onExecuteEnd=function(){l.selectElementList([t])},s.onExecuteEnd=function(){l.selectElementList(e)}),this.selectElementList(e),activeApplication.workspace.update(),l.onChange(),{undoAction:n,redoAction:s}}placeImage_undable(t,e,i,n){const s=this.activePage,o=this.getActivePageLayer(),a=this;const r=SVGUtils.createImage(t,0,0,e,i,function(){r.resetOrigin(),a.selectElementList([r]),a.centerElementListAtGlobalPoint([r],a.workspaceBounding.width/2,a.workspaceBounding.height/2),activeApplication.workspace.snapInteraction2D.reset(),activeApplication.workspace.update(),n&&n(r)});r.dataset.mantainAspectRatio="true",o.appendChild(r);const l=new UndoRedoAction,c=new UndoRedoAction;s.history.addUndoRedoActions(l,c),c.onExecuteEnd=function(){a.selectElementList([r])},c.createDomNodeSnapshot([r],"insert"),l.createDomNodeSnapshot([r],"delete"),this.onChange()}importLocalImageAsDataURL_undable(t){const e=this;LOCAL_FILE_SYSTEM.chooseFile("image/*",function(i){LOCAL_FILE_SYSTEM.readImageFileAsDataUrl(i.target.files[0],function(i){e.placeImage_undable(i,null,null,t)})})}createMaskedContent(t,e){if(t.length<2)return null;if(!0!==GeometryUtils.areElementsInEqualParent(t))return DIALOGS.alertDialog.open(localString("Invalid operation"),localString("To make a masked content the elements must be inside the same level or group!")),null;if(!(t=this.sortElementListByLevel(t)))return;let i=t[0];const n=i.parentElement,s=SVGUtils.createMask(e),o=SVGUtils.createGroup();o.getTransform().setMatrix(i.getTransform().matrix.clone()),n.appendChild(o),o.appendChild(s);const a=i.getTransformToElement(o);function r(t){const e=t.getTransformToElement(o);t=t.cloneNode(!0),s.appendChild(t),t.getTransform().setMatrix(e)}i=i.cloneNode(!0),o.appendChild(i),i.getTransform().setMatrix(a);for(let e=1;e<t.length;e++)r(t[e]);return o.setAttribute("mask","url(#"+e+")"),o}createMaskedContent_undable(t,e){const i=this.activePage;if((t=t||i.selectionList).length<2)return null;e=e||XOS.createUniqueIDI("mask"),this.deselectAll(),t=this.sortElementListByLevel(t);const n=new UndoRedoAction,s=new UndoRedoAction;n.createDomNodeSnapshot(t,"insert"),s.createDomNodeSnapshot(t,"delete");const o=this.createMaskedContent(t,e);XOS.removeElementList(t),o&&(i.history.addUndoRedoActions(n,s),n.createDomNodeSnapshot([o],"delete"),n.snapshotDataList.reverse(),s.createDomNodeSnapshot([o],"insert"),this.selectElementList([o]),activeApplication.workspace.update())}createClippedContent(t,e){if(t.length<2)return null;if(!0!==GeometryUtils.areElementsInEqualParent(t))return DIALOGS.alertDialog.open(localString("Invalid operation"),localString("To make a clipped content the elements must be inside the same level or group!")),null;if(!(t=this.sortElementListByLevel(t)))return;let i=t[0];const n=i.parentElement,s=SVGUtils.createClipPath(e),o=SVGUtils.createGroup();o.getTransform().setMatrix(i.getTransform().matrix.clone()),n.appendChild(o),o.appendChild(s);const a=i.getTransformToElement(o);function r(t){const e=t.getTransformToElement(s);t=t.cloneNode(!0),s.appendChild(t),t.getTransform().setMatrix(e)}i=i.cloneNode(!0),o.appendChild(i),i.getTransform().setMatrix(a);for(let e=1;e<t.length;e++)r(t[e]);return o.setAttribute("clip-path","url(#"+e+")"),o}createClippedContent_undable(t,e){const i=this.activePage;if((t=t||i.selectionList).length<2)return null;e=e||XOS.createUniqueIDI("clipPath"),this.deselectAll(),t=this.sortElementListByLevel(t);const n=new UndoRedoAction,s=new UndoRedoAction;n.createDomNodeSnapshot(t,"insert"),s.createDomNodeSnapshot(t,"delete");const o=this.createClippedContent(t,e);XOS.removeElementList(t),o&&(i.history.addUndoRedoActions(n,s),n.createDomNodeSnapshot([o],"delete"),n.snapshotDataList.reverse(),s.createDomNodeSnapshot([o],"insert"),this.selectElementList([o]),activeApplication.workspace.update())}createSymbolFromElementList(t,e,i){if(0===t.length)return null;const n=e||XOS.createUniqueIDI("symbol");this.deselectAll();const s=SVGUtils.createSymbol(n),o=this.activePage;let a;this.scaleElementList(t,1,1,{x:o.clientWidth/2,y:o.clientHeight/2});for(let e=0;e<t.length;e++)a=t[e],s.appendChild(t[e].cloneNode(!0));this.resources.addResource(s);const r=SVGUtils.createUse(n);XOS.removeElementList(t),this.getActivePageLayer().appendChild(r),activeApplication.workspace.update()}createSymbol_undable(t,e){const i=this.activePage;if(0===(t=t||i.selectionList).length)return null;const n=e||XOS.createUniqueIDI("symbol");this.deselectAll();const s=(t=this.sortElementListByLevel(t))[0].parentElement,o=t[t.length-1].nextElementSibling,a=SVGUtils.createSymbol(n),r=GeometryUtils.getElementListGlobalBBox(t),l=i.content.globalToLocal(r.x,r.y);let c;this.translateElementList(t,-l.x,-l.y,!0);for(let e=0;e<t.length;e++)c=t[e],a.appendChild(t[e].cloneNode(!0));this.translateElementList(t,l.x,l.y,!0),this.resources.addResource(a);const d=SVGUtils.createUse(n),u=new UndoRedoAction,f=new UndoRedoAction;i.history.addUndoRedoActions(u,f),u.createDomNodeSnapshot(t,"insert"),f.createDomNodeSnapshot(t,"delete"),XOS.removeElementList(t),s.insertBefore(d,o),this.translateElementList([d],l.x,l.y,!0),u.createDomNodeSnapshot([d],"delete"),u.createDomNodeSnapshot([a],"delete"),u.snapshotDataList.reverse(),f.createDomNodeSnapshot([a],"insert"),f.createDomNodeSnapshot([d],"insert"),this.selectElementList([d]),activeApplication.workspace.update()}createPattern_undable(t,e){const i=this.activePage;if(0===(t=t||i.selectionList).length)return null;const n=e||XOS.createUniqueIDI("pattern");this.deselectAll();const s=GeometryUtils.getElementListGlobalBBox(t),o=i.content.globalToLocal(s.x,s.y),a=SVGUtils.createPattern(n,0,0,s.width*(1/i.content.currentScale),s.height*(1/i.content.currentScale));let r;this.translateElementList(t,-o.x,-o.y,!0);for(let e=0;e<t.length;e++)r=t[e],a.appendChild(t[e].cloneNode(!0));this.translateElementList(t,o.x,o.y,!0),this.resources.addResource(a);const l=new UndoRedoAction,c=new UndoRedoAction;i.history.addUndoRedoActions(l,c),l.createDomNodeSnapshot(t,"insert"),c.createDomNodeSnapshot(t,"delete"),XOS.removeElementList(t),l.createDomNodeSnapshot([a],"delete"),l.snapshotDataList.reverse(),c.createDomNodeSnapshot([a],"insert"),this.enterTo_isolateLayerEditing(a),activeApplication.workspace.update()}createMarker_undable(t,e){const i=this.activePage;if(0===(t=t||i.selectionList).length)return null;const n=e||XOS.createUniqueIDI("marker");this.deselectAll();const s=GeometryUtils.getElementListGlobalBBox(t),o=i.content.globalToLocal(s.x,s.y),a=SVGUtils.createMarker(n,s.width*(1/i.content.currentScale),s.height*(1/i.content.currentScale));let r;this.translateElementList(t,-o.x,-o.y,!0);for(let e=0;e<t.length;e++)r=t[e],a.appendChild(t[e].cloneNode(!0));this.translateElementList(t,o.x,o.y,!0),this.resources.addResource(a);const l=new UndoRedoAction,c=new UndoRedoAction;i.history.addUndoRedoActions(l,c),l.createDomNodeSnapshot(t,"insert"),c.createDomNodeSnapshot(t,"delete"),XOS.removeElementList(t),l.createDomNodeSnapshot([a],"delete"),l.snapshotDataList.reverse(),c.createDomNodeSnapshot([a],"insert"),this.enterTo_isolateLayerEditing(a),activeApplication.workspace.update()}createTextOnPath_undable(t){const e=this.activePage;let i,n;if(t=t||e.selectionList,this.deselectAll(),1===t.length&&"text"===t[0].nodeName){const e=(i=t[0]).getLocalBBox(),s=SVGUtils.createEllipse(e.center.x,e.center.x,e.width/2,e.width/2);(n=SVGUtils.createPath()).setPathData(s.getPathData()),n.getTransform().setMatrix(i.getTransform().matrix.clone()),n.setAttribute("fill","none"),n.setAttribute("stroke","#000000"),n.setAttribute("stroke-width","0"),i.parentElement.insertBefore(n,i.nextElementSibling)}else{if(2!==t.length)return null;t[0]instanceof SVGTextElement?(i=t[0],n=t[1]):(n=t[0],i=t[1])}const s=(t=this.sortElementListByLevel(t))[t.length-1].parentElement,o=t[t.length-1].nextElementSibling,a=XOS.createUniqueIDI("path"),r=SVGUtils.createGroup();let l;r.getTransform().setMatrix(n.getTransform().matrix.clone()),"path"!==n.nodeName?(l=SVGUtils.createPath()).setPathData(n.getPathData({normalize:!0})):l=n.cloneNode(),l.getTransform().matrix.identity(),l.setAttribute("id",a),l.setAttribute("data-type","EditableTextPath"),r.appendChild(l);const c=i.cloneNode(!1);c.setAttribute("data-type","TextOnPath"),c.getTransform().matrix.identity();const d=document.createElementNS(SVGSVGElement.SVG_NS,"textPath");d.setAttributeNS(SVGSVGElement.XLINK_NS,"href","#"+a),c.appendChild(d),r.appendChild(c);const u=new UndoRedoAction,f=new UndoRedoAction;u.createDomNodeSnapshot(t,"insert"),f.createDomNodeSnapshot(t,"delete"),e.history.addUndoRedoActions(u,f),XOS.removeElementList(t),s.insertBefore(r,o),u.createDomNodeSnapshot([r],"delete"),u.snapshotDataList.reverse(),f.createDomNodeSnapshot([r],"insert"),this.selectElementList([r]),activeApplication.workspace.update()}createInsertTextDataUndoRedoActions(t,e){var i=new DeleteTextData_action(this);i.setDeleteTextDataProperties(t,e.offset,e.text.length);var n=new InsertTextData_action(this);n.setInsertTextDataProperties(t,e),this.activePage.history.addUndoRedoActions(i,n)}createDeleteTextDataUndoRedoActions(t,e){var i=new InsertTextData_action(this);i.setInsertTextDataProperties(t,e);var n=new DeleteTextData_action(this);n.setDeleteTextDataProperties(t,e.offset,e.text.length),this.activePage.history.addUndoRedoActions(i,n)}setTextAttribute_undable(t,e,i,n){var s,o,a=i||t.storedTextSelectionRange.textDataStartOffset,r=n||t.storedTextSelectionRange.textDataEndOffset;(s=new SetTextDataStyle_action(this)).setTextDataStyleRange(t,a,r),this.setAttributeElementList([t],e),(o=new SetTextDataStyle_action(this)).setTextDataStyleRange(t,a,r),this.activePage.history.addUndoRedoActions(s,o)}applyFontElementList_undable(t,e,i){if(0===t.length)return;var n=XOS.getFilteredElementListByNodeName(t,"text");if(0===n.length)return;i=i||e.variants[0];var s=window.GoogleFonts.getGoogleFontStyleAndWeightByVariantName(i);this.setAttributeElementList_undable(n,{"font-family":e.family,"font-style":s["font-style"],"font-weight":s["font-weight"]},!0),this.onChange();const o=WINDOWS.progressWindow;o.open(!0).setProgressBarValue(1).startVirtualProgress(1e5),window.GoogleFonts.loadGoogleFont(e,i,null,function(){o.endVirtualProgress(),activeApplication.workspace.update()})}serialize(){return(new XMLSerializer).serializeToString((new DocumentSerializer).serialize(this))}onPaste(t){this.pasteElements(t),t.stopPropagation(),t.preventDefault(),activeApplication.workspace.update()}onCopy(t){if(this.copyAndCutListener)return this.copyAndCutListener.onCopy(t),this.copyAndCutListener=null,void t.preventDefault();this.copySelectedElements(t),t.preventDefault()}onCut(t){if(this.copyAndCutListener)return this.copyAndCutListener.onCut(t),this.copyAndCutListener=null,void t.preventDefault();this.cutSelectedElements(t),t.preventDefault()}cutSelectedElements(t){this.copySelectedElements(t),this.removeElementList_undable(activeApplication.activeDocument.activePage.selectionList),this.onChange()}sortElementListByLevel(t){const e=t.length;let i;for(i=0;i<e;i++)t[i].classList.add("sortable");for(t=this.activePage.querySelectorAll(".sortable"),i=0;i<e;i++)t[i].classList.remove("sortable");return[].slice.call(t,0)}copySelectedElements(t){if(window.preventCopy)return void t.clipboardData.setData("text/plain","jango");const e=this.sortElementListByLevel(this.activePage.selectionList),i=(new DocumentSerializer).serializeForClipboard(e);t.clipboardData.setData("text/plain",(new XMLSerializer).serializeToString(i))}pasteElements(t){if(!t.clipboardData)return;if(!t.clipboardData.items)return;const e=this,i=e.activePage,n=t.clipboardData.items;let s;function o(t){if(0===t.length)return null;const n=new UndoRedoAction,s=new UndoRedoAction;i.history.addUndoRedoActions(n,s);const o=t.length;for(let e=0;e<o;e++)n.createDomNodeSnapshot([t[e]],"delete"),s.createDomNodeSnapshot([t[e]],"insert");s.snapshotDataList.reverse(),s.onExecuteEnd=function(){e.selectElementList(t)},activeApplication.workspace.update(),e.onChange()}for(let i=0;i<n.length;i++)if("file"===(s=n[i]).kind)s.type.indexOf("image")>-1&&LOCAL_FILE_SYSTEM.readImageFileAsDataUrl(s.getAsFile(),function(t){e.placeImage_undable(t)});else if("string"===s.kind&&"text/plain"===s.type){let e=t.clipboardData.getData("text/plain"),i=e.indexOf("<svg");if(-1===i)continue;-1===e.indexOf('xmlns="http://www.w3.org/2000/svg"')&&(e=e.replace("<svg",'<svg xmlns="http://www.w3.org/2000/svg" ')),e=e.substring(i,e.lastIndexOf("</svg>")+6);const n=(new DOMParser).parseFromString(e,"image/svg+xml").querySelector("svg");activeApplication.documentsManager.unserializeDocument(n,{import:!0,importInPlace:KEYBOARD_EVENT_MANAGER.shiftKeyPressed||t.shiftKey},o)}else if("string"===s.kind&&"image/svg+xml"===s.type){const e=(new DOMParser).parseFromString(t.clipboardData.getData("image/svg+xml"),"image/svg+xml").documentElement;activeApplication.documentsManager.unserializeDocument(e,{import:!0,importInPlace:KEYBOARD_EVENT_MANAGER.shiftKeyPressed||t.shiftKey},o)}else"string"===s.kind&&s.type}enterTo_isolateLayerEditing(t){this.deselectAll();let e=t.nodeName.toUpperCase();t.hasAttribute("id")&&(e=t.getAttribute("id"));const i=this.createPageLayer(e);i.classList.add("isolate-layer"),t.hasAttribute("clip-path")?(i.setAttribute("data-custom-element","ClipEditing_layer"),i.controller=new ClipEditing_layer(i,t)):t.hasAttribute("mask")?(i.setAttribute("data-custom-element","MaskEditing_layer"),i.controller=new MaskEditing_layer(i,t)):"symbol"===t.nodeName?(i.setAttribute("data-custom-element","SymbolEditing_layer"),i.controller=new SymbolEditing_layer(i,t)):"pattern"===t.nodeName?(i.setAttribute("data-custom-element","PatternEditing_layer"),i.controller=new PatternEditing_layer(i,t)):"marker"===t.nodeName?(i.setAttribute("data-custom-element","MarkerEditing_layer"),i.controller=new MarkerEditing_layer(i,t)):"g"===t.nodeName&&(i.setAttribute("data-custom-element","GroupEditing_layer"),i.controller=new GroupEditing_layer(i,t)),this.addPageLayer(i);const n=new UndoRedoAction,s=new UndoRedoAction;this.activePage.history.addUndoRedoActions(n,s),n.createDomNodeSnapshot([i],"delete"),s.createDomNodeSnapshot([i],"insert"),s.onExecuteEnd=function(){i.controller.onAdded()},n.onExecuteEnd=function(){i.controller.onRemoved()},i.controller.enterToEditing(),activeApplication.workspace.snapInteraction2D.reset(),activeApplication.workspace.update()}exitFrom_isolateLayerEditing(){activeApplication.isTextEditing&&this.exitFromTextEditing(),this.deselectAll();const t=this.activePage.content.querySelector(".layers").children;t[t.length-1].controller.exitFromEditing()}exitFrom_AllIsolateLayerEditing(){activeApplication.isTextEditing&&this.exitFromTextEditing(),this.deselectAll();const t=this.activePage.content.querySelector(".layers");for(;t.lastElementChild.classList.contains("isolate-layer");)this.exitFrom_isolateLayerEditing()}exitFromTextEditing(){if("text"===activeApplication.currentEditableTextElement.nodeName)activeApplication.currentEditableTextElement.exitFromTextEditing();else{const t=activeApplication.currentEditableTextElement.querySelector("div");t.removeAttribute("contenteditable"),t.blur(),activeApplication.isTextEditing=!1,activeApplication.currentEditableTextElement=null}}}customElements.define("document-2d",Document2D_cmp);class DocumentSerializer{constructor(t){this.timestamp=(new Date).getTime(),this.options=t||{},this.documentToSerialize=null,this.svgOutputDocument=null,this.pagePosY=0}serialize(t,e){this.options=e||{},this.svgOutputDocument=null,this.documentToSerialize=t||activeApplication.activeDocument;const i=this.documentToSerialize.activePage;this.svgOutputDocument=i.createSVG(i.dataset.width,i.dataset.height),"unset"!==this.documentToSerialize.preferences.svgAlignmentPreserveAspectRatio?this.svgOutputDocument.setAttribute("preserveAspectRatio",this.documentToSerialize.preferences.svgAlignmentPreserveAspectRatio):this.svgOutputDocument.setAttribute("style","height:unset;"),this.svgOutputDocument.storeJsonData("jvs-doc-preferences",this.documentToSerialize.preferences),this.svgOutputDocument.dataset.version="6.4";const n=this.documentToSerialize.resources.querySelector("defs").cloneNode(!0);return this.svgOutputDocument.appendChild(n),this.serializePageList(),this.serializeCssClasses(),this.fixAttributes(),this.svgOutputDocument.removeUnusedResources(this.options),this.serializeFontLinks(),this.serializeSVGXlinks(),this.serializeImages(),this.svgOutputDocument}serializeForClipboard(t){this.documentToSerialize=activeApplication.activeDocument;const e=this.documentToSerialize.activePage;this.svgOutputDocument=e.createSVG(e.dataset.width,e.dataset.height),this.svgOutputDocument.storeJsonData("jvs-doc-preferences",this.documentToSerialize.preferences),this.svgOutputDocument.dataset.version="6.4",this.svgOutputDocument.setAttribute("clipboard-id",activeApplication.activeDocument.getAttribute("id"));const i=this.documentToSerialize.resources.querySelector("defs").cloneNode(!0);let n,s,o,a;this.svgOutputDocument.appendChild(i);for(let e=0;e<t.length;e++)o=(n=t[e]).getLayerOwner(),a=n.getTransformToElement(o),(s=n.cloneNode(!0)).getTransform().setMatrix(a),this.svgOutputDocument.appendChild(s);return this.serializeCssClasses(),this.fixAttributes(),this.svgOutputDocument.removeUnusedResources(this.options),this.serializeFontLinks(),this.serializeSVGXlinks(),this.serializeImages(),this.svgOutputDocument}createPrintingStyle(){const t=document.createElement("style");return t.innerHTML="\n\n        @page { size: A4; margin: 0; }\n\n        @media print {\n            .resources { position: absolute; top: 0; left: 0; }\n            .page { display: inline!important; margin: 0; padding: 0; page-break-after: always; width: 100%; height: 100%; }\n            .page:last-child {  page-break-after: auto;  }\n            .page .background-layers{ display:none; }\n            .page .foreground-layers{ display:none; }\n        }\n    ",t}serializePageList(){this.pagePosY=0;const t=this.options.pageList||this.documentToSerialize.pageList.children;let e,i;const n=t.length;for(let s=0;s<n;s++)e=t[s],(i=this.serializePage(e)).setAttribute("y",this.pagePosY),this.svgOutputDocument.appendChild(i),this.pagePosY+=parseFloat(e.dataset.pageHeight);this.svgOutputDocument.setAttribute("viewBox","0 0 "+t[0].dataset.pageWidth+" "+this.pagePosY)}serializePage(t){const e=t.cloneNode(!0);return e.querySelector(".content").removeAttribute("transform"),e.setAttribute("width",t.dataset.pageWidth),e.setAttribute("height",t.dataset.pageHeight),e.setAttribute("viewBox","0 0 "+t.dataset.pageWidth+" "+t.dataset.pageHeight),t.timelines&&e.storeJsonData("jvs-page-timelines",t.timelines),e}serializeFontLinks(){let t,e,i,n,s,o;const a=this.svgOutputDocument.querySelectorAll("[font-family]"),r=[];let l;for(l=0;l<a.length;l++)e=(o=a[l]).getAttribute("font-family").split(" ").join("+"),i=o.getAttribute("font-style")||"regular",n=o.getAttribute("font-weight")||"",s=window.GoogleFonts.getFontUrlByFontFamilyStyleAndWeight(e,i,n,null),(t=document.head.querySelector('*[href*="'+s+'"]'))&&-1===r.indexOf(t)&&r.push(t);const c=this.svgOutputDocument.querySelector("defs");let d;for(l=0;l<r.length;l++)(d=r[l].cloneNode()).appendChild(document.createTextNode("")),c.appendChild(d)}serializeSVGXlinks(){let t,e,i,n,s;const o=this.svgOutputDocument.querySelectorAll("[data-xlink-href]");for(t=0;t<o.length;t++)i=(s=o[t]).getAttribute("data-xlink-href"),s.removeAttribute("data-xlink-href"),s.hasAttribute("data-xlink-target")&&(n=s.getAttribute("data-xlink-target").trim(),s.removeAttribute("data-xlink-target"),""===n&&(n=null)),(e=SVGUtils.createXlink(i,n)).appendChild(s.cloneNode(!0)),s.parentNode.replaceChild(e,s)}serializeImages(){const t=this.svgOutputDocument.querySelectorAll("[data-full-path]");let e,i;for(e=0;e<t.length;e++)(i=t[e]).setAttributeNS(SVGElement.XLINK_NS,"href",i.dataset.fullPath.slice(1)),i.removeAttribute("data-full-path")}serializeCssClasses(){const t=this.svgOutputDocument.querySelectorAll("[data-css-class]");let e,i;for(e=0;e<t.length;e++)(i=t[e]).__setAttribute("class",i.getAttribute("data-css-class")),i.removeAttribute("data-css-class")}fixAttributes(){let t,e=this.svgOutputDocument.querySelectorAll("[systemLanguage]"),i=e.length;for(t=0;t<i;t++)e[t].removeAttribute("systemLanguage");for(i=(e=this.svgOutputDocument.querySelectorAll("[requiredExtensions]")).length,t=0;t<i;t++)e[t].removeAttribute("requiredExtensions");for(i=(e=this.svgOutputDocument.querySelectorAll("[selected]")).length,t=0;t<i;t++)e[t].removeAttribute("selected");for(i=(e=this.svgOutputDocument.querySelectorAll(".pointer-hover")).length,t=0;t<i;t++)e[t].classList.remove("pointer-hover");for(i=(e=this.svgOutputDocument.querySelectorAll("tspan[data-start-offset]")).length,t=0;t<i;t++)e[t].removeAttribute("data-start-offset");for(i=(e=this.svgOutputDocument.querySelectorAll("title")).length,t=0;t<i;t++)0===e[t].textContent.length&&e[t].remove();for(i=(e=this.svgOutputDocument.querySelectorAll("desc")).length,t=0;t<i;t++)0===e[t].textContent.length&&e[t].remove()}}class DocumentUnserializer{constructor(){this.parsedFonts=null,this.targetDocument=null,this.sourceSVG=null,this.options=null,this.importedNodes=null,this.isJanvasDocument=null}askBeforeForImportPages(){const t=DIALOGS["import-pages-action-request-dialog"],e=this;t.open(null,null,function(){e.options.importPagesBehaviourAction=this.controlledElements.importPagesBehaviourAction.value,e.onBeforeParser(),this.close()})}askBeforeForImportDefs(){const t=DIALOGS["defs-action-request-dialog"],e=this;t.open(null,null,function(){e.options.defsBehaviourAction=this.controlledElements.defsBehaviourAction.value,e.onBeforeParser(),this.close()})}askBeforeForImportInnerSVG(){const t=DIALOGS["inner-svg-action-request-dialog"],e=this;t.open(null,null,function(){e.options.importInnerSvgAs=this.controlledElements.importInnerSvgAs.value,e.onBeforeParser(),this.close()})}fixSymbolAndMarkerViewBox(){const t=this.sourceSVG.querySelectorAll("symbol,marker");for(let e=0;e<t.length;e++)t[e].removeAttribute("viewBox"),t[e].setAttribute("overflow","visible")}parse(t,e,i){this.options=e||{},this.sourceSVG=t,this.isJanvasDocument=!(!this.sourceSVG.dataset||!this.sourceSVG.dataset.version),this.importedNodes=[],this.targetDocument=activeApplication.activeDocument,this.onBeforeParser(),i&&i(this.importedNodes)}onBeforeParser(){this.fixSymbolAndMarkerViewBox();let t=null;if(this.options.import){if(t=this.targetDocument.resources.querySelector("defs"),this.isJanvasDocument)if(this.sourceSVG.hasAttribute("clipboard-id"))this.sourceSVG.getAttribute("clipboard-id")===this.targetDocument.getAttribute("id")&&(this.options.defsBehaviourAction="defsMantainTarget");else if(!this.options.importPagesBehaviourAction)return void this.askBeforeForImportPages();if(!this.options.defsBehaviourAction){if(this.sourceSVG.querySelector("defs")&&this.sourceSVG.areSourceDefsInTargetDefs(t))return void this.askBeforeForImportDefs()}}this.isJanvasDocument||this.options.importInnerSvgAs||!this.sourceSVG.querySelector("svg")?this.parseAll(t):this.askBeforeForImportInnerSVG()}parseAll(t){this.sourceSVG.parse_clear(),this.sourceSVG.parse_scripts(),this.sourceSVG.consolidateMatrix(),this.sourceSVG.parse_clipPaths(),this.sourceSVG.parse_masks(),this.sourceSVG.parse_cssToAttributes(),this.sourceSVG.parse_styleToAttributes(),this.sourceSVG.parse_class(),this.parsedFonts=this.sourceSVG.parse_fonts(),this.sourceSVG.parse_gradients(),this.sourceSVG.parse_anchors(),this.isJanvasDocument||this.sourceSVG.sanitize_geometry(),this.sourceSVG.parse_text(),this.sourceSVG.parse_defs(t),this.finalize(),activeApplication.editingView.update()}finalize(){this.convertInnerSvg(),this.addDefsElementsInDocument(),this.addFontsInDocument(),this.addContentInDocument(),activeApplication.documentTabBar.update()}convertInnerSvg(){if("pattern"===this.options.importInnerSvgAs){const t=this.targetDocument.resources.querySelector("defs"),e=this.sourceSVG.querySelectorAll("svg");let i,n,s,o,a,r;for(let l=0;l<e.length;l++)n=(i=e[l]).getAttribute("width")||i.getLocalBBox().width,s=i.getAttribute("height")||i.getLocalBBox().height,a=i.getAttribute("id")||XOS.createUniqueIDI("pattern"),o=this.sourceSVG.createPattern(a,0,0,n,s),i.cloneChildrenTo(o),t.appendChild(o),(r=this.sourceSVG.createRect(0,0,100,100)).setAttribute("fill","url(#"+a+")"),i.parentElement.replaceChild(r,i)}}addDefsElementsInDocument(){const t=this.sourceSVG.querySelector("defs"),e=this.targetDocument.resources.querySelector("defs");if(t){if(this.options.import)if("defsReplaceTarget"===this.options.defsBehaviourAction){const e=t.querySelectorAll("[data-item-exists]");let i;for(let t=0;t<e.length;t++)(i=e[t]).removeAttribute("data-item-exists"),i.targetDefsItem.ownerSVGElement&&i.targetDefsItem.parentElement.replaceChild(i,i.targetDefsItem),delete i.targetDefsItem}else if("defsMantainTarget"===this.options.defsBehaviourAction){const e=t.querySelectorAll("[data-item-exists]");let i;for(let t=0;t<e.length;t++)(i=e[t]).removeAttribute("data-item-exists"),i.ownerSVGElement&&i.remove(),delete i.targetDefsItem}else if("defsRefactorSource"===this.options.defsBehaviourAction){const e=t.querySelectorAll("[data-item-exists]");let i;for(let t=0;t<e.length;t++){(i=e[t]).removeAttribute("data-item-exists");const n=this.targetDocument.resources.createResourceIdFromExistentId(i.getAttribute("id"));this.targetDocument.refactorElementID(i,n,this.sourceSVG),delete i.targetDefsItem}}else if("defsRefactorTarget"===this.options.defsBehaviourAction){const e=t.querySelectorAll("[data-item-exists]");let i;for(let t=0;t<e.length;t++){(i=e[t]).removeAttribute("data-item-exists");const n=this.targetDocument.resources.createResourceIdFromExistentId(i.getAttribute("id"));this.targetDocument.refactorElementID(i.targetDefsItem,n),delete i.targetDefsItem}}for(;t.firstElementChild;)e.appendChild(t.firstElementChild);t.remove()}}addFontsInDocument(){const t=[];let e,i,n,s;for(let o=0;o<this.parsedFonts.length;o++)i=this.parsedFonts[o].href,(e=document.head.querySelector('link[href="'+i+'"]'))||t.push(XOS.includeCSS(i)),s=(n=XOS.extractUrlVars(i)).family.split(":")[0].replace(/\+/g," "),window.GoogleFonts.selectFontByFamilyName(s);return t}addContentInDocument(){const t=activeApplication.activeDocument,e=t.activePage;let i=1;if(this.isJanvasDocument)if("6.4"===this.sourceSVG.dataset.version&&(this.sourcePreferences=this.parsePreferences()),this.sourceSVG.hasAttribute("clipboard-id")){this.sourceSVG.removeChild(this.sourceSVG.querySelector('[data-type="jvs-doc-preferences"]'));const n=t.getActivePageLayer(),s=[].slice.call(this.sourceSVG.children,0);if(this.sourceSVG.moveChildrenTo(n),1!==(i=this.sourcePreferences.drawingScale/t.preferences.drawingScale)){t.scaleElementList(s,i,i,{x:0,y:0});const e={};e.effectScale=Math.sqrt(i*i+i*i)/Math.sqrt(2),e.scaleStrokeAndEffects=t.preferences.scaleStrokeAndEffects,e.scaleText=t.preferences.scaleText,t.normalizeScaleElementList(s,e)}this.options.importInPlace||t.centerElementListAtGlobalPoint(s,e.clientWidth/2,e.clientHeight/2),t.selectElementList(s),this.importedNodes=s}else{const e=this.sourceSVG.querySelectorAll("svg.page,.page-2D");let n,s=null;this.options.import?("start"===this.options.importPagesBehaviourAction?s=this.targetDocument.pageList.firstElementChild:"afterActivePage"===this.options.importPagesBehaviourAction&&(s=this.targetDocument.activePage.nextElementSibling),this.sourcePreferences&&(i=this.sourcePreferences.drawingScale/t.preferences.drawingScale)):this.sourcePreferences&&(t.preferences=this.sourcePreferences);for(let o=0;o<e.length;o++){const a=e[o],r=parseFloat(a.dataset.width||a.dataset.pageWidth||a.getAttribute("width")||1024),l=parseFloat(a.dataset.height||a.dataset.pageHeight||a.getAttribute("height")||768);(n=t.createNewPage(r,l)).querySelector(".layers .layer").remove(),n.setAttribute("id",a.getAttribute("id")||"");const c=a.querySelector(":scope > title");c&&n.insertBefore(c,n.firstChild);const d=a.querySelector(":scope > desc");d&&n.insertBefore(d,n.firstChild);const u=a.querySelectorAll(".layers .layer");let f,h;const m=n.querySelector(".layers");for(let e=0;e<u.length;e++){const i=(h=u[e]).dataset.layerName||h.dataset.name||h.getAttribute("name"),n=h.dataset.layerColor||h.dataset.color||h.getAttribute("color");f=t.createPageLayer(i,n),m.appendChild(f),h.moveChildrenTo(f)}if(this.targetDocument.pageList.insertBefore(n,s),this.options.import&&1!==i){XOS.showElement(n);const e=n.querySelectorAll(".layers .layer >*");t.scaleElementList(e,i,i,{x:0,y:0});const s={};s.effectScale=Math.sqrt(i*i+i*i)/Math.sqrt(2),s.scaleStrokeAndEffects=t.preferences.scaleStrokeAndEffects,s.scaleText=t.preferences.scaleText,t.normalizeScaleElementList(e,s)}}let o=this.targetDocument.pageList.firstElementChild;this.options.import&&(o=n),this.targetDocument.setActivePage(o)}else{const t=this.sourceSVG.querySelectorAll("title,desc");for(let e=0;e<t.length;e++)t[e].remove();const e=activeApplication.activeDocument;if(!this.options.import){const t=e.createNewPage();e.setActivePage(t)}const i=e.activePage,n=e.getActivePageLayer(),s=[].slice.call(this.sourceSVG.children,0);this.sourceSVG.moveChildrenTo(n),this.options.importInPlace||e.centerElementListAtGlobalPoint(s,i.clientWidth/2,i.clientHeight/2),e.selectElementList(s)}}parsePreferences(){const t=this.sourceSVG.getStoredJsonData("jvs-doc-preferences"),e={};for(const i in this.targetDocument.preferences)e[i]=(i in t?t:this.targetDocument.preferences)[i];for(const i in this.targetDocument.preferences.snap)e.snap[i]=(i in t.snap?t.snap:this.targetDocument.preferences.snap)[i];return delete e.snap.snapToLinearSegments,e}}class DXF_importer{constructor(){this.svgDocument=null,this.contentNode=null,this.activeLayer=null,this.scale=1,this.createdEementsNum=0,this.totalEntities=0,this.parsedEntities=0}import(t,e){this.scale=e||this.scale;const i=new DxfParser;this.dxf=null;try{this.dxf=i.parseSync(t),console.log("DXF",this.dxf)}catch(t){return console.error(t.stack)}this.parsedEntities=0,this.totalEntities=this.dxf.entities.length,console.log("this.totalEntities",this.totalEntities),this.parseUnits(),this.parseLayers(),this.parseEntities()}colorToRGB(t){return"rgba("+[(16711680&(t>>>=0))>>>16,(65280&t)>>>8,255&t,1].join(",")+")"}parseUnits(){let t="MILLIMETER";switch(this.dxf.header.$INSUNITS){case 1:t="INCH";break;case 2:t="FEET";break;case 3:t="MILE";break;case 4:t="MILLIMETER";break;case 5:t="CENTIMETER";break;case 6:t="METER";break;case 7:t="KILOMETER"}activeApplication.activeDocument.setUnits(t)}parseLayers(){const t=activeApplication.activeDocument,e=t.activePage.content.querySelector(".layers"),i=this.dxf.tables.layer.layers;for(let n in i){const s=i[n],o=t.createPageLayer(s.name);s.svgLayer=o,e.appendChild(o)}}parseEntities(t,e){t=t||this.dxf.entities;for(let i=0;i<t.length;i++){const n=t[i];this.parseEntity(n,e)}}parseEntity(t,e){switch(console.log("_entity.type",t.type),t.type){case"POLYLINE":t.includesCurveFitVertices&&console.log("-------includesCurveFitVertices-----------",t),t.includesSplineFitVertices&&console.log("-------includesSplineFitVertices-----------",t),this.parsePolyline(t,e);break;case"LINE":this.parseLine(t,e);break;case"LWPOLYLINE":this.parsePolyline(t,e);break;case"SPLINE":this.parseSpline(t,e);break;case"CIRCLE":this.parseCircle(t,e);break;case"ELLIPSE":this.parseEllipse(t,e);break;case"ARC":this.parseArc(t,e);break;case"DIMENSION":this.parseDimension(t,e);break;case"MTEXT":this.parseMText(t,e);break;case"INSERT":this.parseInsert(t,e);break;default:console.log("entity",t)}this.createdEementsNum++}parsePolyline(t,e){const i=activeApplication.activeDocument,n=t.vertices;if(0===n.length)return;if(2===n.length)return void this.parseLine(t);const s=SVGUtils.createPath(),o=[],a=this;function r(t,e,n){const r=function(t,e,i){const n=4*Math.atan(Math.abs(i)),s=t.getDistanceFromPoint(e)/2/Math.sin(n/2),o=(Math.PI-n)/2,a=GeometryUtils.getSegmentAngle(t,e)+Math.sign(i)*o,r=SVGUtils.createSVGPoint(t.x+s*Math.cos(a),t.y+s*Math.sin(a));let l=0,c=0;return i>0?c=(l=GeometryUtils.getSegmentAngle(t,r))+n:l=(c=GeometryUtils.getSegmentAngle(t,r))-n,{startAngle:l,endAngle:c,center:r,radius:s,clockwise:i<0}}(SVGUtils.createSVGPoint(t.x,-t.y),SVGUtils.createSVGPoint(e.x,-e.y),n);let l=0;r.endAngle-r.startAngle>Math.PI&&(l=1);let c=0;r.clockwise&&(c=1);const d=i.unitToValue(r.radius*a.scale);o.push(s.createGeometryPoint_ARCTO(d,d,0,l,c,i.unitToValue(e.x*a.scale),i.unitToValue(-e.y*a.scale)))}const l=n[0];o.push(s.createGeometryPoint_MOVETO(i.unitToValue(l.x*this.scale),i.unitToValue(-l.y*this.scale)));let c=1;l.bulge&&(r(n[0],n[1],l.bulge),c++);for(let t=c;t<n.length;t++){const e=n[t];o.push(s.createGeometryPoint_LINETO(i.unitToValue(e.x*this.scale),i.unitToValue(-e.y*this.scale))),e.bulge&&(t===n.length-1?r(n[t],n[0],e.bulge):(r(n[t],n[t+1],e.bulge),t++))}if(!0===t.shape?(o.push(s.createGeometryPoint_CLOSEPATH()),s.setAttribute("fill",this.colorToRGB(t.color))):s.setAttribute("fill","none"),s.setGeometryPointList(o),s.setAttribute("stroke","#000000"),s.setAttribute("stroke-width","1"),e)return void e.appendChild(s);this.dxf.tables.layer.layers[t.layer].svgLayer.appendChild(s),s.renderRequest()}parseSpline_interpolate(t,e){function i(t,e,i,n,s,o){var a,r,l,c,d=i.length,u=i[0].length;if(e<1)throw new Error("degree must be at least 1 (linear)");if(e>d-1)throw new Error("degree must be less than or equal to point count - 1");if(!s)for(s=[],a=0;a<d;a++)s[a]=1;if(n){if(n.length!==d+e+1)throw new Error("bad knot vector length")}else{n=[];for(a=0;a<d+e+1;a++)n[a]=a}var f=[e,n.length-1-e],h=n[f[0]],m=n[f[1]];if((t=t*(m-h)+h)<h||t>m)throw new Error("out of bounds");for(l=f[0];l<f[1]&&!(t>=n[l]&&t<=n[l+1]);l++);var g,p=[];for(a=0;a<d;a++){for(p[a]=[],r=0;r<u;r++)p[a][r]=i[a][r]*s[a];p[a][u]=s[a]}for(c=1;c<=e+1;c++)for(a=l;a>l-e-1+c;a--)for(g=(t-n[a])/(n[a+e+1-c]-n[a]),r=0;r<u+1;r++)p[a][r]=(1-g)*p[a-1][r]+g*p[a][r];o=o||[];for(a=0;a<u;a++)o[a]=p[l][a]/p[l][u];return o}const n=activeApplication.activeDocument,s=SVGUtils.createPath(),o=[];o.push(s.createGeometryPoint_MOVETO(n.unitToValue(t.controlPoints[0].x*this.scale),n.unitToValue(-t.controlPoints[0].y*this.scale)));const a=t.controlPoints.map(function(t){return[t.x,t.y]}),r=[];for(let e=0;e<=100;e++)r.push(i(e/100,t.degreeOfSplineCurve,a,t.knotValues));for(let t=0;t<r.length;t++){let e=r[t][0],i=r[t][1];o.push(s.createGeometryPoint_LINETO(n.unitToValue(e*this.scale),n.unitToValue(-i*this.scale)))}s.setAttribute("stroke","#000000"),s.setAttribute("stroke-width","1"),s.setAttribute("fill","none"),s.setGeometryPointList(o),s.render(),e?e.appendChild(s):this.dxf.tables.layer.layers[t.layer].svgLayer.appendChild(s)}parseSpline(t,e){const i=activeApplication.activeDocument,n=SVGUtils.createPath(),s=[];if(s.push(n.createGeometryPoint_MOVETO(i.unitToValue(t.controlPoints[0].x*this.scale),i.unitToValue(-t.controlPoints[0].y*this.scale))),2===t.degreeOfSplineCurve)for(let e=1;e<t.controlPoints.length-1;e+=2){const o=t.controlPoints[e],a=t.controlPoints[e+1];s.push(n.createGeometryPoint_CURVETO_QUADRATIC(i.unitToValue(o.x*this.scale),i.unitToValue(-o.y*this.scale),i.unitToValue(a.x*this.scale),i.unitToValue(-a.y*this.scale)))}else if(3===t.degreeOfSplineCurve)for(let e=0;e+2<t.controlPoints.length;e+=2){const o=t.controlPoints[e],a=t.controlPoints[e+1],r=t.controlPoints[e+2];s.push(n.createGeometryPoint_CURVETO_CUBIC(i.unitToValue(o.x*this.scale),i.unitToValue(-o.y*this.scale),i.unitToValue(a.x*this.scale),i.unitToValue(-a.y*this.scale),i.unitToValue(r.x*this.scale),i.unitToValue(-r.y*this.scale)))}n.setAttribute("stroke","#000000"),n.setAttribute("stroke-width","1"),n.setAttribute("fill","none"),n.setGeometryPointList(s),n.render(),e?e.appendChild(n):this.dxf.tables.layer.layers[t.layer].svgLayer.appendChild(n)}parseCircle(t,e){const i=activeApplication.activeDocument,n=SVGUtils.createEllipse(i.unitToValue(t.center.x*this.scale),i.unitToValue(-t.center.y*this.scale),i.unitToValue(t.radius*this.scale),i.unitToValue(t.radius*this.scale));n.setAttribute("stroke","#000000"),n.setAttribute("stroke-width","1"),n.setAttribute("fill",this.colorToRGB(t.color)),e?e.appendChild(n):this.dxf.tables.layer.layers[t.layer].svgLayer.appendChild(n)}parseEllipse(t,e){const i=activeApplication.activeDocument,n=Math.sqrt(t.majorAxisEndPoint.x*t.majorAxisEndPoint.x+t.majorAxisEndPoint.y*t.majorAxisEndPoint.y),s=t.axisRatio*n,o=Math.atan2(-t.majorAxisEndPoint.y,t.majorAxisEndPoint.x)/(Math.PI/180),a=SVGUtils.createEllipse(0,0,i.unitToValue(n*this.scale),i.unitToValue(s*this.scale));a.setAttribute("stroke","#000000"),a.setAttribute("stroke-width","1"),a.setAttribute("fill",this.colorToRGB(t.color));let r=a.getTransform().matrix;if(r=(r=r.translate(i.unitToValue(t.center.x)*this.scale,i.unitToValue(-t.center.y*this.scale))).rotate(o),a.getTransform().setMatrix(r),e)return void e.appendChild(a);this.dxf.tables.layer.layers[t.layer].svgLayer.appendChild(a)}parseLine(t,e){const i=activeApplication.activeDocument,n=SVGUtils.createLine(i.unitToValue(t.vertices[0].x*this.scale),i.unitToValue(-t.vertices[0].y*this.scale),i.unitToValue(t.vertices[1].x*this.scale),i.unitToValue(-t.vertices[1].y*this.scale));n.setAttribute("stroke","#000000"),n.setAttribute("stroke-width","1"),e?e.appendChild(n):this.dxf.tables.layer.layers[t.layer].svgLayer.appendChild(n)}parseMText(t,e){console.log("parseMText _entity",t);const i=activeApplication.activeDocument,n=t.text.split(";");let s=i.unitToValue(t.position.x*this.scale),o=i.unitToValue(-t.position.y*this.scale),a=i.unitToValue(t.width*this.scale)||100,r=i.unitToValue(t.height*this.scale)||26,l=n[1];l=l.replace(/\\P/g,"\n");const c=SVGUtils.createTextBox(s,o,a,r,l);c.__setAttribute("fill",this.colorToRGB(t.color)),e?e.appendChild(c):this.dxf.tables.layer.layers[t.layer].svgLayer.appendChild(c)}parseBlock(t,e){}parseInsert(t,e){const i=activeApplication.activeDocument,n=t.name,s=this.dxf.blocks[n];if(!s.svgSymbol){const t=SVGUtils.createSymbol(n);s.svgSymbol=t,this.parseEntities(s.entities,t),i.resources.addResource(t),t.style="overflow:visible",t.setAttribute("overflow","visible")}const o=SVGUtils.createSVGPoint(i.unitToValue(t.position.x*this.scale),i.unitToValue(-t.position.y*this.scale)),a=-t.rotation||0,r=SVGUtils.createUse(n);let l=r.getTransform().matrix;if(l=(l=l.translate(o.x,o.y)).rotate(a),r.getTransform().setMatrix(l),e)return void e.appendChild(r);this.dxf.tables.layer.layers[t.layer].svgLayer.appendChild(r)}parseArc(t,e){const i=activeApplication.activeDocument,n=i.unitToValue(t.radius*this.scale),s=-t.startAngle/(Math.PI/180),o=-t.endAngle/(Math.PI/180),a=i.unitToValue(t.center.x*this.scale),r=i.unitToValue(-t.center.y*this.scale),l=OBJECTS["arc-object"],c=SVGUtils.createSVG();c.innerHTML=l.create();const d=c.firstElementChild;let u=d.getTransform().matrix;if(u=u.translate(a,r),d.getTransform().setMatrix(u),e)return void e.appendChild(d);this.dxf.tables.layer.layers[t.layer].svgLayer.appendChild(d),l.init(d),l.setProperties({radius:n,startAngle:o,endAngle:s})}parseDimension(t,e){const i=activeApplication.activeDocument;if(32===t.dimensionType){const n=SVGUtils.createSVGPoint(i.unitToValue(t.linearOrAngularPoint1.x*this.scale),i.unitToValue(-t.linearOrAngularPoint1.y*this.scale)),s=SVGUtils.createSVGPoint(i.unitToValue(t.linearOrAngularPoint2.x*this.scale),i.unitToValue(-t.linearOrAngularPoint2.y*this.scale)),o=SVGUtils.createSVG(),a=OBJECTS["linear-dimension"];o.innerHTML=a.create();const r=o.firstElementChild;a.init(r);let l=30,c=3,d=3;if(-90===t.angle){const e=Math.min(n.x,s.x),o=Math.max(n.x,s.x);n.y<s.y?(l=e-i.unitToValue(t.anchorPoint.x*this.scale),c=e-n.x+5,d=e-s.x+5,a.setLinearObjectPoints(SVGUtils.createSVGPoint(e,n.y),SVGUtils.createSVGPoint(e,s.y))):(l=i.unitToValue(t.anchorPoint.x*this.scale)-o,c=n.x-o+5,d=s.x-o+5,a.setLinearObjectPoints(SVGUtils.createSVGPoint(o,n.y),SVGUtils.createSVGPoint(o,s.y)))}else{const e=Math.min(n.y,s.y),o=Math.max(n.y,s.y);n.x>s.x?(l=e-i.unitToValue(-t.anchorPoint.y*this.scale),c=e-n.y+5,d=e-s.y+5,a.setLinearObjectPoints(SVGUtils.createSVGPoint(n.x,e),SVGUtils.createSVGPoint(s.x,e))):(l=i.unitToValue(-t.anchorPoint.y*this.scale)-o,c=n.y-o+5,d=s.y-o+5,a.setLinearObjectPoints(SVGUtils.createSVGPoint(n.x,o),SVGUtils.createSVGPoint(s.x,o)))}if(a.setProperties({height:l,startWitnessLineOffsetY:c,endWitnessLineOffsetY:d}),e)return void e.appendChild(r);this.dxf.tables.layer.layers[t.layer].svgLayer.appendChild(r)}}}class WindowMenu_cmp extends PopUpMenu{constructor(){super(),XOS.connectEvent("click",this,this.onclickMenuItem,this)}activateBy(t){this.update(),super.activateBy(t)}update(){const t=document.querySelectorAll("#FLOATING_WINDOWS .palette");for(;this.firstElementChild;)this.removeChild(this.firstElementChild);for(let e=0;e<t.length;e++){const i=document.createElement("div");i.windowRef=t[e];const n=t[e].querySelector(".head>.title").textContent;i.innerHTML=`<div class="checkbox"></div><span>${n}</span>`,this.insertBefore(i,this.firstElementChild),t[e].classList.contains("closed")||i.classList.add("checked")}}onclickMenuItem(t){t.target.windowRef?t.target.windowRef.open(!0):alert("install plugin...")}}customElements.define("window-menu",WindowMenu_cmp);class SymbolLibrary_cmp extends HTMLElement{constructor(){super(),this.controlledElements=null,this.icon=this.querySelector(".icon"),this.loadingProgress=this.querySelector(".loading-progress"),this.svgContainer=this.querySelector(".svg-container"),this.itemListElement=this.querySelector("ul"),this.initTemplates(),this.initShadowRoot(),this.createEventHandlers(),this.isEmpty=!0,this.documentLibraryRef=null,this.iconsUrl="resources/icons/janvas-app-icons.svg"}initShadowRoot(){this.isolateContext=this.querySelector(".isolate-context");const t=[].slice.call(this.isolateContext.children,0);this.isolateContext.attachShadow({mode:"open"});const e=t.length;for(let i=0;i<e;i++)this.isolateContext.shadowRoot.appendChild(t[i])}initTemplates(){this.itemPreviewTemplate=this.querySelector("ul li"),this.itemPreviewTemplate.remove()}createEventHandlers(){this.controlledElements=XOS.connectDomEvents(this.querySelectorAll("[data-event]"),this),XOS.connectDomEvents(this.isolateContext.shadowRoot.querySelectorAll("[data-event]"),this)}onShow(){this.isEmpty&&(this.onChange_libraryMenu(),this.isEmpty=!1)}onChange_libraryMenu(){const t=this.controlledElements.libraryMenu;let e=t.querySelector('[value="loaded-from-file"]');if(e&&e.classList.add("hidden"),(e=t.querySelector('[value="active-document"]'))&&e.classList.add("hidden"),"load-from-active-document"===t.value){return t.value="active-document",this.documentLibraryRef=activeApplication.activeDocument,t.querySelector('[value="active-document"]').classList.remove("hidden"),void this.createLibraryFromActiveDocument()}if("load-from-file"!==t.value)if(t.options[t.selectedIndex].dataset.url){XOS.showElement(this.loadingProgress);const e=this;XOS.sendAndLoad(t.options[t.selectedIndex].dataset.url,null,null,function(t){e.createLibrary(t.target.responseXML.querySelector("svg"))})}else;else{XOS.showElement(this.loadingProgress);const e=this;LOCAL_FILE_SYSTEM.chooseFile("image/svg+xml",function(i){const n=i.target.files[0],s=t.querySelector('[value="loaded-from-file"]');s.classList.remove("hidden"),s.text="File:"+n.name,LOCAL_FILE_SYSTEM.readXMLFile(n,function(t){e.createLibrary(t)}),t.value="loaded-from-file"})}}update(){console.log("UPDATE")}createLibraryFromActiveDocument(){this.createLibrary(activeApplication.activeDocument.resources)}createLibrary(t){XOS.hideElement(this.loadingProgress),this.svgContainer.removeChildren();const e=document.createElementNS(SVGSVGElement.SVG_NS,"svg"),i=t.querySelector("defs").cloneNode(!0);e.appendChild(i),this.svgContainer.appendChild(e),this.drawLibraryItemList(this.svgContainer.querySelectorAll("symbol"))}drawLibraryItemList(t){console.log("drawLibraryItemList");const e=t;let i,n,s,o,a,r;this.itemListElement.removeChildren();const l=e.length;for(let t=0;t<l;t++)i=e[t],s=this.itemPreviewTemplate.cloneNode(!0),r=i.getAttribute("id"),s.querySelector(".label").innerHTML=r,s.ondragstart=XOS.bindFunction(this,this.onStartDragItem),n=SVGUtils.createUse(r),(o=s.querySelector("svg")).appendChild(n),this.itemListElement.appendChild(s),a=n.getBBox(),o.setAttribute("viewBox","0 0 "+2*(a.x+a.width/2)+" "+2*(a.x+a.width/2))}onStartDragItem(t){const e=t.target.querySelector("use").getAttribute("href"),i=this.svgContainer.querySelector(e);XOS.setTransferData({type:"svg-symbol",symbol:i})}checkForDoubleClick(t){this.lastPointerDownEvent&&t.timeStamp-this.lastPointerDownEvent.timeStamp<250&&(t.isDoubleClick=!0),this.lastPointerDownEvent=t}onClickItemList(t){const e=t.target.closest("li");if(e&&(XOS.selectElement(e),this.checkForDoubleClick(t),t.isDoubleClick&&"active-document"===this.controlledElements.libraryMenu.value)){const t=e.querySelector("use").getAttribute("href").split("#")[1],i=activeApplication.activeDocument.resources.getResourceById(t);i&&this.renameItem(i)}}renameItem(t){const e=DIALOGS.promptDialog,i=DIALOGS["alert-dialog"],n=t.nodeName,s=localString(n),o=t.getAttribute("id"),a=this;const r=this.icon.querySelector("use").getAttribute("xlink:href");e.open(localString("Rename element"),localString("Insert a new name."),function(){let n=e.getPromptValue();if(""===n)return void this.close();if(activeApplication.activeDocument.resources.getResourceById(n))return void i.open(localString("Existent ID"),localString("The document already contains an element with ID:")+": "+n);const s=activeApplication.activeDocument;s.activePage,s.refactorElementID(t,n),a.createLibraryFromActiveDocument(),this.close(),s.showSelectionProperties()},null,r),e.setPromptValue(o,localString(s+" name"))}}customElements.define("symbol-library",SymbolLibrary_cmp);class ShapeLibrary_cmp extends SymbolLibrary_cmp{constructor(){super()}onStartDragItem(t){const e=t.target.querySelector("use").getAttribute("href"),i=this.svgContainer.querySelector(e);XOS.setTransferData({type:"svg-symbol-as-shape",symbol:i})}}customElements.define("shape-library",ShapeLibrary_cmp);class FilterLibrary_cmp extends SymbolLibrary_cmp{constructor(){super()}initTemplates(){this.itemGraphicFilterPreviewTemplate=this.querySelector("ul li.graphic-filter-preview"),this.itemGraphicFilterPreviewTemplate.remove(),this.itemImageFilterPreviewTemplate=this.querySelector("ul li.image-filter-preview"),this.itemImageFilterPreviewTemplate.remove()}createLibrary(t){XOS.hideElement(this.loadingProgress),this.svgContainer.removeChildren();const e=document.createElementNS(SVGSVGElement.SVG_NS,"svg"),i=t.querySelector("defs").cloneNode(!0);e.appendChild(i),this.svgContainer.appendChild(e),this.drawLibraryItemList(this.svgContainer.querySelectorAll("filter"))}drawLibraryItemList(t){this.itemListElement.removeChildren();const e=t;let i,n,s,o;const a=e.length;for(let t=0;t<a;t++)n=(i=e[t]).hasAttribute("data-preview")&&"graphic-filter-preview"===i.getAttribute("data-preview")?this.itemGraphicFilterPreviewTemplate.cloneNode(!0):this.itemImageFilterPreviewTemplate.cloneNode(!0),o=i.getAttribute("id"),n.querySelector(".label").innerHTML=o,s=n.querySelector(".filterDisplay"),n.ondragstart=XOS.bindFunction(this,this.onStartDragItem),s.setAttribute("filter","url(#"+o+")"),this.itemListElement.appendChild(n)}onStartDragItem(t){const e=SVGUtils.extractIdFromIRI(t.target.querySelector(".filterDisplay").getAttribute("filter")),i=this.svgContainer.querySelector("#"+e);XOS.setTransferData({type:"svg-filter",filter:i})}onClickItemList(t){const e=t.target.closest("li");if(!e)return;XOS.selectElement(e);const i=SVGUtils.extractIdFromIRI(e.querySelector(".filterDisplay").getAttribute("filter"));let n=activeApplication.activeDocument.resources.getResourceById(i);if(this.checkForDoubleClick(t),t.isDoubleClick&&n&&"active-document"===this.controlledElements.libraryMenu.value)return void this.renameItem(n);const s=activeApplication.activeDocument,o=s.activePage;if(0===o.selectionList.length)return;n||(n=this.svgContainer.querySelector("#"+i).cloneNode(!0),s.resources.addResource(n));const a={};a.filter="url(#"+i+")",s.setAttributeElementList_undable(o.selectionList,a)}}customElements.define("filter-library",FilterLibrary_cmp);class FontLibrary_cmp extends SymbolLibrary_cmp{constructor(){super()}onChange_libraryMenu(){"searchFonts"===this.controlledElements.libraryMenu.value?(this.classList.add("search-fonts"),this.querySelector('input[type="search"]').value=""):this.classList.remove("search-fonts"),this.drawLibraryItemList()}drawLibraryItemList(t){const e=this.controlledElements.libraryMenu.value;let i,n,s,o;t?i=!0:"selectedFonts"===e?(t=GoogleFonts.getSelectedFontList(),i=!0):"defaultFonts"===e?(t=GoogleFonts.defaultFontFamilyList,i=!1):(t=GoogleFonts.fontCategories[e],i=!0),this.itemListElement.removeChildren();const a=t.length;for(let e=0;e<a;e++)n=t[e],(s=this.itemPreviewTemplate.cloneNode(!0)).data=n,s.querySelector("img").setAttribute("src","/data/janvas_6.2/fonts/_previews/"+n.family.replace(/ /g,"-")+".png"),s.querySelector(".label").innerHTML=n.family,o=s.querySelector('input[type="checkbox"]'),i?n.isSelected&&(o.checked=!0):o.remove(),this.itemListElement.appendChild(s)}onStartDragItem(t){}onClickItemList(t){const e=t.target.closest("li");if(!e)return;XOS.selectElement(e);const i=e.data;if("INPUT"===t.target.nodeName)i.isSelected=t.target.checked,"selectedFonts"===this.controlledElements.libraryMenu.value&&this.drawLibraryItemList();else{const t=activeApplication.activeDocument,e=t.activePage;if(0===e.selectionList.length)return;t.applyFontElementList_undable(e.selectionList,i)}}onChange_searchFont(t){const e=this;clearTimeout(this.searchChangeTimeout),this.searchChangeTimeout=setTimeout(function(){e.searchChangeTimeout=void 0,e.drawLibraryItemList(GoogleFonts.findFontList(t.target.value))},250)}}customElements.define("font-library",FontLibrary_cmp);class MarkerLibrary_cmp extends SymbolLibrary_cmp{constructor(){super()}createLibrary(t){XOS.hideElement(this.loadingProgress),this.svgContainer.removeChildren();const e=document.createElementNS(SVGSVGElement.SVG_NS,"svg"),i=t.querySelector("defs").cloneNode(!0);e.appendChild(i),this.svgContainer.appendChild(e),this.drawLibraryItemList(this.svgContainer.querySelectorAll("marker"))}drawLibraryItemList(t){this.itemListElement.removeChildren();const e=t;let i,n,s;const o=e.length;for(let t=0;t<o;t++)i=e[t],n=this.itemPreviewTemplate.cloneNode(!0),s=i.getAttribute("id"),n.querySelector(".label").innerHTML=s,n.ondragstart=XOS.bindFunction(this,this.onStartDragItem),n.querySelector("line").setAttribute("marker-end","url(#"+s+")"),this.itemListElement.appendChild(n)}onStartDragItem(t){const e=SVGUtils.extractIdFromIRI(t.target.querySelector("line").getAttribute("marker-end")),i=this.svgContainer.querySelector("#"+e);XOS.setTransferData({type:"svg-marker",marker:i})}onClickItemList(t){const e=t.target.closest("li");if(!e)return;XOS.selectElement(e);const i=SVGUtils.extractIdFromIRI(e.querySelector("line").getAttribute("marker-end"));let n=activeApplication.activeDocument.resources.getResourceById(i);if(this.checkForDoubleClick(t),t.isDoubleClick&&n&&"active-document"===this.controlledElements.libraryMenu.value)return void this.renameItem(n);const s=activeApplication.activeDocument,o=s.activePage;if(0===o.selectionList.length)return;n||(n=this.svgContainer.querySelector("#"+i).cloneNode(!0),activeApplication.activeDocument.resources.addResource(n));const a={};a[PANELS["markers-inspector"].getActiveMarkerSideName()]="url(#"+i+")",s.setAttributeElementList_undable(o.selectionList,a)}}customElements.define("marker-library",MarkerLibrary_cmp);class ColorLibrary_cmp extends SymbolLibrary_cmp{constructor(){super()}createLibraryFromActiveDocument(){this.createLibrary(activeApplication.activeDocument.shadowRoot)}createLibrary(t){XOS.hideElement(this.loadingProgress),this.svgContainer.removeChildren(),this.itemListElement.removeChildren(),this.definedColorList=[],this.drawLibraryItemList(t.querySelectorAll('[fill]:not([fill^="url"]):not([fill="none"]):not([fill=""])'),"fill"),this.drawLibraryItemList(t.querySelectorAll('[stroke]:not([stroke^="url"]):not([stroke="none"]):not([stroke=""])'),"stroke")}drawLibraryItemList(t,e){const i=t;let n,s,o,a,r;const l=i.length;for(let t=0;t<l;t++)n=i[t],s=this.itemPreviewTemplate.cloneNode(!0),o=n.getAttribute(e),a=n.getAttribute(e+"-opacity")||1,-1===this.definedColorList.indexOf(o+","+a)&&(s.ondragstart=XOS.bindFunction(this,this.onStartDragItem),(r=s.querySelector("rect.colorDisplay")).setAttribute("fill",o),r.setAttribute("fill-opacity",a),this.itemListElement.appendChild(s),this.definedColorList.push(o+","+a))}onStartDragItem(t){const e=t.target.querySelector("rect.colorDisplay").getAttribute("fill");XOS.setTransferData({type:"svg-color",colorValue:e})}onClickItemList(t){const e=t.target.closest("li");if(!e)return;XOS.selectElement(e);const i=activeApplication.activeDocument,n=i.activePage;if(0===n.selectionList.length)return;const s={};s[i.fillAndStrokeManager.focusedGraphicSideName]=e.querySelector("rect.colorDisplay").getAttribute("fill"),i.setAttributeElementList_undable(n.selectionList,s)}}customElements.define("color-library",ColorLibrary_cmp);class GradientLibrary_cmp extends SymbolLibrary_cmp{constructor(){super()}createLibrary(t){XOS.hideElement(this.loadingProgress),this.svgContainer.removeChildren();const e=document.createElementNS(SVGSVGElement.SVG_NS,"svg"),i=t.querySelector("defs").cloneNode(!0);e.appendChild(i),this.svgContainer.appendChild(e),this.drawLibraryItemList(this.svgContainer.querySelectorAll("linearGradient ,radialGradient"))}drawLibraryItemList(t){this.itemListElement.removeChildren();const e=t;let i,n,s,o;const a=e.length;for(let t=0;t<a;t++)i=e[t],n=this.itemPreviewTemplate.cloneNode(!0),o=i.getAttribute("id"),n.querySelector(".label").innerHTML=o,s=n.querySelector("rect.gradientDisplay"),n.ondragstart=XOS.bindFunction(this,this.onStartDragItem),s.setAttribute("fill","url(#"+o+")"),this.itemListElement.appendChild(n)}onStartDragItem(t){const e=SVGUtils.extractIdFromIRI(t.target.querySelector("rect.gradientDisplay").getAttribute("fill")),i=this.svgContainer.querySelector("#"+e);XOS.setTransferData({type:"svg-gradient",gradient:i})}onClickItemList(t){const e=t.target.closest("li");if(!e)return;XOS.selectElement(e);const i=activeApplication.activeDocument,n=i.activePage,s=SVGUtils.extractIdFromIRI(e.querySelector("rect.gradientDisplay").getAttribute("fill"));let o=i.resources.getResourceById(s);if(this.checkForDoubleClick(t),t.isDoubleClick&&o&&"active-document"===this.controlledElements.libraryMenu.value)return void this.renameItem(o);if(0===n.selectionList.length)return;o||(o=this.svgContainer.querySelector("#"+s).cloneNode(!0),i.resources.addResource(o));const a=i.fillAndStrokeManager.focusedGraphicSideName,r={};r[a]="url(#"+s+")",r[a+"-opacity"]="1",i.setAttributeElementList_undable(n.selectionList,r)}}customElements.define("gradient-library",GradientLibrary_cmp);class PatternLibrary_cmp extends SymbolLibrary_cmp{constructor(){super()}createLibrary(t){XOS.hideElement(this.loadingProgress),this.svgContainer.removeChildren();const e=document.createElementNS(SVGSVGElement.SVG_NS,"svg"),i=t.querySelector("defs").cloneNode(!0);e.appendChild(i),this.svgContainer.appendChild(e),this.drawLibraryItemList(this.svgContainer.querySelectorAll("pattern"))}drawLibraryItemList(t){this.itemListElement.removeChildren();const e=t;let i,n,s,o;const a=e.length;for(let t=0;t<a;t++)i=e[t],n=this.itemPreviewTemplate.cloneNode(!0),o=i.getAttribute("id"),n.querySelector(".label").innerHTML=o,s=n.querySelector("rect.patternDisplay"),n.ondragstart=XOS.bindFunction(this,this.onStartDragItem),s.setAttribute("fill","url(#"+o+")"),this.itemListElement.appendChild(n)}onStartDragItem(t){const e=SVGUtils.extractIdFromIRI(t.target.querySelector("rect.patternDisplay").getAttribute("fill")),i=this.svgContainer.querySelector("#"+e);XOS.setTransferData({type:"svg-pattern",pattern:i})}onClickItemList(t){const e=t.target.closest("li");if(!e)return;XOS.selectElement(e);const i=activeApplication.activeDocument,n=i.activePage,s=SVGUtils.extractIdFromIRI(e.querySelector("rect.patternDisplay").getAttribute("fill"));let o=i.resources.getResourceById(s);if(this.checkForDoubleClick(t),t.isDoubleClick&&o&&"active-document"===this.controlledElements.libraryMenu.value)return void this.renameItem(o);if(0===n.selectionList.length)return;o||(o=this.svgContainer.querySelector("#"+s).cloneNode(!0),i.resources.addResource(o));const a=i.fillAndStrokeManager.focusedGraphicSideName,r={};r[a]="url(#"+s+")",r[a+"-opacity"]="1",i.setAttributeElementList_undable(n.selectionList,r)}}customElements.define("pattern-library",PatternLibrary_cmp);class WidgetLibrary_cmp extends SymbolLibrary_cmp{constructor(){super()}onStartDragItem(t){const e=t.target.querySelector("use").getAttribute("href"),i=this.svgContainer.querySelector(e);XOS.setTransferData({type:"svg-symbol-as-widget",symbol:i})}}customElements.define("widget-library",WidgetLibrary_cmp);