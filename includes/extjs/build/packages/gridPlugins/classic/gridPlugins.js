/*
This file is part of Grid Plugins

Copyright (c) 2012-2019 mzSolutions & Software SRL

Contact:  http://www.mzsolutions.eu

This version of Grid Plugins is licensed commercially for a limited period for evaluation/test/trial
purposes only. Production use or use beyond the applicable evaluation period is prohibited under this license.

If your trial has expired, please contact the sales department at http://www.mzsolutions.eu.

Version: 1.1.1.64 Build date: 2019-04-03 11:26:22 (665c6ef3ef4245d25983ddb912829d5199961e75)

*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||typeof Object.defineProperties=='function'?Object.defineProperty:function(b,c,a){a=a;if(b==Array.prototype||b==Object.prototype){return}b[c]=a.value};$jscomp.getGlobal=function(a){return typeof window!='undefined'&&window===a?a:typeof global!='undefined'&&global!=null?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(i,f,j,k){if(!f){return}var a=$jscomp.global;var b=i.split('.');for(var e=0;e<b.length-1;e++){var d=b[e];if(!(d in a)){a[d]={}}a=a[d]}var g=b[b.length-1];var h=a[g];var c=f(h);if(c==h||c==null){return}$jscomp.defineProperty(a,g,{configurable:!0,writable:!0,value:c})};$jscomp.polyfill('Array.prototype.copyWithin',function(a){if(a){return a}var b=function(d,c,b){var e=this.length;d=Number(d);c=Number(c);b=Number(b!=null?b:e);if(d<c){b=Math.min(b,e);while(c<b){if(c in this){this[d++]=this[c++]}else {delete this[d++];c++}}}else {b=Math.min(b,e+c-d);d+=b-c;while(b>c){if(--b in this){this[--d]=this[b]}else {delete this[d]}}}return this};return b},'es6','es3');$jscomp.SYMBOL_PREFIX='jscomp_symbol_';$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};if(!$jscomp.global['Symbol']){$jscomp.global['Symbol']=$jscomp.Symbol}};$jscomp.Symbol=function(){var a=0;function Symbol(b){return $jscomp.SYMBOL_PREFIX+(b||'')+a++}return Symbol}();$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global['Symbol'].iterator;if(!a){a=$jscomp.global['Symbol'].iterator=$jscomp.global['Symbol']('iterator')}if(typeof Array.prototype[a]!='function'){$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}})}$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var b=0;return $jscomp.iteratorPrototype(function(){if(b<a.length){return {done:!1,value:a[b++]}}else {return {done:!0}}})};$jscomp.iteratorPrototype=function(b){$jscomp.initSymbolIterator();var a={next:b};a[$jscomp.global['Symbol'].iterator]=function(){return this};return a};$jscomp.iteratorFromArray=function(a,d){$jscomp.initSymbolIterator();if(a instanceof String){a=a+''}var c=0;var b={next:function(){if(c<a.length){var e=c++;return {value:d(e,a[e]),done:!1}}b.next=function(){return {done:!0,value:void 0}};return b.next()}};b[Symbol.iterator]=function(){return b};return b};$jscomp.polyfill('Array.prototype.entries',function(a){if(a){return a}var b=function(){return $jscomp.iteratorFromArray(this,function(b,c){return [b,c]})};return b},'es6','es3');$jscomp.polyfill('Array.prototype.fill',function(a){if(a){return a}var b=function(f,c,b){var d=this.length||0;if(c<0){c=Math.max(0,d+c)}if(b==null||b>d){b=d}b=Number(b);if(b<0){b=Math.max(0,d+b)}for(var e=Number(c||0);e<b;e++){this[e]=f}return this};return b},'es6','es3');$jscomp.findInternal=function(a,d,e){if(a instanceof String){a=String(a)}var f=a.length;for(var b=0;b<f;b++){var c=a[b];if(d.call(e,c,b,a)){return {i:b,v:c}}}return {i:-1,v:void 0}};$jscomp.polyfill('Array.prototype.find',function(a){if(a){return a}var b=function(c,b){return $jscomp.findInternal(this,c,b).v};return b},'es6','es3');$jscomp.polyfill('Array.prototype.findIndex',function(a){if(a){return a}var b=function(c,b){return $jscomp.findInternal(this,c,b).i};return b},'es6','es3');$jscomp.polyfill('Array.from',function(a){if(a){return a}var b=function(b,c,g){$jscomp.initSymbolIterator();c=c!=null?c:function(d){return d};var d=[];var f=b[Symbol.iterator];if(typeof f=='function'){b=f.call(b);var h;while(!(h=b.next()).done){d.push(c.call(g,h.value))}}else {var i=b.length;for(var e=0;e<i;e++){d.push(c.call(g,b[e]))}}return d};return b},'es6','es3');$jscomp.polyfill('Object.is',function(a){if(a){return a}var b=function(b,c){if(b===c){return b!==0||1/b===1/c}else {return b!==b&&c!==c}};return b},'es6','es3');$jscomp.polyfill('Array.prototype.includes',function(a){if(a){return a}var b=function(d,e){var b=this;if(b instanceof String){b=String(b)}var f=b.length;for(var c=e||0;c<f;c++){if(b[c]==d||Object.is(b[c],d)){return !0}}return !1};return b},'es7','es3');$jscomp.polyfill('Array.prototype.keys',function(a){if(a){return a}var b=function(){return $jscomp.iteratorFromArray(this,function(b){return b})};return b},'es6','es3');$jscomp.polyfill('Array.of',function(a){if(a){return a}var b=function(b){return Array.from(arguments)};return b},'es6','es3');$jscomp.polyfill('Array.prototype.values',function(a){if(a){return a}var b=function(){return $jscomp.iteratorFromArray(this,function(c,b){return b})};return b},'es6','es3');$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();var b=a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.polyfill('Promise',function(c){if(c&&!$jscomp.FORCE_POLYFILL_PROMISE){return c}function AsyncExecutor(){this.batch_=null}AsyncExecutor.prototype.asyncExecute=function(a){if(this.batch_==null){this.batch_=[];this.asyncExecuteBatch_()}this.batch_.push(a);return this};AsyncExecutor.prototype.asyncExecuteBatch_=function(){var a=this;this.asyncExecuteFunction(function(){a.executeBatch_()})};var e=$jscomp.global['setTimeout'];AsyncExecutor.prototype.asyncExecuteFunction=function(a){e(a,0)};AsyncExecutor.prototype.executeBatch_=function(){while(this.batch_&&this.batch_.length){var b=this.batch_;this.batch_=[];for(var a=0;a<b.length;++a){var d=b[a];delete b[a];try{d()}catch(f){this.asyncThrow_(f)}}}this.batch_=null};AsyncExecutor.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a})};var b={PENDING:0,FULFILLED:1,REJECTED:2};var a=function(d){this.state_=b.PENDING;this.result_=undefined;this.onSettledCallbacks_=[];var a=this.createResolveAndReject_();try{d(a.resolve,a.reject)}catch(f){a.reject(f)}};a.prototype.createResolveAndReject_=function(){var b=this;var a=!1;function firstCallWins(d){return function(e){if(!a){a=!0;d.call(b,e)}}}return {resolve:firstCallWins(this.resolveTo_),reject:firstCallWins(this.reject_)}};a.prototype.resolveTo_=function(b){if(b===this){this.reject_(new TypeError('A Promise cannot resolve to itself'))}else {if(b instanceof a){this.settleSameAsPromise_(b)}else {if(isObject(b)){this.resolveToNonPromiseObj_(b)}else {this.fulfill_(b)}}}};a.prototype.resolveToNonPromiseObj_=function(b){var a=undefined;try{a=b.then}catch(f){this.reject_(f);return}if(typeof a=='function'){this.settleSameAsThenable_(a,b)}else {this.fulfill_(b)}};function isObject(a){switch(typeof a){case 'object':return a!=null;case 'function':return !0;default:return !1;}}a.prototype.reject_=function(a){this.settle_(b.REJECTED,a)};a.prototype.fulfill_=function(a){this.settle_(b.FULFILLED,a)};a.prototype.settle_=function(d,a){if(this.state_!=b.PENDING){throw new Error('Cannot settle('+d+', '+a|'): Promise already settled in state'+this.state_)}this.state_=d;this.result_=a;this.executeOnSettledCallbacks_()};a.prototype.executeOnSettledCallbacks_=function(){if(this.onSettledCallbacks_!=null){var b=this.onSettledCallbacks_;for(var a=0;a<b.length;++a){b[a].call();b[a]=null}this.onSettledCallbacks_=null}};var d=new AsyncExecutor();a.prototype.settleSameAsPromise_=function(b){var a=this.createResolveAndReject_();b.callWhenSettled_(a.resolve,a.reject)};a.prototype.settleSameAsThenable_=function(b,d){var a=this.createResolveAndReject_();try{b.call(d,a.resolve,a.reject)}catch(f){a.reject(f)}};a.prototype.then=function(f,g){var b;var d;var e=new a(function(a,e){b=a;d=e});function createCallback(a,e){if(typeof a=='function'){return function(h){try{b(a(h))}catch(i){d(i)}}}else {return e}}this.callWhenSettled_(createCallback(f,b),createCallback(g,d));return e};a.prototype['catch']=function(a){return this.then(undefined,a)};a.prototype.callWhenSettled_=function(e,f){var a=this;function callback(){switch(a.state_){case b.FULFILLED:e(a.result_);break;case b.REJECTED:f(a.result_);break;default:throw new Error('Unexpected state: '+a.state_);}}if(this.onSettledCallbacks_==null){d.asyncExecute(callback)}else {this.onSettledCallbacks_.push(function(){d.asyncExecute(callback)})}};function resolvingPromise(b){if(b instanceof a){return b}else {return new a(function(a,d){a(b)})}}a['resolve']=resolvingPromise;a['reject']=function(b){return new a(function(d,a){a(b)})};a['race']=function(b){return new a(function(e,f){var d=$jscomp.makeIterator(b);for(var a=d.next();!a.done;a=d.next()){resolvingPromise(a.value).callWhenSettled_(e,f)}})};a['all']=function(e){var d=$jscomp.makeIterator(e);var b=d.next();if(b.done){return resolvingPromise([])}else {return new a(function(g,h){var a=[];var f=0;function onFulfilled(b){return function(d){a[b]=d;f--;if(f==0){g(a)}}}do{a.push(undefined);f++;resolvingPromise(b.value).callWhenSettled_(onFulfilled(a.length-1),h);b=d.next()}while(!b.done)})}};return a},'es6','es3');$jscomp.executeAsyncGenerator=function(a){function passValueToGenerator(b){return a.next(b)}function passErrorToGenerator(b){return a['throw'](b)}return new Promise(function(b,c){function handleGeneratorRecord(d){if(d.done){b(d.value)}else {Promise.resolve(d.value).then(passValueToGenerator,passErrorToGenerator).then(handleGeneratorRecord,c)}}handleGeneratorRecord(a.next())})};$jscomp.owns=function(b,a){return Object.prototype.hasOwnProperty.call(b,a)};$jscomp.polyfill('WeakMap',function(c){function isConformant(){if(!c||!Object.seal){return !1}try{var b=Object.seal({});var d=Object.seal({});var a=new c([[b,2],[d,3]]);if(a.get(b)!=2||a.get(d)!=3){return !1}a['delete'](b);a.set(d,4);return !a.has(b)&&a.get(d)==4}catch(e){return !1}}if(isConformant()){return c}var a='$jscomp_hidden_'+Math.random().toString().substring(2);function insert(b){if(!$jscomp.owns(b,a)){var d={};$jscomp.defineProperty(b,a,{value:d})}}function patch(a){var b=Object[a];if(b){Object[a]=function(d){insert(d);return b(d)}}}patch('freeze');patch('preventExtensions');patch('seal');var d=0;var b=function(a){this.id_=(d+=Math.random()+1).toString();if(a){$jscomp.initSymbol();$jscomp.initSymbolIterator();var f=$jscomp.makeIterator(a);var b;while(!(b=f.next()).done){var e=b.value;this.set(e[0],e[1])}}};b.prototype.set=function(b,d){insert(b);if(!$jscomp.owns(b,a)){throw new Error('WeakMap key fail: '+b)}b[a][this.id_]=d;return this};b.prototype.get=function(b){return $jscomp.owns(b,a)?b[a][this.id_]:undefined};b.prototype.has=function(b){return $jscomp.owns(b,a)&&$jscomp.owns(b[a],this.id_)};b.prototype['delete']=function(b){if(!$jscomp.owns(b,a)||!$jscomp.owns(b[a],this.id_)){return !1}return delete b[a][this.id_]};return b},'es6','es3');$jscomp.MapEntry=function(){this.previous;this.next;this.head;this.key;this.value};$jscomp.polyfill('Map',function(b){var g=!$jscomp.ASSUME_NO_NATIVE_MAP&&function(){if(!b||!b.prototype.entries||typeof Object.seal!='function'){return !1}try{b=b;var e=Object.seal({x:4});var c=new b($jscomp.makeIterator([[e,'s']]));if(c.get(e)!='s'||c.size!=1||c.get({x:4})||c.set({x:4},'t')!=c||c.size!=2){return !1}var d=c.entries();var a=d.next();if(a.done||a.value[0]!=e||a.value[1]!='s'){return !1}a=d.next();if(a.done||a.value[0].x!=4||a.value[1]!='t'||!d.next().done){return !1}return !0}catch(j){return !1}}();if(g){return b}$jscomp.initSymbol();$jscomp.initSymbolIterator();var e=new WeakMap();var a=function(a){this.data_={};this.head_=f();this.size=0;if(a){var e=$jscomp.makeIterator(a);var c;while(!(c=e.next()).done){var d=c.value;this.set(d[0],d[1])}}};a.prototype.set=function(e,d){var a=c(this,e);if(!a.list){a.list=this.data_[a.id]=[]}if(!a.entry){a.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:e,value:d};a.list.push(a.entry);this.head_.previous.next=a.entry;this.head_.previous=a.entry;this.size++}else {a.entry.value=d}return this};a.prototype['delete']=function(d){var a=c(this,d);if(a.entry&&a.list){a.list.splice(a.index,1);if(!a.list.length){delete this.data_[a.id]}a.entry.previous.next=a.entry.next;a.entry.next.previous=a.entry.previous;a.entry.head=null;this.size--;return !0}return !1};a.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=f();this.size=0};a.prototype.has=function(a){return !!c(this,a).entry};a.prototype.get=function(d){var a=c(this,d).entry;return a&&a.value};a.prototype.entries=function(){return d(this,function(a){return [a.key,a.value]})};a.prototype.keys=function(){return d(this,function(a){return a.key})};a.prototype.values=function(){return d(this,function(a){return a.value})};a.prototype.forEach=function(e,d){var f=this.entries();var c;while(!(c=f.next()).done){var a=c.value;e.call(d,a[1],a[0],this)}};a.prototype[Symbol.iterator]=a.prototype.entries;var c=function(g,e){var f=i(e);var a=g.data_[f];if(a&&$jscomp.owns(g.data_,f)){for(var d=0;d<a.length;d++){var c=a[d];if(e!==e&&c.key!==c.key||e===c.key){return {id:f,list:a,index:d,entry:c}}}}return {id:f,list:a,index:-1,entry:undefined}};var d=function(c,d){var a=c.head_;return $jscomp.iteratorPrototype(function(){if(a){while(a.head!=c.head_){a=a.previous}while(a.next!=a.head){a=a.next;return {done:!1,value:d(a)}}a=null}return {done:!0,value:void 0}})};var f=function(){var a={};a.previous=a.next=a.head=a;return a};var h=0;var i=function(a){var c=a&&typeof a;if(c=='object'||c=='function'){a=a;if(!e.has(a)){var d=''+ ++h;e.set(a,d);return d}return e.get(a)}return 'p_'+a};return a},'es6','es3');$jscomp.polyfill('Math.acosh',function(a){if(a){return a}var b=function(b){b=Number(b);return Math.log(b+Math.sqrt(b*b-1))};return b},'es6','es3');$jscomp.polyfill('Math.asinh',function(a){if(a){return a}var b=function(b){b=Number(b);if(b===0){return b}var c=Math.log(Math.abs(b)+Math.sqrt(b*b+1));return b<0?-c:c};return b},'es6','es3');$jscomp.polyfill('Math.log1p',function(a){if(a){return a}var b=function(b){b=Number(b);if(b<0.25&&b>-0.25){var f=b;var g=1;var c=b;var d=0;var e=1;while(d!=c){f*=b;e*=-1;c=(d=c)+e*f/++g}return c}return Math.log(1+b)};return b},'es6','es3');$jscomp.polyfill('Math.atanh',function(b){if(b){return b}var a=Math.log1p;var c=function(c){c=Number(c);return (a(c)-a(-c))/2};return c},'es6','es3');$jscomp.polyfill('Math.cbrt',function(a){if(a){return a}var b=function(b){if(b===0){return b}b=Number(b);var c=Math.pow(Math.abs(b),1/3);return b<0?-c:c};return b},'es6','es3');$jscomp.polyfill('Math.clz32',function(a){if(a){return a}var b=function(b){b=Number(b)>>>0;if(b===0){return 32}var c=0;if((b&4.29490176E9)===0){b<<=16;c+=16}if((b&4.27819008E9)===0){b<<=8;c+=8}if((b&4.02653184E9)===0){b<<=4;c+=4}if((b&3.221225472E9)===0){b<<=2;c+=2}if((b&2.147483648E9)===0){c++}return c};return b},'es6','es3');$jscomp.polyfill('Math.cosh',function(a){if(a){return a}var b=Math.exp;var c=function(c){c=Number(c);return (b(c)+b(-c))/2};return c},'es6','es3');$jscomp.polyfill('Math.expm1',function(a){if(a){return a}var b=function(b){b=Number(b);if(b<0.25&&b>-0.25){var e=b;var f=1;var c=b;var d=0;while(d!=c){e*=b/++f;c=(d=c)+e}return c}return Math.exp(b)-1};return b},'es6','es3');$jscomp.polyfill('Math.hypot',function(a){if(a){return a}var b=function(c,d,h){c=Number(c);d=Number(d);var b,g,f;var e=Math.max(Math.abs(c),Math.abs(d));for(b=2;b<arguments.length;b++){e=Math.max(e,Math.abs(arguments[b]))}if(e>1.0E100||e<1.0E-100){c=c/e;d=d/e;f=c*c+d*d;for(b=2;b<arguments.length;b++){g=Number(arguments[b])/e;f+=g*g}return Math.sqrt(f)*e}else {f=c*c+d*d;for(b=2;b<arguments.length;b++){g=Number(arguments[b]);f+=g*g}return Math.sqrt(f)}};return b},'es6','es3');$jscomp.polyfill('Math.imul',function(a){if(a){return a}var b=function(b,c){b=Number(b);c=Number(c);var f=b>>>16&65535;var d=b&65535;var g=c>>>16&65535;var e=c&65535;var h=f*e+d*g<<16>>>0;return d*e+h|0};return b},'es6','es3');$jscomp.polyfill('Math.log10',function(a){if(a){return a}var b=function(b){return Math.log(b)/Math.LN10};return b},'es6','es3');$jscomp.polyfill('Math.log2',function(a){if(a){return a}var b=function(b){return Math.log(b)/Math.LN2};return b},'es6','es3');$jscomp.polyfill('Math.sign',function(a){if(a){return a}var b=function(b){b=Number(b);return b===0||isNaN(b)?b:b>0?1:-1};return b},'es6','es3');$jscomp.polyfill('Math.sinh',function(a){if(a){return a}var b=Math.exp;var c=function(c){c=Number(c);if(c===0){return c}return (b(c)-b(-c))/2};return c},'es6','es3');$jscomp.polyfill('Math.tanh',function(a){if(a){return a}var b=function(b){b=Number(b);if(b===0){return b}var c=Math.exp(-2*Math.abs(b));var d=(1-c)/(1+c);return b<0?-d:d};return b},'es6','es3');$jscomp.polyfill('Math.trunc',function(a){if(a){return a}var b=function(b){b=Number(b);if(isNaN(b)||b===Infinity||b===-Infinity||b===0){return b}var c=Math.floor(Math.abs(b));return b<0?-c:c};return b},'es6','es3');$jscomp.polyfill('Number.EPSILON',function(a){return Math.pow(2,-52)},'es6','es3');$jscomp.polyfill('Number.MAX_SAFE_INTEGER',function(){return 9.007199254740991E15},'es6','es3');$jscomp.polyfill('Number.MIN_SAFE_INTEGER',function(){return -9.007199254740991E15},'es6','es3');$jscomp.polyfill('Number.isFinite',function(a){if(a){return a}var b=function(b){if(typeof b!=='number'){return !1}return !isNaN(b)&&b!==Infinity&&b!==-Infinity};return b},'es6','es3');$jscomp.polyfill('Number.isInteger',function(a){if(a){return a}var b=function(b){if(!Number.isFinite(b)){return !1}return b===Math.floor(b)};return b},'es6','es3');$jscomp.polyfill('Number.isNaN',function(a){if(a){return a}var b=function(b){return typeof b==='number'&&isNaN(b)};return b},'es6','es3');$jscomp.polyfill('Number.isSafeInteger',function(a){if(a){return a}var b=function(b){return Number.isInteger(b)&&Math.abs(b)<=Number.MAX_SAFE_INTEGER};return b},'es6','es3');$jscomp.polyfill('Object.assign',function(a){if(a){return a}var b=function(e,f){for(var d=1;d<arguments.length;d++){var b=arguments[d];if(!b){continue}for(var c in b){if($jscomp.owns(b,c)){e[c]=b[c]}}}return e};return b},'es6','es3');$jscomp.polyfill('Object.entries',function(a){if(a){return a}var b=function(c){var d=[];for(var b in c){if($jscomp.owns(c,b)){d.push([b,c[b]])}}return d};return b},'es8','es3');$jscomp.polyfill('Object.getOwnPropertySymbols',function(a){if(a){return a}return function(){return []}},'es6','es5');$jscomp.polyfill('Reflect.ownKeys',function(b){if(b){return b}var a='jscomp_symbol_';function isSymbol(c){return c.substring(0,a.length)==a}var c=function(e){var f=[];var c=Object.getOwnPropertyNames(e);var d=Object.getOwnPropertySymbols(e);for(var a=0;a<c.length;a++){(isSymbol(c[a])?d:f).push(c[a])}return f.concat(d)};return c},'es6','es5');$jscomp.polyfill('Object.getOwnPropertyDescriptors',function(a){if(a){return a}var b=function(e){var d={};var c=Reflect.ownKeys(e);for(var b=0;b<c.length;b++){d[c[b]]=Object.getOwnPropertyDescriptor(e,c[b])}return d};return b},'es8','es5');$jscomp.underscoreProtoCanBeSet=function(){var b={a:!0};var a={};try{a.__proto__=b;return a.a}catch(c){}return !1};$jscomp.setPrototypeOf=typeof Object.setPrototypeOf=='function'?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b){throw new TypeError(a+' is not extensible')}return a}:null;$jscomp.polyfill('Object.setPrototypeOf',function(a){return a||$jscomp.setPrototypeOf},'es6','es5');$jscomp.polyfill('Object.values',function(a){if(a){return a}var b=function(b){var c=[];for(var d in b){if($jscomp.owns(b,d)){c.push(b[d])}}return c};return b},'es8','es3');$jscomp.polyfill('Reflect.apply',function(a){if(a){return a}var c=Function.prototype.apply;var b=function(e,d,b){return c.call(e,d,b)};return b},'es6','es3');$jscomp.objectCreate=$jscomp.ASSUME_ES5||typeof Object.create=='function'?Object.create:function(b){var a=function(){};a.prototype=b;return new a()};$jscomp.construct=function(){function reflectConstructWorks(){function Base(){}function Derived(){}new Base();Reflect.construct(Base,[],Derived);return new Base() instanceof Base}if(typeof Reflect!='undefined'&&Reflect.construct){if(reflectConstructWorks()){return Reflect.construct}var b=Reflect.construct;var a=function(e,d,a){var c=b(e,d);if(a){Reflect.setPrototypeOf(c,a.prototype)}return c};return a}function construct(b,d,a){if(a===undefined){a=b}var f=a.prototype||Object.prototype;var c=$jscomp.objectCreate(f);var e=Function.prototype.apply;var g=e.call(b,c,d);return g||c}return construct}();$jscomp.polyfill('Reflect.construct',function(a){return $jscomp.construct},'es6','es3');$jscomp.polyfill('Reflect.defineProperty',function(a){if(a){return a}var b=function(e,d,c){try{Object.defineProperty(e,d,c);var b=Object.getOwnPropertyDescriptor(e,d);if(!b){return !1}return b.configurable===(c.configurable||!1)&&b.enumerable===(c.enumerable||!1)&&('value' in b?b.value===c.value&&b.writable===(c.writable||!1):b.get===c.get&&b.set===c.set)}catch(f){return !1}};return b},'es6','es5');$jscomp.polyfill('Reflect.deleteProperty',function(a){if(a){return a}var b=function(c,b){if(!$jscomp.owns(c,b)){return !0}try{return delete c[b]}catch(d){return !1}};return b},'es6','es3');$jscomp.polyfill('Reflect.getOwnPropertyDescriptor',function(a){return a||Object.getOwnPropertyDescriptor},'es6','es5');$jscomp.polyfill('Reflect.getPrototypeOf',function(a){return a||Object.getPrototypeOf},'es6','es5');$jscomp.findDescriptor=function(d,c){var a=d;while(a){var b=Reflect.getOwnPropertyDescriptor(a,c);if(b){return b}a=Reflect.getPrototypeOf(a)}return undefined};$jscomp.polyfill('Reflect.get',function(a){if(a){return a}var b=function(d,c,e){if(arguments.length<=2){return d[c]}var b=$jscomp.findDescriptor(d,c);if(b){return b.get?b.get.call(e):b.value}return undefined};return b},'es6','es5');$jscomp.polyfill('Reflect.has',function(a){if(a){return a}var b=function(c,b){return b in c};return b},'es6','es3');$jscomp.polyfill('Reflect.isExtensible',function(a){if(a){return a}if($jscomp.ASSUME_ES5||typeof Object.isExtensible=='function'){return Object.isExtensible}return function(){return !0}},'es6','es3');$jscomp.polyfill('Reflect.preventExtensions',function(a){if(a){return a}if(!($jscomp.ASSUME_ES5||typeof Object.preventExtensions=='function')){return function(){return !1}}var b=function(b){Object.preventExtensions(b);return !Object.isExtensible(b)};return b},'es6','es3');$jscomp.polyfill('Reflect.set',function(a){if(a){return a}var b=function(b,d,e,f){var c=$jscomp.findDescriptor(b,d);if(!c){if(Reflect.isExtensible(b)){b[d]=e;return !0}return !1}if(c.set){c.set.call(arguments.length>3?f:b,e);return !0}else {if(c.writable&&!Object.isFrozen(b)){b[d]=e;return !0}}return !1};return b},'es6','es5');$jscomp.polyfill('Reflect.setPrototypeOf',function(a){if(a){return a}else {if($jscomp.setPrototypeOf){var b=$jscomp.setPrototypeOf;var c=function(c,d){try{b(c,d);return !0}catch(e){return !1}};return c}else {return null}}},'es6','es5');$jscomp.polyfill('Set',function(b){var c=!$jscomp.ASSUME_NO_NATIVE_SET&&function(){if(!b||!b.prototype.entries||typeof Object.seal!='function'){return !1}try{b=b;var d=Object.seal({x:4});var c=new b($jscomp.makeIterator([d]));if(!c.has(d)||c.size!=1||c.add(d)!=c||c.size!=1||c.add({x:4})!=c||c.size!=2){return !1}var e=c.entries();var a=e.next();if(a.done||a.value[0]!=d||a.value[1]!=d){return !1}a=e.next();if(a.done||a.value[0]==d||a.value[0].x!=4||a.value[1]!=a.value[0]){return !1}return e.next().done}catch(f){return !1}}();if(c){return b}$jscomp.initSymbol();$jscomp.initSymbolIterator();var a=function(a){this.map_=new Map();if(a){var e=$jscomp.makeIterator(a);var c;while(!(c=e.next()).done){var d=c.value;this.add(d)}}this.size=this.map_.size};a.prototype.add=function(a){this.map_.set(a,a);this.size=this.map_.size;return this};a.prototype['delete']=function(c){var a=this.map_['delete'](c);this.size=this.map_.size;return a};a.prototype.clear=function(){this.map_.clear();this.size=0};a.prototype.has=function(a){return this.map_.has(a)};a.prototype.entries=function(){return this.map_.entries()};a.prototype.values=function(){return this.map_.values()};a.prototype.keys=a.prototype.values;a.prototype[Symbol.iterator]=a.prototype.values;a.prototype.forEach=function(c,a){var d=this;this.map_.forEach(function(e){return c.call(a,e,e,d)})};return a},'es6','es3');$jscomp.checkStringArgs=function(a,c,b){if(a==null){throw new TypeError("The 'this' value for String.prototype."+b+' must not be null or undefined')}if(c instanceof RegExp){throw new TypeError('First argument to String.prototype.'+b+' must not be a regular expression')}return a+''};$jscomp.polyfill('String.prototype.codePointAt',function(a){if(a){return a}var b=function(b){var e=$jscomp.checkStringArgs(this,null,'codePointAt');var f=e.length;b=Number(b)||0;if(!(b>=0&&b<f)){return void 0}b=b|0;var c=e.charCodeAt(b);if(c<55296||c>56319||b+1===f){return c}var d=e.charCodeAt(b+1);if(d<56320||d>57343){return c}return (c-55296)*1024+d+9216};return b},'es6','es3');$jscomp.polyfill('String.prototype.endsWith',function(a){if(a){return a}var b=function(b,c){var d=$jscomp.checkStringArgs(this,b,'endsWith');b=b+'';if(c===void 0){c=d.length}var f=Math.max(0,Math.min(c|0,d.length));var e=b.length;while(e>0&&f>0){if(d[--f]!=b[--e]){return !1}}return e<=0};return b},'es6','es3');$jscomp.polyfill('String.fromCodePoint',function(a){if(a){return a}var b=function(e){var c='';for(var d=0;d<arguments.length;d++){var b=Number(arguments[d]);if(b<0||b>1114111||b!==Math.floor(b)){throw new RangeError('invalid_code_point '+b)}if(b<=65535){c+=String.fromCharCode(b)}else {b-=65536;c+=String.fromCharCode(b>>>10&1023|55296);c+=String.fromCharCode(b&1023|56320)}}return c};return b},'es6','es3');$jscomp.polyfill('String.prototype.includes',function(a){if(a){return a}var b=function(b,c){var d=$jscomp.checkStringArgs(this,b,'includes');return d.indexOf(b,c||0)!==-1};return b},'es6','es3');$jscomp.polyfill('String.prototype.repeat',function(a){if(a){return a}var b=function(b){var c=$jscomp.checkStringArgs(this,null,'repeat');if(b<0||b>1342177279){throw new RangeError('Invalid count value')}b=b|0;var d='';while(b){if(b&1){d+=c}if(b>>>=1){c+=c}}return d};return b},'es6','es3');$jscomp.stringPadding=function(c,a){var b=c!==undefined?String(c):' ';if(!(a>0)||!b){return ''}var d=Math.ceil(a/b.length);return b.repeat(d).substring(0,a)};$jscomp.polyfill('String.prototype.padEnd',function(a){if(a){return a}var b=function(d,c){var b=$jscomp.checkStringArgs(this,null,'padStart');var e=d-b.length;return b+$jscomp.stringPadding(c,e)};return b},'es8','es3');$jscomp.polyfill('String.prototype.padStart',function(a){if(a){return a}var b=function(d,c){var b=$jscomp.checkStringArgs(this,null,'padStart');var e=d-b.length;return $jscomp.stringPadding(c,e)+b};return b},'es8','es3');$jscomp.polyfill('String.prototype.startsWith',function(a){if(a){return a}var b=function(b,g){var c=$jscomp.checkStringArgs(this,b,'startsWith');b=b+'';var h=c.length;var e=b.length;var f=Math.max(0,Math.min(g|0,c.length));var d=0;while(d<e&&f<h){if(c[f++]!=b[d++]){return !1}}return d>=e};return b},'es6','es3');$jscomp.arrayFromIterator=function(c){var b;var a=[];while(!(b=c.next()).done){a.push(b.value)}return a};$jscomp.arrayFromIterable=function(a){if(a instanceof Array){return a}else {return $jscomp.arrayFromIterator($jscomp.makeIterator(a))}};$jscomp.inherits=function(a,b){a.prototype=$jscomp.objectCreate(b.prototype);a.prototype.constructor=a;if($jscomp.setPrototypeOf){var e=$jscomp.setPrototypeOf;e(a,b)}else {for(var c in b){if(c=='prototype'){continue}if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);if(d){Object.defineProperty(a,c,d)}}else {a[c]=b[c]}}}a.superClass_=b.prototype};$jscomp.polyfill('WeakSet',function(b){function isConformant(){if(!b||!Object.seal){return !1}try{var c=Object.seal({});var d=Object.seal({});var a=new b([c]);if(!a.has(c)||a.has(d)){return !1}a['delete'](c);a.add(d);return !a.has(c)&&a.has(d)}catch(e){return !1}}if(isConformant()){return b}var a=function(a){this.map_=new WeakMap();if(a){$jscomp.initSymbol();$jscomp.initSymbolIterator();var e=$jscomp.makeIterator(a);var c;while(!(c=e.next()).done){var d=c.value;this.add(d)}}};a.prototype.add=function(a){this.map_.set(a,!0);return this};a.prototype.has=function(a){return this.map_.has(a)};a.prototype['delete']=function(a){return this.map_['delete'](a)};return a},'es6','es3');try{if(Array.prototype.values.toString().indexOf('[native code]')==-1){delete Array.prototype.values}}catch(a){}Ext.define('Ext.overrides.util.Grouper',{override:'Ext.util.Grouper',config:{formatter:!1,blankValue:'(blank)'},_eventToMethodMap:{propertychange:'onGrouperPropertyChange',directionchange:'onGrouperDirectionChange'},destroy:function(){this.observers=null;this.callParent()},getGroupString:function(b){var a=this._groupFn(b);return a!=null&&a!==''?a:this.getBlankValue()},standardGroupFn:function(d){var b=this,e=b._root,c=b._formatter,a=(e?d[e]:d)[b._property];if(c){a=c(a)}return a},addObserver:function(c){var b=this,a=b.observers;if(!a){b.observers=a=[]}if(!Ext.Array.contains(a,c)){if(b.notifying){b.observers=a=a.slice(0)}a.push(c)}if(a.length>1){Ext.Array.sort(a,b.prioritySortFn)}},prioritySortFn:function(a,b){var c=a.observerPriority||0,d=b.observerPriority||0;return c-d},removeObserver:function(b){var a=this.observers;if(a){Ext.Array.remove(a,b)}},clearObservers:function(){this.observers=null},notify:function(i,c){var a=this,d=a.observers,f=a._eventToMethodMap[i],j=0,b,h,e,g;c=c||[];if(d&&f){a.notifying=!0;for(b=0,h=d.length;b<h;++b){e=(g=d[b])[f];if(e){if(!j++){c.unshift(a)}e.apply(g,c)}}a.notifying=!1}},updateProperty:function(b,a){this.callParent([b,a]);this.notify('propertychange',[b,a])},updateDirection:function(b,a){this.callParent([b,a]);this.notify('directionchange',[b,a])},applyFormatter:function(c){var a,b;if(!c){return null}a=Ext.app.bind.Parser.fly(c);b=a.compileFormat();a.release();return function(a){return b(a)}}});Ext.define('Ext.overrides.util.Collection',{override:'Ext.util.Collection',uses:['Ext.util.GrouperCollection'],config:{groupConfig:null,groupers:null},destroy:function(){var a=this,c=a._groupers,b=a.lastMonitoredGroupers;if(b){b.removeGroupersObserver(a)}if(c){c.destroy();a._groupers=null}a.setGroups(null);a.callParent()},_eventToMethodMap:{add:'onCollectionAdd',beforeitemchange:'onCollectionBeforeItemChange',beginupdate:'onCollectionBeginUpdate',endupdate:'onCollectionEndUpdate',itemchange:'onCollectionItemChange',filtereditemchange:'onCollectionFilteredItemChange',refresh:'onCollectionRefresh',remove:'onCollectionRemove',beforesort:'beforeCollectionSort',sort:'onCollectionSort',beforegroup:'onCollectionBeforeGroup',group:'onCollectionGroup',filter:'onCollectionFilter',filteradd:'onCollectionFilterAdd',updatekey:'onCollectionUpdateKey'},createSortFn:function(){var d=this,a=d.getGroupers(!1),c=d.getSorters(!1),b=c?c.getSortFn():null,e=a?a.getSortFn():null;if(!a){return b}return function(c,d){var a=e(c,d);if(!a&&b){a=b(c,d)}return a}},applyGrouper:function(a){if(a&&!a.isGrouper){a=this.getGroupers(!0).decodeGrouper(a)}return a},updateGrouper:function(b){var a=this.getGroupers(!1);if(b){if(!a){a=this.getGroupers(!0)}a.clear();a.add(b)}else {this.setGroupers(null)}},getGrouper:function(){var a=this.getGroupers(!1);return a&&a.length?a.getAt(0):null},getGroupers:function(b){var a=this._groupers;if(!a&&b!==!1){a=new Ext.util.GrouperCollection({rootProperty:this.getRootProperty()});this.setGroupers(a)}return a},applyGroupers:function(a,b){if(a==null||a&&a.isGrouperCollection){return a}if(a){if(!b){b=this.getGroupers()}b.splice(0,b.length,a)}return b},updateGroupers:function(c,d){var a=this,b=a.getGroups(),f=a.getSorters(),e;if(d){d.un('endupdate','onEndUpdateGroupers',a)}if(c){if(a.getTrackGroups()){if(!b){b=new Ext.util.GroupCollection({itemRoot:a.getRootProperty(),autoGroup:a.getAutoGroup(),autoSort:a.getAutoSort(),groupConfig:a.getGroupConfig()});a.setGroups(b)}e=!0}c.on('endupdate','onEndUpdateGroupers',a,{prepend:!0})}else {a.setGroups(null)}a.onEndUpdateGroupers(c);if(!f.updating){a.onEndUpdateSorters(f)}if(e){b.onCollectionRefresh(a)}},onEndUpdateGroupers:function(b){var a=this,e=a.grouped,c=a.getSorters(),d=a.getAutoGroup()&&b&&b.length>0;if(a.lastMonitoredGroupers){a.lastMonitoredGroupers.removeGroupersObserver(a);a.lastMonitoredGroupers=null}if(e||d){a.grouped=!!d;a.onSorterChange();if(c&&!c.updating){a.onEndUpdateSorters(b)}a.onGroupChange(b);if(b){a.lastMonitoredGroupers=b;b.addGroupersObserver(a)}}},onCollectionFilteredItemChange:function(){delete this.onCollectionUpdateKey},onGrouperDirectionChange:function(){var a=this;a.onEndUpdateSorters(a.getSorters());a.notify('group',[a.getGroupers(!1)])},onGroupChange:function(c){var a=this,b=a.getGroups();if(b){b.onCollectionGroupersChanged(a);a.groupItems()}},groupItems:function(){var a=this,b=a.getGroupers(!1),c=a.getGroups();a.notify('beforegroup',[b]);if(a.length&&c){c.onCollectionRefresh(a)}a.notify('group',[b])},updateGroups:function(b,a){if(a){this.removeObserver(a);a.destroy()}if(b){this.addObserver(b)}},onCollectionRefresh:function(a){this.callParent([a]);++this.generation}});Ext.define('Ext.overrides.data.AbstractStore',{override:'Ext.data.AbstractStore',config:{groupers:undefined,remoteSummary:{lazy:!0,$value:!1}},observerPriority:1000,delayedGroup:function(c,b){var a=this;a.fireEvent('beforegroupchange',a);Ext.asap(a.group,a,[c,b])},group:function(a,e){var f=this,g=f.getData(),d,c,b;if(f.destroyed){return}d=g.getGroupers();if(a){if(Ext.isArray(a)){b=a}else {if(Ext.isObject(a)){b=[a]}else {if(Ext.isString(a)){c=d.get(a);if(!c){c={property:a,direction:e||f.getGroupDir()};b=[c]}else {if(e===undefined){c.toggle()}else {c.setDirection(e)}}}}}if(b&&b.length){g.setGroupers(b)}}else {d.clear()}},onGrouperEndUpdate:function(){var a=this,b=a.getData();b.getGroupers().addGroupersObserver(a);if(a.getRemoteSort()){if(!a.isInitializing){a.load({scope:a,callback:a.fireGroupChange})}}else {a.fireEvent('datachanged',a);a.fireEvent('refresh',a);a.fireGroupChange()}},onGrouperDirectionChange:function(){var a=this;a.fireEvent('beforegroupchange',a);if(a.getRemoteSort()){if(!a.isInitializing){a.load({scope:a,callback:a.fireGroupChange})}}else {Ext.asap(a.delayedDirectionChange,a)}},delayedDirectionChange:function(){var a=this;if(a.destroyed){return}a.fireEvent('datachanged',a);a.fireEvent('refresh',a);a.fireGroupChange()},fireGroupChange:function(){if(!this.destroyed){this.fireEvent('groupchange',this,this.getGroupers())}},getGroupField:function(){var a=this.getGroupers(),b='';if(a&&a.length){b=a.getAt(0).getProperty()}return b},getGrouper:function(){return this.getData().getGrouper()},setGrouper:function(a){this.setGroupers(a?[a]:[])},getGroupers:function(){return this.getData().getGroupers()},setGroupers:function(a){var b=!this.isConfiguring||this.isConfiguring&&a;if(b){this.group(a)}},isGrouped:function(){return this.getGroupers().length>0},getState:function(){var d=this,b=[],a=d.callParent(arguments),c=!Ext.isEmpty(a);d.getGroupers().each(function(a){b[b.length]=a.getState();c=c&&!0});if(c){a=a||{};if(b.length){a.groupers=b}}return a},applyState:function(c){var d=this,b=d.getGroupers(),a=c.groupers;if(a){b.replaceAll(a)}}});Ext.define('Ext.overrides.data.operation.Read',{override:'Ext.data.operation.Read',config:{groupers:undefined,summaries:undefined}});Ext.define('Ext.overrides.data.field.Field',{override:'Ext.data.field.Field',summary:null,getSummary:function(){var b=this,c=b.doneSummary,a=b.summary;if(!c){b.doneSummary=!0;if(a){b.summary=a=Ext.Factory.dataSummary(a)}}return a||null}});Ext.define('Ext.overrides.data.Model',{override:'Ext.data.Model',inheritableStatics:{getSummaryModel:function(){var d=this,g=d.prototype,a=d.summaryModel,f=g.getFields(),h=f.length,e=[],b,c;if(!a){for(c=0;c<h;c++){b=f[c];if(b.getSummary()){e.push({name:b.getName(),type:'auto',summary:b.getSummary()})}}a=Ext.define(null,{extend:'Ext.data.SummaryModel',fields:e});d.summaryModel=g.summaryModel=a}return a||null}}});Ext.define('Ext.overrides.data.ResultSet',{override:'Ext.data.ResultSet',config:{groupData:null,summaryData:null}});Ext.define('Ext.overrides.data.reader.Reader',{override:'Ext.data.reader.Reader',config:{groupRootProperty:'',summaryRootProperty:''},readRecords:function(f,i,h){var a=this,e=a.callParent([f,i,h]),g=null,d=null,b,c;if(e.isResultSet&&e.success){if(a.getGroupRootProperty()){b=a.getGroupRoot(f);if(b){c={includes:!1,model:a.getModel().getSummaryModel()};g=a.extractData(b,c)||null}}if(a.getSummaryRootProperty()){b=a.getSummaryRoot(f);if(b){c=c||{includes:!1,model:a.getModel().getSummaryModel()};d=a.extractData(b,c)||null;if(d){d=d[0]}}}e.setGroupData(g);e.setSummaryData(d)}return e},buildExtractors:function(d){var a=this,c,b;if(d||!a.hasExtractors){c=a.getGroupRootProperty();b=a.getSummaryRootProperty();if(c){a.getGroupRoot=a.getAccessor(c)}if(b){a.getSummaryRoot=a.getAccessor(b)}}return a.callParent([d])},privates:{getGroupRoot:Ext.privateFn,getSummaryRoot:Ext.privateFn}});Ext.define('Ext.overrides.data.proxy.Memory',{override:'Ext.data.proxy.Memory',config:{clearOnRead:null},read:function(b){var e=this,i=e.getReader(),a=i.read(e.getData(),{recordCreator:i.defaultRecordCreatorFromServer}),c=a.getRecords(),d=b.getSorters(),f=b.getGroupers(),h=b.getFilters(),g=b.getStart(),j=b.getLimit(),k;if(b.process(a,null,null,!1)!==!1){if(b.success&&e.getClearOnRead()){this.setData(null)}if(h&&h.length){a.setRecords(c=Ext.Array.filter(c,Ext.util.Filter.createFilterFn(h)));a.setTotal(c.length)}if(f&&f.length){d=d?f.concat(d):f}if(d&&d.length){a.setRecords(c=Ext.Array.sort(c,Ext.util.Sortable.createComparator(d)))}if(e.getEnablePaging()&&g!==undefined&&j!==undefined){if(g>=a.getTotal()){a.setConfig({success:!1,records:[],total:0})}else {a.setRecords(Ext.Array.slice(c,g,g+j))}}b.setCompleted();if(k=a.getMetadata()){e.onMetaChange(k)}}}});Ext.define('Ext.overrides.data.proxy.Server',{override:'Ext.data.proxy.Server',config:{summaryParam:'summary'},getParams:function(d){if(!d.isReadOperation){return {}}var b=this,a={},e=d.getGroupers(),f=d.getSorters(),l=d.getFilters(),t=d.getPage(),m=d.getStart(),s=d.getLimit(),v=b.getSimpleSortMode(),u=b.getSimpleGroupMode(),r=b.getPageParam(),q=b.getStartParam(),p=b.getLimitParam(),g=b.getGroupParam(),i=b.getGroupDirectionParam(),h=b.getSortParam(),o=b.getFilterParam(),j=b.getDirectionParam(),k=d.getSummaries(),n=b.getSummaryParam(),c;if(r&&t){a[r]=t}if(q&&(m||m===0)){a[q]=m}if(p&&s){a[p]=s}if(n&&k&&k.length>0){a[n]=b.encodeFields(k)}if(g&&e&&e.length>0){if(u){for(c=0;c<e.length;c++){if(i===g){a[g]=Ext.Array.push(a[g]||[],e[c].getProperty()+' '+e[c].getDirection())}else {a[g]=Ext.Array.push(a[g]||[],e[c].getProperty());a[i]=Ext.Array.push(a[i]||[],e[c].getDirection())}}}else {a[g]=b.encodeSorters(e)}}if(h&&f&&f.length>0){if(v){for(c=0;c<f.length;c++){if(j===h){a[h]=Ext.Array.push(a[h]||[],f[c].getProperty()+' '+f[c].getDirection())}else {a[h]=Ext.Array.push(a[h]||[],f[c].getProperty());a[j]=Ext.Array.push(a[j]||[],f[c].getDirection())}}}else {a[h]=b.encodeSorters(f)}}if(o&&l&&l.length>0){a[o]=b.encodeFilters(l)}return a},encodeFields:function(e){var f=[],g=e.length,b,d,c,a;for(b=0;b<g;b++){d=e[b];c={name:d.getName()};a=d.getSummary();if(a&&a.isAggregator){c.summary=a.type;f.push(c)}}return this.applyEncoding(f)}});Ext.define('Ext.overrides.util.Group',{override:'Ext.util.Group',pathSeparator:'<||>',config:{level:1,path:null,data:null,grouper:null,label:null,groupKey:null,parent:null},$endUpdatePriority:2001,manageSorters:!1,isGroup:!0,constructor:function(a){this.callParent([a]);this.on('remove','onGroupItemsRemove',this)},destroy:function(){var b=this.getParent(),a;if(b&&b.isGroup){a=b.getGroups();if(a){a.remove(this)}}this.callParent()},clear:function(){var a=this.getGroups(),c,b,d;d=this.callParent();if(a){c=a.length;for(b=0;b<c;b++){a.items[b].clear()}a.clear()}return d},getData:function(){var a=this._data;if(!a){a={};this.setData(a)}return a},setCustomData:function(a,b){this.getData()[a]=b},getCustomData:function(a){return this.getData()[a]},updateLabel:function(a){this.setCustomData(this.getGrouper().getProperty(),a)},getGrouper:function(){return this._grouper},updateGrouper:Ext.emptyFn,updateSorters:function(c,e){var b=this.getGroups(),d,a;this.callParent([c,e]);if(!b||this.ejectTime){return}d=b.length;for(a=0;a<d;a++){b.items[a].setSorters(c)}},updateGroupKey:function(){this.refreshPath()},updateParent:function(){this.refreshPath()},refreshPath:function(){var a=this,d=1,b,c;if(!a.refreshingPath){a.refreshingPath=!0;b=a.getParent();c=a.getGroupKey();if(b&&b.isGroup){d+=b.getLevel();c=b.getPath()+a.pathSeparator+c}a.setLevel(d);a.setPath(c);a.refreshingPath=!1}},isFirst:function(){var a=this.getParent(),b=a?a.isGroup?a.getGroups():a:null,c=!1;if(b){c=b.indexOf(this)===0}return c},isLast:function(){var a=this.getParent(),b=a?a.isGroup?a.getGroups():a:null,c=!1;if(b){c=b.indexOf(this)===b.length-1}return c},groupItems:function(){if(!this.ejectTime){return this.callParent()}},sortItems:function(){if(!this.ejectTime){return this.callParent()}},privates:{canOwnItem:function(a){return this.getGroupKey()===this.getGrouper().getGroupString(a)},removeItems:function(e){var a=this.getGroups(),f=a?a.length:0,d=[],c,b;for(c=0;c<f;++c){b=a.items[c];b.remove(e);if(!b.length){d.push(b)}}if(d.length){a.remove(d)}},onGroupItemsRemove:function(b,a){this.removeItems(a.items)}}});Ext.define('Ext.util.GrouperCollection',{extend:'Ext.util.SorterCollection',requires:['Ext.util.Grouper'],isGrouperCollection:!0,constructor:function(a){this.callParent([a]);this.setDecoder(this.decodeGrouper)},decodeGrouper:function(a){var b=a;if(typeof a==='function'){b={groupFn:a}}return this.decodeSorter(b,'Ext.util.Grouper')},addGroupersObserver:function(c){var b=this.items,d=b.length,a;for(a=0;a<d;a++){b[a].addObserver(c)}},removeGroupersObserver:function(c){var b=this.items,d=b.length,a;for(a=0;a<d;a++){b[a].removeObserver(c)}}});Ext.define('Ext.overrides.util.GroupCollection',{override:'Ext.util.GroupCollection',requires:['Ext.util.GrouperCollection'],config:{grouper:null,groupConfig:null,itemRoot:null},rootProperty:'_data',observerPriority:-100,emptyGroupRetainTime:300000,constructor:function(a){this.emptyGroups={};this.callParent([a]);this.on('remove','onGroupRemove',this)},destroy:function(){var a=this,b=a.lastMonitoredGrouper;if(b){b.removeObserver(this)}a.destroyGroups(a.items);clearTimeout(a.checkRemoveQueueTimer);a.callParent()},getItemGroup:function(d){var a=this.lastMonitoredGrouper,c,b;if(!a&&this.items.length){a=this.items[0].getGrouper()}if(a){c=a.getGroupString(d);b=this.get(c)}return b},onCollectionItemChange:function(b,a){if(!a.indexChanged){this.syncItemGrouping(b,a)}this.changeDetails=null},onCollectionRefresh:function(d){if(d.generation){var b=this,j=b.itemGroupKeys={},g,a,h,e,i,c,f;b.groupersChanged=!0;g=b.createEntries(d,d.items);a=g.entries;for(e=0,i=a.length;e<i;++e){c=a[e];c.group.splice(0,1.0E99,c.items);for(f=0;f<c.items.length;f++){j[d.getKey(c.items[f])]=c.group}}a=null;for(h in b.map){if(!(h in g.groups)){(a||(a=[])).push(b.map[h])}}if(a){b.remove(a)}b.sortItems();b.groupersChanged=!1}},onCollectionUpdateKey:function(b,a){if(!a.indexChanged){a.oldIndex=b.indexOf(a.item);this.syncItemGrouping(b,a)}},onCollectionGroupersChanged:function(d){var a=this,c=d.getGroupers(),b;if(c.length>0){b=c.items[0];a.changeSorterFn(b);if(a.lastMonitoredGrouper){a.lastMonitoredGrouper.removeObserver(a)}a.lastMonitoredGrouper=b;b.addObserver(a)}else {a.removeAll()}},changeSorterFn:function(b){var d=this,c=d.getSorters(),a={root:d.getRootProperty()};a.direction=b.getDirection();if(b){if(b.initialConfig.sorterFn){a.sorterFn=b.initialConfig.sorterFn}else {a.property=b.getSortProperty()||b.getProperty()}}if(a.property||a.sorterFn){if(c.length===0){c.add(a)}else {c.items[0].setConfig(a)}}else {c.clear()}},onGrouperDirectionChange:function(a){this.changeSorterFn(a);this.onEndUpdateSorters(this.getSorters())},createEntries:function(i,k){var m=this,e={},h=[],a=i.getGroupers().getRange(),d,f,j,c,b,g,l;if(a.length){d=a.shift();a=a.length?Ext.clone(a):null;for(b=0,l=k.length;b<l;++b){c=d.getGroupString(g=k[b]);if(!(f=e[c])){j=m.getGroup(i,g,d,a);h.push(e[c]=f={group:j,items:[]})}f.items.push(g)}}return {groups:e,entries:h}},onCollectionRemove:function(f,k){var a=this,j=a.changeDetails,m=a.itemGroupKeys||(a.itemGroupKeys={}),e,g,d,b,i,h,c,l;if(f.getCount()){if(j){l=j.item||j.items[0];e=a.createEntries(f,[l]).entries;e[0].group=m['oldKey' in k?k.oldKey:f.getKey(l)]}else {e=a.createEntries(f,k.items).entries}for(b=0,i=e.length;b<i;++b){d=(g=e[b]).group;if(d){d.remove(g.items)}for(h=0;h<g.items.length;h++){delete m[f.getKey(g.items[h])]}if(d&&!d.length){(c||(c=[])).push(d)}}}else {a.itemGroupKeys={};c=a.items;for(b=0,i=c.length;b<i;++b){c[b].clear()}}if(c){a.remove(c)}},addItemsToGroups:function(c,n,d,f){var e=this,p=e.itemGroupKeys||(e.itemGroupKeys={}),k=e.createEntries(c,n).entries,g=-1,m,a,h,o,i,b,j,l;for(h=0,o=k.length;h<o;++h){a=k[h];b=a.group;if(f||f===0){l=n[0];if(b.getCount()>0&&c.getSorters().getCount()===0){j=c.indexOf(b.items[0]);if(f<j){g=0}else {g=f-j}}if(g===-1){b.add(l)}else {b.insert(g,l)}}else {if(e.length>1&&d){m=c.indexOf(k[0].group.getAt(0));d=Math.max(d-m,0)}a.group.insert(d!=null?d:b.items.length,a.items);for(i=0;i<a.items.length;i++){p[c.getKey(a.items[i])]=a.group}}}e.sortItems()},syncItemGrouping:function(h,b){var e=this,i=e.itemGroupKeys||(e.itemGroupKeys={}),d=b.item,c=h.getGroupers().getRange(),k,g,f,a,j;if(!c.length){return}k=c.shift();c=c.length?Ext.clone(c):null;f=h.getKey(d);g='oldKey' in b?b.oldKey:f;a=i[g];j=e.getGroup(h,d,k,c);if(j===a){a.itemChanged(d,b.modified,b.oldKey,b)}else {if(a){a.updateKey(d,g,f);a.remove(d);if(!a.length){e.remove(a)}}e.addItemsToGroups(h,[d],null,b.oldIndex)}delete i[g];i[f]=j},getGroup:function(c,f,d,h){var b=this,e=d.getGroupString(f),g=d.getSortProperty(),i=d.getRoot(),a=b.get(e),j=b.getAutoSort();if(a){a.setSorters(c.getSorters());if(b.groupersChanged){a.setGroupers(h);a.setGrouper(d);a.setParent(c.isGroup?c:b)}}else {a=b.emptyGroups[e];if(a&&a.destroyed){delete b.emptyGroups[e];a=null}a=a||Ext.create(Ext.apply({xclass:'Ext.util.Group',groupConfig:b.getGroupConfig()},b.getGroupConfig()));b.setAutoSort(!1);a.setConfig({groupKey:e,grouper:d,groupers:h,label:e,rootProperty:b.getItemRoot(),sorters:c.getSorters(),autoSort:b.getAutoSort(),autoGroup:b.getAutoGroup(),parent:c.isGroup?c:b});a.ejectTime=null;b.add(a);b.setAutoSort(j);if(g){a.setCustomData(g,(i?f[i]:f)[g])}}return a},getByPath:function(e){var d=e?String(e).split(Ext.util.Group.prototype.pathSeparator):[],f=d.length,b=this,a=!1,c;for(c=0;c<f;c++){if(!b||b.length===0){break}a=b.get(d[c]);if(a){b=a.getGroups()}}return a||!1},getGroupsByItem:function(e){var f=this,a=[],g=f.items.length,c,b,d;if(e){for(c=0;c<g;c++){b=f.items[c];if(b.indexOf(e)>=0){a.push(b);d=b.getGroups();if(d){return Ext.Array.insert(a,a.length,d.getGroupsByItem(e))}}}}return a},updateGrouper:Ext.emptyFn,updateAutoGroup:function(b){var c=this.length,a;this.setAutoSort(b);for(a=0;a<c;a++){this.items[a].setAutoGroup(b)}this.onEndUpdateSorters(this._sorters)},privates:{destroyGroups:function(b){var c=b.length,a;for(a=0;a<c;++a){b[a].destroy()}},onGroupRemove:function(h,g){var e=this,b=g.items,f=e.emptyGroups,d,a,c;b=Ext.Array.from(b);for(c=0,d=b.length;c<d;c++){a=b[c];a.ejectTime=Ext.now();a.setSorters(null);a.setParent(null);f[a.getGroupKey()]=a}e.checkRemoveQueue()},checkRemoveQueue:function(){var a=this,c=a.emptyGroups,d,b,e;for(d in c){b=c[d];if(!b.getCount()&&Ext.now()-b.ejectTime>a.emptyGroupRetainTime){Ext.destroy(b);delete c[d]}else {e=!0}}if(e){clearTimeout(a.checkRemoveQueueTimer);a.checkRemoveQueueTimer=Ext.defer(a.checkRemoveQueue,a.emptyGroupRetainTime,a)}}}});Ext.define('Ext.data.SummaryModel',{extend:'Ext.data.Model',isSummaryModel:!0,fields:[{name:'id',type:'auto'}],inheritableStatics:{setSummary:function(c,a){var b=this.getField(c);if(!b){this.addFields([{name:c,type:'auto',summary:a,doneSummary:a&&a.isAggregator}])}else {if(b.doneSummary&&a&&a.isAggregator){b.summary=a}else {b.summary=a;b.doneSummary=!1}}}},calculateSummary:function(f){var g=this.getFields(),j=g.length,i=f.length,d,a,e,h,c,b;for(d=0;d<j;++d){b=g[d];e=b.getSummary();a=a||{};c=b.name;h=b.summaryField||c;if(c!=='id'){a[c]=e?e.calculate(f,h,'data',0,i):null}}if(a){this.set(a,this._commitOptions)}},fixRemoteSummary:function(){var f=this.getFields(),h=f.length,d,a,e,g,c,b;for(d=0;d<h;++d){b=f[d];e=b.getSummary();a=a||{};c=b.name;g=b.summaryField||c;if(c!=='id'&&!e){a[c]=null}}if(a){this.set(a,this._commitOptions)}}});Ext.define('Ext.data.Group',{extend:'Ext.util.Group',requires:['Ext.data.SummaryModel'],isCollapsed:!1,updateParent:function(a,b){if(!this.isCollapsed&&a&&a.isGroup){this.isCollapsed=a.isCollapsed}this.callParent([a,b])},expand:function(a){this.doExpandCollapse(!0,a)},collapse:function(a){this.doExpandCollapse(!1,a)},doExpandCollapse:function(d,c){var b=this.getGroups(),e,a;this.isCollapsed=!d;if(c&&b){e=b.length;for(a=0;a<e;a++){b.items[a].doExpandCollapse(d,c)}}},toggleCollapsed:function(){this.doExpandCollapse(this.isCollapsed)},getGroupRecord:function(){var a=this.getNewSummaryRecord('groupRecord',!0);a.isGroup=!0;return a},getSummaryRecord:function(){var a=this.getNewSummaryRecord('summaryRecord',!0);a.isSummary=!0;return a},getNewSummaryRecord:function(f,h){var b=this,a=b[f],c=b.store,e=c.getData().generation,d,g;if(!a){d=c.getModel();g=d.getSummaryModel();b[f]=a=new g();a.set('id',d.identifier.generate());a.group=b;a.commit()}if(!c.getRemoteSummary()&&!a.isRemote&&a.summaryGeneration!==e&&h===!0){a.calculateSummary(b.items);a.summaryGeneration=e}else {if(c.getRemoteSummary()&&a.isRemote){a.fixRemoteSummary()}}a.isNonData=!0;return a},recalculateSummaries:function(){var a=this.items;this.getGroupRecord().calculateSummary(a);this.getSummaryRecord().calculateSummary(a)}});Ext.define('Ext.overrides.data.LocalStore',{override:'Ext.data.Store',requires:['Ext.data.Group'],getSummaryRecord:function(){var b=this,a=b.summaryRecord,e=b.getData(),d=e.generation,c,f;if(!a){c=b.getModel();f=c.getSummaryModel();b.summaryRecord=a=new f();a.set('id',c.identifier.generate());a.commit();a.isNonData=!0}if(!a.isRemote&&a.summaryGeneration!==d){a.calculateSummary(e.items);a.summaryGeneration=d}return a},onCollectionGroup:function(){this.onGrouperEndUpdate()},constructDataCollection:function(){var a=new Ext.util.Collection({rootProperty:'data',groupConfig:{xclass:'Ext.data.Group',store:this}});a.addObserver(this);return a}});Ext.define('Ext.overrides.data.Store',{override:'Ext.data.Store',requires:['Ext.overrides.data.LocalStore'],onProxyLoad:function(b){var a=this,e=b.getResultSet(),c=b.getRecords(),d=b.wasSuccessful();if(a.destroyed){return}if(e){a.totalCount=e.getTotal()}if(d){c=a.processAssociation(c);a.loadRecords(c,b.getAddRecords()?{addRecords:!0}:undefined);a.attachSummaryRecord(e)}else {a.loading=!1}if(a.hasListeners.load){a.fireEvent('load',a,c,d,b)}a.callObservers('AfterLoad',[c,d,b])},onProxyWrite:function(a){if(a.wasSuccessful()){this.attachSummaryRecord(a.getResultSet())}this.callParent([a])},privates:{onRemoteSortSet:function(a,b){var c=this.getData();if(a){c.setSorters(b?null:a)}this.callSuper([a,b])},commitOptions:{commit:!0},attachSummaryRecord:function(i){if(!i){return}var c=this,b=i.getSummaryData(),l=c.getGroupers(),a=c.summaryRecord,h=c.commitOptions,j=!1,m,n,g,e,d,f,k;if(b){j=!0;if(a){a.data={};a.set(b.data,h)}else {c.summaryRecord=b;b.isRemote=!0}}if(l&&l.length){j=!0;b=i.getGroupData();if(b){m=c.getGroups();for(g=0,n=b.length;g<n;++g){e=b[g];d=m.getItemGroup(e);if(d){f=d.getGroups();while(f){k=f.getItemGroup(e);if(k){d=k;f=d.getGroups()}else {f=null}}delete e.data.id;a=d.getGroupRecord();a.set(e.data,h);a.isRemote=!0;a=d.getSummaryRecord();a.set(e.data,h);a.isRemote=!0}}}}if(j){if(c.hasListeners.remotesummarieschanged){c.fireEvent('remotesummarieschanged',c)}}},setLoadOptions:function(a){var b=this,e=b.getPageSize(),i=[],c=b.getGroupers(!1),f,j,g,h,k,d;if((b.getRemoteSort()||b.getRemoteSummary())&&!a.groupers){if(c&&c.getCount()){a.groupers=c.getRange()}}if(b.getRemoteSummary()){j=b.getModel().getSummaryModel();g=j.getFields();k=g.length;for(d=0;d<k;d++){h=g[d];if(c&&!c.get(h.name)){i.push(h)}}a.summaries=i}if(e||'start' in a||'limit' in a||'page' in a){a.page=a.page!=null?a.page:b.currentPage;a.start=a.start!==undefined?a.start:(a.page-1)*e;a.limit=a.limit!=null?a.limit:e;b.currentPage=a.page}a.addRecords=a.addRecords||!1;if(!a.recordCreator){f=b.getSession();if(f){a.recordCreator=f.recordCreator}}b.callSuper([a])}}});Ext.define('Ext.overrides.dd.DragSource',{override:'Ext.dd.DragSource',onDragOut:function(c,b){var a=Ext.dd.DragDropManager.getDDById(b);if(this.beforeDragOut(a,c,b)!==!1){if(a.isNotifyTarget){a.notifyOut(this,c,this.dragData)}this.proxy.reset();if(this.afterDragOut){this.afterDragOut(a,c,b)}}this.cachedTarget=null}});Ext.define('Ext.overrides.view.AbstractView',{override:'Ext.view.AbstractView',onViewScrollEnd:function(a,b,c){if(this.destroyed){return}this.callParent([a,b,c])}});Ext.define('Ext.overrides.grid.CellContext',{override:'Ext.grid.CellContext',setRow:function(b){var a=this,c=a.view.dataSource,e=a.record,d;if(b!==undefined){if(typeof b==='number'){d=c.getCount();b=b<0?Math.max(d+b,0):Math.max(Math.min(b,d-1),0);a.rowIdx=b;a.record=c.getAt(b)}else {if(b.isModel){a.record=b;a.rowIdx=c.indexOf(b);if(a.rowIdx===-1&&c.isMultigroupStore&&c.isInCollapsedGroup(b)){c.expandToRecord(b);a.rowIdx=c.indexOf(b)}}else {if(b.tagName||b.isElement){a.record=a.view.getRecord(b);a.rowIdx=a.record?a.record.isCollapsedPlaceholder?c.indexOfPlaceholder(a.record):c.indexOf(a.record):-1}}}}if(a.record!==e){a.generation++}return a}});Ext.define('Ext.overrides.panel.Table',{override:'Ext.panel.Table',privates:{doEnsureVisible:function(a,c){if(this.lockable){return this.ensureLockedVisible(a,c)}if(typeof a!=='number'&&!a.isEntity){a=this.store.getById(a)}var b=this,e=b.getView(),f=e.getNode(a),g,h,k,j,m,l,i,d,n;if(c){g=c.callback;h=c.scope;k=c.animate;j=c.highlight;m=c.select;l=c.focus;d=c.column}if(b.deferredEnsureVisible){b.deferredEnsureVisible.destroy()}if(!e.componentLayoutCounter){b.deferredEnsureVisible=e.on({resize:b.doEnsureVisible,args:Ext.Array.slice(arguments),scope:b,single:!0,destroyable:!0});return}if(typeof d==='number'){d=b.ownerGrid.getVisibleColumnManager().getColumns()[d]}if(f){i=e.getScrollable();if(d){n=Ext.fly(f).selectNode(d.getCellSelector())}if(i){i.scrollIntoView(n||f,!!d,k,j)}if(!a.isEntity){a=e.getRecord(f)}if(m){e.getSelectionModel().select(a)}if(l){e.getNavigationModel().setPosition(a,d)}Ext.callback(g,h||b,[!0,a,f])}else {if(e.bufferedRenderer){e.bufferedRenderer.scrollTo(a,{animate:k,highlight:j,select:m,focus:l,column:d,callback:function(f,e,d){Ext.callback(g,h||b,[!0,e,d])}})}else {Ext.callback(g,h||b,[!1,null])}}}}});Ext.define('Ext.overrides.grid.NavigationModel',{override:'Ext.grid.NavigationModel',getRowsVisible:function(){var c=!1,a=this.view,e=a.all.first(),d,b;if(e){d=e.getHeight();if(a.bufferedRenderer){b=a.bufferedRenderer.viewClientHeight}else {b=a.el.getHeight()}c=Math.floor(b/d)}return c},onKeyPageDown:function(a){var c=this,b=a.view,d=c.getRowsVisible(),f,e;if(d){if(b.bufferedRenderer){f=Math.min(a.recordIndex+d,b.dataSource.getCount()-1);c.lastKeyEvent=a;b.bufferedRenderer.scrollTo(b.dataSource.getAt(f),!1,c.afterBufferedScrollTo,c)}else {e=b.walkRecs(a.record,d);c.setPosition(e,null,a)}}},onKeyPageUp:function(a){var b=this,c=a.view,d=b.getRowsVisible(),f,e;if(d){if(c.bufferedRenderer){f=Math.max(a.recordIndex-d,0);b.lastKeyEvent=a;c.bufferedRenderer.scrollTo(c.dataSource.getAt(f),!1,b.afterBufferedScrollTo,b)}else {e=c.walkRecs(a.record,-d);b.setPosition(e,null,a)}}},onKeyEnd:function(a){var c=this,b=a.view;if(a.altKey){if(b.bufferedRenderer){c.lastKeyEvent=a;b.bufferedRenderer.scrollTo(b.dataSource.last(),!1,c.afterBufferedScrollTo,c)}else {c.setPosition(b.walkRecs(a.record,b.dataSource.getCount()-1-b.dataSource.indexOf(a.record)),null,a)}}else {c.setPosition(a.record,a.view.getVisibleColumnManager().getColumns().length-1,a)}}});Ext.define('Ext.overrides.grid.header.DropZone',{override:'Ext.grid.header.DropZone',positionIndicator:function(g,d,f){var b=this.getLocation(f,d),c=b.header,e=b.pos,a;a=c.nextSibling('gridcolumn:not([hidden])');if(c.isGroupsColumn&&e==='before'||a&&a.isGroupsColumn&&e==='after'){return !1}return this.callParent([g,d,f])}});Ext.define('Ext.overrides.grid.column.Column',{override:'Ext.grid.column.Column',config:{groupFormatter:!1,summaries:{$value:{count:!0},lazy:!0,merge:function(a,b){return this.mergeSets(a,b)}}},groupable:!1,onSummaryChange:null,getListOfSummaries:function(){var d=[],e=this.getSummaries()||{},c=Ext.Object.getAllKeys(e),f=c.length,a,b;for(a=0;a<f;a++){b=c[a];if(e[b]){d.push(b)}}return d},applySummaries:function(a,c){var b=this.self.getConfigurator().configs.summaries;return b.mergeSets(a)}});Ext.define('Ext.overrides.grid.column.Date',{override:'Ext.grid.column.Date',config:{summaries:{min:!0,max:!0}}});Ext.define('Ext.overrides.grid.column.Number',{override:'Ext.grid.column.Number',config:{summaries:{sum:!0,min:!0,max:!0,average:!0,variance:!0,variancep:!0,stddev:!0,stddevp:!0}}});Ext.define('Ext.overrides.grid.column.RowNumberer',{override:'Ext.grid.column.RowNumberer',defaultRenderer:function(g,b,d,j,i,a,k){var h=this,c=h.rowspan,f=a.currentPage,e=d?a.indexOf(d):g-1;if(b&&c){b.tdAttr='rowspan="'+c+'"'}if(f>1){e+=(f-1)*a.pageSize}return e+1}});Ext.define('Ext.overrides.grid.plugin.BufferedRenderer',{override:'Ext.grid.plugin.BufferedRenderer',scrollTo:function(b,g){var n=arguments,a=this,c=a.view,e=c.lockingPartner&&c.lockingPartner.grid.isVisible()&&c.lockingPartner.bufferedRenderer,h=a.store,k=h.getCount(),f,j,l,m,o,p,d,i;if(g!==undefined&&!(g instanceof Object)){g={select:n[1],callback:n[2],scope:n[3]}}if(c.dataSource.isMultigroupStore){if(b.isEntity){d=b}else {d=c.store.getAt(Math.min(Math.max(b,0),c.store.getCount()-1))}if(!c.dataSource.isExpandingOrCollapsing&&c.dataSource.isInCollapsedGroup(d)){c.dataSource.expandToRecord(d)}b=c.dataSource.indexOf(d)}else {if(b.isEntity){d=b;b=h.indexOf(d);if(b===-1){return}}else {b=Math.min(Math.max(b,0),k-1);d=h.getAt(b)}}if(d&&(l=c.getNode(d))){c.grid.ensureVisible(d,g);a.onViewScroll();a.onViewScrollEnd();return}if(b<c.all.startIndex){i=-1;f=Math.max(Math.min(b-Math.floor((a.leadingBufferZone+a.trailingBufferZone)/2),k-a.viewSize+1),0);j=Math.min(f+a.viewSize-1,k-1)}else {i=1;j=Math.min(b+Math.floor((a.leadingBufferZone+a.trailingBufferZone)/2),k-1);f=Math.max(j-(a.viewSize-1),0)}m=Math.max(f*a.rowHeight,0);h.getRange(f,j,{callback:function(k,f,j){a.renderRange(f,j,!0,!0);d=h.data.getRange(b,b+1)[0];l=c.getNode(d);c.body.translate(null,a.bodyTop=m);if(i===1){a.refreshSize()}if(e){e.renderRange(f,j,!0,!0);a.syncRowHeights();e.view.body.translate(null,e.bodyTop=m);if(i===1){e.refreshSize()}}if(!l){return}c.grid.ensureVisible(d,g);a.scrollTop=a.position=a.scroller.getPosition().y;if(e){e.position=e.scrollTop=a.scrollTop}}})}});Ext.define('Ext.overrides.grid.plugin.Editing',{override:'Ext.grid.plugin.Editing',getEditingContext:function(d,c,b){var a=this.callParent([d,c,b]);if(a&&a.record&&a.record.isNonData){return}return a}});Ext.define('Ext.overrides.grid.plugin.CellEditing',{override:'Ext.grid.plugin.CellEditing',onEditComplete:function(g,e,f){var c=this,a=g.context,d,b;d=a.view;b=a.record;a.value=e;if(!b.isEqual(e,f)){b.set(a.column.dataIndex,e);a.rowIdx=d.indexOf(b);if(a.rowIdx<0&&d.dataSource.isMultigroupStore&&d.dataSource.isInCollapsedGroup(b)){d.dataSource.expandToRecord(b);a.rowIdx=d.indexOf(b)}}if(c.context===a){c.setActiveEditor(null);c.setActiveColumn(null);c.setActiveRecord(null);c.editing=!1}c.fireEvent('edit',c,a)}});Ext.define('Ext.overrides.grid.plugin.RowExpander',{override:'Ext.grid.plugin.RowExpander',toggleRow:function(b,a){if(a.isNonData){return}this.callParent([b,a])},getHeaderConfig:function(){var a=this,b=a.grid.lockable&&a.grid;return {width:a.headerWidth,ignoreExport:!0,lockable:!1,autoLock:!0,sortable:!1,resizable:!1,draggable:!1,hideable:!1,menuDisabled:!0,tdCls:Ext.baseCSSPrefix+'grid-cell-special',innerCls:Ext.baseCSSPrefix+'grid-cell-inner-row-expander',renderer:function(d,c,a){var b=Ext.baseCSSPrefix+(a.isNonData?'grid-row-non-expander':'grid-row-expander');return '<div class="'+b+'" role="presentation" tabIndex="0"></div>'},processEvent:function(f,j,h,g,i,b,c){var e=b.pointerType==='touch',d=!!b.getTarget('.'+Ext.baseCSSPrefix+'grid-row-expander');if(c&&c.isNonData){return}if(f==='click'&&d||f==='keydown'&&b.getKey()===b.SPACE){if(e){h.focus()}a.toggleRow(g,c,b);b.stopSelection=!a.selectRowOnExpand}else {if(b.type==='mousedown'&&!e&&d){b.preventDefault()}}},isLocked:function(){return b&&(b.lockedGrid.isVisible()||this.locked)},editRenderer:function(){return '&#160;'}}}});Ext.define('Ext.overrides.grid.selection.SpreadsheetModel',{override:'Ext.grid.selection.SpreadsheetModel',privates:{onMouseMove:function(l,m,k){var a=this,e=k.view,d,j,i=l.getTarget(e.cellSelector),c=k.view.getHeaderByCell(i),b=a.selected,h,g,f;if(a.checkCellClicked){if(i===a.checkCellClicked){if(!a.lastOverRecord){a.lastOverRecord=e.getRecord(i.parentNode)}return}else {a.checkCellClicked=null;if(a.lastOverRecord){a.select(a.lastOverRecord);b.setRangeStart(e.dataSource.indexOf(a.lastOverRecord))}}}if(a.extensible){a.extensible.disable()}if(c){d=e.getRecord(i.parentNode);j=e.dataSource.indexOf(d);g=d!==a.lastOverRecord;f=c!==a.lastOverColumn;if(g||f){h=a.getCellContext(d,c)}if(b.isRows){if(g){if(a.lastOverRecord){b.setRangeEnd(j)}else {b.setRangeStart(j)}}}else {if(b.isCells){if(g||f){if(a.lastOverRecord){b.setRangeEnd(h)}else {b.setRangeStart(h)}}}else {if(b.isColumns){if(f){if(a.lastOverColumn){b.setRangeEnd(h.column)}else {b.setRangeStart(h.column)}}}}}if(g||f){e.getNavigationModel().setPosition((new Ext.grid.CellContext(c.getView())).setPosition(d,c))}a.lastOverColumn=c;a.lastOverRecord=d}}}});Ext.define('Ext.data.summary.Base',{mixins:['Ext.mixin.Factoryable'],alias:'data.summary.base',isAggregator:!0,factoryConfig:{defaultType:'base',cacheable:!0},constructor:function(a){var b=a&&a.calculate;if(b){a=Ext.apply({},a);delete a.calculate;this.calculate=b}this.initConfig(a)},extractValue:function(a,d,b){var c;if(a){if(b){a=a[b]}c=a[d]}return c}});Ext.define('Ext.overrides.data.summary.Base',{override:'Ext.data.summary.Base',text:'Custom'});Ext.define('Ext.data.summary.Sum',{extend:'Ext.data.summary.Base',alias:'data.summary.sum',calculate:function(f,e,g,d,h){var i=h-d,a,b,c;for(a=0;a<i;++a){c=this.extractValue(f[d+a],e,g);b=a?b+c:c}return b}});Ext.define('Ext.overrides.data.summary.Sum',{override:'Ext.data.summary.Sum',text:'Sum'});Ext.define('Ext.data.summary.Average',{extend:'Ext.data.summary.Sum',alias:'data.summary.average',calculate:function(f,e,g,a,c){var d=c-a,b;if(d>0){b=this.callParent([f,e,g,a,c])/d}return b}});Ext.define('Ext.overrides.data.summary.Average',{override:'Ext.data.summary.Average',text:'Average'});Ext.define('Ext.data.summary.Count',{extend:'Ext.data.summary.Base',alias:'data.summary.count',calculate:function(d,c,e,a,b){return b-a}});Ext.define('Ext.overrides.data.summary.Count',{override:'Ext.data.summary.Count',text:'Count'});Ext.define('Ext.data.summary.Max',{extend:'Ext.data.summary.Base',alias:'data.summary.max',calculate:function(e,d,g,f,h){var b=this.extractValue(e[f],d,g),a,c;for(a=f;a<h;++a){c=this.extractValue(e[a],d,g);if(c>b){b=c}}return b}});Ext.define('Ext.overrides.data.summary.Max',{override:'Ext.data.summary.Max',text:'Max'});Ext.define('Ext.data.summary.Min',{extend:'Ext.data.summary.Base',alias:'data.summary.min',calculate:function(e,d,g,f,h){var b=this.extractValue(e[f],d,g),a,c;for(a=f;a<h;++a){c=this.extractValue(e[a],d,g);if(c<b){b=c}}return b}});Ext.define('Ext.overrides.data.summary.Min',{override:'Ext.data.summary.Min',text:'Min'});Ext.define('Ext.data.summary.Variance',{extend:'Ext.data.summary.Base',requires:['Ext.data.summary.Average'],alias:'data.summary.variance',text:'Var',constructor:function(a){this.callParent([a]);this.avg=Ext.Factory.dataSummary('average')},calculate:function(f,e,g,b,i){var d=i-b,h=this.avg.calculate(f,e,g,b,i),c=0,a,j;if(h>0){for(a=0;a<d;++a){j=this.extractValue(f[b+a],e,g);c+=Math.pow(Ext.Number.from(j,0)-h,2)}}return c>0&&d>1?c/(d-1):null}});Ext.define('Ext.data.summary.StdDev',{extend:'Ext.data.summary.Variance',alias:'data.summary.stddev',text:'StdDev',calculate:function(c,b,e,d,f){var a=this.callParent([c,b,e,d,f]);return a>0?Math.sqrt(a):null}});Ext.define('Ext.data.summary.VarianceP',{extend:'Ext.data.summary.Variance',alias:'data.summary.variancep',text:'VarP',calculate:function(f,e,g,b,i){var d=i-b,h=this.avg.calculate(f,e,g,b,i),c=0,a,j;if(h>0){for(a=0;a<d;++a){j=this.extractValue(f[b+a],e,g);c+=Math.pow(Ext.Number.from(j,0)-h,2)}}return c>0&&d>0?c/d:null}});Ext.define('Ext.data.summary.StdDevP',{extend:'Ext.data.summary.VarianceP',alias:'data.summary.stddevp',text:'StdDevP',calculate:function(c,b,e,d,f){var a=this.callParent([c,b,e,d,f]);return a>0?Math.sqrt(a):null}});Ext.define('Ext.grid.column.Groups',{extend:'Ext.grid.column.Column',alias:'widget.groupscolumn',isGroupsColumn:!0,text:'Groups',width:200,draggable:!1,autoLock:!0,lockable:!1,producesHTML:!1,ignoreExport:!0,hideable:!1,dataIndex:'',groupable:!1,groupHeaderTpl:'{columnName}: {name}',groupSummaryTpl:'Summary ({name})',summaryTpl:'Summary',collapsibleCls:Ext.baseCSSPrefix+'grid-group-hd-collapsible',hdNotCollapsibleCls:Ext.baseCSSPrefix+'grid-group-hd-not-collapsible',collapsedCls:Ext.baseCSSPrefix+'grid-group-hd-collapsed',groupCls:Ext.baseCSSPrefix+'grid-group-hd',recordCls:Ext.baseCSSPrefix+'grid-group-record',groupTitleCls:Ext.baseCSSPrefix+'grid-group-title',depthToIndent:25,constructor:function(b){var a=this;a.width=a.width;a.callParent([b]);a.sortable=!1;a.groupable=!1;a.scope=a},defaultRenderer:function(e,b,j,l,k,f,m){var c=this,i='&#160;',g=0,h='',a,d;b=b||{};if(f.isMultigroupStore){a=f.renderData[j.getId()];if(a){if(a.group){g=a.group.getLevel()}if(a.isGroup){g--;d=this.lookupTpl('groupHeaderTpl');h=' data-groupName = "'+Ext.htmlEncode(a.group.getLabel())+'" ';b.tdCls=c.collapsibleCls;if(a.group.isCollapsed){b.tdCls+=' '+c.collapsedCls}}else {if(a.isGroupSummary){d=this.lookupTpl('groupSummaryTpl')}else {if(a.isSummary){d=this.lookupTpl('summaryTpl')}}}if(d){e=d.apply(a)}e=e||'&#160;';i='<div '+h+'class="'+c.groupTitleCls+'">'+e+'</div>';if(!a.isSummary){b.innerCls=a.isGroup?c.groupCls:c.recordCls;b.style=(f.isRTL?'margin-right: ':'margin-left: ')+c.depthToIndent*g+'px'}}}return i},updater:function(b,e,d,f,c){var a=b&&b.querySelector(this.getView().innerSelector);if(a){a.innerHTML=this.defaultRenderer(e,null,d,null,null,c,f)}}});Ext.define('Ext.grid.feature.MultiGroupStore',{extend:'Ext.util.Observable',isStore:!0,isMultigroupStore:!0,defaultViewSize:100,isFeatureStore:!0,constructor:function(b){var a=this,c=b.store;delete b.store;a.callParent([b]);a.bindStore(c);if(!a.multigroupingFeature.grid.isLocked){a.bindViewStoreListeners()}},destroy:function(){var a=this;Ext.destroy(a.storeListeners);a.store=a.storeListeners=a.multigroupingFeature=a.renderData=null;a.clearListeners();a.callParent(arguments)},bindStore:function(b){var a=this;if(!b||a.store!==b){a.store=Ext.destroy(a.storeListeners)}if(b){a.storeListeners=b.on({datachanged:a.onDataChanged,groupchange:a.onGroupChange,idchanged:a.onIdChanged,update:a.onUpdate,remotesummarieschanged:a.onRemoteSummaries,summarieschanged:a.onSummariesChanged,scope:a,destroyable:!0});a.store=b;a.processStore()}},bindViewStoreListeners:function(){var b=this.multigroupingFeature.view,a=b.getStoreListeners(this);a.scope=b;this.on(a)},processStore:function(i){var a=this,c=a.data,g=a.multigroupingFeature.summaryPosition,h,e,d,f,b;if(c){c.clear()}else {c=a.data=new Ext.util.Collection({rootProperty:'data',extraKeys:{byInternalId:{property:'internalId',rootProperty:''}}})}a.renderData={};d=a.store.getGroups();f=d.length;if(f>0){if(i){for(b=0;b<f;b++){d.items[b].doExpandCollapse(!a.multigroupingFeature.startCollapsed,!0)}}else {if(a.multigroupingFeature.startCollapsed){for(b=0;b<f;b++){d.items[b].collapse(!0)}}}a.multigroupingFeature.startCollapsed=!1;h=a.processGroups(d.items)}else {h=a.store.getRange()}c.add(h);if(g==='top'||g==='bottom'){e=a.store.getSummaryRecord();a.renderData[e.getId()]={isSummary:!0};if(g==='top'){c.insert(0,e)}else {c.add(e)}}},processGroups:function(i){var d=this,b=[],j=i?i.length:0,h=!1,l=d.multigroupingFeature.groupSummaryPosition,f,g,a,m,c,k,e;if(j<=0){return b}for(f=0;f<j;f++){a=i[f];h=!1;m=a.getGroupKey();c=a.getGroupRecord();b.push(c);d.renderData[c.getId()]={group:a,depth:a.getLevel(),isGroup:!0};if(!a.isCollapsed){e=a.getGroups();if(e&&e.length>0){Ext.Array.insert(b,b.length,d.processGroups(e.items))}else {Ext.Array.insert(b,b.length,a.items);for(g=0;g<a.items.length;g++){d.renderData[a.items[g].getId()]={group:a,depth:a.getLevel()}}}}if(l==='bottom'){h=!a.isCollapsed;k=a.getLevel()}if(h){c=a.getSummaryRecord();b.push(c);d.renderData[c.getId()]={group:a,depth:k,isGroupSummary:!0}}}return b},onSummariesChanged:function(){var a=this,b=a.store;b.getSummaryRecord().calculateSummary(b.getData().items);a.updateSummaries(b.getGroups());a.fireEvent('refresh',a)},updateSummaries:function(b){var d=b?b.length:0,a,c;for(a=0;a<d;a++){c=b.items[a];c.recalculateSummaries();this.updateSummaries(c.getGroups())}},isLoading:function(){return !1},getData:function(){return this.data},getCount:function(){return this.data.getCount()},getTotalCount:function(){return this.data.getCount()},first:function(){return this.getData().first()||null},last:function(){return this.getData().last()||null},rangeCached:function(b,a){return a<this.getCount()},getRange:function(d,b,a){var c=this.data.getRange(d,Ext.isNumber(b)?b+1:b);if(a&&a.callback){a.callback.call(a.scope||this,c,d,b,a)}return c},getAt:function(a){return this.data.getAt(a)},getById:function(a){return this.store.getById(a)},getByInternalId:function(a){return this.data.byInternalId.get(a)||null},getRenderData:function(a){return a&&a.isModel?this.renderData[a.getId()]:null},toggleCollapsedByRecord:function(b){var a=this.renderData[b.getId()];if(!a){return}return this.doExpandCollapse(a.group,a.group.isCollapsed)},doExpandCollapseByPath:function(c,b){var a=this.store.getGroups().getByPath(c);if(!a){return}return this.doExpandCollapse(a,b)},doExpandCollapse:function(c,g){var a=this,b,d,e,f;e=a.processGroups([c]);c.doExpandCollapse(g);d=a.processGroups([c]);if(d.length&&(b=a.data.indexOf(c.getGroupRecord()))!==-1){if(c.isCollapsed){a.isExpandingOrCollapsing=2;f=e.length;e=a.data.getRange(b,b+f);a.data.removeAt(b,f);a.data.insert(b,d);a.fireEvent('replace',a,b,e,d);a.fireEvent('groupcollapse',a,c)}else {a.isExpandingOrCollapsing=1;a.data.removeAt(b);a.data.insert(b,d);a.fireEvent('replace',a,b,e,d);a.fireEvent('groupexpand',a,c)}a.isExpandingOrCollapsing=0}return d[0]},isInCollapsedGroup:function(f){var c=!0,a=this.store.getGroups(),b,g,d,e;if(a){a=a.getGroupsByItem(f)}if(a){d=a.length;for(b=0;b<d;b++){e=a[b];c=c&&!e.isCollapsed}}return !c},expandToRecord:function(f){var a=this.store.getGroups(),b,c,d,e;if(a){a=a.getGroupsByItem(f)}if(a){d=a.length;for(b=0;b<d;b++){e=a[b];if(e.isCollapsed){for(c=b+1;c<d;c++){a[c].isCollapsed=!1}this.doExpandCollapse(e,!0);break}}}},contains:function(a){return this.indexOf(a)>-1},indexOf:function(a){return this.data.indexOf(a)},indexOfId:function(a){return this.data.indexOfKey(a)},indexOfTotal:function(a){return this.store.indexOf(a)},onUpdate:function(i,g,f,c){var d=this.store.getGroupers(),h=c.length,a=!1,b,e;if(d){for(b=0;b<h;b++){e=c[b];a=a||!!d.get(e)}if(a){this.refreshData()}}if(!a){this.fireEvent('update',this,g,f,c)}},onDataChanged:function(){this.refreshData()},onIdChanged:function(d,b,a,c){this.data.updateKey(b,a)},onGroupChange:function(b,a){if(!a||!a.length){this.processStore()}this.fireEvent('groupchange',b,a)},refreshData:function(a){this.processStore(a);this.fireEvent('refresh',this)},onRemoteSummaries:function(){this.fireEvent('refresh',this)}});Ext.define('Ext.grid.feature.MultiGrouping',{extend:'Ext.grid.feature.Feature',alias:'feature.multigrouping',requires:['Ext.grid.feature.MultiGroupStore','Ext.grid.column.Groups','Ext.overrides.grid.column.Column','Ext.overrides.grid.header.DropZone'],eventPrefix:'group',eventCls:Ext.baseCSSPrefix+'grid-group-row',eventSelector:'.'+Ext.baseCSSPrefix+'grid-group-row',groupSelector:'.'+Ext.baseCSSPrefix+'grid-group-hd',groupSummaryCls:Ext.baseCSSPrefix+'grid-group-summary',groupSummarySelector:'.'+Ext.baseCSSPrefix+'grid-group-summary',expandAllText:'Expand all',collapseAllText:'Collapse all',groupsText:'Groups',groupByText:'Group by this field',addToGroupingText:'Add to grouping',removeFromGroupingText:'Remove from grouping',startGroupedHeadersHidden:!0,startCollapsed:!1,enableGroupingMenu:!0,groupSummaryPosition:'hidden',summaryPosition:'hidden',groupsColumnWidth:200,groupHeaderTpl:'{name}',groupSummaryTpl:'Summary ({name})',summaryTpl:'Summary ({store.data.length})',outerTpl:['{%','var me = this.groupingFeature;','if (!(me.disabled)) {','me.setup(values);','}','this.nextTpl.applyOut(values, out, parent);','%}',{priority:200}],rowTpl:['{%','var me = this.groupingFeature;','if (!(me.disabled)) {','me.setupRowData(values);','}','this.nextTpl.applyOut(values, out, parent);','if (!(me.disabled)) {','me.resetRenderers();','}','%}',{priority:10000}],init:function(f){var a=this,b=a.view,e=b.getStore(),d=b.ownerGrid,c;a.callParent([f]);if(e&&e.isBufferedStore){return}b.addTpl(Ext.XTemplate.getTpl(a,'outerTpl')).groupingFeature=a;b.addRowTpl(Ext.XTemplate.getTpl(a,'rowTpl')).groupingFeature=a;b.preserveScrollOnRefresh=!0;b.doGrouping=e.isGrouped();if(b.bufferedRenderer){b.bufferedRenderer.variableRowHeight=b.hasVariableRowHeight()||b.doGrouping}c=a.lockingPartner;if(c&&c.dataSource){a.dataSource=b.dataSource=c.dataSource}else {a.dataSource=b.dataSource=new Ext.grid.feature.MultiGroupStore({multigroupingFeature:a,store:e});d.expandAll=Ext.bind(a.expandAll,a);d.collapseAll=Ext.bind(a.collapseAll,a);d.setGroupSummaryPosition=Ext.bind(a.setGroupSummaryPosition,a);d.setSummaryPosition=Ext.bind(a.setSummaryPosition,a)}a.initEventsListeners();if(a.enableGroupingMenu){a.injectGroupingMenu()}},destroy:function(){var b=this,a=b.view.ownerGrid;a.setGroupSummaryPosition=a.setSummaryPosition=null;a.expandAll=a.collapseAll=null;b.destroyEventsListeners();Ext.destroy(b.dataSource);b.callParent()},enable:function(){var a=this,b=a.view,c=b.getStore();b.doGrouping=!1;if(b.lockingPartner){b.lockingPartner.doGrouping=!1}a.callParent();if(a.lastGroupers){c.group(a.lastGroupers);a.lastGroupers=null}},disable:function(){var a=this.view,c=a.getStore(),b=c.getGroupers();a.doGrouping=!1;if(a.lockingPartner){a.lockingPartner.doGrouping=!1}this.callParent();if(b){this.lastGroupers=b.getRange();c.clearGrouping()}},setGroupSummaryPosition:function(b){var a=this.lockingPartner;this.groupSummaryPosition=b;if(a){a.groupSummaryPosition=b}this.dataSource.refreshData()},setSummaryPosition:function(b){var a=this.lockingPartner;this.summaryPosition=b;if(a){a.summaryPosition=b}this.dataSource.refreshData()},collapse:function(b,a){this.doCollapseExpand(!1,b,a)},expand:function(b,a){this.doCollapseExpand(!0,b,a)},expandAll:function(){var a=this,b=a.lockingPartner;Ext.suspendLayouts();a.startCollapsed=!1;if(b){b.startCollapsed=!1}a.dataSource.refreshData(!0);Ext.resumeLayouts(!0)},collapseAll:function(){var a=this,b=a.lockingPartner;Ext.suspendLayouts();a.startCollapsed=!0;if(b){b.startCollapsed=!0}a.dataSource.refreshData(!0);Ext.resumeLayouts(!0)},doCollapseExpand:function(d,h,a,e){var b=this,f=b.lockingPartner,g=b.view.ownerGrid,c;b.isExpandingCollapsing=!0;c=b.dataSource.doExpandCollapseByPath(h,d);if(a===!0){a={focus:!0}}b.afterCollapseExpand(d,c,a);if(f){if(a&&a.focus){a=Ext.Object.chain(a);a.focus=!1}f.afterCollapseExpand(d,c,a)}if(!e){e=Ext.apply({record:c,column:b.getGroupingColumn(),row:b.view.getRowByRecord(c)},b.dataSource.getRenderData(c))}g.fireEvent(d?'groupexpand':'groupcollapse',g,e);b.isExpandingCollapsing=!1},afterCollapseExpand:function(c,b,a){if(b&&a){this.grid.ensureVisible(b,a)}},vetoEvent:function(e,f,d,a){var b=!1,c=a.getKey();if(!a.getTarget(this.groupSummarySelector)&&a.getTarget(this.eventSelector)){b=c?c===a.ENTER:a.type!=='mouseover'&&a.type!=='mouseout'&&a.type!=='mouseenter'&&a.type!=='mouseleave'}if(b){return !1}},setup:function(h){var b=this,d=h.view,i=d.store,f=i.model.getSummaryModel(),e=d.headerCt.getGridColumns(),g=e.length,a,c;b.doGrouping=!b.disabled&&d.store.isGrouped();if(b.doGrouping){b.dataSource.isRTL=b.isRTL()}for(c=0;c<g;c++){a=e[c];if(a.summaryType&&a.dataIndex&&f){f.setSummary(a.dataIndex,a.summaryType)}}},setupRowData:function(d){var b=this,f=d.record,a,c,g,e;d.recordIndex=b.dataSource.indexOf(f);a=b.dataSource.renderData[f.getId()];if(a){if(a.isSummary){a.store=b.view.getStore()}else {g=a.group;c=g.getGrouper().getProperty();e=b.getGroupedHeader(c);Ext.apply(a,{groupField:c,columnName:e?e.text:c,name:g.getLabel()});a.column=b.getGroupedHeader();f.ownerGroup=a.name}b.setupRowValues(d,a);b.setRenderers(a)}},setupRowValues:function(a,b){a.rowClasses.push(this.eventCls);if(b.isGroupSummary){a.rowClasses.push(this.groupSummaryCls)}},isRTL:function(){var a=this.grid;if(Ext.isFunction(a.isLocalRtl)){return a.isLocalRtl()}return !1},setRenderers:function(d){var c=this,g=c.getGroupingColumnPosition(),e=c.view.headerCt.getGridColumns(),i=e.length,f=c.groupSummaryPosition,a,h,b;if(c.renderersAreSet>0){return}if(d.isSummary){for(b=0;b<g-1;b++){a=e[b];a.backupRenderer=a.renderer;a.renderer=a.summaryType||a.summaryRenderer?a.summaryRenderer:Ext.renderEmpty}}for(b=g;b<i;b++){a=e[b];a.backupRenderer=a.renderer;if(d.isGroupSummary||d.isSummary){a.renderer=a.summaryRenderer}else {if(d.isGroup){h=d.group;a.renderer=f==='bottom'&&!h.isCollapsed||f==='hidden'?this.renderEmpty:a.summaryRenderer}}}c.renderersAreSet=(c.renderersAreSet||0)+1},resetRenderers:function(){var b=this,d=b.view.headerCt.getGridColumns(),e=d.length,a,c;if(b.renderersAreSet>0){b.renderersAreSet--}if(!b.renderersAreSet){for(c=0;c<e;c++){a=d[c];if(a.backupRenderer!=null){a.renderer=a.backupRenderer;a.backupRenderer=null}}}},getHeaderNode:function(f){var e=this.view.getEl(),b,a,d,c;if(e){b=e.query('.'+Ext.baseCSSPrefix+'grid-group-title');for(a=0,d=b.length;a<d;++a){c=b[a];if(c.getAttribute('data-groupName')===f){return c}}}},isExpanded:function(b){var c=this.view.getStore().getGroups(),a=c.getByPath(b);return a&&!a.isCollapsed},getGroupedHeader:function(b){var d=this,c=d.headers,g=d.view.headerCt,f=d.lockingPartner,e,a;if(!c){d.headers=c={}}if(b){a=c[b];if(!a){e='[dataIndex='+b+']';a=g.down(e);if(!a&&f){c[b]=a=f.view.headerCt.down(e)}}}return a||null},getGroupingColumnConfig:function(b){var a=this,c=b?b.isGrouped():a.view.getStore().isGrouped();a.lastColumnWidth=a.groupsColumnWidth;return {xtype:'groupscolumn',groupHeaderTpl:a.groupHeaderTpl,groupSummaryTpl:a.groupSummaryTpl,summaryTpl:a.summaryTpl,editRenderer:a.renderEmpty,width:c?a.lastColumnWidth:1}},renderEmpty:function(){return '\xa0'},getGroupingColumn:function(){var a=this,b=a.groupingColumn,c=a.view,d=c.ownerGrid;if(!b||b.destroyed){if(!d.lockable||c.isLockedView){b=a.groupingColumn=c.headerCt.down('groupscolumn')||c.headerCt.add(a.getGroupingColumnPosition(),a.getGroupingColumnConfig())}}return b},getGroupingColumnPosition:function(){var c=this.view.headerCt.items.items,e=c.length,d=0,a,b;for(a=0;a<e;a++){b=c[a];if(!b.hideable&&!b.draggable){d++}}return d},onBeforeReconfigure:function(k,a,f,e,j){var b=this,g=b.view,h=b.dataSource,d=g.ownerGrid,c,i;if(f&&(!d.lockable||g.isLockedView)){c=b.getGroupingColumnConfig(a&&a!==e?a:null);c.locked=d.lockable;Ext.Array.insert(f,0,[c])}if(a&&a!==e){Ext.destroy(b.storeListeners);b.setupStoreListeners(a);b.doGrouping=a.isGrouped();h.bindStore(a)}},onAfterViewRendered:function(h){var c=this,g=h.getStore(),d=g.getGroupers(),f=d.length,b,a,e;c.getGroupingColumn();if(c.startGroupedHeadersHidden){for(b=0;b<f;b++){e=d.getAt(b).getProperty();a=c.getGroupedHeader(e);if(a){if(a.rendered){a.hide()}else {a.hidden=!0}}}}},injectGroupingMenu:function(){var b=this,a=b.view.headerCt;a.showMenuBy=Ext.Function.createInterceptor(a.showMenuBy,b.showMenuBy);a.getMenuItems=b.getMenuItems()},showMenuBy:function(k,l,b){var e=this,a=e.getMenu(),d=e.view.ownerGrid,g=e.view.getStore(),j=g.getGroupers(),c=b.groupable===!1||!b.dataIndex,h=c?'disable':'enable',i=g.isGrouped(),f=j.get(b.dataIndex);a.down('#groupByMenuItem')[h]();a.down('#groupsMenuItem').setVisible(i);a.down('#addGroupMenuItem')[c||f?'disable':'enable']();a.down('#removeGroupMenuItem')[c||!f?'disable':'enable']();d.fireEvent('showheadermenuitems',d,{grid:d,column:b,menu:a})},getMenuItems:function(){var a=this,b=a.view.ownerGrid,c=a.view.headerCt.getMenuItems;return function(){var d=c.call(this);d.push('-',{iconCls:Ext.baseCSSPrefix+'groups-icon',itemId:'groupsMenuItem',text:a.groupsText,menu:[{text:a.expandAllText,handler:a.expandAll,scope:a},{text:a.collapseAllText,handler:a.collapseAll,scope:a}]},{iconCls:Ext.baseCSSPrefix+'group-by-icon',itemId:'groupByMenuItem',text:a.groupByText,handler:a.onGroupByMenuItemClick,scope:a},{iconCls:Ext.baseCSSPrefix+'add-group-icon',itemId:'addGroupMenuItem',text:a.addToGroupingText,handler:a.onAddGroupMenuItemClick,scope:a},{iconCls:Ext.baseCSSPrefix+'remove-group-icon',itemId:'removeGroupMenuItem',text:a.removeFromGroupingText,handler:a.onRemoveGroupMenuItemClick,scope:a});b.fireEvent('collectheadermenuitems',b,{grid:b,headerContainer:this,items:d});return d}},onGroupByMenuItemClick:function(f,j){var a=this,e=f.parentMenu.activeHeader,h=a.view.getStore(),c=h.getGroupers(),g=c.length,b,i,d;if(a.disabled){a.enable()}Ext.suspendLayouts();for(b=0;b<g;b++){d=a.getGroupedHeader(c.items[b].getProperty());if(d){d.show()}}e.hide();c.replaceAll(a.createGrouperFromHeader(e));Ext.resumeLayouts(!0)},onAddGroupMenuItemClick:function(d,e){var a=this,b=d.parentMenu.activeHeader,c=a.view.getStore().getGroupers();if(a.disabled){a.enable()}Ext.suspendLayouts();b.hide();c.add(a.createGrouperFromHeader(b));Ext.resumeLayouts(!0)},createGrouperFromHeader:function(a){return {property:a.dataIndex,direction:a.sortState||'ASC',formatter:a.groupFormatter}},onRemoveGroupMenuItemClick:function(d,f){var b=this,e=d.parentMenu.activeHeader,c=b.view.getStore().getGroupers(),g,a;if(b.disabled){b.enable()}a=c.get(e.dataIndex);if(a){c.remove(a)}},onCellEvent:function(d,j,b){var a=this,f=d.getRecord(j),l=b.getTarget(a.groupSelector),k=b.getTarget(a.groupSummarySelector),i=b.getTarget(d.getCellSelector()),e=d.ownerGrid,h='group',c=a.dataSource.getRenderData(f),g=Ext.applyIf({grid:e,view:d,record:f,column:d.getHeaderByCell(i),cell:i,row:j,feature:a,e:b},c);if(!(f&&c)){return}if(l){if(b.type==='click'){a.doCollapseExpand(c.group.isCollapsed,c.group.getPath(),{focus:!0,column:a.getGroupingColumn()},g)}}if(k){h=c.isGroupSummary?'groupsummary':'summary'}e.fireEvent(h+b.type,e,g);return !1},onKeyEvent:function(k,e,d){var c=this,g=d.position,i=d.getTarget(c.groupSelector),j=c.getGroupingColumn(),a,b,h,f;if(g){f=g.getCell();i=f.down(c.groupSelector)}if(d.getKey()===d.ENTER&&e&&i){a=k.getRecord(e);b=c.dataSource.getRenderData(a);if(a&&a.isGroup&&b){h=Ext.applyIf({record:a,column:j,cell:f,row:e},b);c.doCollapseExpand(b.group.isCollapsed,b.group.getPath(),{focus:!0,column:j},h)}}},onBeforeGroupChange:function(d,c){var b=this.view,a=b.ownerGrid;if(!a.lockable||b.isLockedView){a.fireEvent('beforegroupchange',a,c)}},onGroupChange:function(h,d){var b=this,a=b.getGroupingColumn(),g=b.view,c=g.ownerGrid,f=d&&d.length,e;if(a){if(a.rendered){if(f){a.setWidth(b.lastColumnWidth)}else {e=a.getWidth();if(e>1){b.lastColumnWidth=e;a.setWidth(1)}}}else {if(f){a.width=b.lastColumnWidth}}}if(!c.lockable||g.isLockedView){c.getView().refreshView();c.fireEvent('aftergroupchange',c,d)}},privates:{getViewListeners:function(){var a=this,b={afterrender:a.onAfterViewRendered,scope:a,destroyable:!0};b[a.eventPrefix+'click']=a.onCellEvent;b[a.eventPrefix+'dblclick']=a.onCellEvent;b[a.eventPrefix+'contextmenu']=a.onCellEvent;b[a.eventPrefix+'keyup']=a.onKeyEvent;return b},getOwnerGridListeners:function(){return {beforereconfigure:this.onBeforeReconfigure,destroyable:!0,scope:this}},getStoreListeners:function(){return {beforegroupchange:this.onBeforeGroupChange,groupchange:this.onGroupChange,scope:this,destroyable:!0}},initEventsListeners:function(){var a=this,c=a.view,d=c.ownerGrid,b=a.lockingPartner;a.viewListeners=c.on(a.getViewListeners());if(!b||b&&!b.gridListeners){a.ownerGridListeners=d.on(a.getOwnerGridListeners())}a.setupStoreListeners(c.getStore())},destroyEventsListeners:function(){Ext.destroyMembers(this,'viewListeners','storeListeners','ownerGridListeners')},setupStoreListeners:function(a){Ext.destroy(this.storeListeners);this.storeListeners=a.on(this.getStoreListeners())}}});Ext.define('Ext.grid.feature.MultiGroupingSummary',{extend:'Ext.grid.feature.MultiGrouping',alias:'feature.multigroupingsummary',groupSummaryPosition:'bottom',summaryPosition:'docked',dock:'bottom',dockedSummaryCls:Ext.baseCSSPrefix+'docked-grid-summary',summaryCls:Ext.baseCSSPrefix+'grid-summary',summarySelector:'.'+Ext.baseCSSPrefix+'grid-summary',summaryTableCls:Ext.baseCSSPrefix+'grid-item',init:function(b){var a=this,d=a.view,c;a.callParent([b]);b.headerCt.on({columnschanged:a.onStoreUpdate,afterlayout:a.afterHeaderCtLayout,scope:a});b.on({beforerender:a.onBeforeGridRendered,afterrender:a.onAfterGridRendered,afterlayout:a.onGridLayout,scope:a,single:!0})},destroy:function(){this.grid.summaryBar=null;this.callParent()},setSummaryPosition:function(c){var a=this,b=a.lockingPartner,e=a.getSummaryBar(),d=a.dock;a.showSummary=c==='docked'&&(d==='top'||d==='bottom');e.setHidden(!a.showSummary);if(b){b.getSummaryBar().setHidden(!a.showSummary)}a.callParent([c])},onBeforeGridRendered:function(){var a=this,f=a.view,e=a.grid,b=a.dock,g=a.summaryPosition,c=[a.summaryTableCls],d;a.showSummary=d=g==='docked'&&(b==='top'||b==='bottom');if(f.columnLines){c[c.length]=f.ownerCt.colLinesCls}a.summaryBar=e.addDocked({focusable:!0,childEls:['innerCt','item'],renderTpl:['<div id="{id}-innerCt" data-ref="innerCt" role="presentation">','<table id="{id}-item" data-ref="item" cellPadding="0" cellSpacing="0" class="'+c.join(' ')+'">','<tr class="'+a.summaryCls+'"></tr>','</table>','</div>'],scrollable:{x:!1,y:!1},itemId:'summaryBar',hidden:!d,cls:[a.dockedSummaryCls,a.dockedSummaryCls+'-'+b],xtype:'component',dock:b,weight:10000000})[0];e.summaryBar=a.summaryBar},onAfterGridRendered:function(){var a=this,b=a.summaryBar;a.onStoreUpdate();b.innerCt.on({click:'onBarEvent',dblclick:'onBarEvent',contextmenu:'onBarEvent',delegate:'.'+Ext.baseCSSPrefix+'grid-cell',scope:a})},onGridLayout:function(c){var a=c.getView(),b;if(a.isLockedView!=null||a.isNormalView!=null){if(a.isLockedView){b=a.ownerGrid.lockedScrollbarScroller}else {b=a.ownerGrid.normalScrollbarScroller}}else {b=a.getScrollable()}b.addPartner(this.summaryBar.getScrollable(),'x')},getSummaryBar:function(){var a=this;if(!a.summaryBar){a.onBeforeGridRendered();a.onAfterGridRendered()}return a.summaryBar},setupRowValues:function(a,b){this.callParent([a,b]);if(b.isSummary&&this.showSummary){Ext.Array.remove(a.rowClasses,this.eventCls);a.rowClasses.push('x-grid-row',this.summaryCls)}},onStoreUpdate:function(){var a=this,f=a.view,h=a.summarySelector,e,c,d,b,g;if(!f.rendered||!a.showSummary){return}e=f.getStore().getSummaryRecord();g=a.dataSource.renderData[e.getId()]={isSummary:!0};a.setRenderers(g);c=Ext.fly(f.createRowElement(e,-1)).down(h,!0);a.resetRenderers();if(!c){return}b=a.summaryBar.item.dom.firstChild;d=b.firstChild;b.insertBefore(c,d);b.removeChild(d)},afterHeaderCtLayout:function(f){var b=this,g=b.view,i=g.getVisibleColumnManager().getColumns(),a,k=i.length,d,e,h,c,j;if(b.showSummary&&g.refreshCounter){f.purgeCache();e=b.summaryBar.el;c=f.getTableWidth();j=b.summaryBar.innerCt;b.summaryBar.item.setWidth(c);if(f.tooNarrow){c+=Ext.getScrollbarSize().width}j.setWidth(c);if(e){for(d=0;d<k;d++){a=i[d];h=e.down(g.getCellSelector(a),!0);if(h){Ext.fly(h).setWidth(a.width||(a.lastBox?a.lastBox.width:100))}}}}},onBarEvent:function(f,e){var a=this,c=a.view,b=c.ownerGrid,d=c.getStore().getSummaryRecord(),g=Ext.apply({record:d,column:c.getHeaderByCell(e),cell:e,row:a.summaryBar.getEl(),grid:b,feature:a,e:f},a.dataSource.getRenderData(d));return b.fireEvent('summary'+f.type,b,g)},privates:{getOwnerGridListeners:function(){var a=this.callParent();return Ext.apply(a,{columnmove:this.onStoreUpdate})},getStoreListeners:function(){var a=this,b=a.callParent();return Ext.apply(b,{update:a.onStoreUpdate,datachanged:a.onStoreUpdate,remotesummarieschanged:a.onStoreUpdate,summarieschanged:a.onStoreUpdate})}}});Ext.define('Ext.grid.plugin.Operator',{extend:'Ext.AbstractPlugin',alias:'plugin.operator',config:{operator:'=',operators:null},operatorCls:Ext.baseCSSPrefix+'operator-button',triggerCls:Ext.baseCSSPrefix+'form-trigger',operatorsIconsMap:{eq:Ext.baseCSSPrefix+'operator-eq',ne:Ext.baseCSSPrefix+'operator-neq',gt:Ext.baseCSSPrefix+'operator-gt',ge:Ext.baseCSSPrefix+'operator-gte',lt:Ext.baseCSSPrefix+'operator-lt',le:Ext.baseCSSPrefix+'operator-lte',like:Ext.baseCSSPrefix+'operator-like',nlike:Ext.baseCSSPrefix+'operator-nlike','in':Ext.baseCSSPrefix+'operator-in',notin:Ext.baseCSSPrefix+'operator-nin',empty:Ext.baseCSSPrefix+'operator-empty',nempty:Ext.baseCSSPrefix+'operator-exists',identical:Ext.baseCSSPrefix+'operator-identical',nidentical:Ext.baseCSSPrefix+'operator-nidentical',regex:Ext.baseCSSPrefix+'operator-fn'},operatorsTextMap:{eq:'Is equal',ne:'Not equal',gt:'Greater than',ge:'Greater than or equal to',lt:'Less than',le:'Less than or equal to',like:'Like',nlike:'Not like',empty:'Empty',nempty:'Not empty',identical:'Identical',nidentical:'Not identical',regex:'Regular expression','in':'Is in',notin:'Is not in'},inheritableStatics:{addOperator:function(b,c,d){var a=this.prototype;a.operatorsIconsMap[b]=c;a.operatorsTextMap[b]=d}},init:function(a){var b=this;b.callParent([a]);if(a.rendered){b.onFieldRender(a)}else {b.fieldListeners=a.on({afterrender:'onFieldRender',scope:b,destroyable:!0})}b.field=a},destroy:function(){var a=this;a.field=Ext.destroy(a.fieldListeners,a.menu);a.callParent()},onFieldRender:function(d){var a=this,c=a.getOperator(),b;b=a.operatorButtonEl=d.triggerWrap.insertFirst({tag:'div',cls:[a.operatorCls,a.triggerCls,a.operatorsIconsMap[c]],'data-qtip':a.operatorsTextMap[c]});b.on({click:'onOperatorClick',scope:a})},onOperatorClick:function(d,c){var b=this,a=b.menu;if(!a){b.menu=a=Ext.widget({xtype:'menu',items:b.getMenuForOperators()})}a.showBy(c,'bl');a.focus()},getMenuForOperators:function(){var a=this,d=a.getOperators(),e=[],f,c,b;if(d){f=d.length;for(c=0;c<f;c++){b=d[c];e.push({iconCls:a.operatorsIconsMap[b],text:a.operatorsTextMap[b],handler:'onChangeOperator',scope:a,operator:b})}}return e},onChangeOperator:function(a){this.setOperator(a.operator)},updateOperator:function(c,e){var a=this,d=a.field,b=a.operatorButtonEl;if(!a.isConfiguring&&b){d.fireEvent('operatorchange',d,c);b.removeCls(a.operatorsIconsMap[e]);b.addCls(a.operatorsIconsMap[c]);b.set({'data-qtip':a.operatorsTextMap[c]})}}},function(){var c=this.prototype,a=c.operatorsIconsMap,b=c.operatorsTextMap;a['=']=a['eq'];a['==']=a['eq'];a['!=']=a['ne'];a['===']=a['identical'];a['!==']=a['nidentical'];a['>']=a['gt'];a['>=']=a['ge'];a['<']=a['lt'];a['<=']=a['le'];a['/=']=a['regex'];b['=']=b['eq'];b['==']=b['eq'];b['!=']=b['ne'];b['===']=b['identical'];b['!==']=b['nidentical'];b['>']=b['gt'];b['>=']=b['ge'];b['<']=b['lt'];b['<=']=b['le'];b['/=']=b['regex']});Ext.define('Ext.grid.plugin.filters.Base',{mixins:['Ext.mixin.Factoryable'],requires:['Ext.form.field.Text','Ext.grid.plugin.Operator'],factoryConfig:{type:'grid.filters'},$configPrefixed:!1,$configStrict:!1,config:{fieldDefaults:{xtype:'textfield',hideLabel:!0,selectOnFocus:!0},grid:null,column:null,field:null,dataIndex:null,operator:'==',operators:null,updateBuffer:500,serializer:null,fieldListeners:{change:'onValueChange',operatorchange:'onOperatorChange',render:'onFieldRender'}},active:!1,filterIdPrefix:Ext.baseCSSPrefix+'gridfilter',isGridFilter:!0,defaultRoot:'data',fieldCls:Ext.baseCSSPrefix+'grid-filter-base',constructor:function(b){var a=this,c,d;a.initConfig(b);a.initFilter(b);a.createField();a.task=new Ext.util.DelayedTask(a.setValue,a)},destroy:function(){var a=this;if(a.task){a.task.cancel();a.task=null}a.setColumn(null);a.setField(null);a.setGrid(null);a.callParent()},initFilter:Ext.emptyFn,createField:function(){this.setField(Ext.widget(this.getFieldConfig()))},getFieldConfig:function(){var c=this,a=c.getColumn(),d=c.filter,b={};if(a){if(a.rendered){b.width=a.getWidth()}else {if(a.width!=null){b.width=a.width}else {if(a.flex!=null){b.flex=a.flex}}}b.hidden=a.hidden}if(d){b.value=d.getValue()}return Ext.apply(b,c.getFieldDefaults())},addStoreFilter:function(b){var a=this.getGridStore().getFilters(),d=a.indexOf(b),c=d!==-1?a.getAt(d):null;if(!c||!Ext.util.Filter.isEqual(c,b)){a.add(b)}},createFilter:function(b,c){var a=new Ext.util.Filter(this.getFilterConfig(b,c));a.isGridFilter=!0;return a},getFilterConfig:function(a,b){a.id=this.getBaseIdPrefix();if(!a.property){a.property=this.dataIndex}if(!a.root){a.root=this.defaultRoot}if(b){a.id+='-'+b}a.serializer=this.getSerializer();return a},getActiveState:function(b,c){var a=b.active;return a!==undefined?a:c!==undefined},getBaseIdPrefix:function(){return this.filterIdPrefix+'-'+this.dataIndex},getGridStore:function(){return this.grid.getStore()},getStoreFilter:function(h){var f=this,a=f.getGridStore().getFilters(),e=f.getBaseIdPrefix(),b,c,i,d,g;if(h){e+='-'+h}b=a.get(e);if(!b){i=a.length;for(d=0;d<i;d++){c=a.items[d];if(c.getProperty()===f.dataIndex){b=c;g=a.getKey(c);b.setId(e);a.itemChanged(c,['id'],g);break}}}return b},setActive:function(b){var a=this,c;if(a.active!==b){a.active=b;c=a.getGridStore().getFilters();c.beginUpdate();if(b){a.activate()}else {a.deactivate()}c.endUpdate();a.setColumnActive(b);a.grid.fireEventArgs(b?'filteractivate':'filterdeactivate',[a,a.column])}},activate:Ext.emptyFn,deactivate:Ext.emptyFn,setColumnActive:function(a){this.column[a?'addCls':'removeCls'](this.owner.filterCls)},onValueChange:function(d,b){var a=this,c=a.updateBuffer;if(d.isValid()){if(b===a.value){return}if(c){a.task.delay(c,null,null,[b])}else {a.setValue(b)}}},onOperatorChange:function(c,b){var a=c.getValue();this.setOperator(b);if(!Ext.isEmpty(a)){this.setValue(a)}},removeStoreFilter:function(a){this.getGridStore().getFilters().remove(a)},updateColumn:function(b){var a=this;a.columnListeners=Ext.destroy(a.columnListeners);if(b){if(!a.getDataIndex()){a.setDataIndex(b.dataIndex)}a.columnListeners=b.on({destroy:a.destroy,scope:a,destroyable:!0})}},updateField:function(a,c){var b=this;if(!this.grid.isDestroying){Ext.destroy(c)}if(a){a.addCls(b.fieldCls);if(a.isFormField){a.addPlugin({ptype:'operator',operator:b.getOperator(),operators:b.getOperators()});a.on(Ext.apply({scope:b},b.getFieldListeners()))}}},updateOperator:function(b){var a=this;if(!a.isConfiguring&&a.filter){a.filter.setOperator(b)}},updateStoreFilter:function(){this.getGridStore().getFilters().notify('endupdate')},onFieldRender:function(){this.resizeField()},resizeField:function(c){var a=this.getField(),b=this.getColumn();if(a&&a.rendered&&b&&b.rendered){a.flex=null;if(c!=null){a.setWidth(c)}else {a.setWidth(b.getWidth())}}},resetFilter:Ext.emptyFn});Ext.define('Ext.grid.plugin.filters.SingleFilter',{extend:'Ext.grid.plugin.filters.Base',initFilter:function(d){var a=this,b,c;c=a.value;b=a.getStoreFilter();if(b){a.active=!0;a.setOperator(b.getOperator())}else {if(a.grid.stateful&&a.getGridStore().saveStatefulFilters){c=undefined}a.active=a.getActiveState(d,c);b=a.createFilter({operator:a.operator,value:c});if(a.active){a.addStoreFilter(b)}}if(a.active){a.setColumnActive(!0)}a.filter=b},setValue:function(b){var a=this;a.filter.setValue(b);if(Ext.isEmpty(b)){a.setActive(!1)}else {if(a.active){a.value=b;a.updateStoreFilter()}else {a.setActive(!0)}}},activate:function(){this.addStoreFilter(this.filter)},deactivate:function(){this.removeStoreFilter(this.filter)},resetFilter:function(){var a=this,b=a.getStoreFilter(),c=a.getField(),d;if(b){a.active=!0;d=b.getValue();a.setOperator(b.getOperator())}c.suspendEvents();c.setValue(d);c.resumeEvents(!0)}});Ext.define('Ext.grid.plugin.filters.String',{extend:'Ext.grid.plugin.filters.SingleFilter',alias:'grid.filters.string',type:'string',operator:'like',operators:['like','==','!='],fieldDefaults:{xtype:'textfield'}});Ext.define('Ext.grid.plugin.filters.Date',{extend:'Ext.grid.plugin.filters.SingleFilter',alias:'grid.filters.date',requires:['Ext.form.field.Date'],type:'date',operators:['==','!=','>','>=','<','<='],fieldDefaults:{xtype:'datefield'}});Ext.define('Ext.grid.plugin.filters.Number',{extend:'Ext.grid.plugin.filters.SingleFilter',alias:'grid.filters.number',requires:['Ext.form.field.Number'],operator:'==',operators:['==','!=','>','>=','<','<='],fieldDefaults:{xtype:'numberfield',hideTrigger:!0}});Ext.define('Ext.grid.plugin.filters.Boolean',{extend:'Ext.grid.plugin.filters.SingleFilter',alias:'grid.filters.boolean',requires:['Ext.form.field.ComboBox'],type:'boolean',operator:'==',operators:['==','!='],fieldDefaults:{xtype:'combobox',queryMode:'local',editable:!0,forceSelection:!0},trueText:'Yes',falseText:'No',trueValue:1,falseValue:0,getFieldConfig:function(){var a=this,b=a.callParent();b.store=[[a.trueValue,a.trueText],[a.falseValue,a.falseText]];return b}});Ext.define('Ext.grid.plugin.filters.None',{extend:'Ext.grid.plugin.filters.Base',alias:'grid.filters.none',fieldDefaults:{xtype:'component',cls:Ext.baseCSSPrefix+'grid-filter-none'}});Ext.define('Ext.grid.plugin.filters.List',{extend:'Ext.grid.plugin.filters.SingleFilter',alias:'grid.filters.list',requires:['Ext.form.field.ComboBox'],config:{options:null},type:'list',operator:'==',operators:['==','!='],fieldDefaults:{xtype:'combobox',queryMode:'local',forceSelection:!0,editable:!0,matchFieldWidth:!1},constructor:function(c){var a=this,b;a.callParent([c]);b=a.getOptions();if(!b){a.monitorStore(a.getGridStore())}},destroy:function(){Ext.destroy(this.storeListeners);this.callParent()},monitorStore:function(b){var a=this;Ext.destroy(a.storeListeners);a.storeListeners=b.on({add:'resetFieldStore',remove:'resetFieldStore',load:'resetFieldStore',scope:a,destroyable:!0})},getFieldConfig:function(){var a=this.callParent();a.store=this.createOptionsStore();return a},createOptionsStore:function(){var b=this,a=b.getOptions(),c=b.getGridStore();if(!a){a=Ext.Array.sort(c.collect(b.getDataIndex(),!1,!0))}return a},resetFieldStore:function(){var b=this,a=b.getField();if(a){a.setStore(b.createOptionsStore());if(b.active){a.suspendEvents();a.setValue(b.filter.getValue());a.resumeEvents(!0)}}}});Ext.define('Ext.grid.plugin.filters.InList',{extend:'Ext.grid.plugin.filters.SingleFilter',alias:'grid.filters.inlist',requires:['Ext.form.field.Tag'],config:{options:null},type:'inlist',operator:'in',operators:['in','notin'],fieldDefaults:{xtype:'tagfield',queryMode:'local',forceSelection:!0,selectOnFocus:!1,editable:!1,filterPickList:!0},getFieldConfig:function(){var a=this.callParent();a.store=this.getOptions()||[];return a},onFieldRender:function(a){this.callParent([a]);if(a.isXType('tagfield')&&!a.getEditable()&&a.inputElCt){a.inputElCt.setDisplayed(!1)}}});Ext.define('Ext.grid.plugin.FilterBar',{extend:'Ext.AbstractPlugin',alias:'plugin.gridfilterbar',requires:['Ext.grid.plugin.filters.String','Ext.grid.plugin.filters.Date','Ext.grid.plugin.filters.Number','Ext.grid.plugin.filters.Boolean','Ext.grid.plugin.filters.None','Ext.grid.plugin.filters.List','Ext.grid.plugin.filters.InList'],config:{hidden:!1,headerListeners:{columnshow:'onColumnShow',columnhide:'onColumnHide',add:'onColumnAdd',remove:'onColumnRemove',afterlayout:'onHeaderLayout'},gridListeners:{reconfigure:'onGridReconfigure',afterlayout:{fn:'onGridLayout',single:!0}}},lockableScope:'both',filterBarCls:Ext.baseCSSPrefix+'grid-filterbar',filterCls:Ext.baseCSSPrefix+'grid-filterbar-filtered-column',init:function(b){var a=this,c=b.headerCt;a.grid=b;a.listenersHeader=c.on(Ext.apply({scope:a,destroyable:a},a.getHeaderListeners()));a.listenersGrid=b.on(Ext.apply({scope:a,destroyable:a},a.getGridListeners()));a.createFilterBar();a.initializeFilters(b.columnManager.getColumns());a.setupGridFunctions()},destroy:function(){var c=this,b=this.grid,a;if(b){a=b.ownerGrid;if(a){a.showFilterBar=a.hideFilterBar=null}b.showFilterBar=b.hideFilterBar=null}Ext.destroy(c.listenersGrid,c.listenersHeader,c.bar);c.callParent()},setupGridFunctions:function(){var a=this,b=a.grid,c;if(b){if(b.isLocked){c=b.ownerGrid;c.showFilterBar=Ext.bind(a.showFilterBarPartners,a);c.hideFilterBar=Ext.bind(a.hideFilterBarPartners,a)}b.showFilterBar=Ext.bind(a.showFilterBar,a);b.hideFilterBar=Ext.bind(a.hideFilterBar,a)}},showFilterBar:function(){var a=this.bar.getScrollable();if(this.isDestroyed){return}this.bar.show();a.syncWithPartners()},hideFilterBar:function(){if(this.isDestroyed){return}this.bar.hide()},showFilterBarPartners:function(){this.showFilterBar();this.lockingPartner.showFilterBar()},hideFilterBarPartners:function(){this.hideFilterBar();this.lockingPartner.hideFilterBar()},createFilterBar:function(){var a=this;a.bar=a.grid.addDocked({weight:100,xtype:'container',hidden:a.getHidden(),layout:{type:'hbox',align:'stretch'},childEls:['innerCt'],scrollable:{x:!1,y:!1}})[0];a.bar.addCls([a.filterBarCls,Ext.baseCSSPrefix+'grid-header-ct'])},initializeFilters:function(b){var d=b.length,a,c;for(a=0;a<d;a++){c=this.createColumnFilter(b[a]);this.bar.add(c.getField())}},onGridLayout:function(d){var a=d.getView(),b=this.bar.getScrollable(),c;if(a.isLockedView!=null||a.isNormalView!=null){if(a.isLockedView){c=a.ownerGrid.lockedScrollbarScroller}else {c=a.ownerGrid.normalScrollbarScroller}}else {c=a.getScrollable()}c.addPartner(b,'x');b.addPartner(d.headerCt.getScrollable(),'x');b.addPartner(a.getScrollable(),'x');if(d.summaryBar){b.addPartner(d.summaryBar.getScrollable(),'x')}},onHeaderLayout:function(){this.resizeFilters();this.adjustFilterBarSize()},onGridReconfigure:function(c,a,b){if(a){this.resetFilters()}},onColumnAdd:function(d,b,c){var a=b.filter;if(!a||!a.isGridFilter){a=this.createColumnFilter(b)}this.bar.insert(c,a.getField());this.adjustFilterBarSize()},onColumnRemove:function(){this.adjustFilterBarSize()},onColumnShow:function(b,a){this.setFilterVisibility(a,!0)},onColumnHide:function(b,a){this.setFilterVisibility(a,!1)},setFilterVisibility:function(d,c){var a=d.filter,b=a&&a.isGridFilter?a.getField():null;if(b){b[c?'show':'hide']()}},resizeFilters:function(){var c=this.grid.columnManager.getColumns(),d=c.length,b,a;for(b=0;b<d;b++){a=c[b].filter;if(a&&a.isGridFilter){a.resizeField()}}},adjustFilterBarSize:function(){var b=this.bar,c=this.grid.headerCt,a;if(b.rendered){a=b.innerCt.getWidth();if(c.tooNarrow){a+=Ext.getScrollbarSize().width}b.innerCt.setWidth(a)}},createColumnFilter:function(c){var a=c.filter,b={grid:this.grid,column:c,owner:this};if(!a){b.type='none';a=Ext.Factory.gridFilters(b)}else {if(!a.isGridFilter){if(Ext.isString(a)){b.type=a}else {Ext.apply(b,a)}a=Ext.Factory.gridFilters(b)}}c.filter=a;return a},resetFilters:function(){var c=this.grid.columnManager.getColumns(),d=c.length,b,a;for(b=0;b<d;b++){a=c[b].filter;if(a&&a.isGridFilter){a.resetFilter()}}}});Ext.define('Ext.grid.plugin.grouping.Column',{extend:'Ext.Component',alias:'widget.groupingpanelcolumn',requires:['Ext.menu.Menu','Ext.menu.CheckItem','Ext.menu.Item','Ext.menu.Separator'],childEls:['textCol','filterCol','sortCol'],tabIndex:0,focusable:!0,isGroupingPanelColumn:!0,renderTpl:'<div id="{id}-configCol" role="button" class="'+Ext.baseCSSPrefix+'grid-group-column-inner" >'+'<span id="{id}-customCol" role="presentation" class="'+Ext.baseCSSPrefix+'grid-group-column-btn-customize '+Ext.baseCSSPrefix+'border-box '+Ext.baseCSSPrefix+'grid-group-column-btn '+Ext.baseCSSPrefix+'grid-group-column-btn-image"></span>'+'<span id="{id}-sortCol" role="presentation" data-ref="sortCol" class="'+Ext.baseCSSPrefix+'border-box '+Ext.baseCSSPrefix+'grid-group-column-btn"></span>'+'<span id="{id}-textCol" role="presentation" data-ref="textCol" data-qtip="{header}" class="'+Ext.baseCSSPrefix+'grid-group-column-text '+Ext.baseCSSPrefix+'column-header-text '+Ext.baseCSSPrefix+'border-box">'+'{header}'+'</span>'+'</div>',maxWidth:200,baseCls:Ext.baseCSSPrefix+'grid-group-column',overCls:Ext.baseCSSPrefix+'grid-group-column-over',cls:Ext.baseCSSPrefix+'unselectable',btnIconCls:Ext.baseCSSPrefix+'grid-group-column-btn-image',btnAscSortIconCls:Ext.baseCSSPrefix+'grid-group-column-btn-sort-asc',btnDescSortIconCls:Ext.baseCSSPrefix+'grid-group-column-btn-sort-desc',config:{header:'&#160;',grouper:null,idColumn:'',column:null},doDestroy:function(){this.setGrouper(null);this.callParent()},initRenderData:function(){return Ext.apply(this.callParent(arguments),{header:this.header})},afterRender:function(){this.changeSortCls();this.callParent()},updateGrouper:function(a){this.changeSortCls()},changeSortCls:function(){var a=this,d=a.getGrouper(),b=a.sortCol,c;if(d&&b){c=d.getDirection();if(c==='ASC'||!c){b.addCls(a.btnAscSortIconCls);b.removeCls(a.btnDescSortIconCls)}else {b.addCls(a.btnDescSortIconCls);b.removeCls(a.btnAscSortIconCls)}b.addCls(a.btnIconCls)}}});Ext.define('Ext.grid.plugin.grouping.DragZone',{extend:'Ext.dd.DragZone',groupColumnSelector:'.'+Ext.baseCSSPrefix+'grid-group-column',groupColumnInnerSelector:'.'+Ext.baseCSSPrefix+'grid-group-column-inner',maxProxyWidth:120,dragging:!1,constructor:function(b){var a=this;a.panel=b;a.ddGroup=a.getDDGroup();a.callParent([b.el])},getDDGroup:function(){return 'header-dd-zone-'+this.panel.up('[scrollerOwner]').id},getDragData:function(e){if(e.getTarget(this.groupColumnInnerSelector)){var d=e.getTarget(this.groupColumnSelector),a,c,b;if(d){a=Ext.getCmp(d.id);c=Ext.getCmp(a.idColumn);if(!this.panel.dragging){b=document.createElement('div');b.innerHTML=a.getHeader();return {ddel:b,header:c,groupcol:a}}}}return !1},onBeforeDrag:function(){return !(this.panel.dragging||this.disabled)},onInitDrag:function(){this.panel.dragging=!0;this.callParent(arguments)},onDragDrop:function(){var a=this;if(!a.dragData.dropLocation){a.panel.dragging=!1;a.callParent(arguments);return}var c=a.dragData.dropLocation.header,b=a.dragData.groupcol;if(c.isColumn){a.panel.removeColumn(b)}a.panel.dragging=!1;a.callParent(arguments)},afterRepair:function(){this.callParent();this.panel.dragging=!1},getRepairXY:function(){return this.dragData.header.el.getXY()},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1}});Ext.define('Ext.grid.plugin.grouping.DropZone',{extend:'Ext.dd.DropZone',proxyOffsets:[-4,-9],groupingPanelSelector:'.'+Ext.baseCSSPrefix+'grid-group-panel-body',groupColumnSelector:'.'+Ext.baseCSSPrefix+'grid-group-column',constructor:function(b){var a=this;a.panel=b;a.ddGroup=a.getDDGroup();a.autoGroup=!0;a.callParent([b.el])},destroy:function(){Ext.destroy(this.topIndicator,this.bottomIndicator);this.callParent()},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1},getDDGroup:function(){return 'header-dd-zone-'+this.panel.up('[scrollerOwner]').id},getTargetFromEvent:function(a){return a.getTarget(this.groupColumnSelector)||a.getTarget(this.groupingPanelSelector)},getTopIndicator:function(){if(!this.topIndicator){this.topIndicator=Ext.getBody().createChild({role:'presentation',cls:Ext.baseCSSPrefix+'col-move-top',html:'&#160;'});this.indicatorXOffset=Math.floor((this.topIndicator.dom.offsetWidth+1)/2)}return this.topIndicator},getBottomIndicator:function(){if(!this.bottomIndicator){this.bottomIndicator=Ext.getBody().createChild({role:'presentation',cls:Ext.baseCSSPrefix+'col-move-bottom',html:'&#160;'})}return this.bottomIndicator},getLocation:function(e,d){var f=e.getXY()[0],b=Ext.getCmp(d.id),a,c;if(b.isGroupingPanel&&b.items.length){a=Ext.fly(b.items.last().el).getRegion()}else {a=Ext.fly(d).getRegion()}if(a.right-f<=(a.right-a.left)/2){c='after'}else {c='before'}return {pos:c,header:b,node:d}},positionIndicator:function(t,v,w){var a=this,i=t.header,o=a.getLocation(w,v),b=o.header,g=o.pos,r,s,d,c,k,h,f,e,j,q,p,n,u,m,l;if(b===a.lastTargetHeader&&g===a.lastDropPos){return}r=i.nextSibling('groupingpanelcolumn:not([hidden])');s=i.previousSibling('groupingpanelcolumn:not([hidden])');a.lastTargetHeader=b;a.lastDropPos=g;t.dropLocation=o;if(i!==b&&(g==='before'&&r!==b||g==='after'&&s!==b)&&!b.isDescendantOf(i)){n=Ext.dd.DragDropManager.getRelated(a);u=n.length;m=0;for(;m<u;m++){l=n[m];if(l!==a&&l.invalidateDrop){l.invalidateDrop()}}a.valid=!0;d=a.getTopIndicator();c=a.getBottomIndicator();if(g==='before'){k='bc-tl';h='tc-bl'}else {k='bc-tr';h='tc-br'}if(b.isGroupingPanel&&b.items.length>0){f=d.getAlignToXY(b.items.last().el,k);e=c.getAlignToXY(b.items.last().el,h)}else {f=d.getAlignToXY(b.el,k);e=c.getAlignToXY(b.el,h)}j=a.panel.innerCt;q=j.getX()-a.indicatorXOffset;p=j.getX()+j.getWidth();f[0]=Ext.Number.constrain(f[0],q,p);e[0]=Ext.Number.constrain(e[0],q,p);d.setXY(f);c.setXY(e);d.show();c.show()}else {a.invalidateDrop()}},invalidateDrop:function(){this.valid=!1;this.hideIndicators()},onNodeOver:function(e,g,f,b){var a=this,d=b.groupcol||b.header,c=!0;if(b.header.el.dom===e){c=!1}else {if(d.isColumn){c=d.groupable&&a.panel.isNewColumn(d)}}if(c){a.positionIndicator(b,e,f)}else {a.valid=!1}return a.valid?a.dropAllowed:a.dropNotAllowed},hideIndicators:function(){var a=this;a.getTopIndicator().hide();a.getBottomIndicator().hide();a.lastTargetHeader=a.lastDropPos=null},onNodeOut:function(){this.hideIndicators()},onNodeDrop:function(h,g,i,d){var c=this,a=d.groupcol||d.header,b=d.dropLocation,f,e;if(c.valid&&b){c.invalidateDrop();if(a.isColumn){f=c.panel.getColumnPosition(b.header,b.pos);e=new Ext.util.Grouper({property:a.displayField||a.dataIndex,direction:a.sortState||'ASC',formatter:a.groupFormatter});c.panel.addColumn({header:a.text,idColumn:a.id,grouper:e,column:a},f,!0);if(a.up('gridpanel').headerCt.getVisibleGridColumns().length>1){a.setVisible(!1)}}else {if(a.isGroupingPanelColumn){c.panel.moveColumn(a,b.header.isGroupingPanel?b.header.items.last():b.header,b.pos)}}}}});Ext.define('Ext.grid.plugin.grouping.Panel',{extend:'Ext.panel.Panel',alias:'widget.groupingpanel',requires:['Ext.grid.plugin.grouping.Column','Ext.grid.plugin.grouping.DragZone','Ext.grid.plugin.grouping.DropZone','Ext.layout.container.Column'],mixins:['Ext.util.FocusableContainer'],isGroupingPanel:!0,position:'top',border:!1,enableFocusableContainer:!0,weight:50,height:'auto',layout:'column',childEls:['innerCt','targetEl'],cls:Ext.baseCSSPrefix+'grid-group-panel-body',hintTextCls:Ext.baseCSSPrefix+'grid-group-panel-hint',config:{grid:null,store:null,columnConfig:{xtype:'groupingpanelcolumn'}},keyEventRe:/^key/,groupingPanelText:'Drag a column header here to group by that column',showGroupingPanelText:'Show Group By Panel',hideGroupingPanelText:'Hide Group By Panel',clearGroupText:'Clear Group',sortAscText:'Sort Ascending',sortDescText:'Sort Descending',moveLeftText:'Move left',moveRightText:'Move right',moveBeginText:'Move to beginning',moveEndText:'Move to end',removeText:'Remove',ascSortIconCls:Ext.baseCSSPrefix+'grid-group-column-sort-icon-asc',descSortIconCls:Ext.baseCSSPrefix+'grid-group-column-sort-icon-desc',groupingPanelIconCls:Ext.baseCSSPrefix+'grid-group-panel-icon',clearGroupIconCls:Ext.baseCSSPrefix+'grid-group-panel-clear-icon',initComponent:function(){var a=this;Ext.apply(a,{header:{dock:'left',title:{hidden:!0},padding:0,tools:[{type:'gear',handler:a.showPanelMenu,scope:a}]}});a.callParent(arguments)},doDestroy:function(){var a=this;Ext.destroyMembers(a,'infoEl','dragZone','dropZone','contextMenu','panelListeners','columnListeners','storeListeners','columnMenu','panelMenu');a.setGrid(null);a.callParent()},afterRender:function(){var a=this,b=a.getEl();a.callParent();a.dragZone=new Ext.grid.plugin.grouping.DragZone(a);a.dropZone=new Ext.grid.plugin.grouping.DropZone(a);a.panelListeners=a.mon(b,{contextmenu:a.showPanelMenu,scope:a,destroyable:!0});a.columnListeners=a.mon(b,{delegate:'.'+Ext.baseCSSPrefix+'grid-group-column',click:a.handleColumnEvent,keypress:a.handleColumnEvent,scope:a,destroyable:!0});a.infoEl=a.innerCt.createChild({cls:a.hintTextCls+' '+Ext.baseCSSPrefix+'unselectable',html:a.groupingPanelText});a.setInfoElVisibility();a.initGroupingColumns()},show:function(){var a=this,b=a.dragZone,c=a.dropZone,d=a.getGrid();if(b){b.enable()}if(c){c.enable()}a.callParent();d.fireEvent('showgroupingpanel',a)},hide:function(){var a=this,b=a.dragZone,c=a.dropZone,d=a.getGrid();if(b){b.disable()}if(c){c.disable()}a.callParent();d.fireEvent('hidegroupingpanel',a)},updateGrid:function(b){var a=this,c=null;Ext.destroy(a.gridListeners);if(b){a.gridListeners=b.on({reconfigure:a.onGridReconfigure,scope:a,destroyable:!0});c=b.getStore()}a.setStore(c)},updateStore:function(b){var a=this;Ext.destroy(a.storeListeners);if(b){a.storeListeners=b.on({groupchange:a.initGroupingColumns,scope:a,destroyable:!0});a.initGroupingColumns()}},onAdd:function(a){this.setInfoElVisibility()},onRemove:function(){this.setInfoElVisibility()},setInfoElVisibility:function(){var a=this.infoEl;if(!a){return}if(!this.items.length){a.show()}else {a.hide()}},handleColumnEvent:function(a){var d=this.keyEventRe.test(a.type),c,b;if(d&&a.getKey()===a.SPACE||a.button===0){c=Ext.fly(a.target);if(c&&(b=c.component)&&b.isGroupingPanelColumn){this.showColumnMenu(a,b)}}},showColumnMenu:function(f,d){var a=this,e=a.getGrid(),b,c;Ext.destroy(a.columnMenu);b=a.columnMenu=Ext.menu.Manager.get(a.getColumnMenu(d));c={menu:b,column:d};if(e.fireEvent('beforeshowgroupingcolumnmenu',a,c)!==!1){b.showBy(d);b.focus();e.fireEvent('showgroupingcolumnmenu',a,c)}else {Ext.destroy(b)}f.stopEvent()},getColumnMenu:function(b){var a=this,d=[],e=b.ownerCt,c;d.push({text:a.sortAscText,direction:'ASC',iconCls:a.ascSortIconCls,column:b,handler:a.sortColumn},{text:a.sortDescText,direction:'DESC',iconCls:a.descSortIconCls,column:b,handler:a.sortColumn},{xtype:'menuseparator'},{text:a.removeText,handler:Ext.bind(a.removeColumn,a,[b])},{text:a.moveLeftText,disabled:!(c=b.previousSibling()),handler:Ext.bind(a.moveColumn,a,[b,c,'before'])},{text:a.moveRightText,disabled:!(c=b.nextSibling()),handler:Ext.bind(a.moveColumn,a,[b,c,'after'])},{text:a.moveBeginText,disabled:!(c=b.previousSibling()),handler:Ext.bind(a.moveColumn,a,[b,e.items.first(),'before'])},{text:a.moveEndText,disabled:!(c=b.nextSibling()),handler:Ext.bind(a.moveColumn,a,[b,e.items.last(),'after'])});return {defaults:{scope:a},items:d}},showPanelMenu:function(c,e){var b=this,f=b.getGrid(),g=b.keyEventRe.test(c.type),a,d;Ext.destroy(b.panelMenu);e.focus();a=b.panelMenu=Ext.menu.Manager.get(b.getPanelMenu());d={menu:a};if(f.fireEvent('beforeshowgroupingpanelmenu',b,d)!==!1){if(g){a.showBy(e)}else {a.show();a.setPosition(c.getX(),c.getY())}a.focus();f.fireEvent('showgroupingpanelmenu',b,d)}else {Ext.destroy(a)}c.stopEvent()},getPanelMenu:function(){var a=this,c=[],b=a.getStore().getGroupers();c.push({iconCls:a.groupingPanelIconCls,text:a.hideGroupingPanelText,handler:a.hide},{iconCls:a.clearGroupIconCls,text:a.clearGroupText,disabled:!b||!b.length,handler:a.clearGrouping});return {defaults:{scope:a},items:c}},clearGrouping:function(){var c=this,d=c.items.items,f=d.length,a,e,b;for(a=0;a<f;a++){e=d[a];b=e.getColumn();if(b){b.show()}}c.getStore().delayedGroup(null);c.getHeader().focus()},sortColumn:function(b){var a=b.column.getGrouper();if(a){a.setDirection(b.direction)}},isNewColumn:function(a){return this.items.findIndex('idColumn',a.id)<0},addColumn:function(e,c,f){var b=this,d=Ext.apply({},b.getColumnConfig()),a;a=Ext.create(Ext.apply(d,e));if(c!==-1){b.insert(c,a)}else {b.add(a)}if(f===!0){a.focus();b.notifyGroupChange()}},getColumnPosition:function(b,c){var d=this,a;if(b.isGroupingPanelColumn){a=d.items.indexOf(b);a=c==='before'?a:a+1}else {a=-1}return a},moveColumn:function(a,c,d){var b=this;if(a!==c){if(d==='before'){b.moveBefore(a,c)}else {b.moveAfter(a,c)}b.notifyGroupChange()}},removeColumn:function(a){var b=this,d=a.getColumn(),c=a.nextSibling()||a.previousSibling()||b.getHeader();if(d){d.show()}if(c){c.focus()}b.remove(a,!0);b.notifyGroupChange()},showGridColumn:function(a){a.show()},hideGridColumn:function(a){a.hide()},notifyGroupChange:function(){var g=this,f=g.getStore(),e=g.items.items,h=e.length,b=[],a,d,c;for(a=0;a<h;a++){d=e[a];c=d.getGrouper();if(c){b.push(c)}}if(!b.length){f.clearGrouping()}else {f.delayedGroup(b)}},onGridReconfigure:function(b,a){if(a){this.setStore(a)}},initGroupingColumns:function(){var b=this,i=b.getGrid(),h=b.getStore(),e=h.getGroupers(),g=e.length,f=Ext.Array.toValueMap(i.headerCt.getGridColumns(),'dataIndex'),c,a,d,j;b.removeAll(!0);Ext.suspendLayouts();for(c=0;c<g;c++){d=e.items[c];a=f[d.getProperty()];if(a){b.addColumn({header:a.text,idColumn:a.id,grouper:d,column:a},-1)}}Ext.resumeLayouts(!0)}});Ext.define('Ext.grid.plugin.GroupingPanel',{extend:'Ext.AbstractPlugin',alias:'plugin.groupingpanel',requires:['Ext.grid.plugin.grouping.Panel'],config:{panel:{xtype:'groupingpanel',columnConfig:{xtype:'groupingpanelcolumn'}},grid:null,view:null},lockableScope:'top',init:function(a){this.setGrid(a)},destroy:function(){this.setConfig({grid:null,view:null,panel:null});this.callParent()},enable:function(){this.disabled=!1;this.showGroupingPanel()},disable:function(){this.disabled=!0;this.hideGroupingPanel()},showGroupingPanel:function(){var a;this.setup();a=this.getView();a.show()},hideGroupingPanel:function(){var a;this.setup();a=this.getView();a.hide()},toggleGroupingPanel:function(){var a;this.setup();a=this.getView();a.setHidden(!a.isHidden())},updateGrid:function(b,c){var a=this;Ext.destroy(a.gridListeners);if(c){c.showGroupingPanel=c.hideGroupingPanel=null}if(b){b.showGroupingPanel=Ext.bind(a.showGroupingPanel,a);b.hideGroupingPanel=Ext.bind(a.hideGroupingPanel,a);if(b.rendered){a.onAfterGridRendered()}else {a.gridListeners=b.on({afterrender:a.onAfterGridRendered,single:!0,scope:a,destroyable:!0})}a.injectGroupingMenu()}},updateView:function(a,c){var b;Ext.destroy(c);if(a){b=a.isXType('groupingpanel')?a:a.down('groupingpanel');if(b){b.setConfig({grid:this.getGrid()})}}},onAfterGridRendered:function(){var a=this;if(a.disabled===!0){a.disable()}else {a.enable()}},injectGroupingMenu:function(){var b=this,a=b.getGrid().headerCt;a.showMenuBy=Ext.Function.createInterceptor(a.showMenuBy,b.showMenuBy);a.getMenuItems=b.getMenuItems()},showMenuBy:function(d,f,e){var c=this,b=c.getMenu().down('#groupingPanel'),a=c.grid.down('groupingpanel');if(a&&b){b.setText(a.isHidden()?a.showGroupingPanelText:a.hideGroupingPanelText)}},getMenuItems:function(){var a=this,b=a.getView(),c=a.getGrid().headerCt.getMenuItems;return function(){var d=c.call(this);d.push('-',{iconCls:b?b.groupingPanelIconCls:Ext.baseCSSPrefix+'grid-group-panel-icon',itemId:'groupingPanel',text:a.groupsText,handler:a.toggleGroupingPanel,scope:a});return d}},privates:{setup:function(){var b=this,a;if(b.doneSetup){return}b.doneSetup=!0;a=b.getGrid().addDocked(b.getPanel());a=a&&a.length?a[0]:a;b.setView(a)}}});Ext.define('Ext.grid.plugin.Summaries',{extend:'Ext.AbstractPlugin',alias:'plugin.summaries',requires:['Ext.data.summary.*','Ext.menu.Menu','Ext.menu.CheckItem'],lockableScope:'top',enableContextMenu:!0,enableSummaryMenu:!0,textNone:'None',summaryText:'Summary',init:function(b){var a=this;a.callParent([b]);a.grid=b;a.gridListeners=a.grid.on({groupcontextmenu:a.onGroupContextMenu,groupsummarycontextmenu:a.onGroupSummaryContextMenu,summarycontextmenu:a.onSummaryContextMenu,collectheadermenuitems:a.onCollectMenuItems,showheadermenuitems:a.onShowHeaderMenu,scope:a,destroyable:!0})},destroy:function(){var a=this;Ext.destroyMembers(a,'gridListeners','contextMenu');a.grid=null;a.callParent()},onGroupContextMenu:function(c,a){var b=a.feature.groupSummaryPosition;if(b==='hide'){return}if(b==='top'||a.group.isCollapsed&&b==='bottom'){this.showMenu(a)}},onGroupSummaryContextMenu:function(b,a){this.showMenu(a)},onSummaryContextMenu:function(b,a){this.showMenu(a)},showMenu:function(a){var c=this,g=a.grid,h=a.cell,f=a.column,e=a.feature.groupingColumn&&a.feature.groupingColumn.getIndex(),i=a.e,b,d;if(!c.enableContextMenu||!f.dataIndex||e>=0&&e>=f.getIndex()){return}b=c.getSummaryMenu(a);if(!b){return}Ext.destroy(c.contextMenu);b=c.contextMenu=Ext.menu.Manager.get(b);d={menu:b,params:a};if(g.fireEvent('beforeshowsummarycontextmenu',c,d)!==!1){b.showBy(h);b.focus();g.fireEvent('showsummarycontextmenu',c,d)}else {Ext.destroy(b)}i.stopEvent()},getSummaryMenu:function(e){var c=this,d=e.column.getListOfSummaries(),g=c.getSummaryFieldType(e.column.dataIndex),h=[{text:c.textNone,summary:null,checked:!g}],f,i,b,a;b=c.fns=c.fns||{};if(!d||!d.length){return !1}i=d.length;for(f=0;f<i;f++){a=d[f];if(!b[a]){b[a]=Ext.Factory.dataSummary(a)}h.push({text:b[a].text,summary:b[a],checked:g===b[a].type})}return {defaults:{xtype:'menucheckitem',column:e.column,dataIndex:e.column.dataIndex,handler:c.onChanceSummary,group:'summaries',scope:c},items:h}},onChanceSummary:function(b){var a=this.grid.getStore(),c=b.column,d=a.model.getSummaryModel();c.summaryType=null;if(c.onSummaryChange){c.onSummaryChange(b.summary)}d.setSummary(b.dataIndex,b.summary);if(a.getRemoteSummary()){a.reload()}else {if(d){a.fireEvent('summarieschanged',a)}}},getSummaryFieldType:function(e){var d=this.grid.getStore(),c=d.model.getSummaryModel(),b=c.getField(e),a=b?b.getSummary():!1;return a?a.type:!1},onCollectMenuItems:function(b,a){a.items.push({text:this.summaryText,itemId:'summaryMenuItem'})},onShowHeaderMenu:function(c,b){var a=b.menu.down('#summaryMenuItem');if(!a){return}a.setVisible(!b.column.isGroupsColumn);a.setMenu(this.getSummaryMenu(b))}});