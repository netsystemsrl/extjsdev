!function(){if(Ext.Boot.isIE8||Ext.Boot.isIE9||Ext.Boot.isIE10){return}var hk={version:"3.5.17"};var bL=[].slice,dL=function(e){return bL.call(e)};var bK=this.document;function d4(e){return e&&(e.ownerDocument||e.document||e).documentElement}function fu(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}if(bK){try{dL(bK.documentElement.childNodes)[0].nodeType}catch(g9){dL=function(h8){var e=h8.length,h9=new Array(e);while(e--){h9[e]=h8[e]}return h9}}}if(!Date.now){Date.now=function(){return +new Date()}}if(bK){try{bK.createElement("DIV").style.setProperty("opacity",0,"")}catch(fs){var dJ=this.Element.prototype,bZ=dJ.setAttribute,g2=dJ.setAttributeNS,dx=this.CSSStyleDeclaration.prototype,gK=dx.setProperty;dJ.setAttribute=function(e,h8){bZ.call(this,e,h8+"")};dJ.setAttributeNS=function(h9,e,h8){g2.call(this,h9,e,h8+"")};dx.setProperty=function(e,h9,h8){gK.call(this,e,h9+"",h8)}}}hk.ascending=fe;function fe(h8,e){return h8<e?-1:h8>e?1:h8>=e?0:NaN}hk.descending=function(h8,e){return e<h8?-1:e>h8?1:e>=h8?0:NaN};hk.min=function(ic,ia){var h9=-1,ib=ic.length,h8,e;if(arguments.length===1){while(++h9<ib){if((e=ic[h9])!=null&&e>=e){h8=e;break}}while(++h9<ib){if((e=ic[h9])!=null&&h8>e){h8=e}}}else{while(++h9<ib){if((e=ia.call(ic,ic[h9],h9))!=null&&e>=e){h8=e;break}}while(++h9<ib){if((e=ia.call(ic,ic[h9],h9))!=null&&h8>e){h8=e}}}return h8};hk.max=function(ic,ia){var h9=-1,ib=ic.length,h8,e;if(arguments.length===1){while(++h9<ib){if((e=ic[h9])!=null&&e>=e){h8=e;break}}while(++h9<ib){if((e=ic[h9])!=null&&e>h8){h8=e}}}else{while(++h9<ib){if((e=ia.call(ic,ic[h9],h9))!=null&&e>=e){h8=e;break}}while(++h9<ib){if((e=ia.call(ic,ic[h9],h9))!=null&&e>h8){h8=e}}}return h8};hk.extent=function(id,ia){var h9=-1,ic=id.length,h8,e,ib;if(arguments.length===1){while(++h9<ic){if((e=id[h9])!=null&&e>=e){h8=ib=e;break}}while(++h9<ic){if((e=id[h9])!=null){if(h8>e){h8=e}if(ib<e){ib=e}}}}else{while(++h9<ic){if((e=ia.call(id,id[h9],h9))!=null&&e>=e){h8=ib=e;break}}while(++h9<ic){if((e=ia.call(id,id[h9],h9))!=null){if(h8>e){h8=e}if(ib<e){ib=e}}}}return[h8,ib]};function hp(e){return e===null?NaN:+e}function a8(e){return !isNaN(e)}hk.sum=function(ic,ia){var h9=0,ib=ic.length,e,h8=-1;if(arguments.length===1){while(++h8<ib){if(a8(e=+ic[h8])){h9+=e}}}else{while(++h8<ib){if(a8(e=+ia.call(ic,ic[h8],h8))){h9+=e}}}return h9};hk.mean=function(id,ib){var ia=0,ic=id.length,e,h9=-1,h8=ic;if(arguments.length===1){while(++h9<ic){if(a8(e=hp(id[h9]))){ia+=e}else{--h8}}}else{while(++h9<ic){if(a8(e=hp(ib.call(id,id[h9],h9)))){ia+=e}else{--h8}}}if(h8){return ia/h8}};hk.quantile=function(h9,id){var ia=(h9.length-1)*id+1,ib=Math.floor(ia),h8=+h9[ib-1],ic=ia-ib;return ic?h8+ic*(h9[ib]-h8):h8};hk.median=function(ic,ia){var h8=[],ib=ic.length,e,h9=-1;if(arguments.length===1){while(++h9<ib){if(a8(e=hp(ic[h9]))){h8.push(e)}}}else{while(++h9<ib){if(a8(e=hp(ia.call(ic,ic[h9],h9)))){h8.push(e)}}}if(h8.length){return hk.quantile(h8.sort(fe),0.5)}};hk.variance=function(ic,ib){var e=ic.length,h8=0,ie,id,ig=0,ia=-1,h9=0;if(arguments.length===1){while(++ia<e){if(a8(ie=hp(ic[ia]))){id=ie-h8;h8+=id/++h9;ig+=id*(ie-h8)}}}else{while(++ia<e){if(a8(ie=hp(ib.call(ic,ic[ia],ia)))){id=ie-h8;h8+=id/++h9;ig+=id*(ie-h8)}}}if(h9>1){return ig/(h9-1)}};hk.deviation=function(){var e=hk.variance.apply(this,arguments);return e?Math.sqrt(e):e};function gk(e){return{left:function(h9,h8,ic,ib){if(arguments.length<3){ic=0}if(arguments.length<4){ib=h9.length}while(ic<ib){var ia=ic+ib>>>1;if(e(h9[ia],h8)<0){ic=ia+1}else{ib=ia}}return ic},right:function(h9,h8,ic,ib){if(arguments.length<3){ic=0}if(arguments.length<4){ib=h9.length}while(ic<ib){var ia=ic+ib>>>1;if(e(h9[ia],h8)>0){ib=ia}else{ic=ia+1}}return ic}}}var cW=gk(fe);hk.bisectLeft=cW.left;hk.bisect=hk.bisectRight=cW.right;hk.bisector=function(e){return gk(e.length===1?function(h9,h8){return fe(e(h9),h8)}:e)};hk.shuffle=function(ic,ib,ia){if((e=arguments.length)<3){ia=ic.length;if(e<2){ib=0}}var e=ia-ib,h9,h8;while(e){h8=Math.random()*e--|0;h9=ic[e+ib],ic[e+ib]=ic[h8+ib],ic[h8+ib]=h9}return ic};hk.permute=function(ia,h8){var h9=h8.length,e=new Array(h9);while(h9--){e[h9]=ia[h8[h9]]}return e};hk.pairs=function(ic){var e=0,ib=ic.length-1,ia,h9=ic[0],h8=new Array(ib<0?0:ib);while(e<ib){h8[e]=[ia=h9,h9=ic[++e]]}return h8};hk.transpose=function(h8){if(!(id=h8.length)){return[]}for(var ia=-1,e=hk.min(h8,bQ),ib=new Array(e);++ia<e;){for(var h9=-1,id,ic=ib[ia]=new Array(id);++h9<id;){ic[h9]=h8[h9][ia]}}return ib};function bQ(e){return e.length}hk.zip=function(){return hk.transpose(arguments)};hk.keys=function(h9){var h8=[];for(var e in h9){h8.push(e)}return h8};hk.values=function(h9){var e=[];for(var h8 in h9){e.push(h9[h8])}return e};hk.entries=function(h9){var e=[];for(var h8 in h9){e.push({key:h8,value:h9[h8]})}return e};hk.merge=function(ib){var id=ib.length,h8,ia=-1,h9=0,e,ic;while(++ia<id){h9+=ib[ia].length}e=new Array(h9);while(--id>=0){ic=ib[id];h8=ic.length;while(--h8>=0){e[--h9]=ic[h8]}}return e};var cD=Math.abs;hk.range=function(id,ib,ic){if(arguments.length<3){ic=1;if(arguments.length<2){ib=id;id=0}}if((ib-id)/ic===Infinity){throw new Error("infinite range")}var h8=[],e=gg(cD(ic)),ia=-1,h9;id*=e,ib*=e,ic*=e;if(ic<0){while((h9=id+ic*++ia)>ib){h8.push(h9/e)}}else{while((h9=id+ic*++ia)<ib){h8.push(h9/e)}}return h8};function gg(e){var h8=1;while(e*h8%1){h8*=10}return h8}function h0(h9,h8){for(var e in h8){Object.defineProperty(h9.prototype,e,{value:h8[e],enumerable:false})}}hk.map=function(e,ia){var ib=new aE();if(e instanceof aE){e.forEach(function(ie,ig){ib.set(ie,ig)})}else{if(Array.isArray(e)){var h9=-1,id=e.length,ic;if(arguments.length===1){while(++h9<id){ib.set(h9,e[h9])}}else{while(++h9<id){ib.set(ia.call(e,ic=e[h9],h9),ic)}}}else{for(var h8 in e){ib.set(h8,e[h8])}}}return ib};function aE(){this._=Object.create(null)}var c8="__proto__",cC="\x00";h0(aE,{has:gE,get:function(e){return this._[aX(e)]},set:function(e,h8){return this._[aX(e)]=h8},remove:cT,keys:fr,values:function(){var e=[];for(var h8 in this._){e.push(this._[h8])}return e},entries:function(){var e=[];for(var h8 in this._){e.push({key:aY(h8),value:this._[h8]})}return e},size:hC,empty:aw,forEach:function(h8){for(var e in this._){h8.call(this,aY(e),this._[e])}}});function aX(e){return(e+="")===c8||e[0]===cC?cC+e:e}function aY(e){return(e+="")[0]===cC?e.slice(1):e}function gE(e){return aX(e) in this._}function cT(e){return(e=aX(e)) in this._&&delete this._[e]}function fr(){var h8=[];for(var e in this._){h8.push(aY(e))}return h8}function hC(){var h8=0;for(var e in this._){++h8}return h8}function aw(){for(var e in this._){return false}return true}hk.nest=function(){var ia={},h9=[],id=[],h8,ib;function ic(ig,io,il){if(il>=h9.length){return ib?ib.call(ia,io):h8?io.sort(h8):io}var im=-1,ie=io.length,iq=h9[il++],ik,ij,ii,ih=new aE(),ip;while(++im<ie){if(ip=ih.get(ik=iq(ij=io[im]))){ip.push(ij)}else{ih.set(ik,[ij])}}if(ig){ij=ig();ii=function(it,ir){ij.set(it,ic(ig,ir,il))}}else{ij={};ii=function(it,ir){ij[it]=ic(ig,ir,il)}}ih.forEach(ii);return ij}function e(ig,ih){if(ih>=h9.length){return ig}var ii=[],ie=id[ih++];ig.forEach(function(ij,ik){ii.push({key:ij,values:e(ik,ih)})});return ie?ii.sort(function(ik,ij){return ie(ik.key,ij.key)}):ii}ia.map=function(ig,ie){return ic(ie,ig,0)};ia.entries=function(ie){return e(ic(hk.map,ie,0),0)};ia.key=function(ie){h9.push(ie);return ia};ia.sortKeys=function(ie){id[h9.length-1]=ie;return ia};ia.sortValues=function(ie){h8=ie;return ia};ia.rollup=function(ie){ib=ie;return ia};return ia};hk.set=function(ia){var h9=new dn();if(ia){for(var e=0,h8=ia.length;e<h8;++e){h9.add(ia[e])}}return h9};function dn(){this._=Object.create(null)}h0(dn,{has:gE,add:function(e){this._[aX(e+="")]=true;return e},remove:cT,values:fr,size:hC,empty:aw,forEach:function(h8){for(var e in this._){h8.call(this,aY(e))}}});hk.behavior={};function gh(e){return e}hk.rebind=function(h9,h8){var e=1,ib=arguments.length,ia;while(++e<ib){h9[ia=arguments[e]]=ew(h9,h8,h8[ia])}return h9};function ew(h8,e,h9){return function(){var ia=h9.apply(e,arguments);return ia===e?h8:ia}}function dd(h9,h8){if(h8 in h9){return h8}h8=h8.charAt(0).toUpperCase()+h8.slice(1);for(var ia=0,ib=G.length;ia<ib;++ia){var e=G[ia]+h8;if(e in h9){return e}}}var G=["webkit","ms","moz","Moz","o","O"];function aD(){}hk.dispatch=function(){var e=new eR(),h8=-1,h9=arguments.length;while(++h8<h9){e[arguments[h8]]=fc(e)}return e};function eR(){}eR.prototype.on=function(h9,ia){var h8=h9.indexOf("."),e="";if(h8>=0){e=h9.slice(h8+1);h9=h9.slice(0,h8)}if(h9){return arguments.length<2?this[h9].on(e):this[h9].on(e,ia)}if(arguments.length===2){if(ia==null){for(h9 in this){if(this.hasOwnProperty(h9)){this[h9].on(e,null)}}}return this}};function fc(e){var h9=[],h8=new aE();function ia(){var id=h9,ic=-1,ie=id.length,ib;while(++ic<ie){if(ib=id[ic].on){ib.apply(this,arguments)}}return e}ia.on=function(ic,ie){var ib=h8.get(ic),id;if(arguments.length<2){return ib&&ib.on}if(ib){ib.on=null;h9=h9.slice(0,id=h9.indexOf(ib)).concat(h9.slice(id+1));h8.remove(ic)}if(ie){h9.push(h8.set(ic,{on:ie}))}return e};return ia}hk.event=null;function s(){hk.event.preventDefault()}function aa(){var h9=hk.event,h8;while(h8=h9.sourceEvent){h9=h8}return h9}function he(h9){var e=new eR(),h8=0,ia=arguments.length;while(++h8<ia){e[arguments[h8]]=fc(e)}e.of=function(ic,ib){return function(id){try{var ie=id.sourceEvent=hk.event;id.target=h9;hk.event=id;e[id.type].apply(ic,ib)}finally{hk.event=ie}}};return e}hk.requote=function(e){return e.replace(c5,"\\$&")};var c5=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;var h2={}.__proto__?function(h8,e){h8.__proto__=e}:function(h8,e){for(var h9 in e){h8[h9]=e[h9]}};function dW(e){h2(e,dV);return e}var dm=function(e,h8){return h8.querySelector(e)},f3=function(e,h8){return h8.querySelectorAll(e)},a=function(h9,e){var h8=h9.matches||h9[dd(h9,"matchesSelector")];a=function(ib,ia){return h8.call(ib,ia)};return a(h9,e)};if(typeof Sizzle==="function"){dm=function(e,h8){return Sizzle(e,h8)[0]||null};f3=Sizzle;a=Sizzle.matchesSelector}hk.selection=function(){return hk.select(bK.documentElement)};var dV=hk.selection.prototype=[];dV.select=function(ic){var h9=[],ih,e,ig,ia;ic=v(ic);for(var id=-1,ib=this.length;++id<ib;){h9.push(ih=[]);ih.parentNode=(ig=this[id]).parentNode;for(var ie=-1,h8=ig.length;++ie<h8;){if(ia=ig[ie]){ih.push(e=ic.call(ia,ia.__data__,ie,id));if(e&&"__data__" in ia){e.__data__=ia.__data__}}else{ih.push(null)}}}return dW(h9)};function v(e){return typeof e==="function"?e:function(){return dm(e,this)}}dV.selectAll=function(ib){var h8=[],ig,h9;ib=cY(ib);for(var ic=-1,ia=this.length;++ic<ia;){for(var ie=this[ic],id=-1,e=ie.length;++id<e;){if(h9=ie[id]){h8.push(ig=dL(ib.call(h9,h9.__data__,id,ic)));ig.parentNode=h9}}}return dW(h8)};function cY(e){return typeof e==="function"?e:function(){return f3(e,this)}}var fN="http://www.w3.org/1999/xhtml";var ea={svg:"http://www.w3.org/2000/svg",xhtml:fN,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};hk.ns={prefix:ea,qualify:function(e){var h8=e.indexOf(":"),h9=e;if(h8>=0&&(h9=e.slice(0,h8))!=="xmlns"){e=e.slice(h8+1)}return ea.hasOwnProperty(h9)?{space:ea[h9],local:e}:e}};dV.attr=function(e,h9){if(arguments.length<2){if(typeof e==="string"){var h8=this.node();e=hk.ns.qualify(e);return e.local?h8.getAttributeNS(e.space,e.local):h8.getAttribute(e)}for(h9 in e){this.each(br(h9,e[h9]))}return this}return this.each(br(e,h9))};function br(h9,id){h9=hk.ns.qualify(h9);function h8(){this.removeAttribute(h9)}function ie(){this.removeAttributeNS(h9.space,h9.local)}function ic(){this.setAttribute(h9,id)}function ib(){this.setAttributeNS(h9.space,h9.local,id)}function e(){var ig=id.apply(this,arguments);if(ig==null){this.removeAttribute(h9)}else{this.setAttribute(h9,ig)}}function ia(){var ig=id.apply(this,arguments);if(ig==null){this.removeAttributeNS(h9.space,h9.local)}else{this.setAttributeNS(h9.space,h9.local,ig)}}return id==null?h9.local?ie:h8:typeof id==="function"?h9.local?ia:e:h9.local?ib:ic}function cE(e){return e.trim().replace(/\s+/g," ")}dV.classed=function(e,ia){if(arguments.length<2){if(typeof e==="string"){var h9=this.node(),ib=(e=gr(e)).length,h8=-1;if(ia=h9.classList){while(++h8<ib){if(!ia.contains(e[h8])){return false}}}else{ia=h9.getAttribute("class");while(++h8<ib){if(!gM(e[h8]).test(ia)){return false}}}return true}for(ia in e){this.each(gA(ia,e[ia]))}return this}return this.each(gA(e,ia))};function gM(e){return new RegExp("(?:^|\\s+)"+hk.requote(e)+"(?:\\s+|$)","g")}function gr(e){return(e+"").trim().split(/^|\s+/)}function gA(h8,ia){h8=gr(h8).map(hY);var ib=h8.length;function e(){var ic=-1;while(++ic<ib){h8[ic](this,ia)}}function h9(){var id=-1,ic=ia.apply(this,arguments);while(++id<ib){h8[id](this,ic)}}return typeof ia==="function"?h9:e}function hY(e){var h8=gM(e);return function(h9,ia){if(ib=h9.classList){return ia?ib.add(e):ib.remove(e)}var ib=h9.getAttribute("class")||"";if(ia){h8.lastIndex=0;if(!h8.test(ib)){h9.setAttribute("class",cE(ib+" "+e))}}else{h9.setAttribute("class",cE(ib.replace(h8," ")))}}}dV.style=function(e,ia,h8){var ib=arguments.length;if(ib<3){if(typeof e!=="string"){if(ib<2){ia=""}for(h8 in e){this.each(fH(h8,e[h8],ia))}return this}if(ib<2){var h9=this.node();return fu(h9).getComputedStyle(h9,null).getPropertyValue(e)}h8=""}return this.each(fH(e,ia,h8))};function fH(h9,ic,ia){function h8(){this.style.removeProperty(h9)}function ib(){this.style.setProperty(h9,ic,ia)}function e(){var id=ic.apply(this,arguments);if(id==null){this.style.removeProperty(h9)}else{this.style.setProperty(h9,id,ia)}}return ic==null?h8:typeof ic==="function"?e:ib}dV.property=function(e,h8){if(arguments.length<2){if(typeof e==="string"){return this.node()[e]}for(h8 in e){this.each(hE(h8,e[h8]))}return this}return this.each(hE(e,h8))};function hE(h8,ia){function e(){delete this[h8]}function h9(){this[h8]=ia}function ib(){var ic=ia.apply(this,arguments);if(ic==null){delete this[h8]}else{this[h8]=ic}}return ia==null?e:typeof ia==="function"?ib:h9}dV.text=function(e){return arguments.length?this.each(typeof e==="function"?function(){var h8=e.apply(this,arguments);this.textContent=h8==null?"":h8}:e==null?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent};dV.html=function(e){return arguments.length?this.each(typeof e==="function"?function(){var h8=e.apply(this,arguments);this.innerHTML=h8==null?"":h8}:e==null?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML};dV.append=function(e){e=az(e);return this.select(function(){return this.appendChild(e.apply(this,arguments))})};function az(e){function h8(){var ia=this.ownerDocument,ib=this.namespaceURI;return ib===fN&&ia.documentElement.namespaceURI===fN?ia.createElement(e):ia.createElementNS(ib,e)}function h9(){return this.ownerDocument.createElementNS(e.space,e.local)}return typeof e==="function"?e:(e=hk.ns.qualify(e)).local?h9:h8}dV.insert=function(e,h8){e=az(e);h8=v(h8);return this.select(function(){return this.insertBefore(e.apply(this,arguments),h8.apply(this,arguments)||null)})};dV.remove=function(){return this.each(eg)};function eg(){var e=this.parentNode;if(e){e.removeChild(this)}}dV.data=function(ie,ih){var ib=-1,h8=this.length,ig,h9;if(!arguments.length){ie=new Array(h8=(ig=this[0]).length);while(++ib<h8){if(h9=ig[ib]){ie[ib]=h9.__data__}}return ie}function ic(it,im){var ip,ij=it.length,il=im.length,ir=Math.min(ij,il),iw=new Array(il),iu=new Array(il),iq=new Array(ij),ik,ii;if(ih){var ix=new aE(),iv=new Array(ij),io;for(ip=-1;++ip<ij;){if(ik=it[ip]){if(ix.has(io=ih.call(ik,ik.__data__,ip))){iq[ip]=ik}else{ix.set(io,ik)}iv[ip]=io}}for(ip=-1;++ip<il;){if(!(ik=ix.get(io=ih.call(im,ii=im[ip],ip)))){iu[ip]=H(ii)}else{if(ik!==true){iw[ip]=ik;ik.__data__=ii}}ix.set(io,true)}for(ip=-1;++ip<ij;){if(ip in iv&&ix.get(iv[ip])!==true){iq[ip]=it[ip]}}}else{for(ip=-1;++ip<ir;){ik=it[ip];ii=im[ip];if(ik){ik.__data__=ii;iw[ip]=ik}else{iu[ip]=H(ii)}}for(;ip<il;++ip){iu[ip]=H(im[ip])}for(;ip<ij;++ip){iq[ip]=it[ip]}}iu.update=iw;iu.parentNode=iw.parentNode=iq.parentNode=it.parentNode;id.push(iu);ia.push(iw);e.push(iq)}var id=bS([]),ia=dW([]),e=dW([]);if(typeof ie==="function"){while(++ib<h8){ic(ig=this[ib],ie.call(ig,ig.parentNode.__data__,ib))}}else{while(++ib<h8){ic(ig=this[ib],ie)}}ia.enter=function(){return id};ia.exit=function(){return e};return ia};function H(e){return{__data__:e}}dV.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")};dV.filter=function(e){var h9=[],ig,ie,ia;if(typeof e!=="function"){e=a5(e)}for(var ic=0,ib=this.length;ic<ib;ic++){h9.push(ig=[]);ig.parentNode=(ie=this[ic]).parentNode;for(var id=0,h8=ie.length;id<h8;id++){if((ia=ie[id])&&e.call(ia,ia.__data__,id,ic)){ig.push(ia)}}}return dW(h9)};function a5(e){return function(){return a(this,e)}}dV.order=function(){for(var h8=-1,e=this.length;++h8<e;){for(var ic=this[h8],h9=ic.length-1,ia=ic[h9],ib;--h9>=0;){if(ib=ic[h9]){if(ia&&ia!==ib.nextSibling){ia.parentNode.insertBefore(ib,ia)}ia=ib}}}return this};dV.sort=function(h8){h8=gJ.apply(this,arguments);for(var h9=-1,e=this.length;++h9<e;){this[h9].sort(h8)}return this.order()};function gJ(e){if(!arguments.length){e=fe}return function(h9,h8){return h9&&h8?e(h9.__data__,h8.__data__):!h9-!h8}}dV.each=function(e){return cF(this,function(ia,h9,h8){e.call(ia,ia.__data__,h9,h8)})};function cF(h8,ie){for(var h9=0,e=h8.length;h9<e;h9++){for(var ic=h8[h9],ia=0,id=ic.length,ib;ia<id;ia++){if(ib=ic[ia]){ie(ib,ia,h9)}}}return h8}dV.call=function(h8){var e=dL(arguments);h8.apply(e[0]=this,e);return this};dV.empty=function(){return !this.node()};dV.node=function(){for(var h8=0,e=this.length;h8<e;h8++){for(var ib=this[h8],h9=0,ic=ib.length;h9<ic;h9++){var ia=ib[h9];if(ia){return ia}}}return null};dV.size=function(){var e=0;cF(this,function(){++e});return e};function bS(e){h2(e,e0);return e}var e0=[];hk.selection.enter=bS;hk.selection.enter.prototype=e0;e0.append=dV.append;e0.empty=dV.empty;e0.node=dV.node;e0.call=dV.call;e0.size=dV.size;e0.select=function(ic){var h9=[],ii,e,ig,ih,ib;for(var id=-1,ia=this.length;++id<ia;){ig=(ih=this[id]).update;h9.push(ii=[]);ii.parentNode=ih.parentNode;for(var ie=-1,h8=ih.length;++ie<h8;){if(ib=ih[ie]){ii.push(ig[ie]=e=ic.call(ih.parentNode,ib.__data__,ie,id));e.__data__=ib.__data__}else{ii.push(null)}}}return dW(h9)};e0.insert=function(e,h8){if(arguments.length<2){h8=gq(this)}return dV.insert.call(this,e,h8)};function gq(h9){var e,h8;return function(ie,ib,ia){var id=h9[ia].update,ig=id.length,ic;if(ia!=h8){h8=ia,e=0}if(ib>=e){e=ib+1}while(!(ic=id[e])&&++e<ig){}return ic}}hk.select=function(e){var h8;if(typeof e==="string"){h8=[dm(e,bK)];h8.parentNode=bK.documentElement}else{h8=[e];h8.parentNode=d4(e)}return dW([h8])};hk.selectAll=function(e){var h8;if(typeof e==="string"){h8=dL(f3(e,bK));h8.parentNode=bK.documentElement}else{h8=dL(e);h8.parentNode=null}return dW([h8])};dV.on=function(h8,h9,e){var ia=arguments.length;if(ia<3){if(typeof h8!=="string"){if(ia<2){h9=false}for(e in h8){this.each(i(e,h8[e],h9))}return this}if(ia<2){return(ia=this.node()["__on"+h8])&&ia._}e=false}return this.each(i(h8,h9,e))};function i(ig,ia,ih){var e="__on"+ig,ic=ig.indexOf("."),h8=fm;if(ic>0){ig=ig.slice(0,ic)}var h9=bG.get(ig);if(h9){ig=h9,h8=al}function ib(){var ii=this[e];if(ii){this.removeEventListener(ig,ii,ii.$);delete this[e]}}function ie(){var ii=h8(ia,dL(arguments));ib.call(this);this.addEventListener(ig,this[e]=ii,ii.$=ih);ii._=ia}function id(){var il=new RegExp("^__on([^.]+)"+hk.requote(ig)+"$"),ik;for(var ij in this){if(ik=ij.match(il)){var ii=this[ij];this.removeEventListener(ik[1],ii,ii.$);delete this[ij]}}}return ic?ia?ie:ib:ia?aD:id}var bG=hk.map({mouseenter:"mouseover",mouseleave:"mouseout"});if(bK){bG.forEach(function(e){if("on"+e in bK){bG.remove(e)}})}function fm(h8,e){return function(h9){var ia=hk.event;hk.event=h9;e[0]=this.__data__;try{h8.apply(this,e)}finally{hk.event=ia}}}function al(h9,e){var h8=fm(h9,e);return function(ic){var ib=this,ia=ic.relatedTarget;if(!ia||ia!==ib&&!(ia.compareDocumentPosition(ib)&8)){h8.call(ib,ic)}}}var b9,gG=0;function bH(ic){var h9=".dragsuppress-"+ ++gG,ib="click"+h9,h8=hk.select(fu(ic)).on("touchmove"+h9,s).on("dragstart"+h9,s).on("selectstart"+h9,s);if(b9==null){b9="onselectstart" in ic?false:dd(ic.style,"userSelect")}if(b9){var ia=d4(ic).style,e=ia[b9];ia[b9]="none"}return function(id){h8.on(h9,null);if(b9){ia[b9]=e}if(id){var ie=function(){h8.on(ib,null)};h8.on(ib,function(){s();ie()},true);setTimeout(ie,0)}}}hk.mouse=function(e){return aU(e,aa())};var cA=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function aU(ia,ie){if(ie.changedTouches){ie=ie.changedTouches[0]}var ib=ia.ownerSVGElement||ia;if(ib.createSVGPoint){var h8=ib.createSVGPoint();if(cA<0){var id=fu(ia);if(id.scrollX||id.scrollY){ib=hk.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var h9=ib[0][0].getScreenCTM();cA=!(h9.f||h9.e);ib.remove()}}if(cA){h8.x=ie.pageX,h8.y=ie.pageY}else{h8.x=ie.clientX,h8.y=ie.clientY}h8=h8.matrixTransform(ia.getScreenCTM().inverse());return[h8.x,h8.y]}var ic=ia.getBoundingClientRect();return[ie.clientX-ic.left-ia.clientLeft,ie.clientY-ic.top-ia.clientTop]}hk.touch=function(e,ia,h8){if(arguments.length<3){h8=ia,ia=aa().changedTouches}if(ia){for(var h9=0,ic=ia.length,ib;h9<ic;++h9){if((ib=ia[h9]).identifier===h8){return aU(e,ib)}}}};hk.behavior.drag=function(){var ib=he(ia,"drag","dragstart","dragend"),e=null,h8=h9(aD,hk.mouse,fu,"mousemove","mouseup"),ic=h9(hi,hk.touch,gh,"touchmove","touchend");function ia(){this.on("mousedown.drag",h8).on("touchstart.drag",ic)}function h9(ij,ie,ii,ih,ig){return function(){var iq=this,ir=hk.event.target.correspondingElement||hk.event.target,ix=iq.parentNode,it=ib.of(iq,arguments),iv=0,ik=ij(),id=".drag"+(ik==null?"":"-"+ik),io,il=hk.select(ii(ir)).on(ih+id,iu).on(ig+id,iw),ip=bH(ir),im=ie(ix,ik);if(e){io=e.apply(iq,arguments);io=[io.x-im[0],io.y-im[1]]}else{io=[0,0]}it({type:"dragstart"});function iu(){var iz=ie(ix,ik),iA,iy;if(!iz){return}iA=iz[0]-im[0];iy=iz[1]-im[1];iv|=iA|iy;im=iz;it({type:"drag",x:iz[0]+io[0],y:iz[1]+io[1],dx:iA,dy:iy})}function iw(){if(!ie(ix,ik)){return}il.on(ih+id,null).on(ig+id,null);ip(iv);it({type:"dragend"})}}}ia.origin=function(id){if(!arguments.length){return e}e=id;return ia};return hk.rebind(ia,ib,"on")};function hi(){return hk.event.changedTouches[0].identifier}hk.touches=function(e,h8){if(arguments.length<2){h8=aa().touches}return h8?dL(h8).map(function(ia){var h9=aU(e,ia);h9.identifier=ia.identifier;return h9}):[]};var gj=0.000001,eA=gj*gj,ga=Math.PI,f4=2*ga,gB=f4-gj,em=ga/2,F=ga/180,hB=180/ga;function b6(e){return e>0?1:e<0?-1:0}function eW(h8,e,h9){return(e[0]-h8[0])*(h9[1]-h8[1])-(e[1]-h8[1])*(h9[0]-h8[0])}function Z(e){return e>1?0:e<-1?ga:Math.acos(e)}function cc(e){return e>1?em:e<-1?-em:Math.asin(e)}function dT(e){return((e=Math.exp(e))-1/e)/2}function bB(e){return((e=Math.exp(e))+1/e)/2}function fo(e){return((e=Math.exp(2*e))-1)/(e+1)}function aA(e){return(e=Math.sin(e/2))*e}var f7=Math.SQRT2,W=2,U=4;hk.interpolateZoom=function(h8,e){var ii=h8[0],io=h8[1],ig=h8[2],ih=e[0],im=e[1],id=e[2],ie=ih-ii,ic=im-io,ip=ie*ie+ic*ic,ik,h9;if(ip<eA){h9=Math.log(id/ig)/f7;ik=function(ir){return[ii+ir*ie,io+ir*ic,ig*Math.exp(f7*ir*h9)]}}else{var iq=Math.sqrt(ip),ib=(id*id-ig*ig+U*ip)/(2*ig*W*iq),ia=(id*id-ig*ig-U*ip)/(2*id*W*iq),il=Math.log(Math.sqrt(ib*ib+1)-ib),ij=Math.log(Math.sqrt(ia*ia+1)-ia);h9=(ij-il)/f7;ik=function(it){var iu=it*h9,iv=bB(il),ir=ig/(W*iq)*(iv*fo(f7*iu+il)-dT(il));return[ii+ir*ie,io+ir*ic,ig*iv/bB(f7*iu+il)]}}ik.duration=h9*1000;return ik};hk.behavior.zoom=function(){var il={x:0,y:0,k:1},iD,ii,iF,ir=[960,500],ia=fR,e=250,iC=0,iw="mousedown.zoom",iE="mousemove.zoom",ix="mouseup.zoom",it,iA="touchstart.zoom",ih,iy=he(h9,"zoomstart","zoom","zoomend"),iB,iz,ie,ic;if(!g1){g1="onwheel" in bK?(cu=function(){return -hk.event.deltaY*(hk.event.deltaMode?120:1)},"wheel"):"onmousewheel" in bK?(cu=function(){return hk.event.wheelDelta},"mousewheel"):(cu=function(){return -hk.event.detail},"MozMousePixelScroll")}function h9(iH){iH.on(iw,ib).on(g1+".zoom",im).on("dblclick.zoom",ij).on(iA,id)}h9.event=function(iH){iH.each(function(){var iJ=iy.of(this,arguments),iI=il;if(an){hk.select(this).transition().each("start.zoom",function(){il=this.__chart__||{x:0,y:0,k:1};iu(iJ)}).tween("zoom:zoom",function(){var iM=ir[0],iL=ir[1],iK=ii?ii[0]:iM/2,iO=ii?ii[1]:iL/2,iN=hk.interpolateZoom([(iK-il.x)/il.k,(iO-il.y)/il.k,iM/il.k],[(iK-iI.x)/iI.k,(iO-iI.y)/iI.k,iM/iI.k]);return function(iR){var iP=iN(iR),iQ=iM/iP[2];this.__chart__=il={x:iK-iP[0]*iQ,y:iO-iP[1]*iQ,k:iQ};iq(iJ)}}).each("interrupt.zoom",function(){ip(iJ)}).each("end.zoom",function(){ip(iJ)})}else{this.__chart__=il;iu(iJ);iq(iJ);ip(iJ)}})};h9.translate=function(iH){if(!arguments.length){return[il.x,il.y]}il={x:+iH[0],y:+iH[1],k:il.k};ik();return h9};h9.scale=function(iH){if(!arguments.length){return il.k}il={x:il.x,y:il.y,k:null};ig(+iH);ik();return h9};h9.scaleExtent=function(iH){if(!arguments.length){return ia}ia=iH==null?fR:[+iH[0],+iH[1]];return h9};h9.center=function(iH){if(!arguments.length){return iF}iF=iH&&[+iH[0],+iH[1]];return h9};h9.size=function(iH){if(!arguments.length){return ir}ir=iH&&[+iH[0],+iH[1]];return h9};h9.duration=function(iH){if(!arguments.length){return e}e=+iH;return h9};h9.x=function(iH){if(!arguments.length){return iz}iz=iH;iB=iH.copy();il={x:0,y:0,k:1};return h9};h9.y=function(iH){if(!arguments.length){return ic}ic=iH;ie=iH.copy();il={x:0,y:0,k:1};return h9};function h8(iH){return[(iH[0]-il.x)/il.k,(iH[1]-il.y)/il.k]}function iv(iH){return[iH[0]*il.k+il.x,iH[1]*il.k+il.y]}function ig(iH){il.k=Math.max(ia[0],Math.min(ia[1],iH))}function iG(iI,iH){iH=iv(iH);il.x+=iI[0]-iH[0];il.y+=iI[1]-iH[1]}function io(iJ,iK,iH,iI){iJ.__chart__={x:il.x,y:il.y,k:il.k};ig(Math.pow(2,iI));iG(ii=iK,iH);iJ=hk.select(iJ);if(e>0){iJ=iJ.transition().duration(e)}iJ.call(h9.event)}function ik(){if(iz){iz.domain(iB.range().map(function(iH){return(iH-il.x)/il.k}).map(iB.invert))}if(ic){ic.domain(ie.range().map(function(iH){return(iH-il.y)/il.k}).map(ie.invert))}}function iu(iH){if(!iC++){iH({type:"zoomstart"})}}function iq(iH){ik();iH({type:"zoom",scale:il.k,translate:[il.x,il.y]})}function ip(iH){if(!--iC){iH({type:"zoomend"}),ii=null}}function ib(){var iN=this,iJ=iy.of(iN,arguments),iH=0,iK=hk.select(fu(iN)).on(iE,iL).on(ix,iO),iI=h8(hk.mouse(iN)),iM=bH(iN);cR.call(iN);iu(iJ);function iL(){iH=1;iG(hk.mouse(iN),iI);iq(iJ)}function iO(){iK.on(iE,null).on(ix,null);iM(iH);ip(iJ)}}function id(){var iN=this,iP=iy.of(iN,arguments),iL={},iR=0,iO,iI=".zoom-"+hk.event.changedTouches[0].identifier,iJ="touchmove"+iI,iV="touchend"+iI,iM=[],iS=hk.select(iN),iK=bH(iN);iQ();iu(iP);iS.on(iw,null).on(iA,iQ);function iH(){var iW=hk.touches(iN);iO=il.k;iW.forEach(function(iX){if(iX.identifier in iL){iL[iX.identifier]=h8(iX)}});return iW}function iQ(){var i3=hk.event.target;hk.select(i3).on(iJ,iT).on(iV,iU);iM.push(i3);var i0=hk.event.changedTouches;for(var i1=0,iZ=i0.length;i1<iZ;++i1){iL[i0[i1].identifier]=null}var i2=iH(),iY=Date.now();if(i2.length===1){if(iY-ih<500){var iX=i2[0];io(iN,iX,iL[iX.identifier],Math.floor(Math.log(il.k)/Math.LN2)+1);s()}ih=iY}else{if(i2.length>1){var iX=i2[0],iW=i2[1],i5=iX[0]-iW[0],i4=iX[1]-iW[1];iR=i5*i5+i4*i4}}}function iT(){var i0=hk.touches(iN),i4,iY,i3,iX;cR.call(iN);for(var iZ=0,iW=i0.length;iZ<iW;++iZ,iX=null){i3=i0[iZ];if(iX=iL[i3.identifier]){if(iY){break}i4=i3,iY=iX}}if(iX){var i2=(i2=i3[0]-i4[0])*i2+(i2=i3[1]-i4[1])*i2,i1=iR&&Math.sqrt(i2/iR);i4=[(i4[0]+i3[0])/2,(i4[1]+i3[1])/2];iY=[(iY[0]+iX[0])/2,(iY[1]+iX[1])/2];ig(i1*iO)}ih=null;iG(i4,iY);iq(iP)}function iU(){if(hk.event.touches.length){var iY=hk.event.changedTouches;for(var iX=0,iZ=iY.length;iX<iZ;++iX){delete iL[iY[iX].identifier]}for(var iW in iL){return void iH()}}hk.selectAll(iM).on(iI,null);iS.on(iw,ib).on(iA,id);iK();ip(iP)}}function im(){var iH=iy.of(this,arguments);if(it){clearTimeout(it)}else{cR.call(this),iD=h8(ii=iF||hk.mouse(this)),iu(iH)}it=setTimeout(function(){it=null;ip(iH)},50);s();ig(Math.pow(2,cu()*0.002)*il.k);iG(ii,iD);iq(iH)}function ij(){var iI=hk.mouse(this),iH=Math.log(il.k)/Math.LN2;io(this,iI,h8(iI),hk.event.shiftKey?Math.ceil(iH)-1:Math.floor(iH)+1)}return hk.rebind(h9,iy,"on")};var fR=[0,Infinity],cu,g1;hk.color=gR;function gR(){}gR.prototype.toString=function(){return this.rgb()+""};hk.hsl=eE;function eE(h9,h8,e){return this instanceof eE?void (this.h=+h9,this.s=+h8,this.l=+e):arguments.length<2?h9 instanceof eE?new eE(h9.h,h9.s,h9.l):aT(""+h9,gt,eE):new eE(h9,h8,e)}var eu=eE.prototype=new gR();eu.brighter=function(e){e=Math.pow(0.7,arguments.length?e:1);return new eE(this.h,this.s,this.l/e)};eu.darker=function(e){e=Math.pow(0.7,arguments.length?e:1);return new eE(this.h,this.s,e*this.l)};eu.rgb=function(){return bd(this.h,this.s,this.l)};function bd(ic,ib,e){var ia,h9;ic=isNaN(ic)?0:(ic%=360)<0?ic+360:ic;ib=isNaN(ib)?0:ib<0?0:ib>1?1:ib;e=e<0?0:e>1?1:e;h9=e<=0.5?e*(1+ib):e+ib-e*ib;ia=2*e-h9;function h8(ie){if(ie>360){ie-=360}else{if(ie<0){ie+=360}}if(ie<60){return ia+(h9-ia)*ie/60}if(ie<180){return h9}if(ie<240){return ia+(h9-ia)*(240-ie)/60}return ia}function id(ie){return Math.round(h8(ie)*255)}return new eo(id(ic+120),id(ic),id(ic-120))}hk.hcl=bz;function bz(h8,h9,e){return this instanceof bz?void (this.h=+h8,this.c=+h9,this.l=+e):arguments.length<2?h8 instanceof bz?new bz(h8.h,h8.c,h8.l):h8 instanceof ck?gD(h8.l,h8.a,h8.b):gD((h8=dX((h8=hk.rgb(h8)).r,h8.g,h8.b)).l,h8.a,h8.b):new bz(h8,h9,e)}var hc=bz.prototype=new gR();hc.brighter=function(e){return new bz(this.h,this.c,Math.min(100,this.l+bp*(arguments.length?e:1)))};hc.darker=function(e){return new bz(this.h,this.c,Math.max(0,this.l-bp*(arguments.length?e:1)))};hc.rgb=function(){return bA(this.h,this.c,this.l).rgb()};function bA(h8,h9,e){if(isNaN(h8)){h8=0}if(isNaN(h9)){h9=0}return new ck(e,Math.cos(h8*=F)*h9,Math.sin(h8)*h9)}hk.lab=ck;function ck(h9,h8,e){return this instanceof ck?void (this.l=+h9,this.a=+h8,this.b=+e):arguments.length<2?h9 instanceof ck?new ck(h9.l,h9.a,h9.b):h9 instanceof bz?bA(h9.h,h9.c,h9.l):dX((h9=eo(h9)).r,h9.g,h9.b):new ck(h9,h8,e)}var bp=18;var be=0.95047,bc=1,a9=1.08883;var gu=ck.prototype=new gR();gu.brighter=function(e){return new ck(Math.min(100,this.l+bp*(arguments.length?e:1)),this.a,this.b)};gu.darker=function(e){return new ck(Math.max(0,this.l-bp*(arguments.length?e:1)),this.a,this.b)};gu.rgb=function(){return ay(this.l,this.a,this.b)};function ay(ia,h9,h8){var ic=(ia+16)/116,e=ic+h9/500,ib=ic-h8/200;e=gX(e)*be;ic=gX(ic)*bc;ib=gX(ib)*a9;return new eo(c(3.2404542*e-1.5371385*ic-0.4985314*ib),c(-0.969266*e+1.8760108*ic+0.041556*ib),c(0.0556434*e-0.2040259*ic+1.0572252*ib))}function gD(h9,h8,e){return h9>0?new bz(Math.atan2(e,h8)*hB,Math.sqrt(h8*h8+e*e),h9):new bz(NaN,NaN,h9)}function gX(e){return e>0.206893034?e*e*e:(e-4/29)/7.787037}function gm(e){return e>0.008856?Math.pow(e,1/3):7.787037*e+4/29}function c(e){return Math.round(255*(e<=0.00304?12.92*e:1.055*Math.pow(e,1/2.4)-0.055))}hk.rgb=eo;function eo(h9,h8,e){return this instanceof eo?void (this.r=~~h9,this.g=~~h8,this.b=~~e):arguments.length<2?h9 instanceof eo?new eo(h9.r,h9.g,h9.b):aT(""+h9,eo,bd):new eo(h9,h8,e)}function db(e){return new eo(e>>16,e>>8&255,e&255)}function dt(e){return db(e)+""}var eF=eo.prototype=new gR();eF.brighter=function(h8){h8=Math.pow(0.7,arguments.length?h8:1);var ib=this.r,ia=this.g,e=this.b,h9=30;if(!ib&&!ia&&!e){return new eo(h9,h9,h9)}if(ib&&ib<h9){ib=h9}if(ia&&ia<h9){ia=h9}if(e&&e<h9){e=h9}return new eo(Math.min(255,ib/h8),Math.min(255,ia/h8),Math.min(255,e/h8))};eF.darker=function(e){e=Math.pow(0.7,arguments.length?e:1);return new eo(e*this.r,e*this.g,e*this.b)};eF.hsl=function(){return gt(this.r,this.g,this.b)};eF.toString=function(){return"#"+cs(this.r)+cs(this.g)+cs(this.b)};function cs(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function aT(ic,ia,id){var e=0,h9=0,ib=0,ig,ie,h8;ig=/([a-z]+)\((.*)\)/.exec(ic=ic.toLowerCase());if(ig){ie=ig[2].split(",");switch(ig[1]){case"hsl":return id(parseFloat(ie[0]),parseFloat(ie[1])/100,parseFloat(ie[2])/100);case"rgb":return ia(eT(ie[0]),eT(ie[1]),eT(ie[2]))}}if(h8=ai.get(ic)){return ia(h8.r,h8.g,h8.b)}if(ic!=null&&ic.charAt(0)==="#"&&!isNaN(h8=parseInt(ic.slice(1),16))){if(ic.length===4){e=(h8&3840)>>4;e=e>>4|e;h9=h8&240;h9=h9>>4|h9;ib=h8&15;ib=ib<<4|ib}else{if(ic.length===7){e=(h8&16711680)>>16;h9=(h8&65280)>>8;ib=h8&255}}}return ia(e,h9,ib)}function gt(e,ib,id){var h9=Math.min(e/=255,ib/=255,id/=255),ie=Math.max(e,ib,id),ic=ie-h9,ia,ig,h8=(ie+h9)/2;if(ic){ig=h8<0.5?ic/(ie+h9):ic/(2-ie-h9);if(e==ie){ia=(ib-id)/ic+(ib<id?6:0)}else{if(ib==ie){ia=(id-e)/ic+2}else{ia=(e-ib)/ic+4}}ia*=60}else{ia=NaN;ig=h8>0&&h8<1?0:ia}return new eE(ia,ig,h8)}function dX(ia,h9,h8){ia=dA(ia);h9=dA(h9);h8=dA(h8);var e=gm((0.4124564*ia+0.3575761*h9+0.1804375*h8)/be),ic=gm((0.2126729*ia+0.7151522*h9+0.072175*h8)/bc),ib=gm((0.0193339*ia+0.119192*h9+0.9503041*h8)/a9);return ck(116*ic-16,500*(e-ic),200*(ic-ib))}function dA(e){return(e/=255)<=0.04045?e/12.92:Math.pow((e+0.055)/1.055,2.4)}function eT(h8){var e=parseFloat(h8);return h8.charAt(h8.length-1)==="%"?Math.round(e*2.55):e}var ai=hk.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});ai.forEach(function(e,h8){ai.set(e,db(h8))});function N(e){return typeof e==="function"?e:function(){return e}}hk.functor=N;hk.xhr=T(gh);function T(e){return function(h8,h9,ia){if(arguments.length===2&&typeof h9==="function"){ia=h9,h9=null}return hV(h8,h9,e,ia)}}function hV(e,h9,ib,ig){var ih={},ie=hk.dispatch("beforesend","progress","load","error"),ia={},ic=new XMLHttpRequest(),id=null;if(this.XDomainRequest&&!("withCredentials" in ic)&&/^(http(s)?:)?\/\//.test(e)){ic=new XDomainRequest()}"onload" in ic?ic.onload=ic.onerror=h8:ic.onreadystatechange=function(){ic.readyState>3&&h8()};function h8(){var ij=ic.status,ii;if(!ij&&fE(ic)||ij>=200&&ij<300||ij===304){try{ii=ib.call(ih,ic)}catch(ik){ie.error.call(ih,ik);return}ie.load.call(ih,ii)}else{ie.error.call(ih,ic)}}ic.onprogress=function(ii){var ij=hk.event;hk.event=ii;try{ie.progress.call(ih,ic)}finally{hk.event=ij}};ih.header=function(ii,ij){ii=(ii+"").toLowerCase();if(arguments.length<2){return ia[ii]}if(ij==null){delete ia[ii]}else{ia[ii]=ij+""}return ih};ih.mimeType=function(ii){if(!arguments.length){return h9}h9=ii==null?null:ii+"";return ih};ih.responseType=function(ii){if(!arguments.length){return id}id=ii;return ih};ih.response=function(ii){ib=ii;return ih};["get","post"].forEach(function(ii){ih[ii]=function(){return ih.send.apply(ih,[ii].concat(dL(arguments)))}});ih.send=function(il,ij,ik){if(arguments.length===2&&typeof ij==="function"){ik=ij,ij=null}ic.open(il,e,true);if(h9!=null&&!("accept" in ia)){ia.accept=h9+",*/*"}if(ic.setRequestHeader){for(var ii in ia){ic.setRequestHeader(ii,ia[ii])}}if(h9!=null&&ic.overrideMimeType){ic.overrideMimeType(h9)}if(id!=null){ic.responseType=id}if(ik!=null){ih.on("error",ik).on("load",function(im){ik(null,im)})}ie.beforesend.call(ih,ic);ic.send(ij==null?null:ij);return ih};ih.abort=function(){ic.abort();return ih};hk.rebind(ih,ie,"on");return ig==null?ih:ih.get(d2(ig))}function d2(e){return e.length===1?function(h8,h9){e(h8==null?h9:null)}:e}function fE(h8){var e=h8.responseType;return e&&e!=="text"?h8.response:h8.responseText}hk.dsv=function(e,h8){var ia=new RegExp('["'+e+"\n]"),ic=e.charCodeAt(0);function ie(ih,ij,ik){if(arguments.length<3){ik=ij,ij=null}var ii=hV(ih,h8,ij==null?ib:h9(ij),ik);ii.row=function(il){return arguments.length?ii.response((ij=il)==null?ib:h9(il)):ij};return ii}function ib(ih){return ie.parse(ih.responseText)}function h9(ih){return function(ii){return ie.parse(ii.responseText,ih)}}ie.parse=function(ij,ih){var ii;return ie.parseRows(ij,function(im,il){if(ii){return ii(im,il-1)}var ik=new Function("d","return {"+im.map(function(io,ip){return JSON.stringify(io)+": d["+ip+"]"}).join(",")+"}");ii=ih?function(ip,io){return ih(ik(ip),io)}:ik})};ie.parseRows=function(ir,il){var ii={},ik={},iu=[],im=ir.length,iq=0,ih=0,it,io;function ij(){if(iq>=im){return ik}if(io){return io=false,ii}var iw=iq;if(ir.charCodeAt(iw)===34){var ix=iw;while(ix++<im){if(ir.charCodeAt(ix)===34){if(ir.charCodeAt(ix+1)!==34){break}++ix}}iq=ix+2;var iy=ir.charCodeAt(ix+1);if(iy===13){io=true;if(ir.charCodeAt(ix+2)===10){++iq}}else{if(iy===10){io=true}}return ir.slice(iw+1,ix).replace(/""/g,'"')}while(iq<im){var iy=ir.charCodeAt(iq++),iv=1;if(iy===10){io=true}else{if(iy===13){io=true;if(ir.charCodeAt(iq)===10){++iq,++iv}}else{if(iy!==ic){continue}}}return ir.slice(iw,iq-iv)}return ir.slice(iw)}while((it=ij())!==ik){var ip=[];while(it!==ii&&it!==ik){ip.push(it);it=ij()}if(il&&(ip=il(ip,ih++))==null){continue}iu.push(ip)}return iu};ie.format=function(ij){if(Array.isArray(ij[0])){return ie.formatRows(ij)}var ii=new dn(),ih=[];ij.forEach(function(il){for(var ik in il){if(!ii.has(ik)){ih.push(ii.add(ik))}}});return[ih.map(id).join(e)].concat(ij.map(function(ik){return ih.map(function(il){return id(ik[il])}).join(e)})).join("\n")};ie.formatRows=function(ih){return ih.map(ig).join("\n")};function ig(ih){return ih.map(id).join(e)}function id(ih){return ia.test(ih)?'"'+ih.replace(/\"/g,'""')+'"':ih}return ie};hk.csv=hk.dsv(",","text/csv");hk.tsv=hk.dsv("\t","text/tab-separated-values");var dY,ab,cn,fb,hq=this[dd(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};hk.timer=function(){gZ.apply(this,arguments)};function gZ(ic,e,h9){var ib=arguments.length;if(ib<2){e=0}if(ib<3){h9=Date.now()}var h8=h9+e,ia={c:ic,t:h8,n:null};if(ab){ab.n=ia}else{dY=ia}ab=ia;if(!cn){fb=clearTimeout(fb);cn=1;hq(hr)}return ia}function hr(){var h8=bC(),e=Y()-h8;if(e>24){if(isFinite(e)){clearTimeout(fb);fb=setTimeout(hr,e)}cn=0}else{cn=1;hq(hr)}}hk.timer.flush=function(){bC();Y()};function bC(){var e=Date.now(),h8=dY;while(h8){if(e>=h8.t&&h8.c(e-h8.t)){h8.c=null}h8=h8.n}return e}function Y(){var h8,e=dY,h9=Infinity;while(e){if(e.c){if(e.t<h9){h9=e.t}e=(h8=e).n}else{e=h8?h8.n=e.n:dY=e.n}}ab=h8;return h9}function ec(e,h8){return h8-(e?Math.ceil(Math.log(e)/Math.LN10):1)}hk.round=function(e,h8){return h8?Math.round(e*(h8=Math.pow(10,h8)))/h8:Math.round(e)};var cr=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(dK);hk.formatPrefix=function(h9,e){var h8=0;if(h9=+h9){if(h9<0){h9*=-1}if(e){h9=hk.round(h9,ec(h9,e))}h8=1+Math.floor(1e-12+Math.log(h9)/Math.LN10);h8=Math.max(-24,Math.min(24,Math.floor((h8-1)/3)*3))}return cr[8+h8/3]};function dK(h9,h8){var e=Math.pow(10,cD(8-h8)*3);return{scale:h8>8?function(ia){return ia/e}:function(ia){return ia*e},symbol:h9}}function bl(e){var ia=e.decimal,ic=e.thousands,ib=e.grouping,h9=e.currency,h8=ib&&ic?function(ik,ih){var ig=ik.length,ie=[],id=0,ij=ib[0],ii=0;while(ig>0&&ij>0){if(ii+ij+1>ih){ij=Math.max(1,ih-ii)}ie.push(ik.substring(ig-=ij,ig+ij));if((ii+=ij+1)>ih){break}ij=ib[id=(id+1)%ib.length]}return ie.reverse().join(ic)}:gh;return function(it){var im=cw.exec(it),iv=im[1]||" ",ip=im[2]||">",ie=im[3]||"-",ih=im[4]||"",ii=im[5],id=+im[6],iw=im[7],il=im[8],iq=im[9],ig=1,io="",iu="",ik=false,ir=true;if(il){il=+il.substring(1)}if(ii||iv==="0"&&ip==="="){ii=iv="0";ip="="}switch(iq){case"n":iw=true;iq="g";break;case"%":ig=100;iu="%";iq="f";break;case"p":ig=100;iu="%";iq="r";break;case"b":case"o":case"x":case"X":if(ih==="#"){io="0"+iq.toLowerCase()}case"c":ir=false;case"d":ik=true;il=0;break;case"s":ig=-1;iq="r";break}if(ih==="$"){io=h9[0],iu=h9[1]}if(iq=="r"&&!il){iq="g"}if(il!=null){if(iq=="g"){il=Math.max(1,Math.min(21,il))}else{if(iq=="e"||iq=="f"){il=Math.max(0,Math.min(20,il))}}}iq=t.get(iq)||bk;var ij=ii&&iw;return function(iF){var iD=iu;if(ik&&iF%1){return""}var iz=iF<0||iF===0&&1/iF<0?(iF=-iF,"-"):ie==="-"?"":ie;if(ig<0){var iG=hk.formatPrefix(iF,il);iF=iG.scale(iF);iD=iG.symbol+iu}else{iF*=ig}iF=iq(iF,il);var iB=iF.lastIndexOf("."),iE,ix;if(iB<0){var iA=ir?iF.lastIndexOf("e"):-1;if(iA<0){iE=iF,ix=""}else{iE=iF.substring(0,iA),ix=iF.substring(iA)}}else{iE=iF.substring(0,iB);ix=ia+iF.substring(iB+1)}if(!ii&&iw){iE=h8(iE,Infinity)}var iy=io.length+iE.length+ix.length+(ij?0:iz.length),iC=iy<id?new Array(iy=id-iy+1).join(iv):"";if(ij){iE=h8(iC+iE,iC.length?id-ix.length:Infinity)}iz+=io;iF=iE+ix;return(ip==="<"?iz+iF+iC:ip===">"?iC+iz+iF:ip==="^"?iC.substring(0,iy>>=1)+iz+iF+iC.substring(iy):iz+(ij?iF:iC+iF))+iD}}}var cw=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i;var t=hk.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,h8){return e.toPrecision(h8)},e:function(e,h8){return e.toExponential(h8)},f:function(e,h8){return e.toFixed(h8)},r:function(e,h8){return(e=hk.round(e,ec(e,h8))).toFixed(Math.max(0,Math.min(20,ec(e*(1+1e-15),h8))))}});function bk(e){return e+""}var fC=hk.time={},ho=Date;function ci(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}ci.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){fX.setUTCDate.apply(this._,arguments)},setDay:function(){fX.setUTCDay.apply(this._,arguments)},setFullYear:function(){fX.setUTCFullYear.apply(this._,arguments)},setHours:function(){fX.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){fX.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){fX.setUTCMinutes.apply(this._,arguments)},setMonth:function(){fX.setUTCMonth.apply(this._,arguments)},setSeconds:function(){fX.setUTCSeconds.apply(this._,arguments)},setTime:function(){fX.setTime.apply(this._,arguments)}};var fX=Date.prototype;function cX(ic,e,h8){function ig(ih){var ij=ic(ih),ii=ia(ij,1);return ih-ij<ii-ih?ij:ii}function ie(ih){e(ih=ic(new ho(ih-1)),1);return ih}function ia(ii,ih){e(ii=new ho(+ii),ih);return ii}function ib(ij,ii,ih){var ik=ie(ij),il=[];if(ih>1){while(ik<ii){if(!(h8(ik)%ih)){il.push(new Date(+ik))}e(ik,1)}}else{while(ik<ii){il.push(new Date(+ik)),e(ik,1)}}return il}function h9(ik,ij,ii){try{ho=ci;var ih=new ci();ih._=ik;return ib(ih,ij,ii)}finally{ho=Date}}ic.floor=ic;ic.round=ig;ic.ceil=ie;ic.offset=ia;ic.range=ib;var id=ic.utc=dP(ic);id.floor=id;id.round=dP(ig);id.ceil=dP(ie);id.offset=dP(ia);id.range=h9;return ic}function dP(e){return function(h9,h8){try{ho=ci;var ia=new ci();ia._=h9;return e(ia,h8)._}finally{ho=Date}}}fC.year=cX(function(e){e=fC.day(e);e.setMonth(0,1);return e},function(e,h8){e.setFullYear(e.getFullYear()+h8)},function(e){return e.getFullYear()});fC.years=fC.year.range;fC.years.utc=fC.year.utc.range;fC.day=cX(function(h8){var e=new ho(2000,0);e.setFullYear(h8.getFullYear(),h8.getMonth(),h8.getDate());return e},function(e,h8){e.setDate(e.getDate()+h8)},function(e){return e.getDate()-1});fC.days=fC.day.range;fC.days.utc=fC.day.utc.range;fC.dayOfYear=function(e){var h8=fC.year(e);return Math.floor((e-h8-(e.getTimezoneOffset()-h8.getTimezoneOffset())*60000)/86400000)};["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(h8,h9){h9=7-h9;var e=fC[h8]=cX(function(ia){(ia=fC.day(ia)).setDate(ia.getDate()-(ia.getDay()+h9)%7);return ia},function(ia,ib){ia.setDate(ia.getDate()+Math.floor(ib)*7)},function(ib){var ia=fC.year(ib).getDay();return Math.floor((fC.dayOfYear(ib)+(ia+h9)%7)/7)-(ia!==h9)});fC[h8+"s"]=e.range;fC[h8+"s"].utc=e.utc.range;fC[h8+"OfYear"]=function(ib){var ia=fC.year(ib).getDay();return Math.floor((fC.dayOfYear(ib)+(ia+h9)%7)/7)}});fC.week=fC.sunday;fC.weeks=fC.sunday.range;fC.weeks.utc=fC.sunday.utc.range;fC.weekOfYear=fC.sundayOfYear;function am(ir){var ix=ir.dateTime,il=ir.date,h8=ir.time,ig=ir.periods,e=ir.days,ih=ir.shortDays,ik=ir.months,ib=ir.shortMonths;function iw(iE){var iG=iE.length;function iF(iJ){var iI=[],iK=-1,iH=0,iN,iM,iL;while(++iK<iG){if(iE.charCodeAt(iK)===37){iI.push(iE.slice(iH,iK));if((iM=aK[iN=iE.charAt(++iK)])!=null){iN=iE.charAt(++iK)}if(iL=iu[iN]){iN=iL(iJ,iM==null?iN==="e"?" ":"0":iM)}iI.push(iN);iH=iK+1}}iI.push(iE.slice(iH,iK));return iI.join("")}iF.parse=function(iJ){var iL={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},iK=ip(iL,iE,iJ,0);if(iK!=iJ.length){return null}if("p" in iL){iL.H=iL.H%12+iL.p*12}var iH=iL.Z!=null&&ho!==ci,iI=new (iH?ci:ho)();if("j" in iL){iI.setFullYear(iL.y,0,iL.j)}else{if("W" in iL||"U" in iL){if(!("w" in iL)){iL.w="W" in iL?1:0}iI.setFullYear(iL.y,0,1);iI.setFullYear(iL.y,0,"W" in iL?(iL.w+6)%7+iL.W*7-(iI.getDay()+5)%7:iL.w+iL.U*7-(iI.getDay()+6)%7)}else{iI.setFullYear(iL.y,iL.m,iL.d)}}iI.setHours(iL.H+(iL.Z/100|0),iL.M+iL.Z%100,iL.S,iL.L);return iH?iI._:iI};iF.toString=function(){return iE};return iF}function ip(iH,iM,iK,iI){var iL,iE,iN,iJ=0,iF=iM.length,iG=iK.length;while(iJ<iF){if(iI>=iG){return -1}iL=iM.charCodeAt(iJ++);if(iL===37){iN=iM.charAt(iJ++);iE=it[iN in aK?iM.charAt(iJ++):iN];if(!iE||(iI=iE(iH,iK,iI))<0){return -1}}else{if(iL!=iK.charCodeAt(iI++)){return -1}}}return iI}iw.utc=function(iF){var iE=iw(iF);function iG(iH){try{ho=ci;var iI=new ho();iI._=iH;return iE(iI)}finally{ho=Date}}iG.parse=function(iI){try{ho=ci;var iH=iE.parse(iI);return iH&&iH._}finally{ho=Date}};iG.toString=iE.toString;return iG};iw.multi=iw.utc.multi=gl;var im=hk.map(),iA=cH(e),iB=gQ(e),iz=cH(ih),ic=gQ(ih),iC=cH(ik),iD=gQ(ik),ii=cH(ib),ia=gQ(ib);ig.forEach(function(iF,iE){im.set(iF.toLowerCase(),iE)});var iu={a:function(iE){return ih[iE.getDay()]},A:function(iE){return e[iE.getDay()]},b:function(iE){return ib[iE.getMonth()]},B:function(iE){return ik[iE.getMonth()]},c:iw(ix),d:function(iF,iE){return dv(iF.getDate(),iE,2)},e:function(iF,iE){return dv(iF.getDate(),iE,2)},H:function(iF,iE){return dv(iF.getHours(),iE,2)},I:function(iF,iE){return dv(iF.getHours()%12||12,iE,2)},j:function(iF,iE){return dv(1+fC.dayOfYear(iF),iE,3)},L:function(iF,iE){return dv(iF.getMilliseconds(),iE,3)},m:function(iF,iE){return dv(iF.getMonth()+1,iE,2)},M:function(iF,iE){return dv(iF.getMinutes(),iE,2)},p:function(iE){return ig[+(iE.getHours()>=12)]},S:function(iF,iE){return dv(iF.getSeconds(),iE,2)},U:function(iF,iE){return dv(fC.sundayOfYear(iF),iE,2)},w:function(iE){return iE.getDay()},W:function(iF,iE){return dv(fC.mondayOfYear(iF),iE,2)},x:iw(il),X:iw(h8),y:function(iF,iE){return dv(iF.getFullYear()%100,iE,2)},Y:function(iF,iE){return dv(iF.getFullYear()%10000,iE,4)},Z:fS,"%":function(){return"%"}};var it={a:ij,A:h9,b:iy,B:iq,c:ie,d:b0,e:b0,H:aM,I:aM,j:B,L:gT,m:gF,M:cS,p:io,S:dU,U:bq,w:dR,W:dE,x:iv,X:id,y:K,Y:bx,Z:a1,"%":fp};function ij(iF,iE,iG){iz.lastIndex=0;var iH=iz.exec(iE.slice(iG));return iH?(iF.w=ic.get(iH[0].toLowerCase()),iG+iH[0].length):-1}function h9(iF,iE,iG){iA.lastIndex=0;var iH=iA.exec(iE.slice(iG));return iH?(iF.w=iB.get(iH[0].toLowerCase()),iG+iH[0].length):-1}function iy(iF,iE,iG){ii.lastIndex=0;var iH=ii.exec(iE.slice(iG));return iH?(iF.m=ia.get(iH[0].toLowerCase()),iG+iH[0].length):-1}function iq(iF,iE,iG){iC.lastIndex=0;var iH=iC.exec(iE.slice(iG));return iH?(iF.m=iD.get(iH[0].toLowerCase()),iG+iH[0].length):-1}function ie(iF,iE,iG){return ip(iF,iu.c.toString(),iE,iG)}function iv(iF,iE,iG){return ip(iF,iu.x.toString(),iE,iG)}function id(iF,iE,iG){return ip(iF,iu.X.toString(),iE,iG)}function io(iF,iE,iG){var iH=im.get(iE.slice(iG,iG+=2).toLowerCase());return iH==null?-1:(iF.p=iH,iG)}return iw}var aK={"-":"",_:" ","0":"0"},f2=/^\s*\d+/,e4=/^%/;function dv(ib,ic,h9){var e=ib<0?"-":"",h8=(e?-ib:ib)+"",ia=h8.length;return e+(ia<h9?new Array(h9-ia+1).join(ic)+h8:h8)}function cH(e){return new RegExp("^(?:"+e.map(hk.requote).join("|")+")","i")}function gQ(h9){var h8=new aE(),e=-1,ia=h9.length;while(++e<ia){h8.set(h9[e].toLowerCase(),e)}return h8}function dR(h8,e,h9){f2.lastIndex=0;var ia=f2.exec(e.slice(h9,h9+1));return ia?(h8.w=+ia[0],h9+ia[0].length):-1}function bq(h8,e,h9){f2.lastIndex=0;var ia=f2.exec(e.slice(h9));return ia?(h8.U=+ia[0],h9+ia[0].length):-1}function dE(h8,e,h9){f2.lastIndex=0;var ia=f2.exec(e.slice(h9));return ia?(h8.W=+ia[0],h9+ia[0].length):-1}function bx(h8,e,h9){f2.lastIndex=0;var ia=f2.exec(e.slice(h9,h9+4));return ia?(h8.y=+ia[0],h9+ia[0].length):-1}function K(h8,e,h9){f2.lastIndex=0;var ia=f2.exec(e.slice(h9,h9+2));return ia?(h8.y=cZ(+ia[0]),h9+ia[0].length):-1}function a1(h8,e,h9){return/^[+-]\d{4}$/.test(e=e.slice(h9,h9+5))?(h8.Z=-e,h9+5):-1}function cZ(e){return e+(e>68?1900:2000)}function gF(h8,e,h9){f2.lastIndex=0;var ia=f2.exec(e.slice(h9,h9+2));return ia?(h8.m=ia[0]-1,h9+ia[0].length):-1}function b0(h8,e,h9){f2.lastIndex=0;var ia=f2.exec(e.slice(h9,h9+2));return ia?(h8.d=+ia[0],h9+ia[0].length):-1}function B(h8,e,h9){f2.lastIndex=0;var ia=f2.exec(e.slice(h9,h9+3));return ia?(h8.j=+ia[0],h9+ia[0].length):-1}function aM(h8,e,h9){f2.lastIndex=0;var ia=f2.exec(e.slice(h9,h9+2));return ia?(h8.H=+ia[0],h9+ia[0].length):-1}function cS(h8,e,h9){f2.lastIndex=0;var ia=f2.exec(e.slice(h9,h9+2));return ia?(h8.M=+ia[0],h9+ia[0].length):-1}function dU(h8,e,h9){f2.lastIndex=0;var ia=f2.exec(e.slice(h9,h9+2));return ia?(h8.S=+ia[0],h9+ia[0].length):-1}function gT(h8,e,h9){f2.lastIndex=0;var ia=f2.exec(e.slice(h9,h9+3));return ia?(h8.L=+ia[0],h9+ia[0].length):-1}function fS(ib){var ia=ib.getTimezoneOffset(),h9=ia>0?"-":"+",h8=cD(ia)/60|0,e=cD(ia)%60;return h9+dv(h8,"0",2)+dv(e,"0",2)}function fp(h8,e,h9){e4.lastIndex=0;var ia=e4.exec(e.slice(h9,h9+1));return ia?h9+ia[0].length:-1}function gl(e){var h9=e.length,h8=-1;while(++h8<h9){e[h8][0]=this(e[h8][0])}return function(ia){var ib=0,ic=e[ib];while(!ic[1](ia)){ic=e[++ib]}return ic[0](ia)}}hk.locale=function(e){return{numberFormat:bl(e),timeFormat:am(e)}};var de=hk.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});hk.format=de.numberFormat;hk.geo={};function e8(){}e8.prototype={s:0,t:0,add:function(e){dl(e,this.t,hL);dl(hL.s,this.s,this);if(this.s){this.t+=hL.t}else{this.s=hL.t}},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var hL=new e8();function dl(ia,h9,ic){var h8=ic.s=ia+h9,e=h8-ia,ib=h8-e;ic.t=ia-ib+(h9-e)}hk.geo.stream=function(e,h8){if(e&&w.hasOwnProperty(e.type)){w[e.type](e,h8)}else{aL(e,h8)}};function aL(h8,e){if(h8&&eO.hasOwnProperty(h8.type)){eO[h8.type](h8,e)}}var w={Feature:function(e,h8){aL(e.geometry,h8)},FeatureCollection:function(e,ia){var h9=e.features,h8=-1,ib=h9.length;while(++h8<ib){aL(h9[h8].geometry,ia)}}};var eO={Sphere:function(e,h8){h8.sphere()},Point:function(e,h8){e=e.coordinates;h8.point(e[0],e[1],e[2])},MultiPoint:function(e,h9){var ia=e.coordinates,h8=-1,ib=ia.length;while(++h8<ib){e=ia[h8],h9.point(e[0],e[1],e[2])}},LineString:function(e,h8){cl(e.coordinates,h8,0)},MultiLineString:function(e,h9){var ia=e.coordinates,h8=-1,ib=ia.length;while(++h8<ib){cl(ia[h8],h9,0)}},Polygon:function(e,h8){hb(e.coordinates,h8)},MultiPolygon:function(e,h9){var ia=e.coordinates,h8=-1,ib=ia.length;while(++h8<ib){hb(ia[h8],h9)}},GeometryCollection:function(e,ia){var h9=e.geometries,h8=-1,ib=h9.length;while(++h8<ib){aL(h9[h8],ia)}}};function cl(ia,h9,e){var h8=-1,ic=ia.length-e,ib;h9.lineStart();while(++h8<ic){ib=ia[h8],h9.point(ib[0],ib[1],ib[2])}h9.lineEnd()}function hb(h9,h8){var e=-1,ia=h9.length;h8.polygonStart();while(++e<ia){cl(h9[e],h8,1)}h8.polygonEnd()}hk.geo.area=function(e){a6=0;hk.geo.stream(e,hh);return a6};var a6,fL=new e8();var hh={sphere:function(){a6+=4*ga},point:aD,lineStart:aD,lineEnd:aD,polygonStart:function(){fL.reset();hh.lineStart=b3},polygonEnd:function(){var e=2*fL;a6+=e<0?4*ga+e:e;hh.lineStart=hh.lineEnd=hh.point=aD}};function b3(){var h8,e,ia,h9,ib;hh.point=function(ie,id){hh.point=ic;ia=(h8=ie)*F,h9=Math.cos(id=(e=id)*F/2+ga/4),ib=Math.sin(id)};function ic(ig,io){ig*=F;io=io*F/2+ga/4;var ij=ig-ia,ii=ij>=0?1:-1,ik=ii*ij,id=Math.cos(io),ih=Math.sin(io),ie=ib*ih,im=h9*id+ie*Math.cos(ik),il=ie*ii*Math.sin(ik);fL.add(Math.atan2(il,im));ia=ig,h9=id,ib=ih}hh.lineEnd=function(){ic(h8,e)}}function aq(e){var h9=e[0],h8=e[1],ia=Math.cos(h8);return[ia*Math.cos(h9),ia*Math.sin(h9),Math.sin(h8)]}function au(h8,e){return h8[0]*e[0]+h8[1]*e[1]+h8[2]*e[2]}function cV(h8,e){return[h8[1]*e[2]-h8[2]*e[1],h8[2]*e[0]-h8[0]*e[2],h8[0]*e[1]-h8[1]*e[0]]}function cy(h8,e){h8[0]+=e[0];h8[1]+=e[1];h8[2]+=e[2]}function gb(e,h8){return[e[0]*h8,e[1]*h8,e[2]*h8]}function fg(h8){var e=Math.sqrt(h8[0]*h8[0]+h8[1]*h8[1]+h8[2]*h8[2]);h8[0]/=e;h8[1]/=e;h8[2]/=e}function h4(e){return[Math.atan2(e[1],e[0]),cc(e[2])]}function eP(h8,e){return cD(h8[0]-e[0])<gj&&cD(h8[1]-e[1])<gj}hk.geo.bounds=function(){var ia,it,h8,iq,ib,ij,il,ic,ig,id,ih;var e={point:im,lineStart:ii,lineEnd:ip,polygonStart:function(){e.point=io;e.lineStart=ie;e.lineEnd=ik;ig=0;hh.polygonStart()},polygonEnd:function(){hh.polygonEnd();e.point=im;e.lineStart=ii;e.lineEnd=ip;if(fL<0){ia=-(h8=180),it=-(iq=90)}else{if(ig>gj){iq=90}else{if(ig<-gj){it=-90}}}ih[0]=ia,ih[1]=h8}};function im(ix,iw){id.push(ih=[ia=ix,h8=ix]);if(iw<it){it=iw}if(iw>iq){iq=iw}}function h9(iA,iG){var iw=aq([iA*F,iG*F]);if(ic){var iC=cV(ic,iw),iD=[iC[1],-iC[0],0],iB=cV(iD,iC);fg(iB);iB=h4(iB);var iE=iA-ib,iF=iE>0?1:-1,ix=iB[0]*hB*iF,iz=cD(iE)>180;if(iz^(iF*ib<ix&&ix<iF*iA)){var iy=iB[1]*hB;if(iy>iq){iq=iy}}else{if(ix=(ix+360)%360-180,iz^(iF*ib<ix&&ix<iF*iA)){var iy=-iB[1]*hB;if(iy<it){it=iy}}else{if(iG<it){it=iG}if(iG>iq){iq=iG}}}if(iz){if(iA<ib){if(ir(ia,iA)>ir(ia,h8)){h8=iA}}else{if(ir(iA,h8)>ir(ia,h8)){ia=iA}}}else{if(h8>=ia){if(iA<ia){ia=iA}if(iA>h8){h8=iA}}else{if(iA>ib){if(ir(ia,iA)>ir(ia,h8)){h8=iA}}else{if(ir(iA,h8)>ir(ia,h8)){ia=iA}}}}}else{im(iA,iG)}ic=iw,ib=iA}function ii(){e.point=h9}function ip(){ih[0]=ia,ih[1]=h8;e.point=im;ic=null}function io(ix,iw){if(ic){var iy=ix-ib;ig+=cD(iy)>180?iy+(iy>0?360:-360):iy}else{ij=ix,il=iw}hh.point(ix,iw);h9(ix,iw)}function ie(){hh.lineStart()}function ik(){io(ij,il);hh.lineEnd();if(cD(ig)>gj){ia=-(h8=180)}ih[0]=ia,ih[1]=h8;ic=null}function ir(ix,iw){return(iw-=ix)<0?iw+360:iw}function iv(ix,iw){return ix[0]-iw[0]}function iu(iw,ix){return ix[0]<=ix[1]?ix[0]<=iw&&iw<=ix[1]:iw<ix[0]||ix[1]<iw}return function(iB){iq=h8=-(ia=it=Infinity);id=[];hk.geo.stream(iB,e);var iD=id.length;if(iD){id.sort(iv);for(var iA=1,iy=id[0],ix,iw=[iy];iA<iD;++iA){ix=id[iA];if(iu(ix[0],iy)||iu(ix[1],iy)){if(ir(iy[0],ix[1])>ir(iy[0],iy[1])){iy[1]=ix[1]}if(ir(ix[0],iy[1])>ir(iy[0],iy[1])){iy[0]=ix[0]}}else{iw.push(iy=ix)}}var iC=-Infinity,iz;for(var iD=iw.length-1,iA=0,iy=iw[iD],ix;iA<=iD;iy=ix,++iA){ix=iw[iA];if((iz=ir(iy[1],ix[0]))>iC){iC=iz,ia=ix[0],h8=iy[1]}}}id=ih=null;return ia===Infinity||it===Infinity?[[NaN,NaN],[NaN,NaN]]:[[ia,it],[h8,iq]]}}();hk.geo.centroid=function(h9){d8=d6=dH=di=c3=dG=dh=c1=dF=dg=c0=0;hk.geo.stream(h9,gd);var h8=dF,ib=dg,ia=c0,e=h8*h8+ib*ib+ia*ia;if(e<eA){h8=dG,ib=dh,ia=c1;if(d6<gj){h8=dH,ib=di,ia=c3}e=h8*h8+ib*ib+ia*ia;if(e<eA){return[NaN,NaN]}}return[Math.atan2(ib,h8)*hB,cc(ia/Math.sqrt(e))*hB]};var d8,d6,dH,di,c3,dG,dh,c1,dF,dg,c0;var gd={sphere:aD,point:b7,lineStart:ff,lineEnd:aB,polygonStart:function(){gd.lineStart=bo},polygonEnd:function(){gd.lineStart=ff}};function b7(h8,e){h8*=F;var h9=Math.cos(e*=F);gp(h9*Math.cos(h8),h9*Math.sin(h8),Math.sin(e))}function gp(e,h9,h8){++d8;dH+=(e-dH)/d8;di+=(h9-di)/d8;c3+=(h8-c3)/d8}function ff(){var e,h8,ia;gd.point=function(ic,ib){ic*=F;var id=Math.cos(ib*=F);e=id*Math.cos(ic);h8=id*Math.sin(ic);ia=Math.sin(ib);gd.point=h9;gp(e,h8,ia)};function h9(ie,id){ie*=F;var ig=Math.cos(id*=F),ib=ig*Math.cos(ie),ii=ig*Math.sin(ie),ih=Math.sin(id),ic=Math.atan2(Math.sqrt((ic=h8*ih-ia*ii)*ic+(ic=ia*ib-e*ih)*ic+(ic=e*ii-h8*ib)*ic),e*ib+h8*ii+ia*ih);d6+=ic;dG+=ic*(e+(e=ib));dh+=ic*(h8+(h8=ii));c1+=ic*(ia+(ia=ih));gp(e,h8,ia)}}function aB(){gd.point=b7}function bo(){var h8,e,h9,ia,ic;gd.point=function(ie,id){h8=ie,e=id;gd.point=ib;ie*=F;var ig=Math.cos(id*=F);h9=ig*Math.cos(ie);ia=ig*Math.sin(ie);ic=Math.sin(id);gp(h9,ia,ic)};gd.lineEnd=function(){ib(h8,e);gd.lineEnd=aB;gd.point=b7};function ib(ij,ir){ij*=F;var ih=Math.cos(ir*=F),im=ih*Math.cos(ij),il=ih*Math.sin(ij),ik=Math.sin(ir),ii=ia*ik-ic*il,ig=ic*im-h9*ik,ie=h9*il-ia*im,id=Math.sqrt(ii*ii+ig*ig+ie*ie),iq=h9*im+ia*il+ic*ik,ip=id&&-Z(iq)/id,io=Math.atan2(id,iq);dF+=ip*ii;dg+=ip*ig;c0+=ip*ie;d6+=io;dG+=io*(h9+(h9=im));dh+=io*(ia+(ia=il));c1+=io*(ic+(ic=ik));gp(h9,ia,ic)}}function e2(h8,e){function h9(ia,ib){return ia=h8(ia,ib),e(ia[0],ia[1])}if(h8.invert&&e.invert){h9.invert=function(ia,ib){return ia=e.invert(ia,ib),ia&&h8.invert(ia[0],ia[1])}}return h9}function ad(){return true}function co(id,h8,ii,ig,ia){var ih=[],ib=[];id.forEach(function(ir){if((iv=ir.length-1)<=0){return}var iv,iu=ir[0],it=ir[iv];if(eP(iu,it)){ia.lineStart();for(var iq=0;iq<iv;++iq){ia.point((iu=ir[iq])[0],iu[1])}ia.lineEnd();return}var ip=new b(iu,ir,null,true),io=new b(iu,null,ip,false);ip.o=io;ih.push(ip);ib.push(io);ip=new b(it,ir,null,false);io=new b(it,null,ip,true);ip.o=io;ih.push(ip);ib.push(io)});ib.sort(h8);hG(ih);hG(ib);if(!ih.length){return}for(var ic=0,ik=ii,h9=ib.length;ic<h9;++ic){ib[ic].e=ik=!ik}var e=ih[0],il,ij;while(1){var ie=e,im=true;while(ie.v){if((ie=ie.n)===e){return}}il=ie.z;ia.lineStart();do{ie.v=ie.o.v=true;if(ie.e){if(im){for(var ic=0,h9=il.length;ic<h9;++ic){ia.point((ij=il[ic])[0],ij[1])}}else{ig(ie.x,ie.n.x,1,ia)}ie=ie.n}else{if(im){il=ie.p.z;for(var ic=il.length-1;ic>=0;--ic){ia.point((ij=il[ic])[0],ij[1])}}else{ig(ie.x,ie.p.x,-1,ia)}ie=ie.p}ie=ie.o;il=ie.z;im=!im}while(!ie.v);ia.lineEnd()}}function hG(ib){if(!(ia=ib.length)){return}var ia,h9=0,h8=ib[0],e;while(++h9<ia){h8.n=e=ib[h9];e.p=h8;h8=e}h8.n=e=ib[0];e.p=h8}function b(h8,h9,e,ia){this.x=h8;this.z=h9;this.o=e;this.e=ia;this.v=false;this.n=this.p=null}function ee(e,ia,h8,h9){return function(it,ig){var ik=ia(ig),ie=it.invert(h9[0],h9[1]);var iv={point:ip,lineStart:im,lineEnd:iu,polygonStart:function(){iv.point=ic;iv.lineStart=ih;iv.lineEnd=io;iq=[];il=[]},polygonEnd:function(){iv.point=ip;iv.lineStart=im;iv.lineEnd=iu;iq=hk.merge(iq);var iw=fI(ie,il);if(iq.length){if(!id){ig.polygonStart(),id=true}co(iq,dS,iw,h8,ig)}else{if(iw){if(!id){ig.polygonStart(),id=true}ig.lineStart();h8(null,null,1,ig);ig.lineEnd()}}if(id){ig.polygonEnd(),id=false}iq=il=null},sphere:function(){ig.polygonStart();ig.lineStart();h8(null,null,1,ig);ig.lineEnd();ig.polygonEnd()}};function ip(iy,ix){var iw=it(iy,ix);if(e(iy=iw[0],ix=iw[1])){ig.point(iy,ix)}}function ii(iy,ix){var iw=it(iy,ix);ik.point(iw[0],iw[1])}function im(){iv.point=ii;ik.lineStart()}function iu(){iv.point=ip;ik.lineEnd()}var iq;var ir=M(),ib=ia(ir),id=false,il,ij;function ic(iy,ix){ij.push([iy,ix]);var iw=it(iy,ix);ib.point(iw[0],iw[1])}function ih(){ib.lineStart();ij=[]}function io(){ic(ij[0][0],ij[0][1]);ib.lineEnd();var iy=ib.clean(),iA=ir.buffer(),iz,iB=iA.length;ij.pop();il.push(ij);ij=null;if(!iB){return}if(iy&1){iz=iA[0];var iB=iz.length-1,ix=-1,iw;if(iB>0){if(!id){ig.polygonStart(),id=true}ig.lineStart();while(++ix<iB){ig.point((iw=iz[ix])[0],iw[1])}ig.lineEnd()}return}if(iB>1&&iy&2){iA.push(iA.pop().concat(iA.shift()))}iq.push(iA.filter(eK))}return iv}}function eK(e){return e.length>1}function M(){var h8=[],e;return{lineStart:function(){h8.push(e=[])},point:function(ia,h9){e.push([ia,h9])},lineEnd:aD,buffer:function(){var h9=h8;h8=[];e=null;return h9},rejoin:function(){if(h8.length>1){h8.push(h8.pop().concat(h8.shift()))}}}}function dS(h8,e){return((h8=h8.x)[0]<0?h8[1]-em-gj:em-h8[1])-((e=e.x)[0]<0?e[1]-em-gj:em-e[1])}var h=ee(ad,eB,c9,[-ga,-ga/2]);function eB(ib){var h8=NaN,e=NaN,ia=NaN,h9;return{lineStart:function(){ib.lineStart();h9=1},point:function(id,ic){var ig=id>0?ga:-ga,ie=cD(id-h8);if(cD(ie-ga)<gj){ib.point(h8,e=(e+ic)/2>0?em:-em);ib.point(ia,e);ib.lineEnd();ib.lineStart();ib.point(ig,e);ib.point(id,e);h9=0}else{if(ia!==ig&&ie>=ga){if(cD(h8-ia)<gj){h8-=ia*gj}if(cD(id-ig)<gj){id-=ig*gj}e=r(h8,e,id,ic);ib.point(ia,e);ib.lineEnd();ib.lineStart();ib.point(ig,e);h9=0}}ib.point(h8=id,e=ic);ia=ig},lineEnd:function(){ib.lineEnd();h8=e=NaN},clean:function(){return 2-h9}}}function r(ic,ib,ia,h9){var h8,e,id=Math.sin(ic-ia);return cD(id)>gj?Math.atan((Math.sin(ib)*(e=Math.cos(h9))*Math.sin(ia)-Math.sin(h9)*(h8=Math.cos(ib))*Math.sin(ic))/(h8*e*id)):(ib+h9)/2}function c9(ic,ib,ia,h9){var e;if(ic==null){e=ia*em;h9.point(-ga,e);h9.point(0,e);h9.point(ga,e);h9.point(ga,0);h9.point(ga,-e);h9.point(0,-e);h9.point(-ga,-e);h9.point(-ga,0);h9.point(-ga,e)}else{if(cD(ic[0]-ib[0])>gj){var h8=ic[0]<ib[0]?ga:-ga;e=ia*h8/2;h9.point(-h8,e);h9.point(0,e);h9.point(h8,e)}else{h9.point(ib[0],ib[1])}}}function fI(it,io){var iB=it[0],iC=it[1],e=[Math.sin(iB),-Math.cos(iB),0],im=0,iz=0;fL.reset();for(var iy=0,ip=io.length;iy<ip;++iy){var ig=io[iy],ir=ig.length;if(!ir){continue}var ic=ig[0],h9=ic[0],iA=ic[1]/2+ga/4,ie=Math.sin(iA),h8=Math.cos(iA),ix=1;while(true){if(ix===ir){ix=0}it=ig[ix];var iq=it[0],il=it[1]/2+ga/4,ia=Math.sin(il),iw=Math.cos(il),iv=iq-h9,ih=iv>=0?1:-1,ij=ih*iv,ib=ij>ga,iu=ie*ia;fL.add(Math.atan2(iu*ih*Math.sin(ij),h8*iw+iu*Math.cos(ij)));im+=ib?iv+ih*f4:iv;if(ib^h9>=iB^iq>=iB){var ii=cV(aq(ic),aq(it));fg(ii);var ik=cV(e,ii);fg(ik);var id=(ib^iv>=0?-1:1)*cc(ik[2]);if(iC>id||iC===id&&(ii[0]||ii[1])){iz+=ib^iv>=0?1:-1}}if(!ix++){break}h9=iq,ie=ia,h8=iw,ic=it}}return(im<-gj||im<gj&&fL<-gj)^iz&1}function aH(ib){var ic=Math.cos(ib),ia=ic>0,id=cD(ic)>gj,ie=b2(ib,6*F);return ee(h9,ig,ie,ia?[0,-ib]:[-ga,ib-ga]);function h9(ii,ih){return Math.cos(ii)*Math.cos(ih)>ic}function ig(im){var il,ik,ih,ij,ii;return{lineStart:function(){ij=ih=false;ii=1},point:function(ip,io){var iu=[ip,io],it,iq=h9(ip,io),iv=ia?iq?0:e(ip,io):iq?e(ip+(ip<0?ga:-ga),io):0;if(!il&&(ij=ih=iq)){im.lineStart()}if(iq!==ih){it=h8(il,iu);if(eP(il,it)||eP(iu,it)){iu[0]+=gj;iu[1]+=gj;iq=h9(iu[0],iu[1])}}if(iq!==ih){ii=0;if(iq){im.lineStart();it=h8(iu,il);im.point(it[0],it[1])}else{it=h8(il,iu);im.point(it[0],it[1]);im.lineEnd()}il=it}else{if(id&&il&&ia^iq){var ir;if(!(iv&ik)&&(ir=h8(iu,il,true))){ii=0;if(ia){im.lineStart();im.point(ir[0][0],ir[0][1]);im.point(ir[1][0],ir[1][1]);im.lineEnd()}else{im.point(ir[1][0],ir[1][1]);im.lineEnd();im.lineStart();im.point(ir[0][0],ir[0][1])}}}}if(iq&&(!il||!eP(il,iu))){im.point(iu[0],iu[1])}il=iu,ih=iq,ik=iv},lineEnd:function(){if(ih){im.lineEnd()}il=null},clean:function(){return ii|(ij&&ih)<<1}}}function h8(iK,iJ,il){var ij=aq(iK),ih=aq(iJ);var ir=[1,0,0],io=cV(ij,ih),iv=au(io,io),iI=io[0],iB=iv-iI*iI;if(!iB){return !il&&iK}var iE=ic*iv/iB,iD=-ic*iI/iB,iL=cV(ir,io),iC=gb(ir,iE),iA=gb(io,iD);cy(iC,iA);var ix=iL,iw=au(iC,ix),im=au(ix,ix),iu=iw*iw-im*(au(iC,iC)-1);if(iu<0){return}var iy=Math.sqrt(iu),iz=gb(ix,(-iw-iy)/im);cy(iz,iC);iz=h4(iz);if(!il){return iz}var ik=iK[0],ii=iJ[0],iG=iK[1],iF=iJ[1],iq;if(ii<ik){iq=ik,ik=ii,ii=iq}var ip=ii-ik,iM=cD(ip-ga)<gj,iH=iM||ip<gj;if(!iM&&iF<iG){iq=iG,iG=iF,iF=iq}if(iH?iM?iG+iF>0^iz[1]<(cD(iz[0]-ik)<gj?iG:iF):iG<=iz[1]&&iz[1]<=iF:ip>ga^(ik<=iz[0]&&iz[0]<=ii)){var it=gb(ix,(-iw+iy)/im);cy(it,iC);return[iz,h4(it)]}}function e(ii,ih){var ik=ia?ib:ga-ib,ij=0;if(ii<-ik){ij|=1}else{if(ii>ik){ij|=2}}if(ih<-ik){ij|=4}else{if(ih>ik){ij|=8}}return ij}}function ag(h8,ia,e,h9){return function(io){var ij=io.a,ii=io.b,ic=ij.x,im=ij.y,ih=ii.x,ig=ii.y,ie=0,id=1,il=ih-ic,ik=ig-im,ib;ib=h8-ic;if(!il&&ib>0){return}ib/=il;if(il<0){if(ib<ie){return}if(ib<id){id=ib}}else{if(il>0){if(ib>id){return}if(ib>ie){ie=ib}}}ib=e-ic;if(!il&&ib<0){return}ib/=il;if(il<0){if(ib>id){return}if(ib>ie){ie=ib}}else{if(il>0){if(ib<ie){return}if(ib<id){id=ib}}}ib=ia-im;if(!ik&&ib>0){return}ib/=ik;if(ik<0){if(ib<ie){return}if(ib<id){id=ib}}else{if(ik>0){if(ib>id){return}if(ib>ie){ie=ib}}}ib=h9-im;if(!ik&&ib<0){return}ib/=ik;if(ik<0){if(ib>id){return}if(ib>ie){ie=ib}}else{if(ik>0){if(ib<ie){return}if(ib<id){id=ib}}}if(ie>0){io.a={x:ic+ie*il,y:im+ie*ik}}if(id<1){io.b={x:ic+id*il,y:im+id*ik}}return io}}var cG=1000000000;hk.geo.clipExtent=function(){var h9,ic,h8,ia,id,ib,e={stream:function(ie){if(id){id.valid=false}id=ib(ie);id.valid=true;return id},extent:function(ie){if(!arguments.length){return[[h9,ic],[h8,ia]]}ib=eb(h9=+ie[0][0],ic=+ie[0][1],h8=+ie[1][0],ia=+ie[1][1]);if(id){id.valid=false,id=null}return e}};return e.extent([[0,0],[960,500]])};function eb(h8,ib,e,h9){return function(ik){var ig=ik,iq=M(),ih=ag(h8,ib,e,h9),iz,ir,io;var iD={point:iy,lineStart:iv,lineEnd:iB,polygonStart:function(){ik=iq;iz=[];ir=[];iA=true},polygonEnd:function(){ik=ig;iz=hk.merge(iz);var iF=iu([h8,h9]),iE=iA&&iF,iG=iz.length;if(iE||iG){ik.polygonStart();if(iE){ik.lineStart();ip(null,null,1,ik);ik.lineEnd()}if(iG){co(iz,ic,iF,ip,ik)}ik.polygonEnd()}iz=ir=io=null}};function iu(iE){var iM=0,iF=ir.length,iK=iE[1];for(var iI=0;iI<iF;++iI){for(var iH=1,iN=ir[iI],iG=iN.length,iL=iN[0],iJ;iH<iG;++iH){iJ=iN[iH];if(iL[1]<=iK){if(iJ[1]>iK&&eW(iL,iJ,iE)>0){++iM}}else{if(iJ[1]<=iK&&eW(iL,iJ,iE)<0){--iM}}iL=iJ}}return iM!==0}function ip(iJ,iI,iH,iG){var iF=0,iE=0;if(iJ==null||(iF=ia(iJ,iH))!==(iE=ia(iI,iH))||id(iJ,iI)<0^iH>0){do{iG.point(iF===0||iF===3?h8:e,iF>1?h9:ib)}while((iF=(iF+iH+4)%4)!==iE)}else{iG.point(iI[0],iI[1])}}function it(iE,iF){return h8<=iE&&iE<=e&&ib<=iF&&iF<=h9}function iy(iE,iF){if(it(iE,iF)){ik.point(iE,iF)}}var ix,il,iw,iC,ij,ii,im,iA;function iv(){iD.point=ie;if(ir){ir.push(io=[])}im=true;ii=false;iC=ij=NaN}function iB(){if(iz){ie(ix,il);if(iw&&ii){iq.rejoin()}iz.push(iq.buffer())}iD.point=iy;if(ii){ik.lineEnd()}}function ie(iE,iH){iE=Math.max(-cG,Math.min(cG,iE));iH=Math.max(-cG,Math.min(cG,iH));var iG=it(iE,iH);if(ir){io.push([iE,iH])}if(im){ix=iE,il=iH,iw=iG;im=false;if(iG){ik.lineStart();ik.point(iE,iH)}}else{if(iG&&ii){ik.point(iE,iH)}else{var iF={a:{x:iC,y:ij},b:{x:iE,y:iH}};if(ih(iF)){if(!ii){ik.lineStart();ik.point(iF.a.x,iF.a.y)}ik.point(iF.b.x,iF.b.y);if(!iG){ik.lineEnd()}iA=false}else{if(iG){ik.lineStart();ik.point(iE,iH);iA=false}}}}iC=iE,ij=iH,ii=iG}return iD};function ia(ig,ie){return cD(ig[0]-h8)<gj?ie>0?0:3:cD(ig[0]-e)<gj?ie>0?2:1:cD(ig[1]-ib)<gj?ie>0?1:0:ie>0?3:2}function ic(ig,ie){return id(ig.x,ie.x)}function id(ii,ig){var ih=ia(ii,1),ie=ia(ig,1);return ih!==ie?ih-ie:ih===0?ig[1]-ii[1]:ih===1?ii[0]-ig[0]:ih===2?ii[1]-ig[1]:ig[0]-ii[0]}}function b4(ia){var h9=0,h8=ga/3,e=fd(ia),ib=e(h9,h8);ib.parallels=function(ic){if(!arguments.length){return[h9/ga*180,h8/ga*180]}return e(h9=ic[0]*ga/180,h8=ic[1]*ga/180)};return ib}function J(h8,e){var ib=Math.sin(h8),id=(ib+Math.sin(e))/2,ic=1+ib*(2*id-ib),ia=Math.sqrt(ic)/id;function h9(ig,ie){var ih=Math.sqrt(ic-2*id*Math.sin(ie))/id;return[ih*Math.sin(ig*=id),ia-ih*Math.cos(ig)]}h9.invert=function(ie,ih){var ig=ia-ih;return[Math.atan2(ie,ig)/id,cc((ic-(ie*ie+ig*ig)*id*id)/(2*id))]};return h9}(hk.geo.conicEqualArea=function(){return b4(J)}).raw=J;hk.geo.albers=function(){return hk.geo.conicEqualArea().rotate([96,0]).center([-0.6,38.7]).parallels([29.5,45.5]).scale(1070)};hk.geo.albersUsa=function(){var h8=hk.geo.albers();var ic=hk.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]);var h9=hk.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]);var ie,e={point:function(ih,ii){ie=[ih,ii]}},ib,id,ia;function ig(ii){var ih=ii[0],ij=ii[1];ie=null;(ib(ih,ij),ie)||(id(ih,ij),ie)||ia(ih,ij);return ie}ig.invert=function(ik){var ii=h8.scale(),ij=h8.translate(),ih=(ik[0]-ij[0])/ii,il=(ik[1]-ij[1])/ii;return(il>=0.12&&il<0.234&&ih>=-0.425&&ih<-0.214?ic:il>=0.166&&il<0.234&&ih>=-0.214&&ih<-0.115?h9:h8).invert(ik)};ig.stream=function(ij){var ii=h8.stream(ij),ik=ic.stream(ij),ih=h9.stream(ij);return{point:function(il,im){ii.point(il,im);ik.point(il,im);ih.point(il,im)},sphere:function(){ii.sphere();ik.sphere();ih.sphere()},lineStart:function(){ii.lineStart();ik.lineStart();ih.lineStart()},lineEnd:function(){ii.lineEnd();ik.lineEnd();ih.lineEnd()},polygonStart:function(){ii.polygonStart();ik.polygonStart();ih.polygonStart()},polygonEnd:function(){ii.polygonEnd();ik.polygonEnd();ih.polygonEnd()}}};ig.precision=function(ih){if(!arguments.length){return h8.precision()}h8.precision(ih);ic.precision(ih);h9.precision(ih);return ig};ig.scale=function(ih){if(!arguments.length){return h8.scale()}h8.scale(ih);ic.scale(ih*0.35);h9.scale(ih);return ig.translate(h8.translate())};ig.translate=function(ij){if(!arguments.length){return h8.translate()}var ii=h8.scale(),ih=+ij[0],ik=+ij[1];ib=h8.translate(ij).clipExtent([[ih-0.455*ii,ik-0.238*ii],[ih+0.455*ii,ik+0.238*ii]]).stream(e).point;id=ic.translate([ih-0.307*ii,ik+0.201*ii]).clipExtent([[ih-0.425*ii+gj,ik+0.12*ii+gj],[ih-0.214*ii-gj,ik+0.234*ii-gj]]).stream(e).point;ia=h9.translate([ih-0.205*ii,ik+0.212*ii]).clipExtent([[ih-0.214*ii+gj,ik+0.166*ii+gj],[ih-0.115*ii-gj,ik+0.234*ii-gj]]).stream(e).point;return ig};return ig.scale(1070)};var fJ,x,dy={point:aD,lineStart:aD,lineEnd:aD,polygonStart:function(){x=0;dy.lineStart=cI},polygonEnd:function(){dy.lineStart=dy.lineEnd=dy.point=aD;fJ+=cD(x/2)}};function cI(){var ia,e,h8,h9;dy.point=function(ic,id){dy.point=ib;ia=h8=ic,e=h9=id};function ib(ic,id){x+=h9*ic-h8*id;h8=ic,h9=id}dy.lineEnd=function(){ib(ia,e)}}var eI,el,eG,ek;var at={point:cQ,lineStart:aD,lineEnd:aD,polygonStart:aD,polygonEnd:aD};function cQ(e,h8){if(e<eI){eI=e}if(e>eG){eG=e}if(h8<el){el=h8}if(h8>ek){ek=h8}}function cg(){var h9=g4(4.5),h8=[];var ie={point:e,lineStart:function(){ie.point=id},lineEnd:ic,polygonStart:function(){ie.lineEnd=ia},polygonEnd:function(){ie.lineEnd=ic;ie.point=e},pointRadius:function(ig){h9=g4(ig);return ie},result:function(){if(h8.length){var ig=h8.join("");h8=[];return ig}}};function e(ig,ih){h8.push("M",ig,",",ih,h9)}function id(ig,ih){h8.push("M",ig,",",ih);ie.point=ib}function ib(ig,ih){h8.push("L",ig,",",ih)}function ic(){ie.point=e}function ia(){h8.push("Z")}return ie}function g4(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}var g3={point:cM,lineStart:fO,lineEnd:cL,polygonStart:function(){g3.lineStart=bX},polygonEnd:function(){g3.point=cM;g3.lineStart=fO;g3.lineEnd=cL}};function cM(e,h8){dH+=e;di+=h8;++c3}function fO(){var e,h8;g3.point=function(ia,ib){g3.point=h9;cM(e=ia,h8=ib)};function h9(ia,ie){var ic=ia-e,ib=ie-h8,id=Math.sqrt(ic*ic+ib*ib);dG+=id*(e+ia)/2;dh+=id*(h8+ie)/2;c1+=id;cM(e=ia,h8=ie)}}function cL(){g3.point=cM}function bX(){var ia,e,h8,h9;g3.point=function(ic,id){g3.point=ib;cM(ia=h8=ic,e=h9=id)};function ib(ic,ih){var ie=ic-h8,id=ih-h9,ig=Math.sqrt(ie*ie+id*id);dG+=ig*(h8+ic)/2;dh+=ig*(h9+ih)/2;c1+=ig;ig=h9*ic-h8*ih;dF+=ig*(h8+ic);dg+=ig*(h9+ih);c0+=ig*3;cM(h8=ic,h9=ih)}g3.lineEnd=function(){ib(ia,e)}}function cB(h8){var ib=4.5;var ie={point:e,lineStart:function(){ie.point=id},lineEnd:ic,polygonStart:function(){ie.lineEnd=h9},polygonEnd:function(){ie.lineEnd=ic;ie.point=e},pointRadius:function(ig){ib=ig;return ie},result:aD};function e(ig,ih){h8.moveTo(ig+ib,ih);h8.arc(ig,ih,ib,0,f4)}function id(ig,ih){h8.moveTo(ig,ih);ie.point=ia}function ia(ig,ih){h8.lineTo(ig,ih)}function ic(){ie.point=e}function h9(){h8.closePath()}return ie}function fK(id){var ib=0.5,ic=Math.cos(30*F),ie=16;function h9(ig){return(ie?ia:e)(ig)}function e(ig){return eD(ig,function(ih,ii){ih=id(ih,ii);ig.point(ih[0],ih[1])})}function ia(im){var it,iz,iy,io,iC,iq,ih,ii,iB,ij,iD,ip,iu;var ik={point:ix,lineStart:ir,lineEnd:iA,polygonStart:function(){im.polygonStart();ik.lineStart=il},polygonEnd:function(){im.polygonEnd();ik.lineStart=ir}};function ix(iE,iF){iE=id(iE,iF);im.point(iE[0],iE[1])}function ir(){iB=NaN;ik.point=ig;im.lineStart()}function ig(iF,iE){var iH=aq([iF,iE]),iG=id(iF,iE);h8(iB,ij,ii,iD,ip,iu,iB=iG[0],ij=iG[1],ii=iF,iD=iH[0],ip=iH[1],iu=iH[2],ie,im);im.point(iB,ij)}function iA(){ik.point=ix;im.lineEnd()}function il(){ir();ik.point=iw;ik.lineEnd=iv}function iw(iF,iE){ig(it=iF,iz=iE),iy=iB,io=ij,iC=iD,iq=ip,ih=iu;ik.point=ig}function iv(){h8(iB,ij,ii,iD,ip,iu,iy,io,it,iC,iq,ih,ie,im);ik.lineEnd=iA;iA()}return ik}function h8(iD,im,ii,iK,iq,iz,iC,il,ih,iI,ip,ix,iH,io){var iv=iC-iD,iu=il-im,iJ=iv*iv+iu*iu;if(iJ>4*ib&&iH--){var iG=iK+iI,iF=iq+ip,iE=iz+ix,iy=Math.sqrt(iG*iG+iF*iF+iE*iE),iB=Math.asin(iE/=iy),ig=cD(cD(iE)-1)<gj||cD(ii-ih)<gj?(ii+ih)/2:Math.atan2(iF,iG),iw=id(ig,iB),iA=iw[0],ik=iw[1],ij=iA-iD,it=ik-im,ir=iu*ij-iv*it;if(ir*ir/iJ>ib||cD((iv*ij+iu*it)/iJ-0.5)>0.3||iK*iI+iq*ip+iz*ix<ic){h8(iD,im,ii,iK,iq,iz,iA,ik,ig,iG/=iy,iF/=iy,iE,iH,io);io.point(iA,ik);h8(iA,ik,ig,iG,iF,iE,iC,il,ih,iI,ip,ix,iH,io)}}}h9.precision=function(ig){if(!arguments.length){return Math.sqrt(ib)}ie=(ib=ig*ig)>0&&16;return h9};return h9}hk.geo.path=function(){var id=4.5,h8,ia,ib,e,h9;function ie(ig){if(ig){if(typeof id==="function"){e.pointRadius(+id.apply(this,arguments))}if(!h9||!h9.valid){h9=ib(e)}hk.geo.stream(ig,h9)}return e.result()}ie.area=function(ig){fJ=0;hk.geo.stream(ig,ib(dy));return fJ};ie.centroid=function(ig){dH=di=c3=dG=dh=c1=dF=dg=c0=0;hk.geo.stream(ig,ib(g3));return c0?[dF/c0,dg/c0]:c1?[dG/c1,dh/c1]:c3?[dH/c3,di/c3]:[NaN,NaN]};ie.bounds=function(ig){eG=ek=-(eI=el=Infinity);hk.geo.stream(ig,ib(at));return[[eI,el],[eG,ek]]};ie.projection=function(ig){if(!arguments.length){return h8}ib=(h8=ig)?ig.stream||hd(ig):gh;return ic()};ie.context=function(ig){if(!arguments.length){return ia}e=(ia=ig)==null?new cg():new cB(ig);if(typeof id!=="function"){e.pointRadius(id)}return ic()};ie.pointRadius=function(ig){if(!arguments.length){return id}id=typeof ig==="function"?ig:(e.pointRadius(+ig),+ig);return ie};function ic(){h9=null;return ie}return ie.projection(hk.geo.albersUsa()).context(null)};function hd(h8){var e=fK(function(h9,ia){return h8([h9*hB,ia*hB])});return function(h9){return ce(e(h9))}}hk.geo.transform=function(e){return{stream:function(ia){var h9=new d7(ia);for(var h8 in e){h9[h8]=e[h8]}return h9}}};function d7(e){this.stream=e}d7.prototype={point:function(e,h8){this.stream.point(e,h8)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function eD(h8,e){return{point:e,sphere:function(){h8.sphere()},lineStart:function(){h8.lineStart()},lineEnd:function(){h8.lineEnd()},polygonStart:function(){h8.polygonStart()},polygonEnd:function(){h8.polygonEnd()}}}hk.geo.projection=fw;hk.geo.projectionMutator=fd;function fw(e){return fd(function(){return e})()}function fd(im){var ia,it,ie,ip=fK(function(iy,iz){iy=ia(iy,iz);return[iy[0]*ir+ic,h9-iy[1]*ir]}),ir=150,ik=480,ii=250,iq=0,ij=0,ig=0,ib=0,io=0,ic,h9,ix=h,iu=gh,e=null,h8=null,id;function iw(iy){iy=ie(iy[0]*F,iy[1]*F);return[iy[0]*ir+ic,h9-iy[1]*ir]}function il(iy){iy=ie.invert((iy[0]-ic)/ir,(h9-iy[1])/ir);return iy&&[iy[0]*hB,iy[1]*hB]}iw.stream=function(iy){if(id){id.valid=false}id=ce(ix(it,ip(iu(iy))));id.valid=true;return id};iw.clipAngle=function(iy){if(!arguments.length){return e}ix=iy==null?(e=iy,h):aH((e=+iy)*F);return ih()};iw.clipExtent=function(iy){if(!arguments.length){return h8}h8=iy;iu=iy?eb(iy[0][0],iy[0][1],iy[1][0],iy[1][1]):gh;return ih()};iw.scale=function(iy){if(!arguments.length){return ir}ir=+iy;return iv()};iw.translate=function(iy){if(!arguments.length){return[ik,ii]}ik=+iy[0];ii=+iy[1];return iv()};iw.center=function(iy){if(!arguments.length){return[iq*hB,ij*hB]}iq=iy[0]%360*F;ij=iy[1]%360*F;return iv()};iw.rotate=function(iy){if(!arguments.length){return[ig*hB,ib*hB,io*hB]}ig=iy[0]%360*F;ib=iy[1]%360*F;io=iy.length>2?iy[2]%360*F:0;return iv()};hk.rebind(iw,ip,"precision");function iv(){ie=e2(it=dD(ig,ib,io),ia);var iy=ia(iq,ij);ic=ik-iy[0]*ir;h9=ii+iy[1]*ir;return ih()}function ih(){if(id){id.valid=false,id=null}return iw}return function(){ia=im.apply(this,arguments);iw.invert=ia.invert&&il;return iv()}}function ce(e){return eD(e,function(h8,h9){e.point(h8*F,h9*F)})}function bw(h8,e){return[h8,e]}(hk.geo.equirectangular=function(){return fw(bw)}).raw=bw.invert=bw;hk.geo.rotation=function(h8){h8=dD(h8[0]%360*F,h8[1]*F,h8.length>2?h8[2]*F:0);function e(h9){h9=h8(h9[0]*F,h9[1]*F);return h9[0]*=hB,h9[1]*=hB,h9}e.invert=function(h9){h9=h8.invert(h9[0]*F,h9[1]*F);return h9[0]*=hB,h9[1]*=hB,h9};return e};function bF(h8,e){return[h8>ga?h8-f4:h8<-ga?h8+f4:h8,e]}bF.invert=bw;function dD(h9,h8,e){return h9?h8||e?e2(eX(h9),bR(h8,e)):eX(h9):h8||e?bR(h8,e):bF}function gV(e){return function(h9,h8){return h9+=e,[h9>ga?h9-f4:h9<-ga?h9+f4:h9,h8]}}function eX(h8){var e=gV(h8);e.invert=gV(-h8);return e}function bR(ic,h8){var ib=Math.cos(ic),id=Math.sin(ic),e=Math.cos(h8),h9=Math.sin(h8);function ia(ih,ig){var ij=Math.cos(ig),ie=Math.cos(ih)*ij,il=Math.sin(ih)*ij,ik=Math.sin(ig),ii=ik*ib+ie*id;return[Math.atan2(il*e-ii*h9,ie*ib-ik*id),cc(ii*e+il*h9)]}ia.invert=function(ih,ig){var ij=Math.cos(ig),ie=Math.cos(ih)*ij,il=Math.sin(ih)*ij,ik=Math.sin(ig),ii=ik*e-il*h9;return[Math.atan2(il*e+ik*h9,ie*ib+ii*id),cc(ii*ib-ie*id)]};return ia}hk.geo.circle=function(){var h8=[0,0],ib,e=6,h9;function ia(){var ic=typeof h8==="function"?h8.apply(this,arguments):h8,ie=dD(-ic[0]*F,-ic[1]*F,0).invert,id=[];h9(null,null,1,{point:function(ig,ih){id.push(ig=ie(ig,ih));ig[0]*=hB,ig[1]*=hB}});return{type:"Polygon",coordinates:[id]}}ia.origin=function(ic){if(!arguments.length){return h8}h8=ic;return ia};ia.angle=function(ic){if(!arguments.length){return ib}h9=b2((ib=+ic)*F,e*F);return ia};ia.precision=function(ic){if(!arguments.length){return e}h9=b2(ib*F,(e=+ic)*F);return ia};return ia.angle(90)};function b2(e,h8){var ia=Math.cos(e),h9=Math.sin(e);return function(ii,ih,ig,ie){var id=ig*h8;if(ii!=null){ii=hO(ia,ii);ih=hO(ia,ih);if(ig>0?ii<ih:ii>ih){ii+=ig*f4}}else{ii=e+ig*f4;ih=e-0.5*id}for(var ib,ic=ii;ig>0?ic>ih:ic<ih;ic-=id){ie.point((ib=h4([ia,-h9*Math.cos(ic),-h9*Math.sin(ic)]))[0],ib[1])}}}function hO(h9,e){var h8=aq(e);h8[0]-=h9;fg(h8);var ia=Z(-h8[1]);return((-h8[2]<0?-ia:ia)+2*Math.PI-gj)%(2*Math.PI)}hk.geo.distance=function(ie,id){var ig=(id[0]-ie[0])*F,ii=ie[1]*F,ih=id[1]*F,ib=Math.sin(ig),h8=Math.cos(ig),ic=Math.sin(ii),h9=Math.cos(ii),ia=Math.sin(ih),e=Math.cos(ih),ij;return Math.atan2(Math.sqrt((ij=e*ib)*ij+(ij=h9*ia-ic*e*h8)*ij),ic*ia+h9*e*h8)};hk.geo.graticule=function(){var im,ip,iq,ir,ia,ib,ic,ie,ik=10,ij=ik,ig=90,id=360,ii,ih,h9,h8,il=2.5;function io(){return{type:"MultiLineString",coordinates:e()}}function e(){return hk.range(Math.ceil(ir/ig)*ig,iq,ig).map(h9).concat(hk.range(Math.ceil(ie/id)*id,ic,id).map(h8)).concat(hk.range(Math.ceil(ip/ik)*ik,im,ik).filter(function(it){return cD(it%ig)>gj}).map(ii)).concat(hk.range(Math.ceil(ib/ij)*ij,ia,ij).filter(function(it){return cD(it%id)>gj}).map(ih))}io.lines=function(){return e().map(function(it){return{type:"LineString",coordinates:it}})};io.outline=function(){return{type:"Polygon",coordinates:[h9(ir).concat(h8(ic).slice(1),h9(iq).reverse().slice(1),h8(ie).reverse().slice(1))]}};io.extent=function(it){if(!arguments.length){return io.minorExtent()}return io.majorExtent(it).minorExtent(it)};io.majorExtent=function(it){if(!arguments.length){return[[ir,ie],[iq,ic]]}ir=+it[0][0],iq=+it[1][0];ie=+it[0][1],ic=+it[1][1];if(ir>iq){it=ir,ir=iq,iq=it}if(ie>ic){it=ie,ie=ic,ic=it}return io.precision(il)};io.minorExtent=function(it){if(!arguments.length){return[[ip,ib],[im,ia]]}ip=+it[0][0],im=+it[1][0];ib=+it[0][1],ia=+it[1][1];if(ip>im){it=ip,ip=im,im=it}if(ib>ia){it=ib,ib=ia,ia=it}return io.precision(il)};io.step=function(it){if(!arguments.length){return io.minorStep()}return io.majorStep(it).minorStep(it)};io.majorStep=function(it){if(!arguments.length){return[ig,id]}ig=+it[0],id=+it[1];return io};io.minorStep=function(it){if(!arguments.length){return[ik,ij]}ik=+it[0],ij=+it[1];return io};io.precision=function(it){if(!arguments.length){return il}il=+it;ii=aG(ib,ia,90);ih=aF(ip,im,il);h9=aG(ie,ic,90);h8=aF(ir,iq,il);return io};return io.majorExtent([[-180,-90+gj],[180,90-gj]]).minorExtent([[-180,-80-gj],[180,80+gj]])};function aG(h9,h8,e){var ia=hk.range(h9,h8-gj,e).concat(h8);return function(ib){return ia.map(function(ic){return[ib,ic]})}}function aF(ia,h9,h8){var e=hk.range(ia,h9-gj,h8).concat(h9);return function(ib){return e.map(function(ic){return[ic,ib]})}}function hF(e){return e.source}function hM(e){return e.target}hk.geo.greatArc=function(){var h9=hF,h8,ia=hM,ib;function e(){return{type:"LineString",coordinates:[h8||h9.apply(this,arguments),ib||ia.apply(this,arguments)]}}e.distance=function(){return hk.geo.distance(h8||h9.apply(this,arguments),ib||ia.apply(this,arguments))};e.source=function(ic){if(!arguments.length){return h9}h9=ic,h8=typeof ic==="function"?null:ic;return e};e.target=function(ic){if(!arguments.length){return ia}ia=ic,ib=typeof ic==="function"?null:ic;return e};e.precision=function(){return arguments.length?e:0};return e};hk.geo.interpolate=function(e,h8){return d(e[0]*F,e[1]*F,h8[0]*F,h8[1]*F)};function d(ia,im,h9,ik){var id=Math.cos(im),il=Math.sin(im),ib=Math.cos(ik),ij=Math.sin(ik),ig=id*Math.cos(ia),h8=id*Math.sin(ia),ie=ib*Math.cos(h9),e=ib*Math.sin(h9),ii=2*Math.asin(Math.sqrt(aA(ik-im)+id*ib*aA(h9-ia))),ic=1/Math.sin(ii);var ih=ii?function(iq){var iu=Math.sin(iq*=ii)*ic,ip=Math.sin(ii-iq)*ic,io=ip*ig+iu*ie,it=ip*h8+iu*e,ir=ip*il+iu*ij;return[Math.atan2(it,io)*hB,Math.atan2(ir,Math.sqrt(io*io+it*it))*hB]}:function(){return[ia*hB,im*hB]};ih.distance=ii;return ih}hk.geo.length=function(e){dQ=0;hk.geo.stream(e,fT);return dQ};var dQ;var fT={sphere:aD,point:aD,lineStart:hI,lineEnd:aD,polygonStart:aD,polygonEnd:aD};function hI(){var h8,h9,e;fT.point=function(ic,ib){h8=ic*F,h9=Math.sin(ib*=F),e=Math.cos(ib);fT.point=ia};fT.lineEnd=function(){fT.point=fT.lineEnd=aD};function ia(ic,ib){var ig=Math.sin(ib*=F),ih=Math.cos(ib),id=cD((ic*=F)-h8),ie=Math.cos(id);dQ+=Math.atan2(Math.sqrt((id=ih*Math.sin(id))*id+(id=e*ig-h9*ih*ie)*id),h9*ig+e*ih*ie);h8=ic,h9=ig,e=ih}}function ev(h9,h8){function e(ib,ia){var ie=Math.cos(ib),id=Math.cos(ia),ic=h9(ie*id);return[ic*id*Math.sin(ib),ic*Math.sin(ia)]}e.invert=function(ia,ig){var id=Math.sqrt(ia*ia+ig*ig),ie=h8(id),ib=Math.sin(ie),ic=Math.cos(ie);return[Math.atan2(ia*ib,id*ic),Math.asin(id&&ig*ib/id)]};return e}var bs=ev(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(hk.geo.azimuthalEqualArea=function(){return fw(bs)}).raw=bs;var bE=ev(function(e){var h8=Math.acos(e);return h8&&h8/Math.sin(h8)},gh);(hk.geo.azimuthalEquidistant=function(){return fw(bE)}).raw=bE;function fF(h9,h8){var e=Math.cos(h9),ib=function(ie){return Math.tan(ga/4+ie/2)},id=h9===h8?Math.sin(h9):Math.log(e/Math.cos(h8))/Math.log(ib(h8)/ib(h9)),ic=e*Math.pow(ib(h9),id)/id;if(!id){return aP}function ia(ig,ie){if(ic>0){if(ie<-em+gj){ie=-em+gj}}else{if(ie>em-gj){ie=em-gj}}var ih=ic/Math.pow(ib(ie),id);return[ih*Math.sin(id*ig),ic-ih*Math.cos(id*ig)]}ia.invert=function(ie,ii){var ih=ic-ii,ig=b6(id)*Math.sqrt(ie*ie+ih*ih);return[Math.atan2(ie,ih)/id,2*Math.atan(Math.pow(ic/ig,1/id))-em]};return ia}(hk.geo.conicConformal=function(){return b4(fF)}).raw=fF;function hx(h9,h8){var e=Math.cos(h9),ic=h9===h8?Math.sin(h9):(e-Math.cos(h8))/(h8-h9),ib=e/ic+h9;if(cD(ic)<gj){return bw}function ia(ie,id){var ig=ib-id;return[ig*Math.sin(ic*ie),ib-ig*Math.cos(ic*ie)]}ia.invert=function(id,ig){var ie=ib-ig;return[Math.atan2(id,ie)/ic,ib-b6(ic)*Math.sqrt(id*id+ie*ie)]};return ia}(hk.geo.conicEquidistant=function(){return b4(hx)}).raw=hx;var eC=ev(function(e){return 1/e},Math.atan);(hk.geo.gnomonic=function(){return fw(eC)}).raw=eC;function aP(h8,e){return[h8,Math.log(Math.tan(ga/4+e/2))]}aP.invert=function(e,h8){return[e,2*Math.atan(Math.exp(h8))-em]};function c2(ic){var e=fw(ic),ib=e.scale,ia=e.translate,h8=e.clipExtent,h9;e.scale=function(){var id=ib.apply(e,arguments);return id===e?h9?e.clipExtent(null):e:id};e.translate=function(){var id=ia.apply(e,arguments);return id===e?h9?e.clipExtent(null):e:id};e.clipExtent=function(ig){var ie=h8.apply(e,arguments);if(ie===e){if(h9=ig==null){var id=ga*ib(),ih=ia();h8([[ih[0]-id,ih[1]-id],[ih[0]+id,ih[1]+id]])}}else{if(h9){ie=null}}return ie};return e.clipExtent(null)}(hk.geo.mercator=function(){return c2(aP)}).raw=aP;var fV=ev(function(){return 1},Math.asin);(hk.geo.orthographic=function(){return fw(fV)}).raw=fV;var ca=ev(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});(hk.geo.stereographic=function(){return fw(ca)}).raw=ca;function af(h8,e){return[Math.log(Math.tan(ga/4+e/2)),-h8]}af.invert=function(e,h8){return[-h8,2*Math.atan(Math.exp(e))-em]};(hk.geo.transverseMercator=function(){var h8=c2(af),e=h8.center,h9=h8.rotate;h8.center=function(ia){return ia?e([-ia[1],ia[0]]):(ia=e(),[ia[1],-ia[0]])};h8.rotate=function(ia){return ia?h9([ia[0],ia[1],ia.length>2?ia[2]+90:90]):(ia=h9(),[ia[0],ia[1],ia[2]-90])};return h9([0,0,90])}).raw=af;hk.geom={};function hR(e){return e[0]}function hQ(e){return e[1]}hk.geom.hull=function(h8){var e=hR,ia=hQ;if(arguments.length){return h9(h8)}function h9(ii){if(ii.length<3){return[]}var id=N(e),ic=N(ia),ij,ib=ii.length,il=[],im=[];for(ij=0;ij<ib;ij++){il.push([+id.call(this,ii[ij],ij),+ic.call(this,ii[ij],ij),ij])}il.sort(hZ);for(ij=0;ij<ib;ij++){im.push([il[ij][0],-il[ij][1]])}var io=bm(il),ih=bm(im);var ie=ih[0]===io[0],ig=ih[ih.length-1]===io[io.length-1],ik=[];for(ij=io.length-1;ij>=0;--ij){ik.push(ii[il[io[ij]][2]])}for(ij=+ie;ij<ih.length-ig;++ij){ik.push(ii[il[ih[ij]][2]])}return ik}h9.x=function(ib){return arguments.length?(e=ib,h9):e};h9.y=function(ib){return arguments.length?(ia=ib,h9):ia};return h9};function bm(h9){var ib=h9.length,ia=[0,1],h8=2;for(var e=2;e<ib;e++){while(h8>1&&eW(h9[ia[h8-2]],h9[ia[h8-1]],h9[e])<=0){--h8}ia[h8++]=e}return ia.slice(0,h8)}function hZ(h8,e){return h8[0]-e[0]||h8[1]-e[1]}hk.geom.polygon=function(e){h2(e,en);return e};var en=hk.geom.polygon.prototype=[];en.area=function(){var h9=-1,ib=this.length,h8,e=this[ib-1],ia=0;while(++h9<ib){h8=e;e=this[h9];ia+=h8[1]*e[0]-h8[0]*e[1]}return ia*0.5};en.centroid=function(ia){var ib=-1,ie=this.length,h8=0,id=0,h9,e=this[ie-1],ic;if(!arguments.length){ia=-1/(6*this.area())}while(++ib<ie){h9=e;e=this[ib];ic=h9[0]*e[1]-e[0]*h9[1];h8+=(h9[0]+e[0])*ic;id+=(h9[1]+e[1])*ic}return[h8*ia,id*ia]};en.clip=function(ie){var ih,ib=gP(ie),ia=-1,e=this.length-gP(this),h9,h8,ii=this[e-1],ig,id,ic;while(++ia<e){ih=ie.slice();ie.length=0;ig=this[ia];id=ih[(h8=ih.length-ib)-1];h9=-1;while(++h9<h8){ic=ih[h9];if(A(ic,ii,ig)){if(!A(id,ii,ig)){ie.push(gf(id,ic,ii,ig))}ie.push(ic)}else{if(A(id,ii,ig)){ie.push(gf(id,ic,ii,ig))}}id=ic}if(ib){ie.push(ie[0])}ii=ig}return ie};function A(h9,h8,e){return(e[0]-h8[0])*(h9[1]-h8[1])<(e[1]-h8[1])*(h9[0]-h8[0])}function gf(id,ib,ii,ie){var h9=id[0],e=ii[0],ia=ib[0]-h9,ij=ie[0]-e,ih=id[1],ic=ii[1],ig=ib[1]-ih,ik=ie[1]-ic,h8=(ij*(ih-ic)-ik*(h9-e))/(ik*ia-ij*ig);return[h9+h8*ia,ih+h8*ig]}function gP(h9){var h8=h9[0],e=h9[h9.length-1];return !(h8[0]-e[0]||h8[1]-e[1])}var gL,et,cO,da=[],ha,dZ,eq=[];function gz(){p(this);this.edge=this.site=this.circle=null}function eU(h8){var e=da.pop()||new gz();e.site=h8;return e}function gy(e){eJ(e);cO.remove(e);da.push(e);p(e)}function hm(h8){var e=h8.circle,ih=e.x,id=e.cy,ib={x:ih,y:id},ic=h8.P,ia=h8.N,ig=[h8];gy(h8);var ij=ic;while(ij.circle&&cD(ih-ij.circle.x)<gj&&cD(id-ij.circle.cy)<gj){ic=ij.P;ig.unshift(ij);gy(ij);ij=ic}ig.unshift(ij);eJ(ij);var h9=ia;while(h9.circle&&cD(ih-h9.circle.x)<gj&&cD(id-h9.circle.cy)<gj){ia=h9.N;ig.push(h9);gy(h9);h9=ia}ig.push(h9);eJ(h9);var ii=ig.length,ie;for(ie=1;ie<ii;++ie){h9=ig[ie];ij=ig[ie-1];cm(h9.edge,ij.site,h9.site,ib)}ij=ig[0];h9=ig[ii-1];h9.edge=hg(ij.site,h9.site,null,ib);S(ij);S(h9)}function dr(ii){var ig=ii.x,ik=ii.y,im,ij,iu,io,il=cO._;while(il){iu=c4(il,ik)-ig;if(iu>gj){il=il.L}else{io=ig-f9(il,ik);if(io>gj){if(!il.R){im=il;break}il=il.R}else{if(iu>-gj){im=il.P;ij=il}else{if(io>-gj){im=il;ij=il.N}else{im=ij=il}}break}}}var ia=eU(ii);cO.insert(im,ia);if(!im&&!ij){return}if(im===ij){eJ(im);ij=eU(im.site);cO.insert(ia,ij);ia.edge=ij.edge=hg(im.site,ia.site);S(im);S(ij);return}if(!ij){ia.edge=hg(im.site,ia.site);return}eJ(im);eJ(ij);var id=im.site,ih=id.x,ie=id.y,ir=ii.x-ih,ip=ii.y-ie,e=ij.site,h9=e.x-ih,h8=e.y-ie,it=2*(ir*h8-ip*h9),ic=ir*ir+ip*ip,ib=h9*h9+h8*h8,iq={x:(h8*ic-ip*ib)/it+ih,y:(ir*ib-h9*ic)/it+ie};cm(ij.edge,id,e,iq);ia.edge=hg(id,ii,null,iq);ij.edge=hg(ii,e,null,iq);S(im);S(ij)}function c4(ia,ib){var e=ia.site,ij=e.x,ii=e.y,ih=ii-ib;if(!ih){return ij}var ik=ia.P;if(!ik){return -Infinity}e=ik.site;var id=e.x,ic=e.y,h9=ic-ib;if(!h9){return id}var h8=id-ij,ig=1/ih-1/h9,ie=h8/h9;if(ig){return(-ie+Math.sqrt(ie*ie-2*ig*(h8*h8/(-2*h9)-ic+h9/2+ii-ih/2)))/ig+ij}return(ij+id)/2}function f9(h8,h9){var ia=h8.N;if(ia){return c4(ia,h9)}var e=h8.site;return e.y===h9?e.x:Infinity}function bV(e){this.site=e;this.edges=[]}bV.prototype.prepare=function(){var h9=this.edges,e=h9.length,h8;while(e--){h8=h9[e].edge;if(!h8.b||!h8.a){h9.splice(e,1)}}h9.sort(q);return h9.length};function bv(ip){var id=ip[0][0],ic=ip[1][0],ik=ip[0][1],ij=ip[1][1],ia,ii,e,ih,io=et,h9=io.length,im,il,ig,h8,ib,ie;while(h9--){im=io[h9];if(!im||!im.prepare()){continue}ig=im.edges;h8=ig.length;il=0;while(il<h8){ie=ig[il].end(),e=ie.x,ih=ie.y;ib=ig[++il%h8].start(),ia=ib.x,ii=ib.y;if(cD(e-ia)>gj||cD(ih-ii)>gj){ig.splice(il,0,new hX(g5(im.site,ie,cD(e-id)<gj&&ij-ih>gj?{x:id,y:cD(ia-id)<gj?ii:ij}:cD(ih-ij)<gj&&ic-e>gj?{x:cD(ii-ij)<gj?ia:ic,y:ij}:cD(e-ic)<gj&&ih-ik>gj?{x:ic,y:cD(ia-ic)<gj?ii:ik}:cD(ih-ik)<gj&&e-id>gj?{x:cD(ii-ik)<gj?ia:id,y:ik}:null),im.site,null));++h8}}}}function q(h8,e){return e.angle-h8.angle}function aS(){p(this);this.x=this.y=this.arc=this.site=this.cy=null}function S(id){var io=id.P,il=id.N;if(!io||!il){return}var ig=io.site,ir=id.site,e=il.site;if(ig===e){return}var iq=ir.x,ip=ir.y,ij=ig.x-iq,ih=ig.y-ip,h9=e.x-iq,h8=e.y-ip;var it=2*(ij*h8-ih*h9);if(it>=-eA){return}var ic=ij*ij+ih*ih,ib=h9*h9+h8*h8,ii=(h8*ic-ih*ib)/it,ie=(ij*ib-h9*ic)/it,h8=ie+ip;var ia=eq.pop()||new aS();ia.arc=id;ia.site=ir;ia.x=ii+iq;ia.y=h8+Math.sqrt(ii*ii+ie*ie);ia.cy=h8;id.circle=ia;var ik=null,im=dZ._;while(im){if(ia.y<im.y||ia.y===im.y&&ia.x<=im.x){if(im.L){im=im.L}else{ik=im.P;break}}else{if(im.R){im=im.R}else{ik=im;break}}}dZ.insert(ik,ia);if(!ik){ha=ia}}function eJ(e){var h8=e.circle;if(h8){if(!h8.P){ha=h8.N}dZ.remove(h8);eq.push(h8);p(h8);e.circle=null}}function hz(ia){var h8=gL,ib=ag(ia[0][0],ia[0][1],ia[1][0],ia[1][1]),h9=h8.length,ic;while(h9--){ic=h8[h9];if(!bj(ic,ia)||!ib(ic)||cD(ic.a.x-ic.b.x)<gj&&cD(ic.a.y-ic.b.y)<gj){ic.a=ic.b=null;h8.splice(h9,1)}}}function bj(ij,im){var e=ij.b;if(e){return true}var h8=ij.a,iq=im[0][0],ip=im[1][0],ic=im[0][1],ia=im[1][1],il=ij.l,h9=ij.r,ig=il.x,ie=il.y,ii=h9.x,ih=h9.y,id=(ig+ii)/2,ib=(ie+ih)/2,ik,io;if(ih===ie){if(id<iq||id>=ip){return}if(ig>ii){if(!h8){h8={x:id,y:ic}}else{if(h8.y>=ia){return}}e={x:id,y:ia}}else{if(!h8){h8={x:id,y:ia}}else{if(h8.y<ic){return}}e={x:id,y:ic}}}else{ik=(ig-ii)/(ih-ie);io=ib-ik*id;if(ik<-1||ik>1){if(ig>ii){if(!h8){h8={x:(ic-io)/ik,y:ic}}else{if(h8.y>=ia){return}}e={x:(ia-io)/ik,y:ia}}else{if(!h8){h8={x:(ia-io)/ik,y:ia}}else{if(h8.y<ic){return}}e={x:(ic-io)/ik,y:ic}}}else{if(ie<ih){if(!h8){h8={x:iq,y:ik*iq+io}}else{if(h8.x>=ip){return}}e={x:ip,y:ik*ip+io}}else{if(!h8){h8={x:ip,y:ik*ip+io}}else{if(h8.x<iq){return}}e={x:iq,y:ik*iq+io}}}}ij.a=h8;ij.b=e;return true}function C(h8,e){this.l=h8;this.r=e;this.a=this.b=null}function hg(ib,e,ia,h8){var h9=new C(ib,e);gL.push(h9);if(ia){cm(h9,ib,e,ia)}if(h8){cm(h9,e,ib,h8)}et[ib.i].edges.push(new hX(h9,ib,e));et[e.i].edges.push(new hX(h9,e,ib));return h9}function g5(ia,h9,e){var h8=new C(ia,null);h8.a=h9;h8.b=e;gL.push(h8);return h8}function cm(h8,ia,e,h9){if(!h8.a&&!h8.b){h8.a=h9;h8.l=ia;h8.r=e}else{if(h8.l===e){h8.b=h9}else{h8.a=h9}}}function hX(ia,ib,e){var h9=ia.a,h8=ia.b;this.edge=ia;this.site=ib;this.angle=e?Math.atan2(e.y-ib.y,e.x-ib.x):ia.l===ib?Math.atan2(h8.x-h9.x,h9.y-h8.y):Math.atan2(h9.x-h8.x,h8.y-h9.y)}hX.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function a7(){this._=null}function p(e){e.U=e.C=e.L=e.R=e.P=e.N=null}a7.prototype={insert:function(ib,ia){var h9,h8,e;if(ib){ia.P=ib;ia.N=ib.N;if(ib.N){ib.N.P=ia}ib.N=ia;if(ib.R){ib=ib.R;while(ib.L){ib=ib.L}ib.L=ia}else{ib.R=ia}h9=ib}else{if(this._){ib=c7(this._);ia.P=null;ia.N=ib;ib.P=ib.L=ia;h9=ib}else{ia.P=ia.N=null;this._=ia;h9=null}}ia.L=ia.R=null;ia.U=h9;ia.C=true;ib=ia;while(h9&&h9.C){h8=h9.U;if(h9===h8.L){e=h8.R;if(e&&e.C){h9.C=e.C=false;h8.C=true;ib=h8}else{if(ib===h9.R){ae(this,h9);ib=h9;h9=ib.U}h9.C=false;h8.C=true;eN(this,h8)}}else{e=h8.L;if(e&&e.C){h9.C=e.C=false;h8.C=true;ib=h8}else{if(ib===h9.L){eN(this,h9);ib=h9;h9=ib.U}h9.C=false;h8.C=true;ae(this,h8)}}h9=ib.U}this._.C=false},remove:function(ib){if(ib.N){ib.N.P=ib.P}if(ib.P){ib.P.N=ib.N}ib.N=ib.P=null;var ia=ib.U,h9,id=ib.L,e=ib.R,h8,ic;if(!id){h8=e}else{if(!e){h8=id}else{h8=c7(e)}}if(ia){if(ia.L===ib){ia.L=h8}else{ia.R=h8}}else{this._=h8}if(id&&e){ic=h8.C;h8.C=ib.C;h8.L=id;id.U=h8;if(h8!==e){ia=h8.U;h8.U=ib.U;ib=h8.R;ia.L=ib;h8.R=e;e.U=h8}else{h8.U=ia;ia=h8;ib=h8.R}}else{ic=ib.C;ib=h8}if(ib){ib.U=ia}if(ic){return}if(ib&&ib.C){ib.C=false;return}do{if(ib===this._){break}if(ib===ia.L){h9=ia.R;if(h9.C){h9.C=false;ia.C=true;ae(this,ia);h9=ia.R}if(h9.L&&h9.L.C||h9.R&&h9.R.C){if(!h9.R||!h9.R.C){h9.L.C=false;h9.C=true;eN(this,h9);h9=ia.R}h9.C=ia.C;ia.C=h9.R.C=false;ae(this,ia);ib=this._;break}}else{h9=ia.L;if(h9.C){h9.C=false;ia.C=true;eN(this,ia);h9=ia.L}if(h9.L&&h9.L.C||h9.R&&h9.R.C){if(!h9.L||!h9.L.C){h9.R.C=false;h9.C=true;ae(this,h9);h9=ia.L}h9.C=ia.C;ia.C=h9.L.C=false;eN(this,ia);ib=this._;break}}h9.C=true;ib=ia;ia=ia.U}while(!ib.C);if(ib){ib.C=false}}};function ae(e,h9){var ib=h9,ia=h9.R,h8=ib.U;if(h8){if(h8.L===ib){h8.L=ia}else{h8.R=ia}}else{e._=ia}ia.U=h8;ib.U=ia;ib.R=ia.L;if(ib.R){ib.R.U=ib}ia.L=ib}function eN(e,h9){var ib=h9,ia=h9.L,h8=ib.U;if(h8){if(h8.L===ib){h8.L=ia}else{h8.R=ia}}else{e._=ia}ia.U=h8;ib.U=ia;ib.L=ia.R;if(ib.L){ib.L.U=ib}ia.R=ib}function c7(e){while(e.L){e=e.L}return e}function gY(ic,id){var h8=ic.sort(bh).pop(),h9,ia,ib;gL=[];et=new Array(ic.length);cO=new a7();dZ=new a7();while(true){ib=ha;if(h8&&(!ib||h8.y<ib.y||h8.y===ib.y&&h8.x<ib.x)){if(h8.x!==h9||h8.y!==ia){et[h8.i]=new bV(h8);dr(h8);h9=h8.x,ia=h8.y}h8=ic.pop()}else{if(ib){hm(ib.arc)}else{break}}}if(id){hz(id),bv(id)}var e={cells:et,edges:gL};cO=dZ=gL=et=null;return e}function bh(h8,e){return e.y-h8.y||e.x-h8.x}hk.geom.voronoi=function(ia){var e=hR,ie=hQ,ib=e,h9=ie,h8=hD;if(ia){return id(ia)}function id(il){var ig=new Array(il.length),ii=h8[0][0],ik=h8[0][1],ih=h8[1][0],ij=h8[1][1];gY(ic(il),h8).cells.forEach(function(im,ir){var io=im.edges,ip=im.site,iq=ig[ir]=io.length?io.map(function(iu){var it=iu.start();return[it.x,it.y]}):ip.x>=ii&&ip.x<=ih&&ip.y>=ik&&ip.y<=ij?[[ii,ij],[ih,ij],[ih,ik],[ii,ik]]:[];iq.point=il[ir]});return ig}function ic(ig){return ig.map(function(ii,ih){return{x:Math.round(ib(ii,ih)/gj)*gj,y:Math.round(h9(ii,ih)/gj)*gj,i:ih}})}id.links=function(ig){return gY(ic(ig)).edges.filter(function(ih){return ih.l&&ih.r}).map(function(ih){return{source:ig[ih.l.i],target:ig[ih.r.i]}})};id.triangles=function(ih){var ig=[];gY(ic(ih)).cells.forEach(function(ir,im){var ii=ir.site,il=ir.edges.sort(q),ik=-1,ij=il.length,ip,it,io=il[ij-1].edge,iq=io.l===ii?io.r:io.l;while(++ik<ij){ip=io;it=iq;io=il[ik].edge;iq=io.l===ii?io.r:io.l;if(im<it.i&&im<iq.i&&gx(ii,it,iq)<0){ig.push([ih[im],ih[it.i],ih[iq.i]])}}});return ig};id.x=function(ig){return arguments.length?(ib=N(e=ig),id):e};id.y=function(ig){return arguments.length?(h9=N(ie=ig),id):ie};id.clipExtent=function(ig){if(!arguments.length){return h8===hD?null:h8}h8=ig==null?hD:ig;return id};id.size=function(ig){if(!arguments.length){return h8===hD?null:h8&&h8[1]}return id.clipExtent(ig&&[[0,0],ig])};return id};var hD=[[-1000000,-1000000],[1000000,1000000]];function gx(h8,e,h9){return(h8.x-h9.x)*(e.y-h8.y)-(h8.x-e.x)*(h9.y-h8.y)}hk.geom.delaunay=function(e){return hk.geom.voronoi().triangles(e)};hk.geom.quadtree=function(ie,h8,ic,e,ib){var id=hR,ia=hQ,ig;if(ig=arguments.length){id=f0;ia=fY;if(ig===3){ib=ic;e=h8;ic=h8=0}return h9(ie)}function h9(iB){var iy,il=N(id),ij=N(ia),io,iv,iw,it,ih,ir,im,iA;if(h8!=null){ih=h8,ir=ic,im=e,iA=ib}else{im=iA=-(ih=ir=Infinity);io=[],iv=[];it=iB.length;if(ig){for(iw=0;iw<it;++iw){iy=iB[iw];if(iy.x<ih){ih=iy.x}if(iy.y<ir){ir=iy.y}if(iy.x>im){im=iy.x}if(iy.y>iA){iA=iy.y}io.push(iy.x);iv.push(iy.y)}}else{for(iw=0;iw<it;++iw){var ix=+il(iy=iB[iw],iw),ik=+ij(iy,iw);if(ix<ih){ih=ix}if(ik<ir){ir=ik}if(ix>im){im=ix}if(ik>iA){iA=ik}io.push(ix);iv.push(ik)}}}var iq=im-ih,ip=iA-ir;if(iq>ip){iA=ir+iq}else{im=ih+ip}function ii(iE,iI,iM,iJ,iD,iL,iC,iK){if(isNaN(iM)||isNaN(iJ)){return}if(iE.leaf){var iH=iE.x,iG=iE.y;if(iH!=null){if(cD(iH-iM)+cD(iG-iJ)<0.01){iz(iE,iI,iM,iJ,iD,iL,iC,iK)}else{var iF=iE.point;iE.x=iE.y=iE.point=null;iz(iE,iF,iH,iG,iD,iL,iC,iK);iz(iE,iI,iM,iJ,iD,iL,iC,iK)}}else{iE.x=iM,iE.y=iJ,iE.point=iI}}else{iz(iE,iI,iM,iJ,iD,iL,iC,iK)}}function iz(iF,iI,iM,iJ,iD,iL,iC,iK){var iH=(iD+iC)*0.5,iE=(iL+iK)*0.5,iO=iM>=iH,iN=iJ>=iE,iG=iN<<1|iO;iF.leaf=false;iF=iF.nodes[iG]||(iF.nodes[iG]=fD());if(iO){iD=iH}else{iC=iH}if(iN){iL=iE}else{iK=iE}ii(iF,iI,iM,iJ,iD,iL,iC,iK)}var iu=fD();iu.add=function(iC){ii(iu,iC,+il(iC,++iw),+ij(iC,iw),ih,ir,im,iA)};iu.visit=function(iC){cJ(iC,iu,ih,ir,im,iA)};iu.find=function(iC){return eh(iu,iC[0],iC[1],ih,ir,im,iA)};iw=-1;if(h8==null){while(++iw<it){ii(iu,iB[iw],io[iw],iv[iw],ih,ir,im,iA)}--iw}else{iB.forEach(iu.add)}io=iv=iB=iy=null;return iu}h9.x=function(ih){return arguments.length?(id=ih,h9):id};h9.y=function(ih){return arguments.length?(ia=ih,h9):ia};h9.extent=function(ih){if(!arguments.length){return h8==null?null:[[h8,ic],[e,ib]]}if(ih==null){h8=ic=e=ib=null}else{h8=+ih[0][0],ic=+ih[0][1],e=+ih[1][0],ib=+ih[1][1]}return h9};h9.size=function(ih){if(!arguments.length){return h8==null?null:[e-h8,ib-ic]}if(ih==null){h8=ic=e=ib=null}else{h8=ic=0,e=+ih[0],ib=+ih[1]}return h9};return h9};function f0(e){return e.x}function fY(e){return e.y}function fD(){return{leaf:true,nodes:[],point:null,x:null,y:null}}function cJ(ib,ia,h8,ig,e,id){if(!ib(ia,h8,ig,e,id)){var ie=(h8+e)*0.5,ic=(ig+id)*0.5,h9=ia.nodes;if(h9[0]){cJ(ib,h9[0],h8,ig,ie,ic)}if(h9[1]){cJ(ib,h9[1],ie,ig,e,ic)}if(h9[2]){cJ(ib,h9[2],h8,ic,ie,id)}if(h9[3]){cJ(ib,h9[3],ie,ic,e,id)}}}function eh(id,ig,ic,h9,ih,e,ib){var ie=Infinity,h8;(function ia(io,ik,iv,ij,iu){if(ik>e||iv>ib||ij<h9||iu<ih){return}if(ix=io.point){var ix,iA=ig-io.x,iz=ic-io.y,it=iA*iA+iz*iz;if(it<ie){var ii=Math.sqrt(ie=it);h9=ig-ii,ih=ic-ii;e=ig+ii,ib=ic+ii;h8=ix}}var im=io.nodes,ir=(ik+ij)*0.5,il=(iv+iu)*0.5,iy=ig>=ir,iw=ic>=il;for(var iq=iw<<1|iy,ip=iq+4;iq<ip;++iq){if(io=im[iq&3]){switch(iq&3){case 0:ia(io,ik,iv,ir,il);break;case 1:ia(io,ir,iv,ij,il);break;case 2:ia(io,ik,il,ir,iu);break;case 3:ia(io,ir,il,ij,iu);break}}}})(id,h9,ih,e,ib);return h8}hk.interpolateRgb=aJ;function aJ(h8,e){h8=hk.rgb(h8);e=hk.rgb(e);var ia=h8.r,h9=h8.g,id=h8.b,ic=e.r-ia,ib=e.g-h9,ie=e.b-id;return function(ig){return"#"+cs(Math.round(ia+ic*ig))+cs(Math.round(h9+ib*ig))+cs(Math.round(id+ie*ig))}}hk.interpolateObject=bJ;function bJ(h8,e){var ia={},ib={},h9;for(h9 in h8){if(h9 in e){ia[h9]=fy(h8[h9],e[h9])}else{ib[h9]=h8[h9]}}for(h9 in e){if(!(h9 in h8)){ib[h9]=e[h9]}}return function(ic){for(h9 in ia){ib[h9]=ia[h9](ic)}return ib}}hk.interpolateNumber=bD;function bD(h8,e){h8=+h8,e=+e;return function(h9){return h8*(1-h9)+e*h9}}hk.interpolateString=bY;function bY(id,ic){var h9=hy.lastIndex=hw.lastIndex=0,ib,h8,ie,ia=-1,ig=[],e=[];id=id+"",ic=ic+"";while((ib=hy.exec(id))&&(h8=hw.exec(ic))){if((ie=h8.index)>h9){ie=ic.slice(h9,ie);if(ig[ia]){ig[ia]+=ie}else{ig[++ia]=ie}}if((ib=ib[0])===(h8=h8[0])){if(ig[ia]){ig[ia]+=h8}else{ig[++ia]=h8}}else{ig[++ia]=null;e.push({i:ia,x:bD(ib,h8)})}h9=hw.lastIndex}if(h9<ic.length){ie=ic.slice(h9);if(ig[ia]){ig[ia]+=ie}else{ig[++ia]=ie}}return ig.length<2?e[0]?(ic=e[0].x,function(ih){return ic(ih)+""}):function(){return ic}:(ic=e.length,function(ii){for(var ih=0,ij;ih<ic;++ih){ig[(ij=e[ih]).i]=ij.x(ii)}return ig.join("")})}var hy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hw=new RegExp(hy.source,"g");hk.interpolate=fy;function fy(h8,e){var h9=hk.interpolators.length,ia;while(--h9>=0&&!(ia=hk.interpolators[h9](h8,e))){}return ia}hk.interpolators=[function(h8,e){var h9=typeof e;return(h9==="string"?ai.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?aJ:bY:e instanceof gR?aJ:Array.isArray(e)?eL:h9==="object"&&isNaN(e)?bJ:bD)(h8,e)}];hk.interpolateArray=eL;function eL(ib,h9){var h8=[],ie=[],ia=ib.length,e=h9.length,id=Math.min(ib.length,h9.length),ic;for(ic=0;ic<id;++ic){h8.push(fy(ib[ic],h9[ic]))}for(;ic<ia;++ic){ie[ic]=ib[ic]}for(;ic<e;++ic){ie[ic]=h9[ic]}return function(ig){for(ic=0;ic<id;++ic){ie[ic]=h8[ic](ig)}return ie}}var hf=function(){return gh};var X=hk.map({linear:hf,poly:aO,quad:function(){return bW},cubic:function(){return E},sin:function(){return f8},exp:function(){return fq},circle:function(){return d1},elastic:R,back:gW,bounce:function(){return ch}});var g=hk.map({"in":gh,out:z,"in-out":aZ,"out-in":function(e){return aZ(z(e))}});hk.ease=function(h8){var ia=h8.indexOf("-"),h9=ia>=0?h8.slice(0,ia):h8,e=ia>=0?h8.slice(ia+1):"in";h9=X.get(h9)||hf;e=g.get(e)||gh;return fv(e(h9.apply(null,bL.call(arguments,1))))};function fv(e){return function(h8){return h8<=0?0:h8>=1?1:e(h8)}}function z(e){return function(h8){return 1-e(1-h8)}}function aZ(e){return function(h8){return 0.5*(h8<0.5?e(2*h8):2-e(2-2*h8))}}function bW(e){return e*e}function E(e){return e*e*e}function ar(h8){if(h8<=0){return 0}if(h8>=1){return 1}var h9=h8*h8,e=h9*h8;return 4*(h8<0.5?e:3*(h8-h9)+e-0.75)}function aO(h8){return function(e){return Math.pow(e,h8)}}function f8(e){return 1-Math.cos(e*em)}function fq(e){return Math.pow(2,10*(e-1))}function d1(e){return 1-Math.sqrt(1-e*e)}function R(e,h9){var h8;if(arguments.length<2){h9=0.45}if(arguments.length){h8=h9/f4*Math.asin(1/e)}else{e=1,h8=h9/4}return function(ia){return 1+e*Math.pow(2,-10*ia)*Math.sin((ia-h8)*f4/h9)}}function gW(e){if(!e){e=1.70158}return function(h8){return h8*h8*((e+1)*h8-e)}}function ch(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+0.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+0.9375:7.5625*(e-=2.625/2.75)*e+0.984375}hk.interpolateHcl=gO;function gO(h9,e){h9=hk.hcl(h9);e=hk.hcl(e);var h8=h9.h,ib=h9.c,id=h9.l,ia=e.h-h8,ic=e.c-ib,ie=e.l-id;if(isNaN(ic)){ic=0,ib=isNaN(ib)?e.c:ib}if(isNaN(ia)){ia=0,h8=isNaN(h8)?e.h:h8}else{if(ia>180){ia-=360}else{if(ia<-180){ia+=360}}}return function(ig){return bA(h8+ia*ig,ib+ic*ig,id+ie*ig)+""}}hk.interpolateHsl=a0;function a0(ia,e){ia=hk.hsl(ia);e=hk.hsl(e);var h9=ia.h,h8=ia.s,id=ia.l,ic=e.h-h9,ib=e.s-h8,ie=e.l-id;if(isNaN(ib)){ib=0,h8=isNaN(h8)?e.s:h8}if(isNaN(ic)){ic=0,h9=isNaN(h9)?e.h:h9}else{if(ic>180){ic-=360}else{if(ic<-180){ic+=360}}}return function(ig){return bd(h9+ic*ig,h8+ib*ig,id+ie*ig)+""}}hk.interpolateLab=hv;function hv(h8,e){h8=hk.lab(h8);e=hk.lab(e);var ib=h8.l,ia=h8.a,h9=h8.b,ie=e.l-ib,id=e.a-ia,ic=e.b-h9;return function(ig){return ay(ib+ie*ig,ia+id*ig,h9+ic*ig)+""}}hk.interpolateRound=ft;function ft(h8,e){e-=h8;return function(h9){return Math.round(h8+e*h9)}}hk.transform=function(e){var h8=bK.createElementNS(hk.ns.prefix.svg,"g");return(hk.transform=function(h9){if(h9!=null){h8.setAttribute("transform",h9);var ia=h8.transform.baseVal.consolidate()}return new l(ia?ia.matrix:f5)})(e)};function l(e){var ia=[e.a,e.b],h8=[e.c,e.d],ic=fl(ia),h9=eV(ia,h8),ib=fl(bP(h8,ia,-h9))||0;if(ia[0]*h8[1]<h8[0]*ia[1]){ia[0]*=-1;ia[1]*=-1;ic*=-1;h9*=-1}this.rotate=(ic?Math.atan2(ia[1],ia[0]):Math.atan2(-h8[0],h8[1]))*hB;this.translate=[e.e,e.f];this.scale=[ic,ib];this.skew=ib?Math.atan2(h9,ib)*hB:0}l.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function eV(h8,e){return h8[0]*e[0]+h8[1]*e[1]}function fl(e){var h8=Math.sqrt(eV(e,e));if(h8){e[0]/=h8;e[1]/=h8}return h8}function bP(h8,e,h9){h8[0]+=h9*e[0];h8[1]+=h9*e[1];return h8}var f5={a:1,b:0,c:0,d:1,e:0,f:0};hk.interpolateTransform=ed;function aQ(e){return e.length?e.pop()+",":""}function hP(h8,e,ia,ib){if(h8[0]!==e[0]||h8[1]!==e[1]){var h9=ia.push("translate(",null,",",null,")");ib.push({i:h9-4,x:bD(h8[0],e[0])},{i:h9-2,x:bD(h8[1],e[1])})}else{if(e[0]||e[1]){ia.push("translate("+e+")")}}}function g0(ia,h9,e,h8){if(ia!==h9){if(ia-h9>180){h9+=360}else{if(h9-ia>180){ia+=360}}h8.push({i:e.push(aQ(e)+"rotate(",null,")")-2,x:bD(ia,h9)})}else{if(h9){e.push(aQ(e)+"rotate("+h9+")")}}}function dj(ia,h9,e,h8){if(ia!==h9){h8.push({i:e.push(aQ(e)+"skewX(",null,")")-2,x:bD(ia,h9)})}else{if(h9){e.push(aQ(e)+"skewX("+h9+")")}}}function gU(ia,h9,h8,ib){if(ia[0]!==h9[0]||ia[1]!==h9[1]){var e=h8.push(aQ(h8)+"scale(",null,",",null,")");ib.push({i:e-4,x:bD(ia[0],h9[0])},{i:e-2,x:bD(ia[1],h9[1])})}else{if(h9[0]!==1||h9[1]!==1){h8.push(aQ(h8)+"scale("+h9+")")}}}function ed(h8,e){var h9=[],ia=[];h8=hk.transform(h8),e=hk.transform(e);hP(h8.translate,e.translate,h9,ia);g0(h8.rotate,e.rotate,h9,ia);dj(h8.skew,e.skew,h9,ia);gU(h8.scale,e.scale,h9,ia);h8=e=null;return function(ic){var ib=-1,ie=ia.length,id;while(++ib<ie){h9[(id=ia[ib]).i]=id.x(ic)}return h9.join("")}}function hs(h8,e){e=(e-=h8=+h8)||1/e;return function(h9){return(h9-h8)/e}}function av(h8,e){e=(e-=h8=+h8)||1/e;return function(h9){return Math.max(0,Math.min(1,(h9-h8)/e))}}hk.layout={};hk.layout.bundle=function(){return function(e){var h9=[],h8=-1,ia=e.length;while(++h8<ia){h9.push(eH(e[h8]))}return h9}};function eH(ia){var ic=ia.source,e=ia.target,ib=fG(ic,e),h9=[ic];while(ic!==ib){ic=ic.parent;h9.push(ic)}var h8=h9.length;while(e!==ib){h9.splice(h8,0,e);e=e.parent}return h9}function fk(h9){var h8=[],e=h9.parent;while(e!=null){h8.push(h9);h9=e;e=e.parent}h8.push(h9);return h8}function fG(ia,h8){if(ia===h8){return ia}var h9=fk(ia),e=fk(h8),ib=h9.pop(),ic=e.pop(),id=null;while(ib===ic){id=ib;ib=h9.pop();ic=e.pop()}return id}hk.layout.chord=function(){var ic={},id,ia,ii,h9,ih=0,e,h8,ib;function ig(){var io={},ir=[],iA=hk.range(h9),iw=[],ip,iy,im,it,iq;id=[];ia=[];ip=0,it=-1;while(++it<h9){iy=0,iq=-1;while(++iq<h9){iy+=ii[it][iq]}ir.push(iy);iw.push(hk.range(h9));ip+=iy}if(e){iA.sort(function(iC,iB){return e(ir[iC],ir[iB])})}if(h8){iw.forEach(function(iC,iB){iC.sort(function(iE,iD){return h8(ii[iB][iE],ii[iB][iD])})})}ip=(f4-ih*h9)/ip;iy=0,it=-1;while(++it<h9){im=iy,iq=-1;while(++iq<h9){var ix=iA[it],iv=iw[ix][iq],iz=ii[ix][iv],il=iy,ik=iy+=iz*ip;io[ix+"-"+iv]={index:ix,subindex:iv,startAngle:il,endAngle:ik,value:iz}}ia[ix]={index:ix,startAngle:im,endAngle:iy,value:ir[ix]};iy+=ih}it=-1;while(++it<h9){iq=it-1;while(++iq<h9){var ij=io[it+"-"+iq],iu=io[iq+"-"+it];if(ij.value||iu.value){id.push(ij.value<iu.value?{source:iu,target:ij}:{source:ij,target:iu})}}}if(ib){ie()}}function ie(){id.sort(function(ik,ij){return ib((ik.source.value+ik.target.value)/2,(ij.source.value+ij.target.value)/2)})}ic.matrix=function(ij){if(!arguments.length){return ii}h9=(ii=ij)&&ii.length;id=ia=null;return ic};ic.padding=function(ij){if(!arguments.length){return ih}ih=ij;id=ia=null;return ic};ic.sortGroups=function(ij){if(!arguments.length){return e}e=ij;id=ia=null;return ic};ic.sortSubgroups=function(ij){if(!arguments.length){return h8}h8=ij;id=null;return ic};ic.sortChords=function(ij){if(!arguments.length){return ib}ib=ij;if(id){ie()}return ic};ic.chords=function(){if(!id){ig()}return id};ic.groups=function(){if(!ia){ig()}return ia};return ic};hk.layout.force=function(){var h8={},ip=hk.dispatch("start","tick","end"),ig,ii=[1,1],ir,ib,ie=0.9,it=fM,ia=cq,io=-30,il=b8,ic=0.1,ij=0.64,im=[],h9=[],id,e,ih;function iq(iu){return function(iB,ix,iA,iw){if(iB.point!==iu){var iD=iB.cx-iu.x,iC=iB.cy-iu.y,iv=iw-ix,iz=iD*iD+iC*iC;if(iv*iv/ij<iz){if(iz<il){var iy=iB.charge/iz;iu.px-=iD*iy;iu.py-=iC*iy}return true}if(iB.point&&iz&&iz<il){var iy=iB.pointCharge/iz;iu.px-=iD*iy;iu.py-=iC*iy}}return !iB.charge}}h8.tick=function(){if((ib*=0.99)<0.005){ig=null;ip.end({type:"end",alpha:ib=0});return true}var iw=im.length,ix=h9.length,iu,iA,iv,iE,iD,iy,iz,iC,iB;for(iA=0;iA<ix;++iA){iv=h9[iA];iE=iv.source;iD=iv.target;iC=iD.x-iE.x;iB=iD.y-iE.y;if(iy=iC*iC+iB*iB){iy=ib*e[iA]*((iy=Math.sqrt(iy))-id[iA])/iy;iC*=iy;iB*=iy;iD.x-=iC*(iz=iE.weight+iD.weight?iE.weight/(iE.weight+iD.weight):0.5);iD.y-=iB*iz;iE.x+=iC*(iz=1-iz);iE.y+=iB*iz}}if(iz=ib*ic){iC=ii[0]/2;iB=ii[1]/2;iA=-1;if(iz){while(++iA<iw){iv=im[iA];iv.x+=(iC-iv.x)*iz;iv.y+=(iB-iv.y)*iz}}}if(io){gw(iu=hk.geom.quadtree(im),ib,ih);iA=-1;while(++iA<iw){if(!(iv=im[iA]).fixed){iu.visit(iq(iv))}}}iA=-1;while(++iA<iw){iv=im[iA];if(iv.fixed){iv.x=iv.px;iv.y=iv.py}else{iv.x-=(iv.px-(iv.px=iv.x))*ie;iv.y-=(iv.py-(iv.py=iv.y))*ie}}ip.tick({type:"tick",alpha:ib})};h8.nodes=function(iu){if(!arguments.length){return im}im=iu;return h8};h8.links=function(iu){if(!arguments.length){return h9}h9=iu;return h8};h8.size=function(iu){if(!arguments.length){return ii}ii=iu;return h8};h8.linkDistance=function(iu){if(!arguments.length){return it}it=typeof iu==="function"?iu:+iu;return h8};h8.distance=h8.linkDistance;h8.linkStrength=function(iu){if(!arguments.length){return ia}ia=typeof iu==="function"?iu:+iu;return h8};h8.friction=function(iu){if(!arguments.length){return ie}ie=+iu;return h8};h8.charge=function(iu){if(!arguments.length){return io}io=typeof iu==="function"?iu:+iu;return h8};h8.chargeDistance=function(iu){if(!arguments.length){return Math.sqrt(il)}il=iu*iu;return h8};h8.gravity=function(iu){if(!arguments.length){return ic}ic=+iu;return h8};h8.theta=function(iu){if(!arguments.length){return Math.sqrt(ij)}ij=iu*iu;return h8};h8.alpha=function(iu){if(!arguments.length){return ib}iu=+iu;if(ib){if(iu>0){ib=iu}else{ig.c=null,ig.t=NaN,ig=null;ip.end({type:"end",alpha:ib=0})}}else{if(iu>0){ip.start({type:"start",alpha:ib=iu});ig=gZ(h8.tick)}}return h8};h8.start=function(){var iy,iB=im.length,iv=h9.length,iw=ii[0],iz=ii[1],ix,iA;for(iy=0;iy<iB;++iy){(iA=im[iy]).index=iy;iA.weight=0}for(iy=0;iy<iv;++iy){iA=h9[iy];if(typeof iA.source=="number"){iA.source=im[iA.source]}if(typeof iA.target=="number"){iA.target=im[iA.target]}++iA.source.weight;++iA.target.weight}for(iy=0;iy<iB;++iy){iA=im[iy];if(isNaN(iA.x)){iA.x=iu("x",iw)}if(isNaN(iA.y)){iA.y=iu("y",iz)}if(isNaN(iA.px)){iA.px=iA.x}if(isNaN(iA.py)){iA.py=iA.y}}id=[];if(typeof it==="function"){for(iy=0;iy<iv;++iy){id[iy]=+it.call(this,h9[iy],iy)}}else{for(iy=0;iy<iv;++iy){id[iy]=it}}e=[];if(typeof ia==="function"){for(iy=0;iy<iv;++iy){e[iy]=+ia.call(this,h9[iy],iy)}}else{for(iy=0;iy<iv;++iy){e[iy]=ia}}ih=[];if(typeof io==="function"){for(iy=0;iy<iB;++iy){ih[iy]=+io.call(this,im[iy],iy)}}else{for(iy=0;iy<iB;++iy){ih[iy]=io}}function iu(iH,iF){if(!ix){ix=new Array(iB);for(iE=0;iE<iB;++iE){ix[iE]=[]}for(iE=0;iE<iv;++iE){var iI=h9[iE];ix[iI.source.index].push(iI.target);ix[iI.target.index].push(iI.source)}}var iG=ix[iy],iE=-1,iD=iG.length,iC;while(++iE<iD){if(!isNaN(iC=iG[iE][iH])){return iC}}return Math.random()*iF}return h8.resume()};h8.resume=function(){return h8.alpha(0.1)};h8.stop=function(){return h8.alpha(0)};h8.drag=function(){if(!ir){ir=hk.behavior.drag().origin(gh).on("dragstart.force",n).on("drag.force",ik).on("dragend.force",d9)}if(!arguments.length){return ir}this.on("mouseover.force",ct).on("mouseout.force",ei).call(ir)};function ik(iu){iu.px=hk.event.x,iu.py=hk.event.y;h8.resume()}return hk.rebind(h8,ip,"on")};function n(e){e.fixed|=2}function d9(e){e.fixed&=~6}function ct(e){e.fixed|=4;e.px=e.x,e.py=e.y}function ei(e){e.fixed&=~4}function gw(ih,ib,ig){var ic=0,h9=0;ih.charge=0;if(!ih.leaf){var e=ih.nodes,h8=e.length,id=-1,ie;while(++id<h8){ie=e[id];if(ie==null){continue}gw(ie,ib,ig);ih.charge+=ie.charge;ic+=ie.charge*ie.cx;h9+=ie.charge*ie.cy}}if(ih.point){if(!ih.leaf){ih.point.x+=Math.random()-0.5;ih.point.y+=Math.random()-0.5}var ia=ib*ig[ih.point.index];ih.charge+=ih.pointCharge=ia;ic+=ia*ih.point.x;h9+=ia*ih.point.y}ih.cx=ic/ih.charge;ih.cy=h9/ih.charge}var fM=20,cq=1,b8=Infinity;hk.layout.hierarchy=function(){var h9=dN,h8=a4,ia=hH;function e(ic){var ib=[ic],id=[],ie;ic.depth=0;while((ie=ib.pop())!=null){id.push(ie);if((ig=h8.call(e,ie,ie.depth))&&(ii=ig.length)){var ii,ig,ih;while(--ii>=0){ib.push(ih=ig[ii]);ih.parent=ie;ih.depth=ie.depth+1}if(ia){ie.value=0}ie.children=ig}else{if(ia){ie.value=+ia.call(e,ie,ie.depth)||0}delete ie.children}}gI(ic,function(ik){var il,ij;if(h9&&(il=ik.children)){il.sort(h9)}if(ia&&(ij=ik.parent)){ij.value+=ik.value}});return id}e.sort=function(ib){if(!arguments.length){return h9}h9=ib;return e};e.children=function(ib){if(!arguments.length){return h8}h8=ib;return e};e.value=function(ib){if(!arguments.length){return ia}ia=ib;return e};e.revalue=function(ib){if(ia){er(ib,function(ic){if(ic.children){ic.value=0}});gI(ib,function(id){var ic;if(!id.children){id.value=+ia.call(e,id,id.depth)||0}if(ic=id.parent){ic.value+=id.value}})}return ib};return e};function go(h8,e){hk.rebind(h8,e,"sort","children","value");h8.nodes=h8;h8.links=gs;return h8}function er(h9,ib){var e=[h9];while((h9=e.pop())!=null){ib(h9);if((h8=h9.children)&&(ia=h8.length)){var ia,h8;while(--ia>=0){e.push(h8[ia])}}}}function gI(ib,id){var h8=[ib],e=[];while((ib=h8.pop())!=null){e.push(ib);if((h9=ib.children)&&(ic=h9.length)){var ia=-1,ic,h9;while(++ia<ic){h8.push(h9[ia])}}}while((ib=e.pop())!=null){id(ib)}}function a4(e){return e.children}function hH(e){return e.value}function dN(h8,e){return e.value-h8.value}function gs(e){return hk.merge(e.map(function(h8){return(h8.children||[]).map(function(h9){return{source:h8,target:h9}})}))}hk.layout.partition=function(){var h9=hk.layout.hierarchy(),ia=[1,1];function e(ie,ij,il,ik){var ic=ie.children;ie.x=ij;ie.y=ie.depth*ik;ie.dx=il;ie.dy=ik;if(ic&&(id=ic.length)){var ig=-1,id,ii,ih;il=ie.value?il/ie.value:0;while(++ig<id){e(ii=ic[ig],ij,ih=ii.value*il,ik);ij+=ih}}}function ib(ie){var id=ie.children,ig=0;if(id&&(ih=id.length)){var ic=-1,ih;while(++ic<ih){ig=Math.max(ig,ib(id[ic]))}}return 1+ig}function h8(ie,id){var ic=h9.call(this,ie,id);e(ic[0],0,ia[0],ia[1]/ib(ic[0]));return ic}h8.size=function(ic){if(!arguments.length){return ia}ia=ic;return h8};return go(h8,h9)};hk.layout.pie=function(){var ic=Number,ia=Q,h9=0,h8=f4,ib=0;function e(ii){var ig=ii.length,ip=ii.map(function(it,ir){return +ic.call(e,it,ir)}),il=+(typeof h9==="function"?h9.apply(this,arguments):h9),iq=(typeof h8==="function"?h8.apply(this,arguments):h8)-il,ie=Math.min(Math.abs(iq)/ig,+(typeof ib==="function"?ib.apply(this,arguments):ib)),im=ie*(iq<0?-1:1),ik=hk.sum(ip),ih=ik?(iq-ig*im)/ik:0,ij=hk.range(ig),id=[],io;if(ia!=null){ij.sort(ia===Q?function(it,ir){return ip[ir]-ip[it]}:function(it,ir){return ia(ii[it],ii[ir])})}ij.forEach(function(ir){id[ir]={data:ii[ir],value:io=ip[ir],startAngle:il,endAngle:il+=io*ih+im,padAngle:ie}});return id}e.value=function(id){if(!arguments.length){return ic}ic=id;return e};e.sort=function(id){if(!arguments.length){return ia}ia=id;return e};e.startAngle=function(id){if(!arguments.length){return h9}h9=id;return e};e.endAngle=function(id){if(!arguments.length){return h8}h8=id;return e};e.padAngle=function(id){if(!arguments.length){return ib}ib=id;return e};return e};var Q={};hk.layout.stack=function(){var ia=gh,h9=bO,ic=fA,ib=fB,h8=aj,id=ah;function e(im,ip){if(!(ig=im.length)){return im}var io=im.map(function(it,ir){return ia.call(e,it,ir)});var iq=io.map(function(ir){return ir.map(function(it,iu){return[h8.call(e,it,iu),id.call(e,it,iu)]})});var ij=h9.call(e,iq,ip);io=hk.permute(io,ij);iq=hk.permute(iq,ij);var ii=ic.call(e,iq,ip);var ih=io[0].length,ig,il,ik,ie;for(ik=0;ik<ih;++ik){ib.call(e,io[0][ik],ie=ii[ik],iq[0][ik][1]);for(il=1;il<ig;++il){ib.call(e,io[il][ik],ie+=iq[il-1][ik][1],iq[il][ik][1])}}return im}e.values=function(ie){if(!arguments.length){return ia}ia=ie;return e};e.order=function(ie){if(!arguments.length){return h9}h9=typeof ie==="function"?ie:a2.get(ie)||bO;return e};e.offset=function(ie){if(!arguments.length){return ic}ic=typeof ie==="function"?ie:ac.get(ie)||fA;return e};e.x=function(ie){if(!arguments.length){return h8}h8=ie;return e};e.y=function(ie){if(!arguments.length){return id}id=ie;return e};e.out=function(ie){if(!arguments.length){return ib}ib=ie;return e};return e};function aj(e){return e.x}function ah(e){return e.y}function fB(h8,e,h9){h8.y0=e;h8.y=h9}var a2=hk.map({"inside-out":function(ib){var h9=ib.length,ic,ia,ih=ib.map(bU),id=ib.map(dq),ie=hk.range(h9).sort(function(ik,ij){return ih[ik]-ih[ij]}),ig=0,e=0,ii=[],h8=[];for(ic=0;ic<h9;++ic){ia=ie[ic];if(ig<e){ig+=id[ia];ii.push(ia)}else{e+=id[ia];h8.push(ia)}}return h8.reverse().concat(ii)},reverse:function(e){return hk.range(e.length).reverse()},"default":bO});var ac=hk.map({silhouette:function(ib){var h8=ib.length,h9=ib[0].length,id=[],ie=0,ic,ia,e,ig=[];for(ia=0;ia<h9;++ia){for(ic=0,e=0;ic<h8;ic++){e+=ib[ic][ia][1]}if(e>ie){ie=e}id.push(e)}for(ia=0;ia<h9;++ia){ig[ia]=(ie-id[ia])/2}return ig},wiggle:function(id){var h8=id.length,ih=id[0],h9=ih.length,ie,ic,ib,ik,ij,ig,il,e,ia,ii=[];ii[0]=e=ia=0;for(ic=1;ic<h9;++ic){for(ie=0,ik=0;ie<h8;++ie){ik+=id[ie][ic][1]}for(ie=0,ij=0,il=ih[ic][0]-ih[ic-1][0];ie<h8;++ie){for(ib=0,ig=(id[ie][ic][1]-id[ie][ic-1][1])/(2*il);ib<ie;++ib){ig+=(id[ib][ic][1]-id[ib][ic-1][1])/il}ij+=ig*id[ie][ic][1]}ii[ic]=e-=ik?ij/ik*il:0;if(e<ia){ia=e}}for(ic=0;ic<h9;++ic){ii[ic]-=ia}return ii},expand:function(ic){var ie=ic.length,e=ic[0].length,h8=1/ie,ia,h9,id,ib=[];for(h9=0;h9<e;++h9){for(ia=0,id=0;ia<ie;ia++){id+=ic[ia][h9][1]}if(id){for(ia=0;ia<ie;ia++){ic[ia][h9][1]/=id}}else{for(ia=0;ia<ie;ia++){ic[ia][h9][1]=h8}}}for(h9=0;h9<e;++h9){ib[h9]=0}return ib},zero:fA});function bO(e){return hk.range(e.length)}function fA(ia){var h8=-1,e=ia[0].length,h9=[];while(++h8<e){h9[h8]=0}return h9}function bU(ic){var ia=1,h9=0,h8=ic[0][1],e,ib=ic.length;for(;ia<ib;++ia){if((e=ic[ia][1])>h8){h9=ia;h8=e}}return h9}function dq(e){return e.reduce(fz,0)}function fz(e,h8){return e+h8[1]}hk.layout.histogram=function(){var ib=true,h8=Number,e=bg,h9=ht;function ia(ig,ih){var im=[],ik=ig.map(h8,this),ii=e.call(this,ik,ih),il=h9.call(this,ii,ik,ih),io,ih=-1,ic=ik.length,id=il.length-1,ie=ib?1:1/ic,ij;while(++ih<id){io=im[ih]=[];io.dx=il[ih+1]-(io.x=il[ih]);io.y=0}if(id>0){ih=-1;while(++ih<ic){ij=ik[ih];if(ij>=ii[0]&&ij<=ii[1]){io=im[hk.bisect(il,ij,1,id)-1];io.y+=ie;io.push(ig[ih])}}}return im}ia.value=function(ic){if(!arguments.length){return h8}h8=ic;return ia};ia.range=function(ic){if(!arguments.length){return e}e=N(ic);return ia};ia.bins=function(ic){if(!arguments.length){return h9}h9=typeof ic==="number"?function(id){return f(id,ic)}:N(ic);return ia};ia.frequency=function(ic){if(!arguments.length){return ib}ib=!!ic;return ia};return ia};function ht(h8,e){return f(h8,Math.ceil(Math.log(e.length)/Math.LN2+1))}function f(ia,ic){var h9=-1,h8=+ia[0],e=(ia[1]-h8)/ic,ib=[];while(++h9<=ic){ib[h9]=e*h9+h8}return ib}function bg(e){return[hk.min(e),hk.max(e)]}hk.layout.pack=function(){var h8=hk.layout.hierarchy().sort(ex),ib=0,ia=[1,1],e;function h9(ik,ig){var ie=h8.call(this,ik,ig),id=ie[0],ic=ia[0],ih=ia[1],ii=e==null?Math.sqrt:typeof e==="function"?e:function(){return e};id.x=id.y=0;gI(id,function(il){il.r=+ii(il.value)});gI(id,P);if(ib){var ij=ib*(e?1:Math.max(2*id.r/ic,2*id.r/ih))/2;gI(id,function(il){il.r+=ij});gI(id,P);gI(id,function(il){il.r-=ij})}fj(id,ic/2,ih/2,e?1:1/Math.max(2*id.r/ic,2*id.r/ih));return ie}h9.size=function(ic){if(!arguments.length){return ia}ia=ic;return h9};h9.radius=function(ic){if(!arguments.length){return e}e=ic==null||typeof ic==="function"?ic:+ic;return h9};h9.padding=function(ic){if(!arguments.length){return ib}ib=+ic;return h9};return go(h9,h8)};function ex(h8,e){return h8.value-e.value}function bN(h8,e){var h9=h8._pack_next;h8._pack_next=e;e._pack_prev=h8;e._pack_next=h9;h9._pack_prev=e}function bb(h8,e){h8._pack_next=e;e._pack_prev=h8}function ej(h9,e){var ia=e.x-h9.x,h8=e.y-h9.y,ib=h9.r+e.r;return 0.999*ib*ib>ia*ia+h8*h8}function P(ij){if(!(ii=ij.children)||!(ih=ii.length)){return}var ii,io=Infinity,it=-Infinity,e=Infinity,ib=-Infinity,ir,iq,ip,im,il,ik,ih;function h9(iu){io=Math.min(iu.x-iu.r,io);it=Math.max(iu.x+iu.r,it);e=Math.min(iu.y-iu.r,e);ib=Math.max(iu.y+iu.r,ib)}ii.forEach(aN);ir=ii[0];ir.x=-ir.r;ir.y=0;h9(ir);if(ih>1){iq=ii[1];iq.x=iq.r;iq.y=0;h9(iq);if(ih>2){ip=ii[2];ba(ir,iq,ip);h9(ip);bN(ir,ip);ir._pack_prev=ip;bN(ip,iq);iq=ir._pack_next;for(im=3;im<ih;im++){ba(ir,iq,ip=ii[im]);var h8=0,ic=1,ia=1;for(il=iq._pack_next;il!==iq;il=il._pack_next,ic++){if(ej(il,ip)){h8=1;break}}if(h8==1){for(ik=ir._pack_prev;ik!==il._pack_prev;ik=ik._pack_prev,ia++){if(ej(ik,ip)){break}}}if(h8){if(ic<ia||ic==ia&&iq.r<ir.r){bb(ir,iq=il)}else{bb(ir=ik,iq)}im--}else{bN(ir,ip);iq=ip;h9(ip)}}}}var ie=(io+it)/2,id=(e+ib)/2,ig=0;for(im=0;im<ih;im++){ip=ii[im];ip.x-=ie;ip.y-=id;ig=Math.max(ig,ip.r+Math.sqrt(ip.x*ip.x+ip.y*ip.y))}ij.r=ig;ii.forEach(eM)}function aN(e){e._pack_next=e._pack_prev=e}function eM(e){delete e._pack_next;delete e._pack_prev}function fj(ib,e,id,h8){var ia=ib.children;ib.x=e+=h8*ib.x;ib.y=id+=h8*ib.y;ib.r*=h8;if(ia){var h9=-1,ic=ia.length;while(++h9<ic){fj(ia[h9],e,id,h8)}}}function ba(ib,h9,e){var id=ib.r+e.r,ih=h9.x-ib.x,ie=h9.y-ib.y;if(id&&(ih||ie)){var ig=h9.r+e.r,ic=ih*ih+ie*ie;ig*=ig;id*=id;var ia=0.5+(id-ig)/(2*ic),h8=Math.sqrt(Math.max(0,2*ig*(id+ic)-(id-=ic)*id-ig*ig))/(2*ic);e.x=ib.x+ia*ih+h8*ie;e.y=ib.y+ia*ie-h8*ih}else{e.x=ib.x+id;e.y=ib.y}}hk.layout.tree=function(){var ib=hk.layout.hierarchy().sort(null).value(null),h8=dw,ig=[1,1],ic=null;function ih(iq,im){var ij=ib.call(this,iq,im),it=ij[0],ir=ie(it);gI(ir,ia),ir.parent.m=-ir.z;er(ir,id);if(ic){er(it,h9)}else{var ik=it,iu=it,ii=it;er(it,function(iv){if(iv.x<ik.x){ik=iv}if(iv.x>iu.x){iu=iv}if(iv.depth>ii.depth){ii=iv}});var il=h8(ik,iu)/2-ik.x,ip=ig[0]/(iu.x+h8(iu,ik)/2+il),io=ig[1]/(ii.depth||1);er(it,function(iv){iv.x=(iv.x+il)*ip;iv.y=iv.depth*io})}return ij}function ie(il){var ij={A:null,children:[il]},ii=[ij],ik;while((ik=ii.pop())!=null){for(var io=ik.children,iq,im=0,ip=io.length;im<ip;++im){ii.push((io[im]=iq={_:io[im],parent:ik,children:(iq=io[im].children)&&iq.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:im}).a=iq)}}return ij.children[0]}function ia(ij){var il=ij.children,im=ij.parent.children,ii=ij.i?im[ij.i-1]:null;if(il.length){dz(ij);var ik=(il[0].z+il[il.length-1].z)/2;if(ii){ij.z=ii.z+h8(ij._,ii._);ij.m=ij.z-ik}else{ij.z=ik}}else{if(ii){ij.z=ii.z+h8(ij._,ii._)}}ij.parent.A=e(ij,ii,ij.parent.A||im[0])}function id(ii){ii._.x=ii.z+ii.parent.m;ii.m+=ii.parent.m}function e(iv,iu,io){if(iu){var ik=iv,ij=iv,im=iu,il=ik.parent.children[0],iq=ik.m,ip=ij.m,it=im.m,ir=il.m,ii;while(im=ax(im),ik=hU(ik),im&&ik){il=hU(il);ij=ax(ij);ij.a=iv;ii=im.z+it-ik.z-iq+h8(im._,ik._);if(ii>0){hW(fU(im,iv,io),iv,ii);iq+=ii;ip+=ii}it+=im.m;iq+=ik.m;ir+=il.m;ip+=ij.m}if(im&&!ax(ij)){ij.t=im;ij.m+=it-ip}if(ik&&!hU(il)){il.t=ik;il.m+=iq-ir;io=iv}}return io}function h9(ii){ii.x*=ig[0];ii.y=ii.depth*ig[1]}ih.separation=function(ii){if(!arguments.length){return h8}h8=ii;return ih};ih.size=function(ii){if(!arguments.length){return ic?null:ig}ic=(ig=ii)==null?h9:null;return ih};ih.nodeSize=function(ii){if(!arguments.length){return ic?ig:null}ic=(ig=ii)==null?null:h9;return ih};return go(ih,ib)};function dw(h8,e){return h8.parent==e.parent?1:2}function hU(e){var h8=e.children;return h8.length?h8[0]:e.t}function ax(e){var h8=e.children,h9;return(h9=h8.length)?h8[h9-1]:e.t}function hW(h9,h8,e){var ia=e/(h8.i-h9.i);h8.c-=ia;h8.s+=e;h9.c+=ia;h8.z+=e;h8.m+=e}function dz(h9){var h8=0,ic=0,ib=h9.children,ia=ib.length,e;while(--ia>=0){e=ib[ia];e.z+=h8;e.m+=h8;h8+=e.s+(ic+=e.c)}}function fU(h8,e,h9){return h8.a.parent===e.parent?h8.a:h9}hk.layout.cluster=function(){var h9=hk.layout.hierarchy().sort(null).value(null),ib=dw,ia=[1,1],h8=false;function e(ii,ih){var ic=h9.call(this,ii,ih),ij=ic[0],ik,il=0;gI(ij,function(ip){var io=ip.children;if(io&&io.length){ip.x=bu(io);ip.y=bt(io)}else{ip.x=ik?il+=ib(ip,ik):0;ip.y=0;ik=ip}});var ig=ez(ij),im=dC(ij),ie=ig.x-ib(ig,im)/2,id=im.x+ib(im,ig)/2;gI(ij,h8?function(io){io.x=(io.x-ij.x)*ia[0];io.y=(ij.y-io.y)*ia[1]}:function(io){io.x=(io.x-ie)/(id-ie)*ia[0];io.y=(1-(ij.y?io.y/ij.y:1))*ia[1]});return ic}e.separation=function(ic){if(!arguments.length){return ib}ib=ic;return e};e.size=function(ic){if(!arguments.length){return h8?null:ia}h8=(ia=ic)==null;return e};e.nodeSize=function(ic){if(!arguments.length){return h8?ia:null}h8=(ia=ic)!=null;return e};return go(e,h9)};function bt(e){return 1+hk.max(e,function(h8){return h8.y})}function bu(e){return e.reduce(function(h8,h9){return h8+h9.x},0)/e.length}function ez(h8){var e=h8.children;return e&&e.length?ez(e[0]):h8}function dC(h8){var e=h8.children,h9;return e&&(h9=e.length)?dC(e[h9-1]):h8}hk.layout.treemap=function(){var ig=hk.layout.hierarchy(),ik=Math.round,im=[1,1],ih=null,e=e3,ii=false,id,ic="squarify",ie=0.5*(1+Math.sqrt(5));function h8(iq,io){var ip=-1,iu=iq.length,it,ir;while(++ip<iu){ir=(it=iq[ip]).value*(io<0?0:io);it.area=isNaN(ir)||ir<=0?0:ir}}function ia(it){var ip=it.children;if(ip&&ip.length){var iw=e(it),iy=[],iv=ip.slice(),io,iu=Infinity,ir,ix=ic==="slice"?iw.dx:ic==="dice"?iw.dy:ic==="slice-dice"?it.depth&1?iw.dy:iw.dx:Math.min(iw.dx,iw.dy),iq;h8(iv,iw.dx*iw.dy/it.value);iy.area=0;while((iq=iv.length)>0){iy.push(io=iv[iq-1]);iy.area+=io.area;if(ic!=="squarify"||(ir=h9(iy,ix))<=iu){iv.pop();iu=ir}else{iy.area-=iy.pop().area;ib(iy,ix,iw,false);ix=Math.min(iw.dx,iw.dy);iy.length=iy.area=0;iu=Infinity}}if(iy.length){ib(iy,ix,iw,true);iy.length=iy.area=0}ip.forEach(ia)}}function il(ir){var io=ir.children;if(io&&io.length){var iq=e(ir),ip=io.slice(),iu,it=[];h8(ip,iq.dx*iq.dy/ir.value);it.area=0;while(iu=ip.pop()){it.push(iu);it.area+=iu.area;if(iu.z!=null){ib(it,iu.z?iq.dx:iq.dy,iq,!ip.length);it.length=it.area=0}}io.forEach(il)}}function h9(iu,ip){var ir=iu.area,it,iw=0,io=Infinity,iq=-1,iv=iu.length;while(++iq<iv){if(!(it=iu[iq].area)){continue}if(it<io){io=it}if(it>iw){iw=it}}ir*=ir;ip*=ip;return ir?Math.max(ip*iw*ie/ir,ir/(ip*io*ie)):Infinity}function ib(iy,ix,it,iw){var iq=-1,ip=iy.length,iu=it.x,ir=it.y,iv=ix?ik(iy.area/ix):0,io;if(ix==it.dx){if(iw||iv>it.dy){iv=it.dy}while(++iq<ip){io=iy[iq];io.x=iu;io.y=ir;io.dy=iv;iu+=io.dx=Math.min(it.x+it.dx-iu,iv?ik(io.area/iv):0)}io.z=true;io.dx+=it.x+it.dx-iu;it.y+=iv;it.dy-=iv}else{if(iw||iv>it.dx){iv=it.dx}while(++iq<ip){io=iy[iq];io.x=iu;io.y=ir;io.dx=iv;ir+=io.dy=Math.min(it.y+it.dy-ir,iv?ik(io.area/iv):0)}io.z=false;io.dy+=it.y+it.dy-ir;it.x+=iv;it.dx-=iv}}function ij(iq){var ip=id||ig(iq),io=ip[0];io.x=io.y=0;if(io.value){io.dx=im[0],io.dy=im[1]}else{io.dx=io.dy=0}if(id){ig.revalue(io)}h8([io],io.dx*io.dy/io.value);(id?il:ia)(io);if(ii){id=ip}return ip}ij.size=function(io){if(!arguments.length){return im}im=io;return ij};ij.padding=function(io){if(!arguments.length){return ih}function ir(it){var iu=io.call(ij,it,it.depth);return iu==null?e3(it):aW(it,typeof iu==="number"?[iu,iu,iu,iu]:iu)}function iq(it){return aW(it,io)}var ip;e=(ih=io)==null?e3:(ip=typeof io)==="function"?ir:ip==="number"?(io=[io,io,io,io],iq):iq;return ij};ij.round=function(io){if(!arguments.length){return ik!=Number}ik=io?Math.round:Number;return ij};ij.sticky=function(io){if(!arguments.length){return ii}ii=io;id=null;return ij};ij.ratio=function(io){if(!arguments.length){return ie}ie=io;return ij};ij.mode=function(io){if(!arguments.length){return ic}ic=io+"";return ij};return go(ij,ig)};function e3(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function aW(ia,ib){var e=ia.x+ib[3],ic=ia.y+ib[0],h9=ia.dx-ib[1]-ib[3],h8=ia.dy-ib[0]-ib[2];if(h9<0){e+=h9/2;h9=0}if(h8<0){ic+=h8/2;h8=0}return{x:e,y:ic,dx:h9,dy:h8}}hk.random={normal:function(h8,e){var h9=arguments.length;if(h9<2){e=1}if(h9<1){h8=0}return function(){var ia,ic,ib;do{ia=Math.random()*2-1;ic=Math.random()*2-1;ib=ia*ia+ic*ic}while(!ib||ib>1);return h8+e*ia*Math.sqrt(-2*Math.log(ib)/ib)}},logNormal:function(){var e=hk.random.normal.apply(hk,arguments);return function(){return Math.exp(e())}},bates:function(e){var h8=hk.random.irwinHall(e);return function(){return h8()/e}},irwinHall:function(e){return function(){for(var h9=0,h8=0;h8<e;h8++){h9+=Math.random()}return h9}}};hk.scale={};function ep(h8){var h9=h8[0],e=h8[h8.length-1];return h9<e?[h9,e]:[e,h9]}function aV(e){return e.rangeExtent?e.rangeExtent():ep(e.range())}function aC(ib,e,ic,h9){var h8=ic(ib[0],ib[1]),ia=h9(e[0],e[1]);return function(id){return ia(h8(id))}}function ge(id,ib){var ic=0,ia=id.length-1,h9=id[ic],h8=id[ia],e;if(h8<h9){e=ic,ic=ia,ia=e;e=h9,h9=h8,h8=e}id[ic]=ib.floor(h9);id[ia]=ib.ceil(h8);return id}function a3(e){return e?{floor:function(h8){return Math.floor(h8/e)*e},ceil:function(h8){return Math.ceil(h8/e)*e}}:ey}var ey={floor:gh,ceil:gh};function I(id,h8,ie,ib){var ia=[],ic=[],h9=0,e=Math.min(id.length,h8.length)-1;if(id[e]<id[0]){id=id.slice().reverse();h8=h8.slice().reverse()}while(++h9<=e){ia.push(ie(id[h9-1],id[h9]));ic.push(ib(h8[h9-1],h8[h9]))}return function(ig){var ih=hk.bisect(id,ig,1,e)-1;return ic[ih](ia[ih](ig))}}hk.scale.linear=function(){return ef([0,1],[0,1],fy,false)};function ef(ic,ia,ib,ie){var h9,h8;function e(){var ig=Math.min(ic.length,ia.length)>2?I:aC,ih=ie?av:hs;h9=ig(ic,ia,ih,ib);h8=ig(ia,ic,ih,fy);return id}function id(ig){return h9(ig)}id.invert=function(ig){return h8(ig)};id.domain=function(ig){if(!arguments.length){return ic}ic=ig.map(Number);return e()};id.range=function(ig){if(!arguments.length){return ia}ia=ig;return e()};id.rangeRound=function(ig){return id.range(ig).interpolate(ft)};id.clamp=function(ig){if(!arguments.length){return ie}ie=ig;return e()};id.interpolate=function(ig){if(!arguments.length){return ib}ib=ig;return e()};id.ticks=function(ig){return eY(ic,ig)};id.tickFormat=function(ig,ih){return e6(ic,ig,ih)};id.nice=function(ig){aI(ic,ig);return e()};id.copy=function(){return ef(ic,ia,ib,ie)};return e()}function f6(h8,e){return hk.rebind(h8,e,"range","rangeRound","interpolate","clamp")}function aI(h8,e){ge(h8,a3(m(h8,e)[2]));ge(h8,a3(m(h8,e)[2]));return h8}function m(ic,e){if(e==null){e=10}var h9=ep(ic),h8=h9[1]-h9[0],ib=Math.pow(10,Math.floor(Math.log(h8/e)/Math.LN10)),ia=e/h8*ib;if(ia<=0.15){ib*=10}else{if(ia<=0.35){ib*=5}else{if(ia<=0.75){ib*=2}}}h9[0]=Math.ceil(h9[0]/ib)*ib;h9[1]=Math.floor(h9[1]/ib)*ib+ib*0.5;h9[2]=ib;return h9}function eY(h8,e){return hk.range.apply(hk,m(h8,e))}function e6(ib,e,ic){var h8=m(ib,e);if(ic){var h9=cw.exec(ic);h9.shift();if(h9[8]==="s"){var ia=hk.formatPrefix(Math.max(cD(h8[0]),cD(h8[1])));if(!h9[7]){h9[7]="."+gS(ia.scale(h8[2]))}h9[8]="f";ic=hk.format(h9.join(""));return function(id){return ic(ia.scale(id))+ia.symbol}}if(!h9[7]){h9[7]="."+u(h9[8],h8)}ic=h9.join("")}else{ic=",."+gS(h8[2])+"f"}return hk.format(ic)}var hT={s:1,g:1,p:1,r:1,e:1};function gS(e){return -Math.floor(Math.log(e)/Math.LN10+0.01)}function u(h8,e){var h9=gS(e[2]);return h8 in hT?Math.abs(h9-gS(Math.max(cD(e[0]),cD(e[1]))))+ +(h8!=="e"):h9-(h8==="%")*2}hk.scale.log=function(){return gC(hk.scale.linear().domain([0,1]),10,true,[1,10])};function gC(h8,ic,e,ib){function h9(ie){return(e?Math.log(ie<0?0:ie):-Math.log(ie>0?0:-ie))/Math.log(ic)}function ia(ie){return e?Math.pow(ic,ie):-Math.pow(ic,-ie)}function id(ie){return h8(h9(ie))}id.invert=function(ie){return ia(h8.invert(ie))};id.domain=function(ie){if(!arguments.length){return ib}e=ie[0]>=0;h8.domain((ib=ie.map(Number)).map(h9));return id};id.base=function(ie){if(!arguments.length){return ic}ic=+ie;h8.domain(ib.map(h9));return id};id.nice=function(){var ie=ge(ib.map(h9),e?Math:gH);h8.domain(ie);ib=ie.map(ia);return id};id.ticks=function(){var ik=ep(ib),il=[],ii=ik[0],ig=ik[1],ij=Math.floor(h9(ii)),ih=Math.ceil(h9(ig)),im=ic%1?2:ic;if(isFinite(ih-ij)){if(e){for(;ij<ih;ij++){for(var ie=1;ie<im;ie++){il.push(ia(ij)*ie)}}il.push(ia(ij))}else{il.push(ia(ij));for(;ij++<ih;){for(var ie=im-1;ie>0;ie--){il.push(ia(ij)*ie)}}}for(ij=0;il[ij]<ii;ij++){}for(ih=il.length;il[ih-1]>ig;ih--){}il=il.slice(ij,ih)}return il};id.tickFormat=function(ih,ig){if(!arguments.length){return dp}if(arguments.length<2){ig=dp}else{if(typeof ig!=="function"){ig=hk.format(ig)}}var ie=Math.max(1,ic*ih/id.ticks().length);return function(ij){var ii=ij/ia(Math.round(h9(ij)));if(ii*ic<ic-0.5){ii*=ic}return ii<=ie?ig(ij):""}};id.copy=function(){return gC(h8.copy(),ic,e,ib)};return f6(id,h8)}var dp=hk.format(".0e"),gH={floor:function(e){return -Math.ceil(-e)},ceil:function(e){return -Math.floor(-e)}};hk.scale.pow=function(){return gn(hk.scale.linear(),1,[0,1])};function gn(e,ia,h9){var h8=fP(ia),ib=fP(1/ia);function ic(id){return e(h8(id))}ic.invert=function(id){return ib(e.invert(id))};ic.domain=function(id){if(!arguments.length){return h9}e.domain((h9=id.map(Number)).map(h8));return ic};ic.ticks=function(id){return eY(h9,id)};ic.tickFormat=function(id,ie){return e6(h9,id,ie)};ic.nice=function(id){return ic.domain(aI(h9,id))};ic.exponent=function(id){if(!arguments.length){return ia}h8=fP(ia=id);ib=fP(1/ia);e.domain(h9.map(h8));return ic};ic.copy=function(){return gn(e.copy(),ia,h9)};return f6(ic,e)}function fP(h8){return function(e){return e<0?-Math.pow(-e,h8):Math.pow(e,h8)}}hk.scale.sqrt=function(){return hk.scale.pow().exponent(0.5)};hk.scale.ordinal=function(){return cp([],{t:"range",a:[[]]})};function cp(ic,h9){var ib,h8,ia;function id(ie){return h8[((ib.get(ie)||(h9.t==="range"?ib.set(ie,ic.push(ie)):NaN))-1)%h8.length]}function e(ig,ie){return hk.range(ic.length).map(function(ih){return ig+ie*ih})}id.domain=function(ie){if(!arguments.length){return ic}ic=[];ib=new aE();var ih=-1,ii=ie.length,ig;while(++ih<ii){if(!ib.has(ig=ie[ih])){ib.set(ig,ic.push(ig))}}return id[h9.t].apply(id,h9.a)};id.range=function(ie){if(!arguments.length){return h8}h8=ie;ia=0;h9={t:"range",a:arguments};return id};id.rangePoints=function(ie,ii){if(arguments.length<2){ii=0}var ij=ie[0],ig=ie[1],ih=ic.length<2?(ij=(ij+ig)/2,0):(ig-ij)/(ic.length-1+ii);h8=e(ij+ih*ii/2,ih);ia=0;h9={t:"rangePoints",a:arguments};return id};id.rangeRoundPoints=function(ie,ii){if(arguments.length<2){ii=0}var ij=ie[0],ig=ie[1],ih=ic.length<2?(ij=ig=Math.round((ij+ig)/2),0):(ig-ij)/(ic.length-1+ii)|0;h8=e(ij+Math.round(ih*ii/2+(ig-ij-(ic.length-1+ii)*ih)/2),ih);ia=0;h9={t:"rangeRoundPoints",a:arguments};return id};id.rangeBands=function(ig,ik,ie){if(arguments.length<2){ik=0}if(arguments.length<3){ie=ik}var ih=ig[1]<ig[0],il=ig[ih-0],ii=ig[1-ih],ij=(ii-il)/(ic.length-ik+2*ie);h8=e(il+ij*ie,ij);if(ih){h8.reverse()}ia=ij*(1-ik);h9={t:"rangeBands",a:arguments};return id};id.rangeRoundBands=function(ig,ik,ie){if(arguments.length<2){ik=0}if(arguments.length<3){ie=ik}var ih=ig[1]<ig[0],il=ig[ih-0],ii=ig[1-ih],ij=Math.floor((ii-il)/(ic.length-ik+2*ie));h8=e(il+Math.round((ii-il-(ic.length-ik)*ij)/2),ij);if(ih){h8.reverse()}ia=Math.round(ij*(1-ik));h9={t:"rangeRoundBands",a:arguments};return id};id.rangeBand=function(){return ia};id.rangeExtent=function(){return ep(h9.a[0])};id.copy=function(){return cp(ic,h9)};return id.domain(ic)}hk.scale.category10=function(){return hk.scale.ordinal().range(cx)};hk.scale.category20=function(){return hk.scale.ordinal().range(cf)};hk.scale.category20b=function(){return hk.scale.ordinal().range(g8)};hk.scale.category20c=function(){return hk.scale.ordinal().range(g6)};var cx=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(dt);var cf=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(dt);var g8=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(dt);var g6=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(dt);hk.scale.quantile=function(){return y([],[])};function y(h9,h8){var ia;function e(){var ic=0,id=h8.length;ia=[];while(++ic<id){ia[ic-1]=hk.quantile(h9,ic/id)}return ib}function ib(ic){if(!isNaN(ic=+ic)){return h8[hk.bisect(ia,ic)]}}ib.domain=function(ic){if(!arguments.length){return h9}h9=ic.map(hp).filter(a8).sort(fe);return e()};ib.range=function(ic){if(!arguments.length){return h8}h8=ic;return e()};ib.quantiles=function(){return ia};ib.invertExtent=function(ic){ic=h8.indexOf(ic);return ic<0?[NaN,NaN]:[ic>0?ia[ic-1]:h9[0],ic<ia.length?ia[ic]:h9[h9.length-1]]};ib.copy=function(){return y(h9,h8)};return e()}hk.scale.quantize=function(){return dB(0,1,[0,1])};function dB(ib,h9,h8){var ic,ia;function id(ie){return h8[Math.max(0,Math.min(ia,Math.floor(ic*(ie-ib))))]}function e(){ic=h8.length/(h9-ib);ia=h8.length-1;return id}id.domain=function(ie){if(!arguments.length){return[ib,h9]}ib=+ie[0];h9=+ie[ie.length-1];return e()};id.range=function(ie){if(!arguments.length){return h8}h8=ie;return e()};id.invertExtent=function(ie){ie=h8.indexOf(ie);ie=ie<0?NaN:ie/ic+ib;return[ie,ie+1/ic]};id.copy=function(){return dB(ib,h9,h8)};return e()}hk.scale.threshold=function(){return f1([0.5],[0,1])};function f1(h8,e){function h9(ia){if(ia<=ia){return e[hk.bisect(h8,ia)]}}h9.domain=function(ia){if(!arguments.length){return h8}h8=ia;return h9};h9.range=function(ia){if(!arguments.length){return e}e=ia;return h9};h9.invertExtent=function(ia){ia=e.indexOf(ia);return[h8[ia-1],h8[ia]]};h9.copy=function(){return f1(h8,e)};return h9}hk.scale.identity=function(){return eQ([0,1])};function eQ(h8){function e(h9){return +h9}e.invert=e;e.domain=e.range=function(h9){if(!arguments.length){return h8}h8=h9.map(e);return e};e.ticks=function(h9){return eY(h8,h9)};e.tickFormat=function(h9,ia){return e6(h8,h9,ia)};e.copy=function(){return eQ(h8)};return e}hk.svg={};function dk(){return 0}hk.svg.arc=function(){var ie=by,ia=cP,ib=dk,ig=fQ,id=gc,h8=ak,h9=bI;function e(){var ir=Math.max(0,+ie.apply(this,arguments)),iq=Math.max(0,+ia.apply(this,arguments)),iN=id.apply(this,arguments)-em,iM=h8.apply(this,arguments)-em,ix=Math.abs(iM-iN),iA=iN>iM?0:1;if(iq<ir){iK=iq,iq=ir,ir=iK}if(ix>=gB){return ic(iq,iA)+(ir?ic(ir,1-iA):"")+"Z"}var iK,iB,iE,im,iP=0,iO=0,iw,ih,iv,iU,iu,iT,it,iR,iL=[];if(im=(+h9.apply(this,arguments)||0)/2){iE=ig===fQ?Math.sqrt(ir*ir+iq*iq):+ig.apply(this,arguments);if(!iA){iO*=-1}if(iq){iO=cc(iE/iq*Math.sin(im))}if(ir){iP=cc(iE/ir*Math.sin(im))}}if(iq){iw=iq*Math.cos(iN+iO);ih=iq*Math.sin(iN+iO);iv=iq*Math.cos(iM-iO);iU=iq*Math.sin(iM-iO);var io=Math.abs(iM-iN-2*iO)<=ga?0:1;if(iO&&hA(iw,ih,iv,iU)===iA^io){var iC=(iN+iM)/2;iw=iq*Math.cos(iC);ih=iq*Math.sin(iC);iv=iU=null}}else{iw=ih=0}if(ir){iu=ir*Math.cos(iM-iP);iT=ir*Math.sin(iM-iP);it=ir*Math.cos(iN+iP);iR=ir*Math.sin(iN+iP);var ip=Math.abs(iN-iM+2*iP)<=ga?0:1;if(iP&&hA(iu,iT,it,iR)===1-iA^ip){var iD=(iN+iM)/2;iu=ir*Math.cos(iD);iT=ir*Math.sin(iD);it=iR=null}}else{iu=iT=0}if(ix>gj&&(iK=Math.min(Math.abs(iq-ir)/2,+ib.apply(this,arguments)))>0.001){iB=ir<iq^iA?0:1;var iQ=iK,iS=iK;if(ix<ga){var iH=it==null?[iu,iT]:iv==null?[iw,ih]:gf([iw,ih],[it,iR],[iv,iU],[iu,iT]),il=iw-iH[0],ik=ih-iH[1],iJ=iv-iH[0],iI=iU-iH[1],ii=1/Math.sin(Math.acos((il*iJ+ik*iI)/(Math.sqrt(il*il+ik*ik)*Math.sqrt(iJ*iJ+iI*iI)))/2),iF=Math.sqrt(iH[0]*iH[0]+iH[1]*iH[1]);iS=Math.min(iK,(ir-iF)/(ii-1));iQ=Math.min(iK,(iq-iF)/(ii+1))}if(iv!=null){var iz=fa(it==null?[iu,iT]:[it,iR],[iw,ih],iq,iQ,iA),ij=fa([iv,iU],[iu,iT],iq,iQ,iA);if(iK===iQ){iL.push("M",iz[0],"A",iQ,",",iQ," 0 0,",iB," ",iz[1],"A",iq,",",iq," 0 ",1-iA^hA(iz[1][0],iz[1][1],ij[1][0],ij[1][1]),",",iA," ",ij[1],"A",iQ,",",iQ," 0 0,",iB," ",ij[0])}else{iL.push("M",iz[0],"A",iQ,",",iQ," 0 1,",iB," ",ij[0])}}else{iL.push("M",iw,",",ih)}if(it!=null){var iy=fa([iw,ih],[it,iR],ir,-iS,iA),iG=fa([iu,iT],iv==null?[iw,ih]:[iv,iU],ir,-iS,iA);if(iK===iS){iL.push("L",iG[0],"A",iS,",",iS," 0 0,",iB," ",iG[1],"A",ir,",",ir," 0 ",iA^hA(iG[1][0],iG[1][1],iy[1][0],iy[1][1]),",",1-iA," ",iy[1],"A",iS,",",iS," 0 0,",iB," ",iy[0])}else{iL.push("L",iG[0],"A",iS,",",iS," 0 0,",iB," ",iy[0])}}else{iL.push("L",iu,",",iT)}}else{iL.push("M",iw,",",ih);if(iv!=null){iL.push("A",iq,",",iq," 0 ",io,",",iA," ",iv,",",iU)}iL.push("L",iu,",",iT);if(it!=null){iL.push("A",ir,",",ir," 0 ",ip,",",1-iA," ",it,",",iR)}}iL.push("Z");return iL.join("")}function ic(ii,ih){return"M0,"+ii+"A"+ii+","+ii+" 0 1,"+ih+" 0,"+-ii+"A"+ii+","+ii+" 0 1,"+ih+" 0,"+ii}e.innerRadius=function(ih){if(!arguments.length){return ie}ie=N(ih);return e};e.outerRadius=function(ih){if(!arguments.length){return ia}ia=N(ih);return e};e.cornerRadius=function(ih){if(!arguments.length){return ib}ib=N(ih);return e};e.padRadius=function(ih){if(!arguments.length){return ig}ig=ih==fQ?fQ:N(ih);return e};e.startAngle=function(ih){if(!arguments.length){return id}id=N(ih);return e};e.endAngle=function(ih){if(!arguments.length){return h8}h8=N(ih);return e};e.padAngle=function(ih){if(!arguments.length){return h9}h9=N(ih);return e};e.centroid=function(){var ii=(+ie.apply(this,arguments)+ +ia.apply(this,arguments))/2,ih=(+id.apply(this,arguments)+ +h8.apply(this,arguments))/2-em;return[Math.cos(ih)*ii,Math.sin(ih)*ii]};return e};var fQ="auto";function by(e){return e.innerRadius}function cP(e){return e.outerRadius}function gc(e){return e.startAngle}function ak(e){return e.endAngle}function bI(e){return e&&e.padAngle}function hA(h8,ia,e,h9){return(h8-e)*ia-(ia-h9)*h8>0?0:1}function fa(h8,e,iw,iv,ie){var iu=h8[0]-e[0],ih=h8[1]-e[1],ij=(ie?iv:-iv)/Math.sqrt(iu*iu+ih*ih),ii=ij*ih,ig=-ij*iu,iz=h8[0]+ii,id=h8[1]+ig,iy=e[0]+ii,ib=e[1]+ig,ix=(iz+iy)/2,h9=(id+ib)/2,io=iy-iz,il=ib-id,iD=io*io+il*il,ir=iw-iv,ip=iz*ib-iy*id,iA=(il<0?-1:1)*Math.sqrt(Math.max(0,ir*ir*iD-ip*ip)),it=(ip*il-io*iA)/iD,iC=(-ip*io-il*iA)/iD,iq=(ip*il+io*iA)/iD,iB=(-ip*io+il*iA)/iD,ic=it-ix,im=iC-h9,ia=iq-ix,ik=iB-h9;if(ic*ic+im*im>ia*ia+ik*ik){it=iq,iC=iB}return[[it-ii,iC-ig],[it*iw/ir,iC*iw/ir]]}function e5(h8){var e=hR,ie=hQ,id=ad,ia=hN,ic=ia.key,ib=0.7;function h9(ij){var il=[],ip=[],ik=-1,ig=ij.length,io,ii=N(e),ih=N(ie);function im(){il.push("M",ia(h8(ip),ib))}while(++ik<ig){if(id.call(this,io=ij[ik],ik)){ip.push([+ii.call(this,io,ik),+ih.call(this,io,ik)])}else{if(ip.length){im();ip=[]}}}if(ip.length){im()}return il.length?il.join(""):null}h9.x=function(ig){if(!arguments.length){return e}e=ig;return h9};h9.y=function(ig){if(!arguments.length){return ie}ie=ig;return h9};h9.defined=function(ig){if(!arguments.length){return id}id=ig;return h9};h9.interpolate=function(ig){if(!arguments.length){return ic}if(typeof ig==="function"){ic=ia=ig}else{ic=(ia=cb.get(ig)||hN).key}return h9};h9.tension=function(ig){if(!arguments.length){return ib}ib=ig;return h9};return h9}hk.svg.line=function(){return e5(gh)};var cb=hk.map({linear:hN,"linear-closed":V,step:c6,"step-before":bi,"step-after":hu,basis:e9,"basis-open":bf,"basis-closed":cK,bundle:cN,cardinal:dO,"cardinal-open":b1,"cardinal-closed":o,monotone:df});cb.forEach(function(e,h8){h8.key=e;h8.closed=/-closed$/.test(e)});function hN(e){return e.length>1?e.join("L"):e+"Z"}function V(e){return e.join("L")+"Z"}function c6(h8){var e=0,ib=h8.length,ia=h8[0],h9=[ia[0],",",ia[1]];while(++e<ib){h9.push("H",(ia[0]+(ia=h8[e])[0])/2,"V",ia[1])}if(ib>1){h9.push("H",ia[0])}return h9.join("")}function bi(h8){var e=0,ib=h8.length,ia=h8[0],h9=[ia[0],",",ia[1]];while(++e<ib){h9.push("V",(ia=h8[e])[1],"H",ia[0])}return h9.join("")}function hu(h8){var e=0,ib=h8.length,ia=h8[0],h9=[ia[0],",",ia[1]];while(++e<ib){h9.push("H",(ia=h8[e])[0],"V",ia[1])}return h9.join("")}function b1(h8,e){return h8.length<4?hN(h8):h8[1]+cU(h8.slice(1,-1),bT(h8,e))}function o(h8,e){return h8.length<3?V(h8):h8[0]+cU((h8.push(h8[0]),h8),bT([h8[h8.length-2]].concat(h8,[h8[1]]),e))}function dO(h8,e){return h8.length<3?hN(h8):h8[0]+cU(h8,bT(h8,e))}function cU(id,ic){if(ic.length<1||id.length!=ic.length&&id.length!=ic.length+2){return hN(id)}var ie=id.length!=ic.length,ii="",ig=id[0],e=id[1],ib=ic[0],ih=ib,h9=1;if(ie){ii+="Q"+(e[0]-ib[0]*2/3)+","+(e[1]-ib[1]*2/3)+","+e[0]+","+e[1];ig=id[1];h9=2}if(ic.length>1){ih=ic[1];e=id[h9];h9++;ii+="C"+(ig[0]+ib[0])+","+(ig[1]+ib[1])+","+(e[0]-ih[0])+","+(e[1]-ih[1])+","+e[0]+","+e[1];for(var h8=2;h8<ic.length;h8++,h9++){e=id[h9];ih=ic[h8];ii+="S"+(e[0]-ih[0])+","+(e[1]-ih[1])+","+e[0]+","+e[1]}}if(ie){var ia=id[h9];ii+="Q"+(e[0]+ih[0]*2/3)+","+(e[1]+ih[1]*2/3)+","+ia[0]+","+ia[1]}return ii}function bT(id,ib){var h9=[],ia=(1-ib)/2,ig,ie=id[0],ic=id[1],h8=1,e=id.length;while(++h8<e){ig=ie;ie=ic;ic=id[h8];h9.push([ia*(ic[0]-ig[0]),ia*(ic[1]-ig[1])])}return h9}function e9(ie){if(ie.length<3){return hN(ie)}var h9=1,h8=ie.length,ia=ie[0],e=ia[0],ic=ia[1],id=[e,e,e,(ia=ie[1])[0]],ib=[ic,ic,ic,ia[1]],ig=[e,",",ic,"L",gi(hj,id),",",gi(hj,ib)];ie.push(ie[h8-1]);while(++h9<=h8){ia=ie[h9];id.shift();id.push(ia[0]);ib.shift();ib.push(ia[1]);bM(ig,id,ib)}ie.pop();ig.push("L",ia);return ig.join("")}function bf(ia){if(ia.length<4){return hN(ia)}var ic=[],h9=-1,id=ia.length,ib,h8=[0],e=[0];while(++h9<3){ib=ia[h9];h8.push(ib[0]);e.push(ib[1])}ic.push(gi(hj,h8)+","+gi(hj,e));--h9;while(++h9<id){ib=ia[h9];h8.shift();h8.push(ib[0]);e.shift();e.push(ib[1]);bM(ic,h8,e)}return ic.join("")}function cK(ib){var id,ia=-1,ie=ib.length,e=ie+4,ic,h9=[],h8=[];while(++ia<4){ic=ib[ia%ie];h9.push(ic[0]);h8.push(ic[1])}id=[gi(hj,h9),",",gi(hj,h8)];--ia;while(++ia<e){ic=ib[ia%ie];h9.shift();h9.push(ic[0]);h8.shift();h8.push(ic[1]);bM(id,h9,h8)}return id.join("")}function cN(id,ic){var h9=id.length-1;if(h9){var h8=id[0][0],ib=id[0][1],ih=id[h9][0]-h8,ig=id[h9][1]-ib,ia=-1,e,ie;while(++ia<=h9){e=id[ia];ie=ia/h9;e[0]=ic*e[0]+(1-ic)*(h8+ie*ih);e[1]=ic*e[1]+(1-ic)*(ib+ie*ig)}}return e9(id)}function gi(h8,e){return h8[0]*e[0]+h8[1]*e[1]+h8[2]*e[2]+h8[3]*e[3]}var hn=[0,2/3,1/3,0],hl=[0,1/3,2/3,0],hj=[0,1/6,2/3,1/6];function bM(h8,e,h9){h8.push("C",gi(hn,e),",",gi(hn,h9),",",gi(hl,e),",",gi(hl,h9),",",gi(hj,e),",",gi(hj,h9))}function h1(h8,e){return(e[1]-h8[1])/(e[0]-h8[0])}function d5(ia){var h9=0,h8=ia.length-1,e=[],id=ia[0],ic=ia[1],ib=e[0]=h1(id,ic);while(++h9<h8){e[h9]=(ib+(ib=h1(id=ic,ic=ia[h9+1])))/2}e[h9]=ib;return e}function ap(ie){var ib=[],ia,id,ic,ig,e=d5(ie),h9=-1,h8=ie.length-1;while(++h9<h8){ia=h1(ie[h9],ie[h9+1]);if(cD(ia)<gj){e[h9]=e[h9+1]=0}else{id=e[h9]/ia;ic=e[h9+1]/ia;ig=id*id+ic*ic;if(ig>9){ig=ia*3/Math.sqrt(ig);e[h9]=ig*id;e[h9+1]=ig*ic}}}h9=-1;while(++h9<=h8){ig=(ie[Math.min(h8,h9+1)][0]-ie[Math.max(0,h9-1)][0])/(6*(1+e[h9]*e[h9]));ib.push([ig||0,e[h9]*ig||0])}return ib}function df(e){return e.length<3?hN(e):e[0]+cU(e,ap(e))}hk.svg.line.radial=function(){var e=e5(L);e.radius=e.x,delete e.x;e.angle=e.y,delete e.y;return e};function L(ia){var e,h9=-1,ic=ia.length,ib,h8;while(++h9<ic){e=ia[h9];ib=e[0];h8=e[1]-em;e[0]=ib*Math.cos(h8);e[1]=ib*Math.sin(h8)}return ia}function h3(ib){var h9=hR,h8=hR,ii=0,ig=hQ,ia=ad,ic=hN,ij=ic.key,ie=ic,id="L",ih=0.7;function e(ip){var ir=[],ik=[],iz=[],iq=-1,il=ip.length,iu,io=N(h9),iy=N(ii),im=h9===h8?function(){return iw}:N(h8),ix=ii===ig?function(){return iv}:N(ig),iw,iv;function it(){ir.push("M",ic(ib(iz),ih),id,ie(ib(ik.reverse()),ih),"Z")}while(++iq<il){if(ia.call(this,iu=ip[iq],iq)){ik.push([iw=+io.call(this,iu,iq),iv=+iy.call(this,iu,iq)]);iz.push([+im.call(this,iu,iq),+ix.call(this,iu,iq)])}else{if(ik.length){it();ik=[];iz=[]}}}if(ik.length){it()}return ir.length?ir.join(""):null}e.x=function(ik){if(!arguments.length){return h8}h9=h8=ik;return e};e.x0=function(ik){if(!arguments.length){return h9}h9=ik;return e};e.x1=function(ik){if(!arguments.length){return h8}h8=ik;return e};e.y=function(ik){if(!arguments.length){return ig}ii=ig=ik;return e};e.y0=function(ik){if(!arguments.length){return ii}ii=ik;return e};e.y1=function(ik){if(!arguments.length){return ig}ig=ik;return e};e.defined=function(ik){if(!arguments.length){return ia}ia=ik;return e};e.interpolate=function(ik){if(!arguments.length){return ij}if(typeof ik==="function"){ij=ic=ik}else{ij=(ic=cb.get(ik)||hN).key}ie=ic.reverse||ic;id=ic.closed?"M":"L";return e};e.tension=function(ik){if(!arguments.length){return ih}ih=ik;return e};return e}bi.reverse=hu;hu.reverse=bi;hk.svg.area=function(){return h3(gh)};hk.svg.area.radial=function(){var e=h3(L);e.radius=e.x,delete e.x;e.innerRadius=e.x0,delete e.x0;e.outerRadius=e.x1,delete e.x1;e.angle=e.y,delete e.y;e.startAngle=e.y0,delete e.y0;e.endAngle=e.y1,delete e.y1;return e};hk.svg.chord=function(){var e=hF,ie=hM,id=D,ig=gc,ib=ak;function ic(il,ij){var ik=ih(this,e,il,ij),ii=ih(this,ie,il,ij);return"M"+ik.p0+h8(ik.r,ik.p1,ik.a1-ik.a0)+(h9(ik,ii)?ia(ik.r,ik.p1,ik.r,ik.p0):ia(ik.r,ik.p1,ii.r,ii.p0)+h8(ii.r,ii.p1,ii.a1-ii.a0)+ia(ii.r,ii.p1,ik.r,ik.p0))+"Z"}function ih(il,ip,iq,im){var ik=ip.call(il,iq,im),io=id.call(il,ik,im),ij=ig.call(il,ik,im)-em,ii=ib.call(il,ik,im)-em;return{r:io,a0:ij,a1:ii,p0:[io*Math.cos(ij),io*Math.sin(ij)],p1:[io*Math.cos(ii),io*Math.sin(ii)]}}function h9(ij,ii){return ij.a0==ii.a0&&ij.a1==ii.a1}function h8(ij,ik,ii){return"A"+ij+","+ij+" 0 "+ +(ii>ga)+",1 "+ik}function ia(ij,il,ii,ik){return"Q 0,0 "+ik}ic.radius=function(ii){if(!arguments.length){return id}id=N(ii);return ic};ic.source=function(ii){if(!arguments.length){return e}e=N(ii);return ic};ic.target=function(ii){if(!arguments.length){return ie}ie=N(ii);return ic};ic.startAngle=function(ii){if(!arguments.length){return ig}ig=N(ii);return ic};ic.endAngle=function(ii){if(!arguments.length){return ib}ib=N(ii);return ic};return ic};function D(e){return e.radius}hk.svg.diagonal=function(){var h9=hF,ia=hM,e=j;function h8(ig,ic){var ih=h9.call(this,ig,ic),id=ia.call(this,ig,ic),ib=(ih.y+id.y)/2,ie=[ih,{x:ih.x,y:ib},{x:id.x,y:ib},id];ie=ie.map(e);return"M"+ie[0]+"C"+ie[1]+" "+ie[2]+" "+ie[3]}h8.source=function(ib){if(!arguments.length){return h9}h9=N(ib);return h8};h8.target=function(ib){if(!arguments.length){return ia}ia=N(ib);return h8};h8.projection=function(ib){if(!arguments.length){return e}e=ib;return h8};return h8};function j(e){return[e.x,e.y]}hk.svg.diagonal.radial=function(){var h9=hk.svg.diagonal(),e=j,h8=h9.projection;h9.projection=function(ia){return arguments.length?h8(k(e=ia)):e};return h9};function k(e){return function(){var ia=e.apply(this,arguments),h9=ia[0],h8=ia[1]-em;return[h9*Math.cos(h8),h9*Math.sin(h8)]}}hk.svg.symbol=function(){var h8=aR,e=e1;function h9(ib,ia){return(hK.get(h8.call(this,ib,ia))||cd)(e.call(this,ib,ia))}h9.type=function(ia){if(!arguments.length){return h8}h8=N(ia);return h9};h9.size=function(ia){if(!arguments.length){return e}e=N(ia);return h9};return h9};function e1(){return 64}function aR(){return"circle"}function cd(e){var h8=Math.sqrt(e/ga);return"M0,"+h8+"A"+h8+","+h8+" 0 1,1 0,"+-h8+"A"+h8+","+h8+" 0 1,1 0,"+h8+"Z"}var hK=hk.map({circle:cd,cross:function(e){var h8=Math.sqrt(e/5)/2;return"M"+-3*h8+","+-h8+"H"+-h8+"V"+-3*h8+"H"+h8+"V"+-h8+"H"+3*h8+"V"+h8+"H"+h8+"V"+3*h8+"H"+-h8+"V"+h8+"H"+-3*h8+"Z"},diamond:function(e){var h8=Math.sqrt(e/(2*cj)),h9=h8*cj;return"M0,"+-h8+"L"+h9+",0 0,"+h8+" "+-h9+",0Z"},square:function(e){var h8=Math.sqrt(e)/2;return"M"+-h8+","+-h8+"L"+h8+","+-h8+" "+h8+","+h8+" "+-h8+","+h8+"Z"},"triangle-down":function(e){var h9=Math.sqrt(e/b5),h8=h9*b5/2;return"M0,"+h8+"L"+h9+","+-h8+" "+-h9+","+-h8+"Z"},"triangle-up":function(e){var h9=Math.sqrt(e/b5),h8=h9*b5/2;return"M0,"+-h8+"L"+h9+","+h8+" "+-h9+","+h8+"Z"}});hk.svg.symbolTypes=hK.keys();var b5=Math.sqrt(3),cj=Math.tan(30*F);dV.transition=function(e){var h8=an||++g7,ii=gv(e),ia=[],ik,ic,ih=d0||{time:Date.now(),ease:ar,delay:0,duration:250};for(var ie=-1,ib=this.length;++ie<ib;){ia.push(ik=[]);for(var ij=this[ie],ig=-1,h9=ij.length;++ig<h9;){if(ic=ij[ig]){fx(ic,ig,ii,h8,ih)}ik.push(ic)}}return gN(ia,ii,h8)};dV.interrupt=function(e){return this.each(e==null?cR:ds(gv(e)))};var cR=ds(gv());function ds(e){return function(){var h9,h8,ia;if((h9=this[e])&&(ia=h9[h8=h9.active])){ia.timer.c=null;ia.timer.t=NaN;if(--h9.count){delete h9[h8]}else{delete this[e]}h9.active+=0.5;ia.event&&ia.event.interrupt.call(this,this.__data__,ia.index)}}}function gN(e,h8,h9){h2(e,es);e.namespace=h8;e.id=h9;return e}var es=[],g7=0,an,d0;es.call=dV.call;es.empty=dV.empty;es.node=dV.node;es.size=dV.size;hk.transition=function(h8,e){return h8&&h8.transition?an?h8.transition(e):h8:hk.selection().transition(h8)};hk.transition.prototype=es;es.select=function(id){var e=this.id,ih=this.namespace,ia=[],ij,h8,ic;id=v(id);for(var ie=-1,ib=this.length;++ie<ib;){ia.push(ij=[]);for(var ii=this[ie],ig=-1,h9=ii.length;++ig<h9;){if((ic=ii[ig])&&(h8=id.call(ic,ic.__data__,ig,ie))){if("__data__" in ic){h8.__data__=ic.__data__}fx(h8,ig,ih,e,ic[ih][e]);ij.push(h8)}else{ij.push(null)}}}return gN(ia,ih,e)};es.selectAll=function(ih){var h8=this.id,im=this.namespace,ic=[],ip,e,ig,h9,il;ih=cY(ih);for(var ij=-1,ie=this.length;++ij<ie;){for(var io=this[ij],ik=-1,ib=io.length;++ik<ib;){if(ig=io[ik]){il=ig[im][h8];e=ih.call(ig,ig.__data__,ik,ij);ic.push(ip=[]);for(var ii=-1,ia=e.length;++ii<ia;){if(h9=e[ii]){fx(h9,ii,im,h8,il)}ip.push(h9)}}}}return gN(ic,im,h8)};es.filter=function(e){var h9=[],ig,ie,ia;if(typeof e!=="function"){e=a5(e)}for(var ic=0,ib=this.length;ic<ib;ic++){h9.push(ig=[]);for(var ie=this[ic],id=0,h8=ie.length;id<h8;id++){if((ia=ie[id])&&e.call(ia,ia.__data__,id,ic)){ig.push(ia)}}}return gN(h9,this.namespace,this.id)};es.tween=function(e,h8){var ia=this.id,h9=this.namespace;if(arguments.length<2){return this.node()[h9][ia].tween.get(e)}return cF(this,h8==null?function(ib){ib[h9][ia].tween.remove(e)}:function(ib){ib[h9][ia].tween.set(e,h8)})};function hJ(e,h8,ib,h9){var ic=e.id,ia=e.namespace;return cF(e,typeof ib==="function"?function(ig,ie,id){ig[ia][ic].tween.set(h8,h9(ib.call(ig,ig.__data__,ie,id)))}:(ib=h9(ib),function(id){id[ia][ic].tween.set(h8,ib)}))}es.attr=function(e,ic){if(arguments.length<2){for(ic in e){this.attr(ic,e[ic])}return this}var ia=e=="transform"?ed:fy,h9=hk.ns.qualify(e);function h8(){this.removeAttribute(h9)}function ie(){this.removeAttributeNS(h9.space,h9.local)}function ib(ig){return ig==null?h8:(ig+="",function(){var ih=this.getAttribute(h9),ii;return ih!==ig&&(ii=ia(ih,ig),function(ij){this.setAttribute(h9,ii(ij))})})}function id(ig){return ig==null?ie:(ig+="",function(){var ih=this.getAttributeNS(h9.space,h9.local),ii;return ih!==ig&&(ii=ia(ih,ig),function(ij){this.setAttributeNS(h9.space,h9.local,ii(ij))})})}return hJ(this,"attr."+e,ic,h9.local?id:ib)};es.attrTween=function(e,h9){var h8=hk.ns.qualify(e);function ia(ie,ic){var id=h9.call(this,ie,ic,this.getAttribute(h8));return id&&function(ig){this.setAttribute(h8,id(ig))}}function ib(ie,ic){var id=h9.call(this,ie,ic,this.getAttributeNS(h8.space,h8.local));return id&&function(ig){this.setAttributeNS(h8.space,h8.local,id(ig))}}return this.tween("attr."+e,h8.local?ib:ia)};es.style=function(h9,ib,ia){var ic=arguments.length;if(ic<3){if(typeof h9!=="string"){if(ic<2){ib=""}for(ia in h9){this.style(ia,h9[ia],ib)}return this}ia=""}function h8(){this.style.removeProperty(h9)}function e(id){return id==null?h8:(id+="",function(){var ie=fu(this).getComputedStyle(this,null).getPropertyValue(h9),ig;return ie!==id&&(ig=fy(ie,id),function(ih){this.style.setProperty(h9,ig(ih),ia)})})}return hJ(this,"style."+h9,ib,e)};es.styleTween=function(e,h9,h8){if(arguments.length<3){h8=""}function ia(id,ib){var ic=h9.call(this,id,ib,fu(this).getComputedStyle(this,null).getPropertyValue(e));return ic&&function(ie){this.style.setProperty(e,ic(ie),h8)}}return this.tween("style."+e,ia)};es.text=function(e){return hJ(this,"text",e,h7)};function h7(e){if(e==null){e=""}return function(){this.textContent=e}}es.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var h8;if(this[e].count<2&&(h8=this.parentNode)){h8.removeChild(this)}})};es.ease=function(h8){var h9=this.id,e=this.namespace;if(arguments.length<1){return this.node()[e][h9].ease}if(typeof h8!=="function"){h8=hk.ease.apply(hk,arguments)}return cF(this,function(ia){ia[e][h9].ease=h8})};es.delay=function(h8){var h9=this.id,e=this.namespace;if(arguments.length<1){return this.node()[e][h9].delay}return cF(this,typeof h8==="function"?function(ic,ib,ia){ic[e][h9].delay=+h8.call(ic,ic.__data__,ib,ia)}:(h8=+h8,function(ia){ia[e][h9].delay=h8}))};es.duration=function(h8){var h9=this.id,e=this.namespace;if(arguments.length<1){return this.node()[e][h9].duration}return cF(this,typeof h8==="function"?function(ic,ib,ia){ic[e][h9].duration=Math.max(1,h8.call(ic,ic.__data__,ib,ia))}:(h8=Math.max(1,h8),function(ia){ia[e][h9].duration=h8}))};es.each=function(h9,ia){var ic=this.id,h8=this.namespace;if(arguments.length<2){var e=d0,ib=an;try{an=ic;cF(this,function(ig,ie,id){d0=ig[h8][ic];h9.call(ig,ig.__data__,ie,id)})}finally{d0=e;an=ib}}else{cF(this,function(id){var ie=id[h8][ic];(ie.event||(ie.event=hk.dispatch("start","end","interrupt"))).on(h9,ia)})}return this};es.transition=function(){var ij=this.id,ii=++g7,ie=this.namespace,h8=[],ih,ig,ia,id;for(var ib=0,h9=this.length;ib<h9;ib++){h8.push(ih=[]);for(var ig=this[ib],ic=0,e=ig.length;ic<e;ic++){if(ia=ig[ic]){id=ia[ie][ij];fx(ia,ic,ie,ii,{time:id.time,ease:id.ease,delay:id.delay+id.duration,duration:id.duration})}ih.push(ia)}}return gN(h8,ie,ii)};function gv(e){return e==null?"__transition__":"__transition_"+e+"__"}function fx(ib,ig,im,h9,ih){var io=ib[im]||(ib[im]={active:0,count:0}),il=io[h9],ia,h8,ie,ic,ik;function ij(id){var ip=il.delay;h8.t=ip+ia;if(ip<=id){return e(id-ip)}h8.c=e}function e(id){var ip=io.active,ir=io[ip];if(ir){ir.timer.c=null;ir.timer.t=NaN;--io.count;delete io[ip];ir.event&&ir.event.interrupt.call(ib,ib.__data__,ir.index)}for(var it in io){if(+it<h9){var iq=io[it];iq.timer.c=null;iq.timer.t=NaN;--io.count;delete io[it]}}h8.c=ii;gZ(function(){if(h8.c&&ii(id||1)){h8.c=null;h8.t=NaN}return 1},0,ia);io.active=h9;il.event&&il.event.start.call(ib,ib.__data__,ig);ik=[];il.tween.forEach(function(iu,iv){if(iv=iv.call(ib,ib.__data__,ig)){ik.push(iv)}});ic=il.ease;ie=il.duration}function ii(id){var ip=id/ie,iq=ic(ip),ir=ik.length;while(ir>0){ik[--ir].call(ib,iq)}if(ip>=1){il.event&&il.event.end.call(ib,ib.__data__,ig);if(--io.count){delete io[h9]}else{delete ib[im]}return 1}}if(!il){ia=ih.time;h8=gZ(ij,0,ia);il=io[h9]={tween:new aE(),time:ia,timer:h8,delay:ih.delay,duration:ih.duration,ease:ih.ease,index:ig};ih=null;++io.count}}hk.svg.axis=function(){var h9=hk.scale.linear(),ib=hS,e=6,ic=6,ig=3,ie=[10],ia=null,id;function h8(ih){ih.each(function(){var iF=hk.select(this);var iA=this.__chart__||h9,iz=this.__chart__=h9.copy();var iI=ia==null?iz.ticks?iz.ticks.apply(iz,ie):iz.domain():ia,iy=id==null?iz.tickFormat?iz.tickFormat.apply(iz,ie):gh:id,iC=iF.selectAll(".tick").data(iI,iz),iv=iC.enter().insert("g",".domain").attr("class","tick").style("opacity",gj),ix=hk.transition(iC.exit()).style("opacity",gj).remove(),ip=hk.transition(iC.order()).style("opacity",1),ii=Math.max(e,0)+ig,ij;var iu=aV(iz),iw=iF.selectAll(".domain").data([0]),iJ=(iw.enter().append("path").attr("class","domain"),hk.transition(iw));iv.append("line");iv.append("text");var im=iv.select("line"),iH=ip.select("line"),it=iC.select("text").text(iy),io=iv.select("text"),iE=ip.select("text"),iG=ib==="top"||ib==="left"?-1:1,iD,iB,il,ik;if(ib==="bottom"||ib==="top"){ij=fi,iD="x",il="y",iB="x2",ik="y2";it.attr("dy",iG<0?"0em":".71em").style("text-anchor","middle");iJ.attr("d","M"+iu[0]+","+iG*ic+"V0H"+iu[1]+"V"+iG*ic)}else{ij=fh,iD="y",il="x",iB="y2",ik="x2";it.attr("dy",".32em").style("text-anchor",iG<0?"end":"start");iJ.attr("d","M"+iG*ic+","+iu[0]+"H0V"+iu[1]+"H"+iG*ic)}im.attr(ik,iG*e);io.attr(il,iG*ii);iH.attr(iB,0).attr(ik,iG*e);iE.attr(iD,0).attr(il,iG*ii);if(iz.rangeBand){var iq=iz,ir=iq.rangeBand()/2;iA=iz=function(iK){return iq(iK)+ir}}else{if(iA.rangeBand){iA=iz}else{ix.call(ij,iz,iA)}}iv.call(ij,iA,iz);ip.call(ij,iz,iz)})}h8.scale=function(ih){if(!arguments.length){return h9}h9=ih;return h8};h8.orient=function(ih){if(!arguments.length){return ib}ib=ih in eZ?ih+"":hS;return h8};h8.ticks=function(){if(!arguments.length){return ie}ie=dL(arguments);return h8};h8.tickValues=function(ih){if(!arguments.length){return ia}ia=ih;return h8};h8.tickFormat=function(ih){if(!arguments.length){return id}id=ih;return h8};h8.tickSize=function(ih){var ii=arguments.length;if(!ii){return e}e=+ih;ic=+arguments[ii-1];return h8};h8.innerTickSize=function(ih){if(!arguments.length){return e}e=+ih;return h8};h8.outerTickSize=function(ih){if(!arguments.length){return ic}ic=+ih;return h8};h8.tickPadding=function(ih){if(!arguments.length){return ig}ig=+ih;return h8};h8.tickSubdivide=function(){return arguments.length&&h8};return h8};var hS="bottom",eZ={top:1,right:1,bottom:1,left:1};function fi(h9,h8,e){h9.attr("transform",function(ib){var ia=h8(ib);return"translate("+(isFinite(ia)?ia:e(ib))+",0)"})}function fh(h8,h9,e){h8.attr("transform",function(ib){var ia=h9(ib);return"translate(0,"+(isFinite(ia)?ia:e(ib))+")"})}hk.svg.brush=function(){var h8=he(ig,"brushstart","brush","brushend"),ij=null,ih=null,h9=[0,0],ie=[0,0],ii,ib,e=true,id=true,ik=ao[0];function ig(io){io.each(function(){var iv=hk.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",il).on("touchstart.brush",il);var iu=iv.selectAll(".background").data([0]);iu.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");iv.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var it=iv.selectAll(".resize").data(ik,gh);it.exit().remove();it.enter().append("g").attr("class",function(iw){return"resize "+iw}).style("cursor",function(iw){return eS[iw]}).append("rect").attr("x",function(iw){return/[ew]$/.test(iw)?-3:null}).attr("y",function(iw){return/^[ns]/.test(iw)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");it.style("display",ig.empty()?"none":null);var ir=hk.transition(iv),ip=hk.transition(iu),iq;if(ij){iq=aV(ij);ip.attr("x",iq[0]).attr("width",iq[1]-iq[0]);ic(ir)}if(ih){iq=aV(ih);ip.attr("y",iq[0]).attr("height",iq[1]-iq[0]);ia(ir)}im(ir)})}ig.event=function(io){io.each(function(){var ip=h8.of(this,arguments),iq={x:h9,y:ie,i:ii,j:ib},ir=this.__chart__||iq;this.__chart__=iq;if(an){hk.select(this).transition().each("start.brush",function(){ii=ir.i;ib=ir.j;h9=ir.x;ie=ir.y;ip({type:"brushstart"})}).tween("brush:brush",function(){var it=eL(h9,iq.x),iu=eL(ie,iq.y);ii=ib=null;return function(iv){h9=iq.x=it(iv);ie=iq.y=iu(iv);ip({type:"brush",mode:"resize"})}}).each("end.brush",function(){ii=iq.i;ib=iq.j;ip({type:"brush",mode:"resize"});ip({type:"brushend"})})}else{ip({type:"brushstart"});ip({type:"brush",mode:"resize"});ip({type:"brushend"})}})};function im(io){io.selectAll(".resize").attr("transform",function(ip){return"translate("+h9[+/e$/.test(ip)]+","+ie[+/^s/.test(ip)]+")"})}function ic(io){io.select(".extent").attr("x",h9[0]);io.selectAll(".extent,.n>rect,.s>rect").attr("width",h9[1]-h9[0])}function ia(io){io.select(".extent").attr("y",ie[0]);io.selectAll(".extent,.e>rect,.w>rect").attr("height",ie[1]-ie[0])}function il(){var iI=this,ip=hk.select(hk.event.target),ix=h8.of(iI,arguments),iD=hk.select(iI),iF=ip.datum(),iB=!/^(n|s)$/.test(iF)&&ij,iz=!/^(e|w)$/.test(iF)&&ih,iA=ip.classed("extent"),ir=bH(iI),iG,iH=hk.mouse(iI),iq;var iv=hk.select(fu(iI)).on("keydown.brush",iy).on("keyup.brush",iu);if(hk.event.changedTouches){iv.on("touchmove.brush",iw).on("touchend.brush",io)}else{iv.on("mousemove.brush",iw).on("mouseup.brush",io)}iD.interrupt().selectAll("*").interrupt();if(iA){iH[0]=h9[0]-iH[0];iH[1]=ie[0]-iH[1]}else{if(iF){var iE=+/w$/.test(iF),iC=+/^n/.test(iF);iq=[h9[1-iE]-iH[0],ie[1-iC]-iH[1]];iH[0]=h9[iE];iH[1]=ie[iC]}else{if(hk.event.altKey){iG=iH.slice()}}}iD.style("pointer-events","none").selectAll(".resize").style("display",null);hk.select("body").style("cursor",ip.style("cursor"));ix({type:"brushstart"});iw();function iy(){if(hk.event.keyCode==32){if(!iA){iG=null;iH[0]-=h9[1];iH[1]-=ie[1];iA=2}s()}}function iu(){if(hk.event.keyCode==32&&iA==2){iH[0]+=h9[1];iH[1]+=ie[1];iA=0;s()}}function iw(){var iJ=hk.mouse(iI),iK=false;if(iq){iJ[0]+=iq[0];iJ[1]+=iq[1]}if(!iA){if(hk.event.altKey){if(!iG){iG=[(h9[0]+h9[1])/2,(ie[0]+ie[1])/2]}iH[0]=h9[+(iJ[0]<iG[0])];iH[1]=ie[+(iJ[1]<iG[1])]}else{iG=null}}if(iB&&it(iJ,ij,0)){ic(iD);iK=true}if(iz&&it(iJ,ih,1)){ia(iD);iK=true}if(iK){im(iD);ix({type:"brush",mode:iA?"move":"resize"})}}function it(iR,iL,iN){var iO=aV(iL),iK=iO[0],iJ=iO[1],iP=iH[iN],iS=iN?ie:h9,iT=iS[1]-iS[0],iM,iQ;if(iA){iK-=iP;iJ-=iT+iP}iM=(iN?id:e)?Math.max(iK,Math.min(iJ,iR[iN])):iR[iN];if(iA){iQ=(iM+=iP)+iT}else{if(iG){iP=Math.max(iK,Math.min(iJ,2*iG[iN]-iM))}if(iP<iM){iQ=iM;iM=iP}else{iQ=iP}}if(iS[0]!=iM||iS[1]!=iQ){if(iN){ib=null}else{ii=null}iS[0]=iM;iS[1]=iQ;return true}}function io(){iw();iD.style("pointer-events","all").selectAll(".resize").style("display",ig.empty()?"none":null);hk.select("body").style("cursor",null);iv.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);ir();ix({type:"brushend"})}}ig.x=function(io){if(!arguments.length){return ij}ij=io;ik=ao[!ij<<1|!ih];return ig};ig.y=function(io){if(!arguments.length){return ih}ih=io;ik=ao[!ij<<1|!ih];return ig};ig.clamp=function(io){if(!arguments.length){return ij&&ih?[e,id]:ij?e:ih?id:null}if(ij&&ih){e=!!io[0],id=!!io[1]}else{if(ij){e=!!io}else{if(ih){id=!!io}}}return ig};ig.extent=function(iu){var iq,io,it,ir,ip;if(!arguments.length){if(ij){if(ii){iq=ii[0],io=ii[1]}else{iq=h9[0],io=h9[1];if(ij.invert){iq=ij.invert(iq),io=ij.invert(io)}if(io<iq){ip=iq,iq=io,io=ip}}}if(ih){if(ib){it=ib[0],ir=ib[1]}else{it=ie[0],ir=ie[1];if(ih.invert){it=ih.invert(it),ir=ih.invert(ir)}if(ir<it){ip=it,it=ir,ir=ip}}}return ij&&ih?[[iq,it],[io,ir]]:ij?[iq,io]:ih&&[it,ir]}if(ij){iq=iu[0],io=iu[1];if(ih){iq=iq[0],io=io[0]}ii=[iq,io];if(ij.invert){iq=ij(iq),io=ij(io)}if(io<iq){ip=iq,iq=io,io=ip}if(iq!=h9[0]||io!=h9[1]){h9=[iq,io]}}if(ih){it=iu[0],ir=iu[1];if(ij){it=it[1],ir=ir[1]}ib=[it,ir];if(ih.invert){it=ih(it),ir=ih(ir)}if(ir<it){ip=it,it=ir,ir=ip}if(it!=ie[0]||ir!=ie[1]){ie=[it,ir]}}return ig};ig.clear=function(){if(!ig.empty()){h9=[0,0],ie=[0,0];ii=ib=null}return ig};ig.empty=function(){return !!ij&&h9[0]==h9[1]||!!ih&&ie[0]==ie[1]};return hk.rebind(ig,h8,"on")};var eS={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"};var ao=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];var h6=fC.format=de.timeFormat;var dc=h6.utc;var dM=dc("%Y-%m-%dT%H:%M:%S.%LZ");h6.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?du:dM;function du(e){return e.toISOString()}du.parse=function(h8){var e=new Date(h8);return isNaN(e)?null:e};du.toString=dM.toString;fC.second=cX(function(e){return new ho(Math.floor(e/1000)*1000)},function(e,h8){e.setTime(e.getTime()+Math.floor(h8)*1000)},function(e){return e.getSeconds()});fC.seconds=fC.second.range;fC.seconds.utc=fC.second.utc.range;fC.minute=cX(function(e){return new ho(Math.floor(e/60000)*60000)},function(e,h8){e.setTime(e.getTime()+Math.floor(h8)*60000)},function(e){return e.getMinutes()});fC.minutes=fC.minute.range;fC.minutes.utc=fC.minute.utc.range;fC.hour=cX(function(e){var h8=e.getTimezoneOffset()/60;return new ho((Math.floor(e/3600000-h8)+h8)*3600000)},function(e,h8){e.setTime(e.getTime()+Math.floor(h8)*3600000)},function(e){return e.getHours()});fC.hours=fC.hour.range;fC.hours.utc=fC.hour.utc.range;fC.month=cX(function(e){e=fC.day(e);e.setDate(1);return e},function(e,h8){e.setMonth(e.getMonth()+h8)},function(e){return e.getMonth()});fC.months=fC.month.range;fC.months.utc=fC.month.utc.range;function bn(e,h8,h9){function ia(ic){return e(ic)}ia.invert=function(ic){return fW(e.invert(ic))};ia.domain=function(ic){if(!arguments.length){return e.domain().map(fW)}e.domain(ic);return ia};function ib(ie,ig){var id=ie[1]-ie[0],ih=id/ig,ic=hk.bisect(e7,ih);return ic==e7.length?[h8.year,m(ie.map(function(ii){return ii/31536000000}),ig)[2]]:!ic?[cv,m(ie,ig)[2]]:h8[ih/e7[ic-1]<e7[ic]/ih?ic-1:ic]}ia.nice=function(id,ig){var ih=ia.domain(),ie=ep(ih),ii=id==null?ib(ie,10):typeof id==="number"&&ib(ie,id);if(ii){id=ii[0],ig=ii[1]}function ic(ij){return !isNaN(ij)&&!id.range(ij,fW(+ij+1),ig).length}return ia.domain(ge(ih,ig>1?{floor:function(ij){while(ic(ij=id.floor(ij))){ij=fW(ij-1)}return ij},ceil:function(ij){while(ic(ij=id.ceil(ij))){ij=fW(+ij+1)}return ij}}:id))};ia.ticks=function(ic,ie){var id=ep(ia.domain()),ig=ic==null?ib(id,10):typeof ic==="number"?ib(id,ic):!ic.range&&[{range:ic},ie];if(ig){ic=ig[0],ie=ig[1]}return ic.range(id[0],fW(+id[1]+1),ie<1?1:ie)};ia.tickFormat=function(){return h9};ia.copy=function(){return bn(e.copy(),h8,h9)};return f6(ia,e)}function fW(e){return new Date(e)}var e7=[1000,5000,15000,30000,60000,300000,900000,1800000,3600000,10800000,21600000,43200000,86400000,172800000,604800000,2592000000,7776000000,31536000000];var cz=[[fC.second,1],[fC.second,5],[fC.second,15],[fC.second,30],[fC.minute,1],[fC.minute,5],[fC.minute,15],[fC.minute,30],[fC.hour,1],[fC.hour,3],[fC.hour,6],[fC.hour,12],[fC.day,1],[fC.day,2],[fC.week,1],[fC.month,1],[fC.month,3],[fC.year,1]];var O=h6.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&e.getDate()!=1}],["%b %d",function(e){return e.getDate()!=1}],["%B",function(e){return e.getMonth()}],["%Y",ad]]);var cv={range:function(h9,e,h8){return hk.range(Math.ceil(h9/h8)*h8,+e,h8).map(fW)},floor:gh,ceil:gh};cz.year=fC.year;fC.scale=function(){return bn(hk.scale.linear(),cz,O)};var fZ=cz.map(function(e){return[e[0].utc,e[1]]});var fn=dc.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&e.getUTCDate()!=1}],["%b %d",function(e){return e.getUTCDate()!=1}],["%B",function(e){return e.getUTCMonth()}],["%Y",ad]]);fZ.year=fC.year.utc;fC.scale.utc=function(){return bn(hk.scale.linear(),fZ,fn)};hk.text=T(function(e){return e.responseText});hk.json=function(e,h8){return hV(e,"application/json",dI,h8)};function dI(e){return JSON.parse(e.responseText)}hk.html=function(e,h8){return hV(e,"text/html",h5,h8)};function h5(h8){var e=bK.createRange();e.selectNode(bK.body);return e.createContextualFragment(h8.responseText)}hk.xml=T(function(e){return e.responseXML});if(typeof define==="function"&&define.amd){this.d3=hk,define(hk)}else{if(typeof module==="object"&&module.exports){module.exports=hk}else{this.d3=hk}}}();Ext.define("Ext.d3.ComponentBase",{extend:"Ext.Component"});Ext.namespace("Ext.d3.lib").d3=true;Ext.define("Ext.d3.Component",{extend:"Ext.d3.ComponentBase",requires:["Ext.d3.lib.d3"],config:{store:null,baseCls:Ext.baseCSSPrefix+"d3",componentCls:"",interactions:[],touchAction:{panX:false,panY:false,pinchZoom:false,doubleTapZoom:false}},defaultBindProperty:"store",isInitializing:true,resizeDelay:250,resizeTimerId:0,size:null,d3Components:null,constructor:function(a){var b=this;b.d3Components={};b.callParent(arguments);b.isInitializing=false;b.on("resize","onElementResize",b)},destroy:function(){var a=this;a.un("resize","onElementResize",a);a.setInteractions();a.callParent()},updateComponentCls:function(a,d){var b=this.getBaseCls(),c=this.element;if(a&&Ext.isString(a)){c.addCls(a,b);if(d){c.removeCls(d,b)}}},register:function(a){var b=this.d3Components,c=a.getId();b[c]=a},unregister:function(a){var b=this.d3Components,c=a.getId();delete b[c]},applyInteractions:function(b,h){if(!h){h=[];h.map={}}var e=this,j=[],f=h.map,c,d,g,a;j.map={};b=Ext.Array.from(b,true);for(c=0,d=b.length;c<d;c++){g=b[c];if(!g){continue}if(g.isInteraction){a=g.getId()}else{a=g.id;g.element=e.element}g=Ext.factory(g,null,f[a],"d3.interaction");if(g){g.setComponent(e);e.addInteraction(g);j.push(g);j.map[g.getId()]=g}}for(c in f){if(!j.map[c]){g=f[c];e.removeInteraction(g);g.destroy()}}return j},panZoom:null,onPanZoom:Ext.emptyFn,getContentRect:Ext.emptyFn,getViewportRect:Ext.emptyFn,addInteraction:function(a){var b=this;if(a.isPanZoom){a.setContentRect(b.getContentRect.bind(b));a.setViewportRect(b.getViewportRect.bind(b));b.panZoom=a;a.on("panzoom",b.onPanZoom,b)}},removeInteraction:function(a){if(a.isPanZoom){a.setContentRect(null);a.setViewportRect(null);this.panZoom=null;a.un("panzoom",this.onPanZoom,this)}},applyStore:function(a){return a&&Ext.StoreManager.lookup(a)},updateStore:function(a,d){var b=this,c={datachanged:"onDataChange",update:"onDataUpdate",load:"onDataLoad",scope:b,order:"after"};if(d){d.un(c);if(d.getAutoDestroy()){d.destroy()}}if(a){a.on(c);b.onDataChange(a)}},onDataChange:function(a){var b=this;if(b.isInitializing){return}b.processDataChange(a)},onDataUpdate:function(c,a,b,f,d){var e=this;if(e.isInitializing){return}e.processDataUpdate(c,a,b,f,d)},onDataLoad:function(c,b,d,a){this.processDataLoad(c,b,d,a)},processDataChange:Ext.emptyFn,processDataUpdate:Ext.emptyFn,processDataLoad:Ext.emptyFn,onElementResize:function(b,a){this.handleResize(a)},maskEl:null,showMask:function(b){var a=this;if(a.maskEl){a.maskEl.dom.firstChild.textContent=b;a.maskEl.setStyle("display","flex")}else{a.maskEl=this.element.createChild({style:{position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",left:0,top:0,bottom:0,right:0,background:"rgba(0,0,0,0.5)"},children:[{html:b,style:{background:"rgba(0,0,0,0.8)",color:"white",fontWeight:"bold",borderRadius:"10px",padding:"10px"}}]})}},hideMask:function(){this.maskEl&&this.maskEl.setStyle("display","none")},handleResize:function(b,a){var d=this,c=d.element;if(!(c&&(b=b||c.getSize())&&b.width&&b.height)){return}clearTimeout(d.resizeTimerId);if(a){d.resizeTimerId=0}else{d.resizeTimerId=Ext.defer(d.handleResize,d.resizeDelay,d,[b,true]);return}d.resizeHandler(b);if(d.panZoom&&d.panZoom.updateIndicator){d.panZoom.updateIndicator()}d.size=b},resizeHandler:Ext.emptyFn,toLocalXY:function(b,a){var d=b.getXY(),c=a?a.getXY():this.element.getXY();return[d[0]-c[0],d[1]-c[1]]}});Ext.define("Ext.d3.svg.Svg",{extend:"Ext.d3.Component",xtype:["d3-svg","d3"],isSvg:true,config:{padding:{top:0,left:0,right:0,bottom:0},clipScene:false},defaultCls:{wrapper:Ext.baseCSSPrefix+"d3-wrapper",scene:Ext.baseCSSPrefix+"d3-scene",hidden:Ext.baseCSSPrefix+"d3-hidden"},defs:null,wrapper:null,wrapperClipRect:null,wrapperClipId:"wrapper-clip",scene:null,sceneRect:null,svg:null,onClassExtended:function(b,a){Ext.apply(a.defaultCls,b.superclass.defaultCls)},applyPadding:function(c,b){var a;if(!Ext.isObject(c)){a=Ext.util.Format.parseBox(c)}else{if(!b){a=c}else{a=Ext.apply(b,c)}}return a},getSvg:function(){return this.svg||(this.svg=d3.select(this.element.dom).append("svg").attr("version","1.1"))},resizeHandler:function(k){var g=this,e=g.getSvg(),i=g.getPadding(),f=g.getInherited().rtl,a=g.getWrapper(),c=g.getWrapperClipRect(),d=g.getScene(),b=k&&k.width,j=k&&k.height,h;if(!(b&&j)){return}e.attr("width",b).attr("height",j);h=g.sceneRect||(g.sceneRect={});h.x=f?i.right:i.left;h.y=i.top;h.width=b-i.left-i.right;h.height=j-i.top-i.bottom;a.attr("transform","translate("+h.x+","+h.y+")");c.attr("width",h.width).attr("height",h.height);g.onSceneResize(d,h);g.fireEvent("sceneresize",g,d,h)},updatePadding:function(){var a=this;if(!a.isConfiguring){a.resizeHandler(a.getSize())}},getSceneRect:function(){return this.sceneRect},getContentRect:function(){return this.scene&&this.scene.node().getBBox()},getViewportRect:function(){return this.sceneRect},alignContent:function(c,h){var e=this,g=e.getSceneRect(),b=e.getContentRect(),d,a,f;if(g&&b){switch(c){case"center":d=g.width/2-(b.x+b.width/2);break;case"left":d=-b.x;break;case"right":d=g.width-(b.x+b.width);break;default:Ext.raise("Invalid value. Valid `x` values are: center, left, right.")}switch(h){case"center":a=g.height/2-(b.y+b.height/2);break;case"top":a=-b.y;break;case"bottom":a=g.height-(b.y+b.height);break;default:Ext.raise("Invalid value. Valid `y` values are: center, top, bottom.")}}if(Ext.isNumber(d)&&Ext.isNumber(a)){f=[d,a];e.scene.attr("transform","translate("+f+")");e.panZoom&&e.panZoom.setPanZoomSilently(f)}},onSceneResize:Ext.emptyFn,getScene:function(){var a=this,c=a.getWrapper(),b=a.scene;if(!b){a.scene=b=c.append("g").classed(a.defaultCls.scene,true);a.setupScene(b);a.fireEvent("scenesetup",a,b)}return b},clearScene:function(){var b=this,c=b.scene,a=b.defs;if(c){c=c.node();c.removeAttribute("transform");while(c.firstChild){c.removeChild(c.firstChild)}}if(a){a=a.node();while(a.firstChild){a.removeChild(a.firstChild)}}},showScene:function(){this.scene&&this.scene.classed(this.defaultCls.hidden,false)},hideScene:function(){this.scene&&this.scene.classed(this.defaultCls.hidden,true)},setupScene:Ext.emptyFn,onPanZoom:function(a,b,c){this.scene.attr("transform","translate("+c+")scale("+b+")")},getWrapper:function(){var a=this,b=a.wrapper;if(!b){b=a.wrapper=a.getSvg().append("g").classed(a.defaultCls.wrapper,true)}return b},getWrapperClipRect:function(){var b=this,a=b.wrapperClipRect;if(!a){a=b.wrapperClipRect=b.getDefs().append("clipPath").attr("id",b.wrapperClipId).append("rect").attr("fill","white")}return a},updateClipScene:function(a){this.getWrapper().attr("clip-path",a?"url(#"+this.wrapperClipId+")":"")},getDefs:function(){var a=this.defs;if(!a){a=this.defs=this.getSvg().append("defs")}return a},destroy:function(){this.getSvg().remove();this.callParent()}});Ext.define("Ext.d3.Helpers",{singleton:true,makeScale:function(a){if(a.type==="time"){return this.make("time.scale",a)}return this.make("scale",a)},isOrdinalScale:function(a){return typeof a.rangePoints==="function"},make:function(e,b){var d=e.split("."),c=d.length<2&&(b.$type||b.type),a;if(c){a=d3[e][c]}else{a=d3;while(d.length){a=a[d.shift()]}}a=a();a=this.configure(a,b,c);return a},isBBoxable:function(a){if(Ext.isFirefox){if(a){if(a instanceof Element){a=d3.select(a)}return document.contains(a.node())&&a.style("display")!=="none"&&a.attr("visibility")!=="hidden"}}return true},getBBox:function(a){var b=a.style("display");if(b!=="none"){return a.node().getBBox()}},configure:function(c,b,e){var d,a,f;for(d in b){a=d.charAt(0)==="$";if(a){d=d.substr(1)}if((!e||e&&(d!==e||!(d in e)))&&c[d]){if(a){f=b["$"+d].map(function(g){if(typeof g==="string"&&!g.search("d3.")){g=(new Function("return "+g))()}return g});c[d].apply(c,f);a=false}else{f=b[d];if(typeof f==="string"&&!f.search("d3.")){f=(new Function("return "+f))()}c[d](f)}}}return c},setDominantBaseline:function(a,b){a.setAttribute("dominant-baseline",b);this.fakeDominantBaseline(a,b);if(Ext.isSafari&&b==="text-after-edge"){a.setAttribute("baseline-shift","super")}},noDominantBaseline:function(){return Ext.isIE||Ext.isEdge},fakeDominantBaselineMap:{alphabetic:"0em",ideographic:"-.24em",hanging:".72em",mathematical:".46em",middle:".22em",central:".33em","text-after-edge":"-.26em","text-before-edge":".91em"},fakeDominantBaseline:function(b,c,d){if(d||this.noDominantBaseline()){var a=this.fakeDominantBaselineMap[c];a&&b.setAttribute("dy",a)}},fakeDominantBaselines:function(d){var h=this.fakeDominantBaselineMap,a,g,b,c,e,f;if(this.noDominantBaseline()){if(arguments.length>1){a=arguments[0];g=arguments[1];c=document.querySelectorAll(a);b=h[g];if(b){for(e=0,f=c.length;e<f;e++){c[e].setAttribute("dy",b)}}}else{for(a in d){g=d[a];b=h[g];if(b){c=document.querySelectorAll(a);for(e=0,f=c.length;e<f;e++){c[e].setAttribute("dy",b)}}}}}},unitMath:function(b,a,d){var e=parseFloat(b),c=b.substr(e.toString().length);switch(a){case"*":e*=d;break;case"+":e+=d;break;case"/":e/=d;break;case"-":e-=d;break}return e.toString()+c},getLinkId:function(a){var c=a.search("#"),b=a.substr(c,a.length-c-1);return b},alignRect:function(b,h,d,e,f){var c,a,g;if(e&&d){switch(b){case"center":c=e.width/2-(d.x+d.width/2);break;case"left":c=-d.x;break;case"right":c=e.width-(d.x+d.width);break;default:Ext.raise("Invalid value. Valid `x` values are: center, left, right.")}switch(h){case"center":a=e.height/2-(d.y+d.height/2);break;case"top":a=-d.y;break;case"bottom":a=e.height-(d.y+d.height);break;default:Ext.raise("Invalid value. Valid `y` values are: center, top, bottom.")}}if(Ext.isNumber(c)&&Ext.isNumber(a)){c+=e.x;a+=e.y;g=[c,a];f.attr("transform","translate("+g+")")}}});Ext.define("Ext.d3.mixin.Detached",{extend:"Ext.Mixin",detached:null,constructor:function(a){this.detached=d3.select("body").append("svg").remove().attr("version","1.1")},getDetached:function(){return this.detached},isDetached:function(a){return a&&a.node().parentElement===this.detached.node()},attach:function(a,b){if(a instanceof d3.selection){a=a.node()}if(!(a instanceof SVGElement)){Ext.raise("The `parent` must either be a D3 selection or an SVG element.")}if(b instanceof d3.selection){a.appendChild(b.node())}else{if(b instanceof SVGElement){a.appendChild(b)}else{Ext.raise("The `child` must either be a D3 selection or an SVG element.")}}},detach:function(a){this.attach(this.detached,a)},destroy:function(){var a=this.detached.node();if(a&&a.parentNode){a.parentNode.removeChild(a)}this.callParent()}});Ext.define("Ext.d3.axis.Axis",{requires:["Ext.d3.Helpers"],mixins:{observable:"Ext.mixin.Observable",detached:"Ext.d3.mixin.Detached"},config:{axis:{orient:"top"},scale:{type:"linear"},title:null,parent:null,component:null},defaultCls:{self:Ext.baseCSSPrefix+"d3-axis",title:Ext.baseCSSPrefix+"d3-axis-title"},title:null,group:null,domain:null,constructor:function(a){var b=this,c;a=a||{};if("id" in a){c=a.id}else{if("id" in b.config){c=b.config.id}else{c=b.getId()}}b.setId(c);b.mixins.detached.constructor.call(b,a);b.group=b.getDetached().append("g").classed(b.defaultCls.self,true).attr("id",b.getId());b.mixins.observable.constructor.call(b,a)},getGroup:function(){return this.group},getBox:function(){return this.group.node().getBBox()},applyScale:function(c,b){var a=this.getAxis();if(c){if(!Ext.isFunction(c)){c=Ext.d3.Helpers.makeScale(c)}if(a){a.scale(c)}}return c||b},applyAxis:function(a,b){var c=this.getScale();if(a){if(!Ext.isFunction(a)){if(b){a=Ext.d3.Helpers.configure(b,a)}else{a=Ext.d3.Helpers.make("svg.axis",a)}}if(c){a.scale(c)}}return a||b},updateParent:function(b){var c=this,a=c.getAxis();if(b){c.attach(b,c.group);c.render()}else{c.detach(c.group)}},updateTitle:function(b){var a=this;if(b){if(a.title){if(a.isDetached(a.title)){a.attach(a.group,a.title)}}else{a.title=a.group.append("text").classed(a.defaultCls.title,true)}a.title.text(b.text||"");a.title.attr(b.attr);a.positionTitle(b)}else{if(a.title){a.detach(a.title)}}},getAxisLine:function(){var a=this,b=a.domain;if(!b){b=a.group.select("path.domain")}return b.empty()?null:(a.domain=b)},getTicksBBox:function(){var d=this,f=d.group,b,a,e,c,g;c=f.selectAll(".tick");if(c.size()){a=f.append("g");e=a.node();b=f.node();c.each(function(){e.appendChild(this)});g=e.getBBox();c.each(function(){b.appendChild(this)});a.remove()}return g},positionTitle:function(e){var p=this,r=p.title,b=p.getAxis(),l=p.getAxisLine(),k=b.orient(),h=k==="left"||k==="right",c=Ext.d3.Helpers,d="text-before-edge",f="text-after-edge",g,q,m,n,o,a,s,j=0,i=0;if(!(l&&r&&Ext.d3.Helpers.isBBoxable(p.getParent()))){return}e=e||p.getTitle();a=l.node().getBBox();s=p.getTicksBBox();g=e.alignment||"middle";q=e.position||"outside";o=q==="outside";m=e.padding||"0.5em";switch(g){case"start":case"left":n="start";if(h){i=a.y+a.height}else{j=a.x}break;case"end":case"right":n="end";if(h){i=a.y}else{j=a.x+a.width}break;case"middle":case"center":n="middle";if(h){i=a.y+a.height/2}else{j=a.x+a.width/2}break}switch(k){case"top":if(o){r.attr("y",s?s.y:0);m=c.unitMath(m,"*",-1)}c.setDominantBaseline(r.node(),o?f:d);r.attr("text-anchor",n).attr("x",j);break;case"bottom":if(o){r.attr("y",s?s.y+s.height:0)}else{m=c.unitMath(m,"*",-1)}c.setDominantBaseline(r.node(),o?d:f);r.attr("text-anchor",n).attr("x",j);break;case"left":if(o){j=s?s.x:0;m=c.unitMath(m,"*",-1)}c.setDominantBaseline(r.node(),o?f:d);r.attr("text-anchor",n).attr("transform","translate("+j+", "+i+")rotate(-90)");break;case"right":if(o){j=s?s.x+s.width:0}else{m=c.unitMath(m,"*",-1)}c.setDominantBaseline(r.node(),o?d:f);r.attr("text-anchor",n).attr("transform","translate("+j+", "+i+")rotate(-90)");break}r.attr("dy",m)},render:function(e){var c=this,b=c.getAxis(),a=b.orient(),d=c.getScale();if(!(d.domain().length&&d.range().length)){return}if(e){e.select("#"+c.getId()).call(b)}else{c.group.call(b)}c.group.attr("data-orient",a);c.positionTitle()},destroy:function(){this.mixins.detached.destroy.call(this)}});Ext.define("Ext.d3.axis.Data",{extend:"Ext.d3.axis.Axis",config:{field:null,step:null},applyAxis:function(d,e){var d=this.callParent([d,e]),c=this.getComponent(),b=c.getInherited().rtl,a;if(d&&b){a=d.orient();if(a==="left"){d.orient("right")}else{if(a==="right"){d.orient("left")}}}return d}});Ext.define("Ext.d3.axis.Color",{requires:["Ext.d3.Helpers"],mixins:{observable:"Ext.mixin.Observable"},isColorAxis:true,config:{scale:{merge:function(b,a){if(b&&b.type&&a&&a.type===b.type){b=Ext.Object.merge(a,b)}return b},$value:{type:"linear",range:["white","maroon"]}},field:null,processor:null,minimum:null,maximum:null},constructor:function(a){this.mixins.observable.constructor.call(this,a)},applyScale:function(b,a){if(b){if(!Ext.isFunction(b)){this.isUserSetDomain=!!b.domain;b=Ext.d3.Helpers.makeScale(b)}}return b||a},updateScale:function(a){this.scale=a},updateField:function(a){this.field=a},updateProcessor:function(a){this.processor=a},getColor:function(c){var e=this.scale,d=this.field,b=this.processor,a;if(b){a=b(this,e,c,d)}else{if(c&&c.isModel&&d){a=e(c.data[d])}else{a=e(c)}}return a},updateMinimum:function(){this.setDomain()},updateMaximum:function(){this.setDomain()},findDataDomain:function(b){var a=this.field;if(a){return[d3.min(b,function(c){return c.data[a]}),d3.max(b,function(c){return c.data[a]})]}},setDomainFromData:function(a){if(!this.isUserSetDomain){this.setDomain(this.findDataDomain(a))}},setDomain:function(g){var l=this,d=l.getScale(),j=d.range(),b=j.length,k=l.getMinimum(),f=l.getMaximum(),c,a,e,h;if(d&&!l.isUserSetDomain){if(!g){g=d.domain()}g=g.slice();if(Ext.isNumber(k)){g[0]=k}if(Ext.isNumber(f)){g[g.length-1]=f}if(g.length!==b){a=g[0];e=g[g.length-1];c=(e-a)/(b-1);g=[];for(h=0;h<b-1;h++){g.push(a+h*c)}g.push(e)}d.domain(g);l.fireEvent("scalechange",l,d)}}});Ext.define("Ext.d3.legend.Legend",{mixins:{observable:"Ext.mixin.Observable",detached:"Ext.d3.mixin.Detached"},config:{docked:"bottom",padding:30,hidden:false,component:null},defaultCls:{self:Ext.baseCSSPrefix+"d3-legend",item:Ext.baseCSSPrefix+"d3-legend-item",label:Ext.baseCSSPrefix+"d3-legend-label",hidden:Ext.baseCSSPrefix+"d3-hidden"},constructor:function(a){var b=this;b.mixins.detached.constructor.call(b,a);b.group=b.getDetached().append("g").classed(b.defaultCls.self,true);b.mixins.observable.constructor.call(b,a)},getGroup:function(){return this.group},applyDocked:function(c){var b=this.getComponent(),a=b.getInherited().rtl;if(a){if(c==="left"){c="right"}else{if(c==="right"){c="left"}}}return c},getBox:function(){var b=this,c=b.getHidden(),f=b.getDocked(),d=b.getPadding(),e=b.group.node().getBBox(),a=b.box||(b.box={});if(c){return{x:0,y:0,width:0,height:0}}a.x=e.x;a.y=e.y;a.width=e.width;a.height=e.height;switch(f){case"right":a.x-=d;case"left":a.width+=d;break;case"bottom":a.y-=d;case"top":a.height+=d;break}return a},updateHidden:function(a){a?this.hide():this.show()},show:function(){var a=this;a.group.classed(a.defaultCls.hidden,false);a.setHidden(false);a.fireEvent("show",a)},hide:function(){var a=this;a.group.classed(a.defaultCls.hidden,true);a.setHidden(true);a.fireEvent("hide",a)},updateComponent:function(a,c){var b=this;if(c){b.detach(b.group)}if(a){b.attach(a.getScene(),b.group)}},destroy:function(){this.mixins.detached.destroy.call(this)}});Ext.define("Ext.d3.legend.Color",{extend:"Ext.d3.legend.Legend",config:{axis:null,items:{count:5,slice:null,reverse:false,size:{x:30,y:30}}},getScale:function(){return this.getAxis().getScale()},updateAxis:function(a,c){var b=this;if(c){c.un("scalechange",b.onScaleChange,b)}if(a){a.on("scalechange",b.onScaleChange,b)}},onScaleChange:function(a,b){this.updateItems(this.getItems())},updateItems:function(a){var d=this,f=d.getScale(),e=d.getRenderedItems(),c,b;if(a.count>0){c=f.ticks(a.count);if(a.slice){c=c.slice.apply(c,a.slice)}if(a.reverse){c=c.reverse()}}b=e.data(c);d.onAddItems(b.enter());d.onUpdateItems(b);d.onRemoveItems(b.exit())},getRenderedItems:function(){return this.group.selectAll("."+this.defaultCls.item)},onAddItems:function(a){var b=this;a=a.append("g").classed(b.defaultCls.item,true);a.append("rect");a.append("text");b.onUpdateItems(a)},onUpdateItems:function(b){var c=this,a=c.getItems(),g=c.getDocked(),e=c.getScale(),d,f;d=b.select("rect").attr("width",a.size.x).attr("height",a.size.y).style("fill",e);f=b.select("text").each(function(){Ext.d3.Helpers.setDominantBaseline(this,"middle")}).attr("text-anchor","middle").text(String);switch(g){case"left":case"right":d.attr("transform",function(i,h){return"translate(0,"+h*a.size.y+")"});f.attr("x",a.size.x+10).attr("y",function(i,h){return(h+0.5)*a.size.y}).attr("dx",10);break;case"top":case"bottom":d.attr("transform",function(i,h){return"translate("+h*a.size.x+",0)"});f.attr("x",function(i,h){return(h+0.5)*a.size.x}).attr("y",a.size.y).attr("dy","1em");break}},onRemoveItems:function(a){a.remove()}});Ext.define("Ext.d3.mixin.ToolTip",{extend:"Ext.Mixin",mixinConfig:{id:"d3tooltip"},requires:["Ext.tip.ToolTip"],config:{tooltip:null},applyTooltip:function(d,c){var b=Ext.merge({renderer:Ext.emptyFn,target:this.el,constrainPosition:true,shrinkWrapDock:true,autoHide:true,trackMouse:true,showOnTap:true},d),a;Ext.destroy(c);a=new Ext.tip.ToolTip(b);a.on("hovertarget","onTargetHover",this);return a},onTargetHover:function(b,a){if(a.dom){Ext.callback(b.renderer,b.scope,[this,b,a.dom.__data__,a],0,this)}}});Ext.define("Ext.d3.HeatMap",{extend:"Ext.d3.svg.Svg",xtype:"d3-heatmap",requires:["Ext.d3.axis.Data","Ext.d3.axis.Color","Ext.d3.legend.Color","Ext.d3.Helpers"],mixins:["Ext.d3.mixin.ToolTip"],config:{componentCls:"heatmap",xAxis:{axis:{orient:"bottom"},scale:{type:"linear"}},yAxis:{axis:{orient:"left"},scale:{type:"linear"}},colorAxis:{},legend:false,tiles:null,labels:true},data:null,tiles:null,tilesGroup:null,tilesRect:null,legendRect:null,defaultCls:{tiles:Ext.baseCSSPrefix+"d3-tiles",tile:Ext.baseCSSPrefix+"d3-tile",label:Ext.baseCSSPrefix+"d3-tile-label"},constructor:function(a){this.callParent([a]);this.mixins.d3tooltip.constructor.call(this,a)},applyTooltip:function(b,a){if(b){b.delegate="g."+this.defaultCls.tile}return this.mixins.d3tooltip.applyTooltip.call(this,b,a)},updateTooltip:null,applyAxis:function(a,b){if(a){a=new Ext.d3.axis.Data(Ext.merge({parent:this.getScene(),component:this},a))}return a||b},updateAxis:function(a,c){var b=this;if(!b.isConfiguring){b.processData();b.renderScene()}},applyXAxis:function(b,a){return this.applyAxis(b,a)},updateXAxis:function(){this.updateAxis()},applyYAxis:function(a,b){return this.applyAxis(a,b)},updateYAxis:function(){this.updateAxis()},applyLegend:function(b,a){var c=this;if(b){b.axis=c.getColorAxis();b=new Ext.d3.legend.Color(Ext.merge({component:c},b))}return b||a},updateLegend:function(c,b){var d=this,a={show:"onLegendVisibility",hide:"onLegendVisibility",scope:d};if(b){b.un(a)}if(c){c.on(a)}if(!d.isConfiguring){d.performLayout()}},onLegendVisibility:function(){this.performLayout()},applyColorAxis:function(b,a){if(b){b=new Ext.d3.axis.Color(b)}return b||a},updateColorAxis:function(){var a=this;if(!a.isConfiguring){a.processData();a.renderScene()}},getStoreData:function(a){return a?a.getData().items:[]},processData:function(o){var m=this,l=m.data=m.getStoreData(o||m.getStore()),g=m.getXAxis(),d=m.getYAxis(),f=m.getColorAxis(),p=g.getScale(),h=d.getScale(),c,n,i=g.getField(),k=d.getField(),e=g.getStep(),b=d.getStep(),j,a;j=d3.extent(l,function(q){return q.data[i]});a=d3.extent(l,function(q){return q.data[k]});if(Ext.d3.Helpers.isOrdinalScale(p)){c=l.map(function(q){return q.data[i]}).filter(function(r,q,s){return s.indexOf(r)===q});p.domain(c)}else{p.domain([+j[0],+j[1]+e])}if(Ext.d3.Helpers.isOrdinalScale(h)){n=l.map(function(q){return q.data[k]}).filter(function(r,q,s){return s.indexOf(r)===q});h.domain(n)}else{h.domain([+a[0],+a[1]+b])}f.setDomainFromData(l)},isDataProcessed:false,processDataChange:function(a){var b=this;b.processData(a);b.isDataProcessed=true;if(!b.isConfiguring){b.performLayout()}},onSceneResize:function(c,b){var a=this;a.callParent([c,b]);if(!a.isDataProcessed){a.processData()}a.performLayout(b)},performLayout:function(e){var s=this;e=e||s.getSceneRect();if(!e){return}s.showScene();var d=s.getLegend(),j=s.getXAxis(),a=s.getYAxis(),h=j.getGroup(),n=a.getGroup(),p=j.getAxis(),o=a.getAxis(),t=j.getScale(),f=a.getScale(),r=Ext.d3.Helpers.isOrdinalScale(t),q=Ext.d3.Helpers.isOrdinalScale(f),k=s.getInherited().rtl,g,c,l,i,b,m;b={x:0,y:0,width:e.width,height:e.height};s.tilesRect=i=Ext.Object.chain(b);if(d){c=d.getBox();l=d.getDocked();s.legendRect=g=Ext.Object.chain(b);switch(l){case"right":i.width-=c.width;g.width=c.width;g.x=e.width-c.width;break;case"left":i.width-=c.width;g.width=c.width;i.x+=c.width;break;case"bottom":i.height-=c.height;g.height=c.height;g.y=e.height-c.height;break;case"top":i.height-=c.height;g.height=c.height;i.y+=c.height;break}Ext.d3.Helpers.alignRect("center","center",c,g,d.getGroup())}m=[i.x,i.x+i.width];if(k){m.reverse()}t[r?"rangeBands":"range"](m);f[q?"rangeBands":"range"]([i.y+i.height,i.y]);h.attr("transform","translate(0,"+(p.orient()==="top"?i.y:(i.y+i.height))+")");n.attr("transform","translate("+(o.orient()==="left"?i.x:(i.x+i.width))+",0)");s.renderScene()},setupScene:function(b){var a=this;a.callParent([b]);a.tilesGroup=b.append("g").classed(a.defaultCls.tiles,true);a.hideScene()},getRenderedTiles:function(){return this.tilesGroup.selectAll("."+this.defaultCls.tile)},renderScene:function(e){var c=this,d=c.getXAxis(),b=c.getYAxis(),a;e=e||c.data||c.getStoreData(c.getStore());a=c.getRenderedTiles().data(e);c.onAddTiles(a.enter());c.onUpdateTiles(a);c.onRemoveTiles(a.exit());d.render();b.render()},onAddTiles:function(d){var e=this,c=e.getTiles(),g=e.getLabels(),a,b,f;if(d.empty()){return}a=d.append("g").classed(e.defaultCls.tile,true);b=a.append("rect");if(c){b.attr(c.attr);a.classed(c.cls,!!c.cls);if(g){f=a.append("text");f.attr(g.attr);f.classed(g.cls,!!g.cls);if(Ext.d3.Helpers.noDominantBaseline()){f.each(function(){Ext.d3.Helpers.fakeDominantBaseline(this,"central",true)})}}}},onUpdateTiles:function(r){var p=this,i=p.getInherited().rtl,g=p.getXAxis(),b=p.getYAxis(),o=p.getColorAxis(),q=g.getScale(),d=b.getScale(),n=o.getScale(),l=Ext.d3.Helpers.isOrdinalScale(q),k=Ext.d3.Helpers.isOrdinalScale(d),m=l?q.rangeBand():0,h=k?d.rangeBand():0,c=g.getField(),f=b.getField(),s=o.getField(),j=g.getStep(),e=b.getStep(),a=m||Math.abs(q(j)-q(0));r.select("rect").attr("x",function(u){var t=q(u.data[c]);if(i){t-=l?0:a}return t}).attr("y",function(t){var u=t.data[f];if(!k){u+=e}return d(u)}).attr("width",a).attr("height",h||d(0)-d(e)).style("fill",function(t){return n(t.data[s])});r.select("text").attr("x",function(t){var u=t.data[c];if(!l){u=+u+j/2}u=q(u);if(l){u+=m/2}return u}).attr("y",function(t){var u=t.data[f];if(!k){u=+u+e/2}u=d(u);if(k){u+=h/2}return u}).text(function(t){return t.data[s]})},onRemoveTiles:function(a){a.remove()},destroy:function(){var d=this,e=d.getXAxis(),b=d.getYAxis(),a=d.getColorAxis(),c=d.getLegend();Ext.destroy(e,b,a,c);d.callParent()}});Ext.define("Ext.d3.canvas.HiDPI",{singleton:true,relFontSizeRegEx:/(^[0-9])*(\d+(?:\.\d+)?)(px|%|em|pt)/,absFontSizeRegEx:/(xx-small)|(x-small)|(small)|(medium)|(large)|(x-large)|(xx-large)/,fillStroke:function(i,g,a){var b=i.font,h=b!==i.$oldFont,d=i.shadowOffsetX,c=i.shadowOffsetY,e=i.lineDashOffset,f=i.lineWidth,j;if(h){j=b.replace(this.relFontSizeRegEx,function(k,m,l){return parseFloat(l)*g});j=j.replace(this.absFontSizeRegEx,function(l,r,q,p,o,n,m,k){if(r){return 9*g+"px"}if(q){return 10*g+"px"}if(p){return 13*g+"px"}if(o){return 16*g+"px"}if(n){return 18*g+"px"}if(m){return 24*g+"px"}if(k){return 32*g+"px"}});i.font=j;i.$oldFont=b;i.$scaledFont=j}else{i.font=i.$scaledFont}i.shadowOffsetX=d*g;i.shadowOffsetY=c*g;i.lineDashOffset=e*g;i.lineWidth=f*g;if(arguments.length>3){i[a].apply(i,Array.prototype.slice.call(arguments,3))}else{i[a]()}i.font=b;i.shadowOffsetX=d;i.shadowOffsetY=c;i.lineDashOffset=e;i.lineWidth=f},getOverrides:function(){var b=this,a=b.getDevicePixelRatio();return this.overrides||(this.overrides={fill:function(){b.fillStroke(this,a,"$fill")},stroke:function(){b.fillStroke(this,a,"$stroke")},moveTo:function(c,d){this.$moveTo(c*a,d*a)},lineTo:function(c,d){this.$lineTo(c*a,d*a)},quadraticCurveTo:function(e,d,c,f){this.$quadraticCurveTo(e*a,d*a,c*a,f*a)},bezierCurveTo:function(e,d,g,f,c,h){this.$bezierCurveTo(e*a,d*a,g*a,f*a,c*a,h*a)},arcTo:function(e,g,d,f,c){this.$arcTo(e*a,g*a,d*a,f*a,c*a)},arc:function(d,h,c,g,e,f){this.$arc(d*a,h*a,c*a,g,e,f)},rect:function(d,f,e,c){this.$rect(d*a,f*a,e*a,c*a)},clearRect:function(d,f,e,c){this.$clearRect(d*a,f*a,e*a,c*a)},fillRect:function(d,f,e,c){b.fillStroke(this,a,"$fillRect",d*a,f*a,e*a,c*a)},strokeRect:function(d,f,e,c){b.fillStroke(this,a,"$strokeRect",d*a,f*a,e*a,c*a)},translate:function(c,d){this.$translate(c*a,d*a)},transform:function(g,c,f,h,e,d){this.$transform(g,c,f,h,e*a,d*a)},setTransform:function(g,c,f,h,e,d){this.$setTransform(g,c,f,h,e*a,d*a)},isPointInPath:function(e,c,g,d){var f=arguments.length;if(f>3){return this.$isPointInPath(e,c*a,g*a,d)}else{if(f>2){return this.$isPointInPath(e*a,c*a,g)}else{return this.$isPointInPath(e*a,c*a)}}},isPointInStroke:function(d,c,f){var e=arguments.length;if(e>2){return this.$isPointInStroke(d,c*a,f*a)}else{return this.$isPointInStroke(d*a,c*a)}},drawImage:function(e,j,i,c,g,l,k,h,f){var d=arguments.length;if(d>5){this.$drawImage(e,j,i,c,g,l*a,k*a,h*a,f*a)}else{if(d>3){this.$drawImage(e,j*a,i*a,c*a,g*a)}else{this.$drawImage(e,j*a,i*a)}}},putImageData:function(g,f,e,d,i,c,h){this.$putImageData(g,f*a,e*a,d,i,c,h)},setLineDash:function(c){if(!(c instanceof Array)){c=Array.prototype.slice.call(c)}this.$setLineDash(c.map(function(d){return d*a}))},fillText:function(e,c,f,d){this.$fillText(e,c*a,f*a,d*a)},strokeText:function(e,c,f,d){this.$strokeText(e,c*a,f*a,d*a)},measureText:function(d){var c=this.$measureText(d);c.width*=a;return c},createLinearGradient:function(d,f,c,e){return this.$createLinearGradient(d*a,f*a,c*a,e*a)},createRadialGradient:function(f,h,e,d,g,c){return this.$createRadialGradient(f*a,h*a,e*a,d*a,g*a,c*a)}})},getDevicePixelRatio:function(a){if(a){return a.$devicePixelRatio||1}return window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1},applyOverrides:function(c){var a=c.getContext("2d"),d=this.getDevicePixelRatio(),e=this.getOverrides(),b;if(!(c.$devicePixelRatio||d===1)){for(b in e){a["$"+b]=a[b]}Ext.apply(a,e);c.$devicePixelRatio=d}return c},setSize:function(b,d,a){var c=this.getDevicePixelRatio(b);b.width=Math.round(d*c);b.height=Math.round(a*c);b.style.width=Math.round(d)+"px";b.style.height=Math.round(a)+"px";return b}});Ext.define("Ext.d3.canvas.Canvas",{extend:"Ext.d3.Component",xtype:"d3-canvas",isCanvas:true,config:{hdpi:true},requires:["Ext.d3.canvas.HiDPI"],template:[{tag:"canvas",reference:"canvasElement",style:{position:"absolute"}}],canvas:null,context2D:null,renderScene:null,getCanvas:function(){var b=this,a=b.canvas;if(!a){a=b.canvasElement.dom;if(b.getHdpi()){a=Ext.d3.canvas.HiDPI.applyOverrides(a)}b.canvas=a;b.context2D=a.getContext("2d")}return a},resizeHandler:function(b){var d=this,a=d.canvas||d.getCanvas(),c=d.sceneRect||(d.sceneRect={});c.x=0;c.y=0;c.width=b.width;c.height=b.height;Ext.d3.canvas.HiDPI.setSize(a,c.width,c.height);d.onSceneResize(a,c);d.fireEvent("sceneresize",d,a,c)},onSceneResize:Ext.emptyFn,onPanZoom:function(b,d,f){var e=this,c=e.canvas,a=e.context2D;if(a&&e.renderScene){a.save();a.clearRect(0,0,c.width,c.height);a.setTransform(d[0],0,0,d[1],f[0],f[1]);e.renderScene(a);a.restore()}},getSceneRect:function(){return this.sceneRect}});Ext.define("Ext.d3.hierarchy.Hierarchy",{extend:"Ext.d3.svg.Svg",requires:["Ext.d3.axis.Color","Ext.d3.Helpers","Ext.plugin.MouseEnter"],mixins:["Ext.d3.mixin.ToolTip"],config:{hierarchyCls:"hierarchy",selection:null,colorAxis:{scale:{type:"category20c"},field:"name"},nodeChildren:function(a){return a.isExpanded()?Ext.Array.slice(a.childNodes):null},nodeClass:undefined,nodeText:["name","text"],sorter:null,nodeTransform:function(a){a.attr("transform",function(b){return"translate("+b.x+","+b.y+")"})},nodeValue:1,nodeKey:function(b,a){return b.id},selectEventName:"click",expandEventName:"dblclick",rootVisible:true,layout:undefined,noSizeLayout:true,renderLinks:false},publishes:"selection",root:null,nodes:null,links:null,defaultCls:{links:Ext.baseCSSPrefix+"d3-links",nodes:Ext.baseCSSPrefix+"d3-nodes",link:Ext.baseCSSPrefix+"d3-link",node:Ext.baseCSSPrefix+"d3-node",root:Ext.baseCSSPrefix+"d3-root",label:Ext.baseCSSPrefix+"d3-label",parent:Ext.baseCSSPrefix+"d3-parent",leaf:Ext.baseCSSPrefix+"d3-leaf",selected:Ext.baseCSSPrefix+"d3-selected",expanded:Ext.baseCSSPrefix+"d3-expanded"},nodeClassCfg:null,constructor:function(a){this.callParent([a]);this.addNodeListeners();this.mixins.d3tooltip.constructor.call(this,a)},applyTooltip:function(b,a){if(b){b.delegate="g."+this.defaultCls.node}return this.mixins.d3tooltip.applyTooltip.call(this,b,a)},updateTooltip:null,defaultNodeClass:function(c){var d=this,a=d.defaultCls,b=d.nodeClassCfg;if(!b){d.nodeClassCfg=b={};b[a.parent]=function(e){return !e.isLeaf()};b[a.leaf]=function(e){return e.isLeaf()};b[a.expanded]=function(e){return e.isExpanded()};b[a.root]=function(e){return e.isRoot()}}c.classed(b)},transitionApplier:function(b,a){if(b===true){b={}}if(Ext.isObject(b)){b=Ext.mergeIf(b,this.transitionDefaults[a])}else{b=Boolean(b)}return b},applyColorAxis:function(b,a){if(b&&!b.isColorAxis){b=new Ext.d3.axis.Color(b)}return b||a},applyNodeText:function(b){var a;if(typeof b==="function"){a=b}else{if(typeof b==="string"){a=function(c,d){var e=d&&d.data;return e&&e[b]||""}}else{if(Array.isArray(b)){a=function(c,e){var f=e&&e.data,g,d;if(f){for(d=0;d<b.length&&!g;d++){g=f[b[d]]}}return g||""}}}}return a},applyNodeClass:function(b,c){var a;if(Ext.isFunction(b)){a=b}else{if(c){a=c}else{a=this.defaultNodeClass}}return a},updateHierarchyCls:function(d,a){var b=this.getBaseCls(),c=this.element;if(d&&Ext.isString(d)){c.addCls(d,b);if(a){c.removeCls(a,b)}}},applyStore:function(b,c){var a=this.callParent([b,c]);if(a&&!a.isTreeStore){Ext.raise("The store must be a Ext.data.TreeStore.")}return a},updateSorter:function(b){var a=this.getLayout();if(typeof b==="function"){a.sort(b)}else{if(b===false){a.sort(null)}}},applyNodeValue:function(b){var a;if(typeof b==="string"){a=function(c){return c.data[b]}}else{if(Ext.isNumber(b)){a=function(){return b}}else{if(typeof b==="function"){a=b}}}return a},updateNodeValue:function(a){var b=this.getLayout();b.value(a)},findNode:function(b,a){a=a||this.getRenderedNodes();return a.filter(function(c){return b&&(c.id===b.id||c===b)})},selectNode:function(a){return d3.select(a?'[data-id="'+a.id+'"]':null)},isNodeInStore:function(b){var a=this.getStore();return !!(b&&a&&!a.isEmptyStore&&(b.store===a||a.getNodeById(b.id)===b||a.getRoot()===b))},applySelection:function(a){return this.isNodeInStore(a)?a:null},updateSelection:function(d,e){var c=this;if(!c.hasFirstRender){if(d){c.on({scenerender:c.updateSelection.bind(c,d,e),single:true})}return}var b,a,f;if(d){b=c.selectNode(d);f=!b.empty();if(f){c.onNodeSelect(d,b)}else{c[c.self.getConfigurator().configs.selection.names.internal]=null;Ext.log.warn('Selected node "'+d.id+'" does not have an associated element. E.g.:\n- node was selected before it was rendered;\n- node was selected in some other view, but is not supposed to be rendered by D3 component (see "nodeChildren" config).')}}if(e){a=c.selectNode(e);if(!a.empty()){c.onNodeDeselect(e,a)}}if(f){c.fireEvent("selectionchange",c,d,e)}},onNodeSelect:function(b,a){a.classed(this.defaultCls.selected,true);this.fireEvent("select",this,b,a)},onNodeDeselect:function(b,a){a.classed(this.defaultCls.selected,false);this.fireEvent("deselect",this,b,a)},onNodesAdd:function(b){var c=this,a=c.getNodeClass();b.call(a.bind(c)).each(function(d){this.setAttribute("data-id",d.id)})},addNodeListeners:function(){var f=this,e=Ext.Array.from(f.getSelectEventName()),d=Ext.Array.from(f.getExpandEventName()),c,a,b;for(c=0,a=e.length;c<a;c++){f.addNodeListener(e[c],f.onSelectEvent)}for(c=0,a=d.length;c<a;c++){f.addNodeListener(d[c],f.onExpandEvent)}},addNodeListener:function(a,b){var c=this,d=c.el;if(a==="mouseenter"){c.addPlugin({type:"mouseenter",element:d,delegate:"g."+c.defaultCls.node,handler:b})}else{d.on(a,b,c,{delegate:"g."+c.defaultCls.node})}},onSelectEvent:function(d,e){var b=d3.select(e),a=b.node(),c=b.datum();this.handleSelectEvent(d,c,a)},handleSelectEvent:function(c,b,a){this.setSelection(b)},onExpandEvent:function(d){var b=d3.select(d.currentTarget),a=b.node(),c=b.datum();this.handleExpandEvent(d,c,a)},handleExpandEvent:function(c,b,a){if(b.isExpanded()){b.collapse()}else{b.expand()}},updateNodeChildren:function(a){var b=this.getLayout();b.children(a)},setLayoutSize:function(a){var b=this.getLayout();b.size(a)},getLayoutSize:function(){var b=this.getLayout(),a=b.size&&b.size();return a},onSceneResize:function(b,a){this.callParent([b,a]);this.setLayoutSize([a.width,a.height]);this.performLayout()},hasFirstLayout:false,hasFirstRender:false,isLayoutBlocked:Ext.emptyFn,performLayout:function(){var g=this,d=g.getStore(),a=d&&d.getRoot(),e=g.getRenderLinks(),f=g.getLayout(),c,b;if(!a||g.isInitializing||g.isLayoutBlocked(f)){return}g.getScene();c=g.nodes=f(a);if(e){b=g.links=f.links(c)}g.hasFirstLayout=true;g.renderScene(c,b)},processDataChange:function(a){if(this.getNoSizeLayout()||this.size){this.performLayout()}},setupScene:function(b){var a=this;a.callParent([b]);a.linksGroup=b.append("g").classed(a.defaultCls.links,true);a.nodesGroup=b.append("g").classed(a.defaultCls.nodes,true)},getRenderedNodes:function(){return this.nodesGroup.selectAll("."+this.defaultCls.node)},getRenderedLinks:function(){return this.linksGroup.selectAll("."+this.defaultCls.link)},renderScene:function(b,a){var f=this,c=f.getNodeKey(),d=f.getRootVisible(),e,g;if(!f.hasFirstLayout){f.performLayout()}b=b||f.nodes;a=a||f.links;if(b){g=f.getRenderedNodes().data(b,c);f.renderNodes(g);if(a){e=f.getRenderedLinks().data(a);f.renderLinks(e)}}f.nodesGroup.select("."+f.defaultCls.root).classed(f.defaultCls.hidden,!d);f.hasFirstRender=true;f.onAfterRender(g,e);f.fireEvent("scenerender",f,g,e)},renderLinks:function(a){this.addLinks(a.enter());this.updateLinks(a);this.removeLinks(a.exit())},renderNodes:function(a){this.addNodes(a.enter());this.updateNodes(a);this.removeNodes(a.exit())},onAfterRender:Ext.emptyFn,updateLinks:Ext.emptyFn,addLinks:Ext.emptyFn,updateNodes:Ext.emptyFn,addNodes:Ext.emptyFn,removeLinks:function(a){a.remove()},removeNodes:function(a){a.remove()}});Ext.define("Ext.d3.hierarchy.Pack",{extend:"Ext.d3.hierarchy.Hierarchy",xtype:"d3-pack",config:{componentCls:"pack",textPadding:[3,3],nodeValue:function(a){return a.childNodes.length+1},clipText:true,noSizeLayout:false},applyLayout:function(){return d3.layout.pack()},onNodeSelect:function(b,a){this.callParent(arguments);a.select("circle").style("fill",null)},onNodeDeselect:function(d,b){var c=this,a=c.getColorAxis();c.callParent(arguments);b.select("circle").style("fill",function(e){return a.getColor(e)})},updateColorAxis:function(a){var b=this;if(!b.isConfiguring){b.getRenderedNodes().select("circle").style("fill",function(c){return a.getColor(c)})}},textVisibilityFn:function(c){var d=this,e=this.getTextPadding(),b=parseFloat(e[0])*2,a=parseFloat(e[1])*2;c.classed(d.defaultCls.hidden,function(h){var i=this.getBBox(),g=h.r-b,f=h.r-a;return(i.width>g||i.height>f)})},addNodes:function(c){var d=this,f=c.append("g"),a=d.getColorAxis(),b=d.getNodeText(),h=d.getNodeTransform(),e=d.getClipText(),g;f.attr("class",d.defaultCls.node).call(d.onNodesAdd.bind(d)).call(h.bind(d));f.append("circle").attr("r",function(i){return i.r}).style("fill",function(i){return a.getColor(i)});g=f.append("text").attr("class",d.defaultCls.label).text(function(i){return b(d,i)});if(e){g.call(d.textVisibilityFn.bind(d))}if(Ext.d3.Helpers.noDominantBaseline()){g.each(function(){Ext.d3.Helpers.fakeDominantBaseline(this,"central",true)})}},updateNodes:function(b){var c=this,a=c.getNodeClass(),f=c.getNodeTransform(),d=c.getClipText(),e;b.call(a.bind(c)).transition().call(f.bind(c));b.select("circle").transition().attr("r",function(g){return g.r});e=b.selectAll("text");if(d){e.call(c.textVisibilityFn.bind(c))}}});Ext.define("Ext.d3.hierarchy.TreeMap",{extend:"Ext.d3.hierarchy.Hierarchy",xtype:"d3-treemap",config:{componentCls:"treemap",sticky:false,sorter:function(){return 0},parentTile:{padding:4,label:{offset:[5,2],clipSize:[110,40]}},leafTile:{padding:0},colorAxis:{scale:{type:"category20c"},field:"name",processor:function(a,d,b,c){return b.isLeaf()?"rgba(255,255,255,0.05)":d(b.data[c])}},nodeTransform:function(b){var a=this.getLeafTile(),c=a.padding/2;b.attr("transform",function(d){return"translate("+(d.x+c)+","+(d.y+c)+")"})},busyLayoutText:"Layout in progress..."},applyLayout:function(){var b=this,c=b.getSticky(),a=d3.layout.treemap().size(null).round(false).sticky(c);return a},setLayoutSize:function(a){this.callParent([a])},deferredLayoutId:null,isLayoutBlocked:function(c){var b=this,d=b.getBusyLayoutText(),a=false;if(c.size()){if(!b.deferredLayoutId){b.showMask(d);b.deferredLayoutId=setTimeout(b.performLayout.bind(b),100);a=true}else{clearTimeout(b.deferredLayoutId);b.deferredLayoutId=null}}else{a=true}return a},onAfterRender:function(){this.hideMask()},hiddenParentLabels:null,labelSizes:null,getContentRect:function(){var b=this.getSceneRect(),a=this.contentRect||(this.contentRect={x:0,y:0});if(b){a.width=b.width;a.height=b.height}return b&&a},onNodeSelect:function(b,a){this.callParent(arguments);a.select("rect").style("fill",null)},onNodeDeselect:function(d,b){var c=this,a=c.getColorAxis();c.callParent(arguments);b.select("rect").style("fill",function(e){return a.getColor(e)})},renderNodes:function(l){var f=this,c=f.getLayout(),j=f.getStore(),h=j&&j.getRoot(),e=!f.getRootVisible(),k=f.getParentTile(),i=k.padding,d=k.label,g=f.getNodeTransform(),a=f.hiddenParentLabels={},b=f.labelSizes={};f.callParent([l]);c.padding(function(o){var n=b[o.id],m=d.clipSize,p;if(e&&o.isRoot()){p=0;a[o.id]=true}else{p=[d.offset[1]*2,i,i,i];if(n.width<(o.dx-i*2)&&n.height<(o.dy-i*2)&&o.dx>m[0]&&o.dy>m[1]){p[0]+=n.height;a[o.id]=false}else{a[o.id]=true}}return p});f.nodes=c(h);c.padding(null);l=l.data(f.nodes,f.getNodeKey());l.transition().call(g.bind(f));l.select("rect").call(f.nodeSizeFn.bind(f));l.select("text").call(f.textVisibilityFn.bind(f)).each(function(m){if(m.isLeaf()){this.setAttribute("x",m.dx/2);this.setAttribute("y",m.dy/2)}else{this.setAttribute("x",d.offset[0]);this.setAttribute("y",d.offset[1])}})},getLabelSizeScale:function(c,a){var b=this,d=b.labelSizeScale;if(!d){if(!c){c=[8,27]}if(!a){a=["8px","12px","18px","27px"]}b.labelSizeScale=d=d3.scale.quantize()}if(c&&a){d.domain(c).range(a)}return d},labelSizeFormula:function(a,b,c){if(b.isLeaf()){return c(Math.min(b.dx/4,b.dy/2))}return a.style.fontSize},updateNodeValue:function(a){this.callParent(arguments);if(!this.isConfiguring){this.performLayout()}},addNodes:function(g){var f=this,h=g.append("g"),c=f.labelSizes,a=f.getColorAxis(),d=f.getNodeText(),e=f.getLabelSizeScale(),b=f.labelSizeFormula,i=f.defaultCls;h.attr("class",i.node).call(f.onNodesAdd.bind(f));h.append("rect").style("fill",function(j){return a.getColor(j)});h.append("text").style("font-size",function(j){return b(this,j,e)}).each(function(j){var k=d(f,j);this.textContent=k==null?"":k;this.setAttribute("class",i.label);Ext.d3.Helpers.fakeDominantBaseline(this,j.isLeaf()?"central":"text-before-edge");c[j.id]=this.getBBox()})},updateNodes:function(e){var f=this,d=f.getNodeText(),b=f.getNodeClass(),g=f.getLabelSizeScale(),c=f.labelSizeFormula,a=f.labelSizes;e=e.call(b.bind(f));e.select("rect").call(f.nodeSizeFn.bind(f));e.select("text").style("font-size",function(h){return c(this,h,g)}).each(function(h){var i=d(f,h);this.textContent=i==null?"":i;a[h.id]=this.getBBox()})},nodeSizeFn:function(b){var a=this.getLeafTile(),c=a.padding;b.attr("width",function(d){return Math.max(0,d.dx-c)}).attr("height",function(d){return Math.max(0,d.dy-c)})},isLabelVisible:function(e,c){var g=this,i=e.getBBox(),a=c.dx,j=c.dy,b=c.isLeaf(),h=g.getParentTile(),d=g.hiddenParentLabels,f=h.label.offset,k;if(b){a-=2;j-=2}else{a-=f[0]*2;j-=f[1]*2}if(b||!c.isExpanded()){k=i.width<a&&i.height<j}else{k=!d[c.id]}return k},textVisibilityFn:function(a){var b=this;a.classed(b.defaultCls.hidden,function(c){return !b.isLabelVisible(this,c)})},destroy:function(){var b=this,a=b.getColorAxis();if(b.deferredLayoutId){clearTimeout(b.deferredLayoutId)}a.destroy();b.callParent()}});Ext.define("Ext.d3.hierarchy.partition.Partition",{extend:"Ext.d3.hierarchy.Hierarchy",xtype:"d3-partition",config:{partitionCls:"partition"},updatePartitionCls:function(d,a){var b=this.getBaseCls(),c=this.element;if(d&&Ext.isString(d)){c.addCls(d,b);if(a){c.removeCls(a,b)}}},applyLayout:function(){return d3.layout.partition()},resetZoom:function(c){var d=this,b=d.getStore(),a=b&&b.getRoot();d.zoomInNode(a,c)}});Ext.define("Ext.d3.hierarchy.partition.Sunburst",{extend:"Ext.d3.hierarchy.partition.Partition",xtype:"d3-sunburst",config:{componentCls:"sunburst",textPadding:[5,"0.35em"],zoomParentDotRadius:30,nodeZoomTransition:true,nodeSelectTransition:true},setupScene:function(a){this.callParent([a]);this.setupScales();this.setupArcGenerator()},scaleDefaults:{x:{domain:[0,1],range:[0,2*Math.PI]},y:{domain:[0,1]}},transitionDefaults:{nodeZoom:{name:"zoom",duration:1000,ease:"cubic-in-out"},nodeSelect:{name:"select",duration:150,ease:"cubic-in-out",sourceScale:1,targetScale:1.07}},applyNodeZoomTransition:function(a){return this.transitionApplier(a,"nodeZoom")},applyNodeSelectTransition:function(a){return this.transitionApplier(a,"nodeSelect")},setupScales:function(){var a=this.scaleDefaults;this.xScale=d3.scale.linear().domain(a.x.domain.slice()).range(a.x.range.slice());this.yScale=d3.scale.sqrt().domain(a.y.domain.slice())},arc:null,setupArcGenerator:function(){var b=this,a=b.xScale,c=b.yScale;b.arc=d3.svg.arc().startAngle(function(d){return Math.max(0,Math.min(2*Math.PI,a(d.x)))}).endAngle(function(d){return Math.max(0,Math.min(2*Math.PI,a(d.x+d.dx)))}).innerRadius(function(d){return Math.max(0,c(d.y))}).outerRadius(function(d){return Math.max(0,c(d.y+d.dy))})},arcTween:function(c,a,d){var b=this,e=d3.interpolate({x:c.x0,y:c.y0,dx:c.dx0,dy:c.dy0},{x:c.x,y:c.y,dx:c.dx,dy:c.dy});return function(f){var g=e(f);return b.arc(g)}},onSceneResize:function(g,c){var b=this,f=b.nodesGroup,e=0.5*c.width,d=0.5*c.height,a=Math.min(e,d);f.attr("transform","translate("+e+","+d+")");b.setRadius(a)},radius:null,minRadius:1,setRadius:function(a){var b=this;a=Math.max(b.minRadius,a);b.radius=a;b.yScale.range([0,a]);b.renderScene()},zoomInNode:function(f,a){var k=this,h=k.getScene(),g=k.getNodeZoomTransition(),e=k.getZoomParentDotRadius(),i=k.radius,l=k.xScale,d=k.yScale,c=k.arc,j,b;if(!(k.hasFirstLayout&&k.hasFirstRender&&k.size&&f&&f.isNode)){return}if(g){j=h.transition(g.name).duration(a?0:g.duration).ease(g.ease)}else{j=h.transition().duration(0)}b=j.tween("scale",function(){var m=d3.interpolate(l.domain(),[f.x,f.x+f.dx]),n=d3.interpolate(d.domain(),[f.y,1]),o=d3.interpolate(d.range(),[f.y?e:0,i]);return function(p){l.domain(m(p));d.domain(n(p)).range(o(p))}}).selectAll("."+k.defaultCls.node);b.selectAll("path").attrTween("d",function(m){return function(n){return c(m)}});b.selectAll("text").call(k.positionTextFn.bind(k)).call(k.textVisibilityFn.bind(k));if(a){k.xScale.domain([f.x,f.x+f.dx]);k.yScale.domain([f.y,1]).range([f.y?e:0,i])}},onNodeSelect:function(b,a){this.callParent(arguments);a.select("path").style("fill",null);a.each(function(){this.parentNode.appendChild(this)});this.nodeSelectTransitionFn(b,a)},nodeSelectTransitionFn:function(d,b){var a=this.getNodeSelectTransition();if(!a){return}var f=a.duration,e=a.targetScale,c=a.sourceScale;b.transition(a.name).duration(f).ease(a.ease).attr("transform","scale("+e+","+e+")").transition().duration(f).attr("transform","scale("+c+","+c+")")},onNodeDeselect:function(d,b){var c=this,a=c.getColorAxis();c.callParent(arguments);b.select("path").style("fill",function(e){return a.getColor(e)})},isBBoxInSlice:function(l,d,b,f,e,j,g){var h=Math.abs(b-d),c=Math.abs(e-f)-j*2,k=h<Math.PI?2*(f+j)*Math.tan(0.5*h)-g*2:0.5*e,i=l.width>c,m=l.height>k;return !(i||m)},oldVal:true,textVisibilityFn:function(j){var d=this,h=d.xScale,e=d.yScale,f=d.getTextPadding(),k=parseFloat(f[0]),g=parseFloat(f[1]),i=j instanceof d3.transition,a=i?"attrTween":"attr",l;function b(r,u){var x=r.getBBox(),q=h(u.x),p=h(u.x+u.dx),t=e(u.y),s=e(u.y+u.dy),v=d.isBBoxInSlice(x,q,p,t,s,k,g),w=h.domain(),n=e.domain(),o=w[0]>u.x||w[1]<(u.x+u.dx),m=n[0]>u.y||n[1]<(u.y+u.dy);return !v||o||m}function c(m,n){return b(m,n)?"hidden":"visible"}if(i){l=function(n){var m=this;return function(){return c(m,n)}}}else{l=function(m){return c(this,m)}}j[a]("visibility",l)},positionTextFn:function(i){var g=this.xScale,e=this.yScale,b=Math.PI/2,c=180/Math.PI,h=i instanceof d3.transition,a=h?"attrTween":"attr",k,d;function j(l){return e(l.y)}function f(l){return !l.isRoot()?("rotate("+(g(l.x+l.dx/2)-b)*c+")"):""}if(h){k=function(l){return function(){return j(l)}};d=function(l){return function(){return f(l)}}}else{k=function(l){return j(l)};d=function(l){return f(l)}}i[a]("x",k)[a]("transform",d)},saveNodeLayout:function(a){a.each(function(b){b.x0=b.x;b.y0=b.y;b.dx0=b.dx;b.dy0=b.dy})},addNodes:function(c){var d=this,f=c.append("g"),e=d.getTextPadding(),a=d.getColorAxis(),b=d.getNodeText();f.attr("class",d.defaultCls.node).call(d.saveNodeLayout.bind(d)).call(d.onNodesAdd.bind(d));f.append("path").attr("d",d.arc).style("fill",function(g){return a.getColor(g)});f.append("text").attr("class",d.defaultCls.label).attr("dx",e[0]).attr("dy",e[1]).text(function(g){return b(d,g)}).call(d.positionTextFn.bind(d)).call(d.textVisibilityFn.bind(d))},updateNodes:function(a){var b=this;a.selectAll("path").attr("d",b.arc);a.selectAll("text").call(b.positionTextFn.bind(b)).call(b.textVisibilityFn.bind(b))},updateColorAxis:function(a){var b=this;if(!b.isConfiguring){b.getRenderedNodes().select("path").style("fill",function(c){return a.getColor(c)})}}});Ext.define("Ext.d3.hierarchy.tree.Tree",{extend:"Ext.d3.hierarchy.Hierarchy",config:{treeCls:"tree",diagonal:null,nodeTransform:null,depth:0,nodeRadius:5,nodeTransition:true,nodeSelectTransition:true,nodeSize:null,noSizeLayout:false,renderLinks:true},transitionDefaults:{node:{name:"node",duration:150},nodeSelect:{name:"select",duration:150,sourceScale:1,targetScale:1.5}},updateTreeCls:function(d,c){var a=this.getBaseCls(),b=this.element;if(d&&Ext.isString(d)){b.addCls(d,a);if(c){b.removeCls(c,a)}}},applyNodeTransition:function(a){return this.transitionApplier(a,"node")},applyNodeSelectTransition:function(a){return this.transitionApplier(a,"nodeSelect")},applyLayout:function(){return d3.layout.tree()},updateNodeSize:function(a){var b=this.getLayout();b.nodeSize(a)},updateColorAxis:function(a){var b=this;if(!b.isConfiguring){b.getRenderedNodes().select("circle").style("fill",function(c){return a.getColor(c)})}},onNodeSelect:function(b,a){this.callParent(arguments);this.nodeSelectTransitionFn(b,a)},nodeSelectTransitionFn:function(c,b){var a=this.getNodeSelectTransition();if(!a){return}var e=a.duration,d=a.targetScale,f=a.sourceScale;b.select("g").transition(a.name).duration(e).attr("transform","scale("+d+","+d+")").transition().duration(e).attr("transform","scale("+f+","+f+")")}});Ext.define("Ext.d3.hierarchy.tree.HorizontalTree",{extend:"Ext.d3.hierarchy.tree.Tree",xtype:["d3-tree","d3-horizontal-tree"],config:{componentCls:"horizontal-tree",diagonal:undefined,nodeTransform:function(a){a.attr("transform",function(b){return"translate("+b.y+","+b.x+")"})}},applyDiagonal:function(a,b){if(!Ext.isFunction(a)){if(b){a=b}else{a=d3.svg.diagonal().projection(function(c){return[c.y,c.x]})}}return a},pendingTreeAlign:false,onSceneResize:function(d,c){var b=this,a=b.getLayout();if(a.nodeSize()){if(!b.size){b.performLayout();if(b.hasFirstRender){b.alignTree()}else{b.pendingTreeAlign=true}}}else{b.callParent(arguments)}},onAfterRender:function(){if(this.pendingTreeAlign){this.pendingTreeAlign=false;this.alignTree()}},alignTree:function(){this.alignContent("left","center")},setLayoutSize:function(b){var a=b[0];b[0]=b[1];b[1]=a;this.callParent([b])},addNodes:function(g){var d=this,h=g.append("g"),a=d.getColorAxis(),c=d.getNodeText(),f=d.getNodeRadius(),e=d.getNodeTransform(),i=d.getNodeTransition(),b;h.attr("class",d.defaultCls.node).call(d.onNodesAdd.bind(d)).call(e.bind(d));h.append("circle").attr("class","circle").style("fill",function(j){return a.getColor(j)}).call(function(j){if(i){j.attr("r",0).transition(i.name).duration(i.duration).attr("r",f)}else{j.attr("r",f)}});b=h.append("text").text(function(j){return c(d,j)}).attr("class",d.defaultCls.label).each(function(k){var j=k.isLeaf();this.setAttribute("x",j?f+5:-5-f)}).call(function(j){if(i){j.style("fill-opacity",0).transition(i.name).duration(i.duration).style("fill-opacity",1)}else{j.style("fill-opacity",1)}});if(Ext.d3.Helpers.noDominantBaseline()){b.each(function(){Ext.d3.Helpers.fakeDominantBaseline(this,"central",true)})}},updateNodes:function(b){var c=this,d=c.getNodeTransform(),a=c.getNodeClass();b.call(a.bind(c)).transition().call(d.bind(c))},addLinks:function(a){a.append("path").classed(this.defaultCls.link,true).attr("d",this.getDiagonal())},updateLinks:function(a){a.transition().attr("d",this.getDiagonal())}});Ext.define("Ext.d3.interaction.Abstract",{isInteraction:true,mixins:{observable:"Ext.mixin.Observable"},statics:{lockedEvents:{}},config:{component:null,gestures:null,enabled:true},supports:[],listeners:null,constructor:function(a){var b=this,c;a=a||{};if("id" in a){c=a.id}else{if("id" in b.config){c=b.config.id}else{c=b.getId()}}b.setId(c);b.mixins.observable.constructor.call(b,a)},resetComponent:function(){var b=this,a=b.getComponent();if(!b.isConfiguring){b.setComponent(null);b.setGestures(null);b.setComponent(a)}},updateComponent:function(a,c){var b=this;if(c===a){return}if(c){b.removeComponent(c)}if(a){b.addComponent(a)}},addComponent:function(a){a.register(this);this.component=a;this.addElementListener(a.element)},removeComponent:function(a){this.removeElementListener(a.element);this.component=null;a.unregister(this)},updateEnabled:function(b){var c=this,a=c.getComponent();if(a){if(b){c.addElementListener(a.element)}else{c.removeElementListener(a.element)}}},onGesture:Ext.emptyFn,addElementListener:function(b){var d=this,f=d.getGestures(),c=d.getLocks(),a;if(!d.getEnabled()){return}function e(g,h){if(!Ext.isFunction(h)){h=d[h]}b.on(g,d.listeners[g]=function(j){if(d.getEnabled()&&(!(g in c)||c[g]===d)){var i=h.apply(this,arguments);if(i===false&&j&&j.stopPropagation){j.stopPropagation()}return i}},d)}d.listeners=d.listeners||{};for(a in f){e(a,f[a])}},removeElementListener:function(c){var d=this,e=d.getGestures(),b;function a(f){var g=d.listeners[f];if(g){c.un(f,g);delete d.listeners[f]}}if(d.listeners){for(b in e){a(b)}}},lockEvents:function(){var d=this,c=d.getLocks(),a=Array.prototype.slice.call(arguments),b=a.length;while(b--){c[a[b]]=d}},unlockEvents:function(){var c=this.getLocks(),a=Array.prototype.slice.call(arguments),b=a.length;while(b--){delete c[a[b]]}},getLocks:function(){return this.statics().lockedEvents},destroy:function(){var a=this;a.setComponent(null);a.listeners=null;a.callParent()}});Ext.define("Ext.d3.interaction.PanZoom",{extend:"Ext.d3.interaction.Abstract",type:"panzoom",alias:"d3.interaction.panzoom",isPanZoom:true,config:{pan:{gesture:"drag",constrain:true,momentum:{friction:1,spring:0.2}},zoom:{gesture:"pinch",extent:[1,3],uniform:true,mouseWheel:{factor:1.02},doubleTap:{factor:1.1}},contentRect:null,viewportRect:null,indicator:{parent:"element"}},panOrigin:null,startSpread:null,minSpread:50,scaling:null,oldScaling:null,oldScalingCenter:null,translation:null,oldTranslation:null,dx:0,dy:0,velocityX:0,velocityY:0,pan:null,viewportRect:null,contentRect:null,updatePan:function(a){this.pan=a;this.resetComponent()},updateZoom:function(){this.resetComponent()},updateContentRect:function(a){this.contentRect=a;this.constrainTranslation()},updateViewportRect:function(a){this.viewportRect=a;this.constrainTranslation()},constructor:function(a){var b=this;b.translation=a&&a.translation?a.translation.slice():[0,0];b.scaling=a&&a.scaling?a.scaling.slice():[1,1];b.callParent(arguments)},destroy:function(){this.destroyIndicator();Ext.AnimationQueue.stop(this.panFxFrame,this)},toViewportXY:function(d,c){var f=this.component.element.getXY(),b=this.viewportRect&&this.viewportRect(),a=d-f[0]-(b?b.x:0),e=c-f[1]-(b?b.y:0);return[a,e]},toRtlViewportXY:function(c,b){var d=this.toViewportXY(c,b),a=this.component;if(a.getInherited().rtl){d[0]=a.getWidth()-d[0]}return d},constrainRange:function(b,a,c){c=c||a;b[0]=Math.max(a[0],Math.min(a[1],b[0]));b[1]=Math.max(c[0],Math.min(c[1],b[1]));return b},constrainTranslation:function(a){var f=this,h=f.pan,g=h&&h.constrain,d=h&&h.momentum,i=g&&f.contentRect&&f.contentRect(),b=g&&f.viewportRect&&f.viewportRect(),e,c;if(i&&b){a=a||f.translation;e=f.getConstraints(i,b);c=f.getOffLimits(a,e);f.constrainRange(a,e.slice(0,2),e.slice(2));if(c&&d&&d.spring){a[0]+=c[0]*d.spring;a[1]+=c[1]*d.spring}f.updateIndicator(i,b)}},createInterpolator:function(d){var c=0,b=1;d=d||1;var a=function(f){var e=0;if(b){e=(f-c)/b;e=Math.max(0,e);e=Math.min(1,e);e*=d}return e};a.domain=function(f,e){c=f;b=e-f};return a},updateIndicator:function(n,b){var g=this,o=g.hScrollScale,c=g.vScrollScale,e,d,a,l,i,f,m,k,j,h;n=n||g.contentRect&&g.contentRect();b=b||g.viewportRect&&g.viewportRect();if(g.hScroll&&n&&b){j=g.scaling[0];h=g.scaling[1];e=n.x*j+g.translation[0];d=n.y*h+g.translation[1];a=n.width*j;l=n.height*h;if(a>b.width){o.domain(e,e+a);i=o(0);f=o(b.width);g.hScrollBar.style.left=i+"%";g.hScrollBar.style.width=(f-i)+"%";g.hScroll.dom.style.display="block"}else{g.hScroll.dom.style.display="none"}if(l>b.height){c.domain(d,d+l);m=c(0);k=c(b.height);g.vScrollBar.style.top=m+"%";g.vScrollBar.style.height=(k-m)+"%";g.vScroll.dom.style.display="block"}else{g.vScroll.dom.style.display="none"}}},getConstraints:function(j,b){var e=this,i=e.pan,m=null,d,c,a,h,g,f,l,k;j=i&&i.constrain&&(j||e.contentRect&&e.contentRect());b=b||e.viewportRect&&e.viewportRect();if(j&&b){g=e.scaling[0];f=e.scaling[1];d=j.x*g;c=j.y*f;a=j.width*g;h=j.height*f;l=b.width-a-d;k=b.height-h-c;m=[Math.min(-d,l),Math.max(-d,l),Math.min(-c,k),Math.max(-c,k)]}return m},getOffLimits:function(b,f,g){var h=this,k=null,e,d,c,a,j,i;f=f||h.getConstraints();g=g||0.1;if(f){b=b||h.translation;j=b[0];i=b[1];e=f[0];c=f[1];d=f[2];a=f[3];if(j<e){j=j-e}else{if(j>c){j=j-c}else{j=0}}if(i<d){i=i-d}else{if(i>a){i=i-a}else{i=0}}if(j&&Math.abs(j)<g){j=0}if(i&&Math.abs(i)<g){i=0}if(j||i){k=[j,i]}}return k},translate:function(a,c){var b=this.translation;this.setTranslation(b[0]+a,b[1]+c)},setTranslation:function(a,d){var b=this,c=b.translation;c[0]=a;c[1]=d;b.constrainTranslation(c);b.fireEvent("panzoom",b,b.scaling,c)},scale:function(d,c,a){var b=this.scaling;this.setScaling(b[0]*d,b[1]*c,a)},setScaling:function(h,g,b){var f=this,l=f.getZoom(),c=f.scaling,k=c[0],i=c[1],a=f.translation,j=f.oldTranslation,e,d;if(l){if(l.uniform){h=g=(h+g)/2}c[0]=h;c[1]=g;f.constrainRange(c,l.extent);h=c[0]/k;g=c[1]/i;e=b&&b[0]||0;d=b&&b[1]||0;a[0]=e+h*(a[0]-e);a[1]=d+g*(a[1]-d);if(j){j[0]=e-(e-j[0])*h;j[1]=d-(d-j[1])*g}f.constrainTranslation(a);f.fireEvent("panzoom",f,c,a)}},setPanZoomSilently:function(c,b){var a=this;a.suspendEvent("panzoom");c&&a.setTranslation(c[0],c[1]);b&&a.setScaling(b[0],b[1]);a.resumeEvent("panzoom")},setPanZoom:function(c,b){var a=this;a.setPanZoomSilently(c,b);a.fireEvent("panzoom",a,a.scaling,a.translation)},normalize:function(a,d,c){var b=(c||1)/this.magnitude(a,d);return[a*b,d*b]},magnitude:function(a,b){return Math.sqrt(a*a+b*b)},panFx:function(h){if(!h.momentum){return}var e=this,c=h.momentum,a=e.translation,b=e.getOffLimits(a),g=e.velocityX=e.dx,f=e.velocityY=e.dy,d,i;if(b){if(b[0]){e.velocityX=0;g=b[0]}if(b[1]){e.velocityY=0;f=b[1]}}d=e.normalize(g,f,-c.friction);e.frictionX=d[0];e.frictionY=d[1];i=e.normalize(g,f,-c.spring);e.springX=i[0];e.springY=i[1];Ext.AnimationQueue.start(e.panFxFrame,e)},incKeepSign:function(a,b){if(a){if(a*b<0&&Math.abs(a)<Math.abs(b)){return 0}else{return a+b}}return a},panFxFrame:function(){var f=this,a=f.translation,c=f.getOffLimits(a),k=c&&c[0],i=c&&c[1],l=0,j=0,e=0,d=0,b=1,h,g;e+=f.velocityX=f.incKeepSign(f.velocityX,f.frictionX);d+=f.velocityY=f.incKeepSign(f.velocityY,f.frictionY);if(k){l=Math.abs(k);h=f.springX*l;f.velocityX=f.incKeepSign(e,h);e+=h;if(Math.abs(e)<0.1){e=Ext.Number.sign(e)*0.1}if(!(f.velocityX||Math.abs(e)>b||f.incKeepSign(k,e))){e=-k}}if(i){j=Math.abs(i);g=f.springY*j;f.velocityY=f.incKeepSign(d,g);d+=g;if(Math.abs(d)<0.1){d=Ext.Number.sign(d)*0.1}if(!(f.velocityY||Math.abs(d)>b||f.incKeepSign(i,d))){d=-i}}f.prevForceX=e;f.prevForceY=d;a[0]+=e;a[1]+=d;f.updateIndicator();if(!(e||d)){Ext.AnimationQueue.stop(f.panFxFrame,f)}f.fireEvent("panzoom",f,f.scaling,a)},getGestures:function(){var b=this,f=b.gestures,e=b.getPan(),a=b.getZoom(),d,c;if(!f){b.gestures=f={};if(e){d=e.gesture;f[d]="onPanGesture";f[d+"start"]="onPanGestureStart";f[d+"end"]="onPanGestureEnd";f[d+"cancel"]="onPanGestureEnd"}if(a){c=a.gesture;f[c]="onZoomGesture";f[c+"start"]="onZoomGestureStart";f[c+"end"]="onZoomGestureEnd";f[c+"cancel"]="onZoomGestureEnd";if(a.doubleTap){f.doubletap="onDoubleTap"}if(a.mouseWheel){f.wheel="onMouseWheel"}}}return f},updateGestures:function(a){this.gestures=a},isPanning:function(a){a=a||this.getPan();return a&&this.getLocks()[a.gesture]===this},onPanGestureStart:function(d){var a=this,c=d&&d.event&&d.event.touches||d.touches,f=a.getPan(),b;if(f&&(!c||c.length<2)){d.claimGesture();Ext.AnimationQueue.stop(a.panFxFrame,a);a.lockEvents(f.gesture);b=d.getXY();a.panOrigin=a.lastPanXY=a.toRtlViewportXY(b[0],b[1]);a.oldTranslation=a.translation.slice();return false}},onPanGesture:function(h){var f=this,a=f.oldTranslation,c=f.panOrigin,g,d,b;if(f.isPanning()){g=h.getXY();g=f.toRtlViewportXY(g[0],g[1]);f.dx=g[0]-f.lastPanXY[0];f.dy=g[1]-f.lastPanXY[1];f.lastPanXY=g;d=g[0]-c[0];b=g[1]-c[1];f.setTranslation(a[0]+d,a[1]+b);return false}},onPanGestureEnd:function(){var a=this,b=a.getPan();if(a.isPanning(b)){a.panOrigin=null;a.oldTranslation=null;a.unlockEvents(b.gesture);a.panFx(b);return false}},onZoomGestureStart:function(f){var g=this,k=g.getZoom(),a=f&&f.event&&f.event.touches||f.touches,i,h,j,c,d,b;if(k&&a&&a.length===2){f.claimGesture();g.lockEvents(k.gesture);g.oldTranslation=g.translation.slice();d=a[0];b=a[1];i=g.toViewportXY(d.pageX,d.pageY);h=g.toViewportXY(b.pageX,b.pageY);j=h[0]-i[0];c=h[1]-i[1];g.startSpread=[Math.max(g.minSpread,Math.abs(j)),Math.max(g.minSpread,Math.abs(c))];g.oldScaling=g.scaling.slice();g.oldScalingCenter=[i[0]+0.5*j,i[1]+0.5*c];return false}},onZoomGesture:function(q){var r=this,a=r.getZoom(),k=r.startSpread,i=r.oldScaling,p=r.oldScalingCenter,n=q&&q.event&&q.event.touches||q.touches,f,d,o,b,s,c,h,g,m,l,j;if(a&&r.getLocks()[a.gesture]===r){h=n[0];g=n[1];f=r.toViewportXY(h.pageX,h.pageY);d=r.toViewportXY(g.pageX,g.pageY);o=d[0]-f[0];b=d[1]-f[1];m=[f[0]+0.5*o,f[1]+0.5*b];l=m[0]-p[0];j=m[1]-p[1];r.setTranslation(r.oldTranslation[0]+l,r.oldTranslation[1]+j);o=Math.max(r.minSpread,Math.abs(o));b=Math.max(r.minSpread,Math.abs(b));s=o/k[0];c=b/k[1];r.setScaling(s*i[0],c*i[1],m);return false}},onZoomGestureEnd:function(){var b=this,a=b.getZoom();if(a&&b.getLocks()[a.gesture]===b){b.startSpread=null;b.oldScalingCenter=null;b.oldTranslation=null;b.unlockEvents(a.gesture);b.dx=0;b.dy=0;b.panFx(b.getPan());return false}},onMouseWheel:function(g){var d=this,h=g.getWheelDelta(),c=d.getZoom(),b,a,f;if(c&&c.mouseWheel&&(b=c.mouseWheel.factor)){b=Math.pow(b,h);f=g.getXY();a=d.toViewportXY(f[0],f[1]);d.scale(b,b,a)}},onDoubleTap:function(g){var d=this,c=d.getZoom(),b,a,f;if(c&&c.doubleTap&&(b=c.doubleTap.factor)){f=g.getXY();a=d.toViewportXY(f[0],f[1]);d.scale(b,b,a)}},createIndicator:function(){var a=this;if(a.hScroll){return}a.hScroll=Ext.dom.Element.create({tag:"div",classList:[Ext.baseCSSPrefix+"d3-scroll",Ext.baseCSSPrefix+"d3-hscroll"],style:{},children:[{tag:"div",reference:"bar",classList:[Ext.baseCSSPrefix+"d3-scrollbar",Ext.baseCSSPrefix+"d3-hscrollbar"]}]});a.hScrollBar=a.hScroll.dom.querySelector("[reference=bar]");a.hScrollBar.removeAttribute("reference");a.vScroll=Ext.dom.Element.create({tag:"div",classList:[Ext.baseCSSPrefix+"d3-scroll",Ext.baseCSSPrefix+"d3-vscroll"],style:{},children:[{tag:"div",reference:"bar",classList:[Ext.baseCSSPrefix+"d3-scrollbar",Ext.baseCSSPrefix+"d3-vscrollbar"]}]});a.vScrollBar=a.vScroll.dom.querySelector("[reference=bar]");a.vScrollBar.removeAttribute("reference");a.hScrollScale=a.createInterpolator(100);a.vScrollScale=a.createInterpolator(100)},destroyIndicator:function(){var a=this;Ext.destroy(a.hScroll,a.vScroll);a.hScroll=a.vScroll=a.hScrollBar=a.vScrollBar=null},addIndicator:function(c){var d=this,a=d.getIndicator(),b=d.indicatorParent;if(a&&!b){d.createIndicator();b=d.indicatorParent=c[a.parent];if(b){b.appendChild(d.hScroll);b.appendChild(d.vScroll)}}},removeIndicator:function(){var b=this,a=b.indicatorParent;if(a){a.removeChild(b.hScroll);a.removeChild(b.vScroll);b.indicatorParent=null}},addComponent:function(a){this.callParent([a]);this.addIndicator(a)},removeComponent:function(a){this.removeIndicator();this.callParent([a])}});