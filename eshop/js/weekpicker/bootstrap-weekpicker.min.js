!function(t){t.fn.weekpicker=function(e){var n,i,r=moment();function a(t){return t.data("DateTimePicker").date()}function s(t,e){return t.data("DateTimePicker").date(e)}function o(t,e){var r=e.week(),a=e.year(),s=e.month();n=r,11==s&&1==r&&(a+=1),i=a,t.val("Settimana  "+r+", "+a)}function u(e,n){var i=t("<div class='mb-0 p-2' style='cursor: pointer;'></div>");return"next"==e?(i.addClass("next-"+n.attr("id")),i.addClass("fa fa-chevron-right"),i.insertAfter(n)):"previous"==e?(i.addClass("previous-"+n.attr("id")),i.addClass("fa fa-chevron-left"),i.insertBefore(n)):void 0}function c(t,e,n){return e.click(function(){if("next"==t)var e=a(n).add(7,"days");else if("previous"==t)e=a(n).subtract(7,"days");s(n,e)})}return this.getWeek=function(){return n},this.getYear=function(){return i},this.setDate=function(t,e){return s(t,e)},this.each(function(){t(this).append("<input type='text' class='form-control text-center'>");var e=t(this),n=e.find("input");n.datetimepicker({calendarWeeks:!0,format:"DD.MM.YYYY",defaultDate:r,locale:"it",minDate:r}).on("dp.change",function(e){var n=a(t(this));o(t(this),n)}).on("dp.show",function(){var e=a(t(this));o(t(this),e)}).on("dp.hide",function(){var e=a(t(this));o(t(this),e)}),o(n,r);var i=u("next",e),s=u("previous",e);c("next",i,n),c("previous",s,n)})}}(jQuery);